---
url: https://code.visualstudio.com/docs/python/tutorial-fastapi
session_id: fast_api
chunk_number: 8
title: Using Pydantic Models with FastAPI
summary: This section demonstrates how to define a Pydantic model, ItemPayload, for use with FastAPI, including an explanation of optional and required fields. It also highlights the benefits of using Pylance as the Python language server in VS Code for type hinting and catching type errors, along with optional steps to enable basic type checking.
embedding: [-0.045947812497615814, -0.0018393133068457246, -0.014770540408790112, -0.043011635541915894, 0.004547152202576399, -0.04787537828087807, -0.026649730280041695, 0.024946298450231552, 0.04215991869568825, 0.0015381310367956758, 0.02678421139717102, -0.041397858411073685, 0.013683482073247433, -0.09826107323169708, -0.012831767089664936, -0.009587403386831284, 0.011968844570219517, 0.013974858447909355, -0.026851452887058258, 0.06499934196472168, 0.04258577525615692, -0.0025187244173139334, -0.007704663556069136, -0.006427090149372816, 0.01002446748316288, 0.0008314032456837595, 0.019544629380106926, 0.04563402011990547, -0.03140140697360039, -0.07203720510005951, -0.015667082741856575, -0.009968433529138565, 0.006158127449452877, 0.01700069010257721, -0.0016515996539965272, -0.016014494001865387, 0.011498159728944302, 0.06549244374036789, 0.046620216220617294, -0.008276209235191345, -0.003588972380384803, -0.020900649949908257, 0.0429668053984642, -0.0022861838806420565, -0.0047880979254841805, 0.0654476135969162, -0.00831543281674385, 0.02810661308467388, -0.03554791584610939, -0.03061693161725998, -0.025820428505539894, -0.006023645866662264, -0.03144623339176178, -0.02656007558107376, 0.01530846580862999, -0.03317207843065262, -0.04227198660373688, 0.011834363453090191, -0.021203232929110527, 0.03709445148706436, -0.00496460497379303, -0.023377349600195885, -0.04471506550908089, 0.0007056771428324282, -0.027546273544430733, -0.013436933048069477, -0.017258446663618088, 0.012316254898905754, -0.022133396938443184, 0.04796503111720085, -0.0052363695576786995, -0.018300676718354225, -0.014109340496361256, -0.027322137728333473, 0.012192980386316776, -0.04032200574874878, -0.03328414633870125, 0.05002707988023758, 0.025439398363232613, -0.08382673561573029, -0.05329946056008339, 0.014736919663846493, -0.009279216639697552, -0.04464782401919365, 0.006006835959851742, -0.06343039125204086, -0.06172696128487587, -0.002681222977116704, 0.034584131091833115, -0.08113711327314377, -0.025663534179329872, 0.008679653517901897, -0.002627990674227476, 0.027277309447526932, 0.04818916693329811, 0.040725450962781906, 0.016305869445204735, 0.010685667395591736, -0.006247781682759523, 0.02534974366426468, 0.0693027451634407, -0.005788303446024656, -0.01169988140463829, -0.02851005643606186, 0.027972130104899406, -0.015454154461622238, 0.006376659497618675, 0.047337453812360764, -0.0332617312669754, -0.06979584693908691, -0.05612356960773468, 0.006068473216146231, 0.0226040817797184, 0.031647954136133194, -0.0018337098881602287, 0.01926445960998535, -0.025977322831749916, 0.0028773415833711624, 0.0021348921582102776, -0.0521339550614357, -0.013235211372375488, 0.02512560784816742, -0.0009385680896230042, -0.04115130752325058, -0.046620216220617294, -0.010074897669255733, -0.0010863575153052807, -0.021012717857956886, -0.028375575318932533, 0.011430919170379639, 0.07257512956857681, -0.03151347488164902, 0.07203720510005951, 0.010528773069381714, -0.048054687678813934, 0.017930852249264717, -0.026044564321637154, -4.517734487308189e-05, -0.016989482566714287, 0.06015801057219505, -0.0007543566171079874, -0.05854423716664314, -0.019342908635735512, -0.009094304405152798, -0.0030286330729722977, -0.03245484456419945, -0.03843926638364792, -0.008231381885707378, -0.02378079481422901, -0.021091166883707047, 0.019230840727686882, 0.03151347488164902, -0.008864565752446651, -0.039672013372182846, 0.02328769490122795, 0.007906385697424412, 0.019589457660913467, 0.014837780967354774, 0.013761930167675018, 0.00423056073486805, -0.053164977580308914, -0.008405087515711784, -0.012405908666551113, -0.05854423716664314, 0.0006555968429893255, -0.016003286466002464, -0.03794616833329201, -0.020037727430462837, -0.03088589385151863, -0.05406152084469795, -0.02738937735557556, 0.005760286469012499, 0.014804160222411156, 0.0041829319670796394, -0.0368703156709671, -0.02418423816561699, -0.01120678335428238, -0.043840937316417694, -0.001737051410600543, -0.014792953617870808, -0.014322268776595592, -0.006561571732163429, -0.06966136395931244, -0.003855133429169655, -0.0032415620516985655, -0.029630735516548157, 0.01034386083483696, 0.022133396938443184, -0.015487774275243282, 0.019275667145848274, 0.013459346257150173, -0.035570330917835236, -0.027703167870640755, 0.001191421179100871, -0.02174115926027298, -0.036959972232580185, 0.03337379917502403, -0.015588635578751564, 0.03904443234205246, 0.04984777048230171, -0.01384037733078003, 0.046844352036714554, 0.0008902388508431613, -0.005569771397858858, 0.006628812290728092, -0.08638188242912292, -0.022850630804896355, 0.04518574848771095, -0.014535197988152504, -0.006348642520606518, -0.02667214348912239, -0.043616801500320435, -0.01613776758313179, 0.010892992839217186, 0.014759333804249763, 0.011800742708146572, -0.033194493502378464, 0.015510187484323978, 0.057871829718351364, 0.03444965183734894, -0.049175363034009933, 0.029877284541726112, 0.02817385271191597, -0.022592874243855476, 0.022200636565685272, -0.003174321260303259, 0.023601485416293144, -0.008993443101644516, -0.00011451931641204283, -0.0023184032179415226, 0.012708492577075958, -0.013011075556278229, 0.03265656530857086, 0.004056855570524931, 0.0382823720574379, 0.02772558107972145, 0.030594518408179283, -0.043168529868125916, -0.008085694164037704, 0.030123833566904068, -0.02099030464887619, 0.02546181157231331, -0.036623768508434296, 0.009749901480972767, 0.04540988430380821, -0.007334839552640915, -0.033575523644685745, -0.05164085701107979, 0.019163599237799644, 0.035861704498529434, 0.08535086363554001, -0.03536860644817352, 0.011324454098939896, -0.00823698565363884, -0.009755504317581654, -0.042518533766269684, -0.003367638448253274, 0.005877957679331303, 0.015555014833807945, 0.0007126813870854676, -0.016944656148552895, 0.04276508465409279, 0.0274566188454628, 0.017426548525691032, 0.023444591090083122, 0.015364499762654305, 0.0032415620516985655, 0.032589323818683624, -0.0037878926377743483, -0.01098264753818512, 0.011105922050774097, 0.05240291729569435, 0.014647265896201134, -0.02019462361931801, 0.005833130795508623, -0.012170566245913506, -0.0263359397649765, -0.03162554278969765, 0.033642761409282684, -0.032410018146038055, -0.03238760307431221, -0.027658341452479362, 0.02855488285422325, 0.037184108048677444, 0.01591363176703453, 0.014479164034128189, -0.014994676224887371, 0.007082686759531498, -0.006740880198776722, -0.008601206354796886, 0.010388688184320927, 0.04110648110508919, -0.031311750411987305, -0.02008255571126938, 0.04706848785281181, 0.008685257285833359, -0.020026521757245064, 0.003759875660762191, 0.028980741277337074, 0.022200636565685272, 0.028308333829045296, 0.053658079355955124, 0.021909261122345924, 0.02230149880051613, -0.017101550474762917, -0.032365188002586365, -0.008169745095074177, -0.012215393595397472, 0.03953753039240837, -0.008136124350130558, 0.04090476036071777, 0.016866208985447884, 0.011599021032452583, -0.032925527542829514, -0.008573189377784729, -0.00173985306173563, 0.031916920095682144, -0.03617549687623978, -0.002681222977116704, -0.006920188665390015, -0.026470422744750977, 0.020676514133810997, 0.011229196563363075, 0.03792375326156616, 0.004639608319848776, -0.023579072207212448, -0.0016221818514168262, 0.0003593174915295094, -0.025327330455183983, -0.005900371354073286, 0.006040456239134073, 0.02335493639111519, -0.011957637965679169, 0.011856776662170887, -0.008136124350130558, -3.140963599435054e-05, 0.024251479655504227, 0.007368459831923246, 0.045992638915777206, 0.04702366143465042, -0.012383495457470417, -0.02810661308467388, 0.021113580092787743, 0.007379666902124882, -0.05854423716664314, 0.03781168535351753, 0.0368703156709671, 0.06298211961984634, -0.0246773362159729, 0.007883971557021141, 0.027277309447526932, 0.006309418939054012, 0.0440874844789505, 0.04287715256214142, -0.04841330274939537, -0.015140363946557045, -0.019813593477010727, -0.030079005286097527, -0.059754569083452225, -0.019432561472058296, -0.08077849447727203, 0.002864734036847949, -0.025820428505539894, 0.024273892864584923, -0.00919516570866108, 0.018457571044564247, 0.02839798852801323, -0.06181661784648895, -0.10068173706531525, 0.012742112390697002, 0.02810661308467388, 0.05477875471115112, -0.010467135347425938, 0.006617605686187744, -0.03460654616355896, -0.039134085178375244, 0.0024248678237199783, 0.04612711817026138, -0.004306206479668617, -0.008405087515711784, 0.034068621695041656, 0.015577428974211216, 0.008870168589055538, 0.002471095649525523, 0.04274266958236694, 0.011498159728944302, 0.007396476808935404, 0.01808774843811989, -0.011778329499065876, -0.008371466770768166, 0.005373652558773756, -0.03765479102730751, 0.010091708041727543, 0.02456526830792427, 0.030123833566904068, 0.0010835558641701937, 0.026492835953831673, 0.047158144414424896, 0.04453575611114502, 0.0038075046613812447, 0.008903789333999157, 0.015846392139792442, -0.01042230799794197, 0.039178915321826935, -0.003328414633870125, -0.02651524916291237, 0.03669100999832153, 0.02617904543876648, 0.0039251758717000484, 0.007362856529653072, 0.034023795276880264, 0.0013588224537670612, 0.026470422744750977, -0.01267487183213234, -0.00042445689905434847, 0.00043146114330738783, -0.008623619563877583, -0.0017944861901924014, 0.003367638448253274, -0.026470422744750977, 0.025416985154151917, -0.07248547673225403, -0.024542855098843575, 0.016731727868318558, -0.044513341039419174, -0.016305869445204735, 0.024498028680682182, -0.04397541657090187, 0.001843515783548355, 0.015106744132936, -0.023803208023309708, -0.020485999062657356, 0.02761351317167282, 0.0006037654238753021, 0.052537400275468826, -0.04890640079975128, -0.006830534432083368, 0.034696198999881744, 0.02121444046497345, -0.03211864084005356, -0.007441304158419371, -0.05827527120709419, 0.004659220110625029, 0.051102932542562485, -0.018154988065361977, -0.0255066379904747, 0.015442946925759315, -0.012058498337864876, 0.03066175803542137, 0.01929808035492897, 0.0027974932454526424, 0.010736098513007164, -0.03648928552865982, 0.05361324921250343, 0.00632062554359436, -0.0036197910085320473, -0.012002464383840561, -0.03682548925280571, 0.029182463884353638, 0.02689627930521965, 0.038237545639276505, 0.052268438041210175, -0.003423672169446945, -0.014647265896201134, -0.009346457198262215, 0.02237994596362114, 0.00908309780061245, -0.009027063846588135, -0.007015446200966835, -0.013605034910142422, -0.005645417142659426, -0.014064513146877289, -0.008321036584675312, -0.008242589421570301, -0.04639608412981033, -0.061413172632455826, 0.01768430322408676, 0.06056145578622818, -0.034292757511138916, 0.09512317925691605, -0.012719699181616306, -0.012349874712526798, -0.008399483747780323, -0.001713237026706338, -0.014994676224887371, 0.04536505788564682, -0.005113095045089722, -0.003835521638393402, -0.003053848398849368, -0.04092717170715332, -0.024049757048487663, 0.037296175956726074, 0.03781168535351753, -0.009794728830456734, -0.020810997113585472, -0.05419600382447243, -0.027075588703155518, 0.007671043276786804, 0.01821102201938629, -0.019096357747912407, -0.013224003836512566, -0.02723248302936554, -0.01000765711069107, -0.007895179092884064, 0.01902911812067032, -0.025035953149199486, 0.03039279580116272, -0.006292608566582203, -0.004415472503751516, 0.04756158962845802, -0.0826612338423729, -0.006124507170170546, 0.02411699667572975, -0.0162162147462368, -0.006236574612557888, 0.01628345623612404, 0.003838323289528489, 0.023332523182034492, -0.02079978957772255, 0.008892582729458809, -0.018704121932387352, 0.028330747038125992, -0.012798146344721317, 0.010271016508340836, -0.006107696797698736, -0.015678290277719498, 0.007357253227382898, -0.05513737350702286, 0.02534974366426468, -0.04962363466620445, 0.024430787190794945, 0.01328003779053688, -0.021169614046812057, 0.040568556636571884, -0.01744896173477173, -0.0013090923894196749, -0.011425315402448177, -0.029047982767224312, 0.02103513292968273, -0.020104968920350075, -0.013571414165198803, 0.037789274007081985, -0.01299986895173788, -0.014535197988152504, 0.011346868239343166, -0.00916154496371746, 0.03140140697360039, -0.020116176456212997, -0.014086926355957985, 0.015364499762654305, 0.023982515558600426, -0.0022469600662589073, -0.0035049214493483305, 0.006421486847102642, 0.0101197250187397, 0.04475989192724228, -0.0018925454933196306, -0.017348099499940872, -0.008618016727268696, -0.009974037297070026, 0.017392927780747414, -0.004712452180683613, 0.03653411194682121, 0.04635125398635864, -0.03099796175956726, 0.028644537553191185, 0.033754829317331314, -0.019174806773662567, -0.041173722594976425, -0.024363547563552856, -0.009088701568543911, -0.0026854253374040127, 0.014109340496361256, -0.008629223331809044, 0.022917872294783592, 0.015017089433968067, -0.007357253227382898, -0.03373241797089577, -0.014815367758274078, 0.045387472957372665, -0.029742803424596786, -0.012439529411494732, 0.02328769490122795, 0.0014267635997384787, -0.03866340219974518, -0.0057378727942705154, 0.013414519838988781, 0.01021498255431652, 0.017067931592464447, -0.02234632521867752, -0.002828311873599887, -0.00359177403151989, 0.013896411284804344, 0.0070378598757088184, -0.013705896213650703, 0.0002701885241549462, -0.03456171974539757, 0.01752740889787674, -0.043056461960077286, 0.004785296507179737, -0.0051551200449466705, 0.01700069010257721, -0.029697975143790245, 0.036287564784288406, -0.06132351607084274, 0.0014778944896534085, 0.007525355089455843, 0.02839798852801323, -0.007458114065229893, -0.00759819895029068, -0.0006345841102302074, 0.015476567670702934, -0.013111935928463936, -0.05572012439370155, 0.030460037291049957, -0.020979098975658417, -0.020810997113585472, 0.058095965534448624, 0.02712041512131691, -0.022704942151904106, 0.010338257066905499, -0.021147198975086212, 0.04904088377952576, -0.012540390715003014, -0.0035637570545077324, -0.011890397407114506, -0.0055109355598688126, -0.020889444276690483, -0.013672275468707085, -0.023041145876049995, 0.015442946925759315, 0.02573077380657196, 0.027703167870640755, 0.0021460989955812693, -0.016462763771414757, 0.041173722594976425, 0.016765346750617027, -0.014154166914522648, -0.016384316608309746, 0.009436111897230148, -0.005292403511703014, -0.013224003836512566, 0.018715327605605125, -0.019611870869994164, 0.005163525231182575, 0.009525765664875507, -0.006768897175788879, 0.02049720659852028, 0.042675431817770004, -0.0020760565530508757, -0.01974635198712349, -0.006578381638973951, 0.018255850300192833, 0.013022282160818577, 0.030482450500130653, -0.00927361287176609, 0.0023604286834597588, -0.004236164037138224, 0.014086926355957985, 0.012630044482648373, -0.033194493502378464, -0.02019462361931801, -0.016205009073019028, 0.015039502643048763, 0.018939463421702385, 0.02042996510863304, 0.0022707744501531124, 0.06540278345346451, 0.037789274007081985, 0.004687237087637186, -0.024946298450231552, -0.013862790539860725, 0.03276863321661949, 0.0025075178127735853, -0.03261173889040947, 0.0065223476849496365, 0.026201458647847176, 0.006141317076981068, -0.0012544592609629035, 0.04258577525615692, -0.009352060966193676, 0.004398662596940994, -0.04751675948500633, 0.02512560784816742, 0.027635928243398666, -0.04404265806078911, -0.01997048780322075, 0.011935223825275898, 0.011251610703766346, 0.017740337178111076, 0.01055118627846241, -0.016608452424407005, -0.009015857242047787, 0.02208857052028179, 0.0044518946669995785, 0.03395655378699303, -0.0010177160147577524, 0.01299986895173788, -0.02057565376162529, -0.06957171112298965, -0.017314480617642403, -0.012719699181616306, 0.01914118602871895, -0.023825621232390404, -0.028196265920996666, 0.026089390739798546, -0.01821102201938629, 0.015555014833807945, 0.008584395982325077, 0.010713684372603893, -0.02429630607366562, 0.010808942839503288, -0.014210200868546963, 0.008679653517901897, -0.045499540865421295, 0.01422140747308731, -0.027075588703155518, -0.011991257779300213, -0.01794205978512764, 0.004729262553155422, -0.03754272311925888, 0.029989352449774742, 0.010203775949776173, -0.022256670519709587, -0.0011802143417298794, -0.05567529797554016, -0.0026349949184805155, 0.05612356960773468, 0.02534974366426468, 0.020732548087835312, -0.02629111334681511, -0.009301629848778248, -0.005575374700129032, -0.004902967717498541, -0.0026083788834512234, -0.01245073601603508, -0.043796107172966, 0.0181661956012249, 0.001080053742043674, 0.007256391923874617, -0.03238760307431221, 0.0027946915943175554, -0.019398942589759827, 0.0335531085729599, -0.029294531792402267, -0.034068621695041656, 0.005463306792080402, 0.030034178867936134, -0.05500289052724838, -0.006242178380489349, -0.04088234528899193, 0.005743476562201977, -0.025910083204507828, 0.021909261122345924, 0.021573057398200035, 0.0051271035335958, 0.033642761409282684, 0.04939949885010719, -0.04005304351449013, 0.022917872294783592, -0.0020634490065276623, -0.004944993183016777, 0.00490016583353281, 0.017280859872698784, -0.0060012321919202805, -0.0205084141343832, 0.052671879529953, 0.00032359585748054087, 0.03395655378699303, 0.004432282876223326, 0.012988661415874958, -0.03588411957025528, -0.01586880534887314, -0.008231381885707378, 0.033978965133428574, -0.04608229175209999, -0.03016865998506546, 0.0045499540865421295, 0.007127514109015465, -0.020586861297488213, -0.018143782392144203, 0.009183959104120731, -0.00437344703823328, -0.012136946432292461, 0.04980294406414032, -0.007749490439891815, 0.0026083788834512234, 0.026918692514300346, -0.023803208023309708, -0.030863480642437935, -0.007553372066468, -0.015207604505121708, -0.03671342134475708, -0.037453070282936096, 0.006281401962041855, 0.014826574362814426, 0.0092904232442379, -0.08925081789493561, -0.017023103311657906, 0.012697285041213036, 0.014434336684644222, 0.006343039218336344, -0.004577971063554287, -0.014770540408790112, 0.04126337543129921, -0.006561571732163429, -0.025865254923701286, 0.009094304405152798, 0.024542855098843575, -0.0020732549019157887, -0.011599021032452583, 0.054375313222408295, -0.005625805351883173, 0.03678066283464432, -0.004409869201481342, -0.01628345623612404, -0.030751412734389305, 0.014232615008950233, 0.022772183641791344, 0.00972188450396061, 0.017247239127755165, -0.013537794351577759, -0.008113711141049862, -0.008007247000932693, 0.0030930722132325172, 0.06517864763736725, 0.0028591305017471313, 0.016944656148552895, -0.0026181847788393497, -0.02705317549407482, -0.0149722620844841, -0.015061916783452034, 0.04471506550908089, 0.009200768545269966, 0.011430919170379639, 0.033351387828588486, 0.023579072207212448, 0.024744577705860138, 0.02196529507637024, 0.014389509335160255, -0.01245073601603508, -0.00010357519204262644, -0.014064513146877289, -0.03198415786027908, -0.0014008479192852974, 0.012708492577075958, -0.002651805058121681, 0.028084198012948036, -0.017729131504893303, -0.0021026725880801678, -0.011879189871251583, 0.02118081972002983, 0.03648928552865982, -0.021449783816933632, -0.0058611477725207806, -0.023085974156856537, -0.005721062887459993, 0.02170753851532936, 0.004031640477478504, -0.012506769970059395, -0.009340853430330753, -0.01350417360663414, -0.0015171183040365577, 0.025103194639086723, 0.014131753705441952, -0.020777376368641853, 0.0181661956012249, 0.01786361262202263, -0.00791759230196476, 0.004432282876223326, 0.00036036811070516706, -0.021842019632458687, -0.0024388760793954134, 0.0015339284436777234, 0.022323912009596825, -0.029070395976305008, -0.045947812497615814, 0.025663534179329872, -0.016843795776367188, 0.025977322831749916, 0.013997272588312626, 0.005984422285109758, 0.010511962696909904, 0.02851005643606186, 0.011447728611528873, -0.005855544004589319, -0.02561870589852333, 0.029765216633677483, -0.003157511120662093, -0.007284408900886774, 0.007783110719174147, -0.02617904543876648, 0.026111803948879242, 0.022884251549839973, -0.0006650525610893965, 0.01056799665093422, -0.031535886228084564, 0.002466893056407571, 0.04469265043735504, -0.022223051637411118, 0.02249201387166977, 0.0027806831058114767, 0.031468648463487625, -0.008679653517901897, -0.0368703156709671, -0.010427911765873432, 0.01339210569858551, 0.0004083471721969545, 0.01226022094488144, 0.0024963109754025936, 0.042720258235931396, -0.03532378003001213, -0.015319672413170338, 0.008937409147620201, -0.006931395269930363, -0.012405908666551113, 0.014210200868546963, -0.0011129736667498946, 0.030034178867936134, 0.006617605686187744, 0.05007190629839897, -0.003759875660762191, -0.000493448693305254, -0.007676646579056978, 0.0026195854879915714, -0.024968713521957397, -0.02877901867032051, 0.02756868675351143, 0.024273892864584923, 0.00863482616841793, 0.03855133429169655, -0.00040449484367854893, -0.01297745481133461, 0.044737476855516434, -0.03781168535351753, -0.0731578841805458, -0.011279627680778503, 0.007609405554831028, -0.018222229555249214, -0.0056594256311655045, -0.020373931154608727, 0.013773136772215366, 0.03899960592389107, 0.015969665721058846, 0.0016908234683796763, -0.018367918208241463, -0.013100729323923588, 0.005040250718593597, 0.006466313730925322, -0.0029810043051838875, -0.014109340496361256, -0.038192715495824814, 0.04675469920039177, -0.018222229555249214, -0.0457460880279541, -0.03494274988770485, -0.002950185677036643, 0.0038075046613812447, 0.01952221617102623, 0.014736919663846493, -0.05702011287212372, -0.03193933144211769, 0.004558359272778034, -0.01632828265428543, -0.030191073194146156, 0.011072302237153053, -0.012921420857310295, -0.024139411747455597, 0.05123741179704666, 0.017807578667998314, 0.02084461599588394, 0.03987373411655426, 0.04962363466620445, 0.027322137728333473, -0.002197930356487632, -0.016597246751189232, 0.03709445148706436, -0.008214572444558144, -0.00029697976424358785, 0.016048112884163857, 0.01173350214958191, 0.03539102151989937, -0.006668035872280598, -0.0012194380396977067, -0.01805412769317627, 0.041397858411073685, -0.004505126737058163, 0.010175758972764015, 0.018726535141468048, -0.01955583691596985, 0.040411658585071564, 0.006146920379251242, 0.015005882829427719, -0.017123965546488762, 0.007189151365309954, -0.01138048805296421, 0.038013409823179245, 0.027277309447526932, 0.008567585609853268, 0.010467135347425938, -0.031311750411987305, -0.003334017936140299, 0.037856511771678925, -0.025529051199555397, -0.0004944992833770812, -0.01854722574353218, 0.034741029143333435, -0.015252431854605675, -0.040613383054733276, -0.009839555248618126, -0.003681428264826536, -0.04133061692118645, -0.009626626968383789, -0.003600178984925151, -0.003793496172875166, -0.047830551862716675, -0.032970357686281204, -0.04966846480965614, 0.017471374943852425, -0.03987373411655426, -0.022021329030394554, -0.04352714493870735, 0.0059171817265450954, 0.0019807990174740553, 0.022850630804896355, 0.013369692489504814, 0.013705896213650703, 0.008147330954670906, 0.04115130752325058, -0.032028988003730774, 0.002041035331785679, 0.017101550474762917, -0.008360260166227818, -0.004830123391002417, -0.021192027255892754, 0.018367918208241463, -0.012125739827752113, -0.043280597776174545, 0.014042099006474018, -0.006763293873518705, -0.03306001052260399, 0.031244510784745216, 0.005163525231182575, 0.02873419225215912, 0.04119613394141197, 0.02595490962266922, 0.0031294941436499357, -0.008068883791565895, -0.001787481945939362, -0.010680064558982849, -0.040075454860925674, 0.029697975143790245, -0.019802385941147804, 0.004152113106101751, 0.013851583935320377, -0.013605034910142422, -0.017135171219706535, 0.02723248302936554, -0.023377349600195885, 0.022424772381782532, 0.016765346750617027, -0.030639344826340675, -0.02779282256960869, -0.013459346257150173, 0.03787892684340477, 0.034359999001026154, 0.041734062135219574, -0.039290983229875565, -0.03427034243941307, -0.029922110959887505, -0.01993686705827713, 0.03938063606619835, -0.02185322716832161, -0.0006167232641018927, -0.017773957923054695, -0.012730905786156654, -0.020889444276690483, -0.026627317070961, 0.023041145876049995, -0.007351649925112724, 0.02031789720058441, 0.025708360597491264, 0.014120547100901604, 0.0036506096366792917, -0.00739087350666523, -0.026604903861880302, 0.027523860335350037, 0.026604903861880302, 0.0037178504280745983, 0.010848166421055794, -0.027030760422348976, 0.02483423240482807, -0.007194754667580128, 0.012181773781776428, -0.0033452247735112906, 0.01771792396903038, -0.016182594001293182, 0.022783389315009117, 0.008718877099454403, 0.01846877858042717, 0.019062738865613937, 0.01658603921532631, -0.001556342002004385, -0.02456526830792427, -0.01669810712337494, 0.05616839602589607, -0.0022413565311580896, 0.019085152074694633, -0.019880833104252815, 0.046440910547971725, 0.011655054055154324, 0.012069705873727798, 0.01669810712337494, 0.00427818950265646, 0.012361082248389721, -0.042227160185575485, 0.003314406145364046, 0.03234277665615082, -0.008130521513521671, -0.025551466271281242, 0.010814545676112175, 0.0009056481649167836, -0.017953267320990562, -0.0024837034288793802, -0.002790489001199603, -0.013380899094045162, -0.02644800767302513, 0.0781785175204277, -0.005866751074790955, 5.69969997741282e-05, -0.014815367758274078, -0.0709613487124443, -0.033911727368831635, -0.028756605461239815, 0.015297259204089642, 0.013862790539860725, -0.008640429936349392, -0.011554193682968616, 0.0024388760793954134, -0.022368738427758217, 0.04032200574874878, -0.009183959104120731, -0.005838734097778797, -0.014176581054925919, 0.00980033166706562, -0.007407683879137039, 0.003415267216041684, 0.046171948313713074, 0.006802517455071211, 0.022973906248807907, 0.01150936633348465, 0.030415209010243416, -0.017258446663618088, 0.010046880692243576, 0.02140495553612709, -0.005508134141564369, -0.04276508465409279, -0.0011606024345383048, 0.0006811622879467905, 0.04260819032788277, -0.0014036495704203844, 0.014602438546717167, 0.009335250593721867, -0.003434879006817937, 0.0052475761622190475, 0.003933581057935953, 0.002112478716298938, 0.019085152074694633, 0.02916005067527294, 0.004897364415228367, -0.008119313977658749, -0.008578792214393616, 0.0026321932673454285, -0.008584395982325077, -0.01681017503142357, 0.01106109470129013, 0.00983395241200924, 0.027434205636382103, -0.02042996510863304, 0.023108387365937233, 0.0036702214274555445, -0.016182594001293182, 0.019611870869994164, -0.005799510516226292, -0.012955041602253914, 0.0059395949356257915, 0.01433347538113594, 0.018636880442500114, 0.043056461960077286, 0.0010233194334432483, -0.012708492577075958, 0.024856645613908768, 0.03393413871526718, 0.036018602550029755, -0.014266234822571278, 0.023870447650551796, -0.03743065521121025, 0.03359793499112129, 0.028532469645142555, -0.008920599706470966, -0.0030790637247264385, -0.010814545676112175, -0.017213618382811546, -0.024273892864584923, 0.035234127193689346, 0.01933170109987259, 0.02249201387166977, -0.015106744132936, -0.008797325193881989, 0.0014750928385183215, 0.015106744132936, -0.015599842183291912, 0.02900315448641777, -0.024027343839406967, -0.04115130752325058, 0.0015675488393753767, 0.013638654723763466, 0.003984011244028807, 0.027546273544430733, -0.011789536103606224, 0.01861446723341942, 0.009615420363843441, 0.038573749363422394, -0.020071348175406456, -0.009167148731648922, -0.01078092586249113, 0.034068621695041656, -0.0038075046613812447, -0.017090344801545143, 0.0005449298187159002, -0.007458114065229893, -0.019320493564009666, -0.02019462361931801, 0.008662843145430088, 0.010618426837027073, -0.015846392139792442, 0.0316031277179718, 0.028532469645142555, -0.003429275704547763, -0.03162554278969765, 0.02317562699317932, 0.03084106743335724, 0.006393469870090485, -0.014378302730619907, 0.0002610830415505916, -0.012024878524243832, 0.01854722574353218, 0.02143857628107071, 0.02855488285422325, 0.05867871642112732, 0.01700069010257721, -0.0022357532288879156, 0.016563626006245613, -0.0006972720148041844, 0.00505986250936985, -0.005771493539214134, -0.0034572926815599203, 0.009542576037347317, -0.017101550474762917, 0.005729468073695898, -0.017953267320990562, 0.004210948944091797, -0.02418423816561699, -0.033911727368831635, 0.029137635603547096, -0.024498028680682182, -0.012372288852930069, 0.03527895361185074, 0.005973215214908123, 0.03588411957025528, 0.008993443101644516, -0.043459903448820114, 0.04507368057966232, 0.019174806773662567, -0.016832588240504265, -0.024923885241150856, -0.03465137258172035, 0.01339210569858551, -0.0008755299495533109, -0.012742112390697002, -0.010702477768063545, 0.017034310847520828, -0.014916228130459785, -0.015230018645524979, -0.019959280267357826, 0.02027307078242302, -0.011789536103606224, -0.0005515838856808841, 0.016720520332455635, 0.010002054274082184, -0.006298212334513664, -0.006516744382679462, -0.010932217352092266, -0.015207604505121708, -0.00517193041741848, -0.002885746769607067, 0.015095536597073078, 0.01757223531603813, -0.01085376925766468, -1.2268363207112998e-05, -0.051058102399110794, -0.023579072207212448, -0.02445320039987564, 0.014759333804249763, -0.002168512437492609, 0.0024304711259901524, -0.02972038835287094, -0.015073123387992382, -0.004897364415228367, -0.008052073419094086, 0.008001643233001232, 0.01741534098982811, 0.040411658585071564, 0.013571414165198803, -0.00842750072479248, 0.010192569345235825, -0.020698929205536842, -0.03837202489376068, -0.012988661415874958, -0.014658472500741482, 0.031647954136133194, 0.011279627680778503, -0.022704942151904106, 0.011856776662170887, 0.013952445238828659, -0.0022945888340473175, 0.011066698469221592, -0.011195576749742031, 0.029765216633677483, 0.01117316260933876, -0.013369692489504814, 0.028196265920996666, 0.034359999001026154, 0.005048655904829502, 0.006735276896506548, 0.00019051531853619963, -0.0031210891902446747, 0.011072302237153053, 0.0047096507623791695, 0.01575673744082451, -0.018726535141468048, -9.149287507170811e-05, 0.02226787805557251, 0.010797735303640366, -0.0069706193171441555, 0.008365863934159279, 0.02723248302936554, -0.023713553324341774, 0.016877414658665657, -0.019925661385059357, 0.008702066726982594, -0.015936044976115227, 0.012282634153962135, 0.005667830817401409, 0.0010898596374318004, 0.0010709482012316585, 0.014961055479943752, -0.029966937378048897, -0.0017216420965269208, -0.021079959347844124, 0.031692784279584885, 0.030818654224276543, 0.024273892864584923, 0.01824464276432991, 0.024094583466649055, -0.002039634622633457, -0.030437622219324112, 0.027523860335350037, 0.029137635603547096, 0.021158406510949135, -0.004196940455585718, 0.01096583716571331, -0.007021049503237009, 0.006074076518416405, 0.0075701819732785225, 0.010186965577304363, -0.0073012192733585835, 0.02396010234951973, -0.006858551409095526, -0.008287415839731693, -0.007474924437701702, -0.026089390739798546, 0.005113095045089722, -0.0022595676127821207, 0.006236574612557888, 0.04424437880516052, -0.041666820645332336, 0.022424772381782532, -6.750335887772962e-05, 0.006578381638973951, 0.013324865140020847, -0.03637721762061119, -0.025372156873345375, -0.020205829292535782, -0.004491118248552084, -0.02978762984275818, 0.0019934065639972687, 0.02456526830792427, 0.007676646579056978, 0.01722482591867447, -0.013380899094045162, 0.032589323818683624, -0.011386091820895672, -0.0008419096120633185, 0.016417937353253365, 0.0031210891902446747, 0.007979230023920536, -0.002032630378380418, 0.003174321260303259, -0.016619659960269928, -0.014322268776595592, 0.012305048294365406, -0.005118698347359896, -0.028241094201803207, -0.0206541009247303, -0.015263638459146023, 0.007783110719174147, 0.021573057398200035, 0.008853359147906303, -0.010186965577304363, -0.024968713521957397, 0.014311062172055244, -0.009615420363843441, -0.008298623375594616, -0.026851452887058258, 0.0011655054986476898, -0.008550775237381458, -0.008505948819220066, -0.022110983729362488, -0.022559255361557007, -0.005471711978316307, 0.007553372066468, 0.04054614156484604, -0.01674293354153633, 0.021696332842111588, 0.008836548775434494, 0.017011897638440132, 0.0263359397649765, 0.011957637965679169, 0.03442723676562309, -0.0025313321966677904, 0.035458263009786606, 0.012955041602253914, 0.026851452887058258, -0.01628345623612404, 0.027210069820284843, -0.003978407941758633, 0.011156352236866951, -0.021763572469353676, -0.0009686863049864769, -0.024699749425053596, 0.014636059291660786, 0.010226190090179443, 0.00897102989256382, -0.005435289815068245, -0.04119613394141197, 0.008466724306344986, -0.009710677899420261, -0.010523169301450253, -0.009211976081132889, 0.006903378292918205, -0.009749901480972767, -0.005233567673712969, -0.020116176456212997, 0.004423877689987421, -0.015386912971735, 0.04675469920039177, 0.018098954111337662, -0.014322268776595592, 0.024654923006892204, 0.0050710695795714855, -0.009581799618899822, 0.027972130104899406, 0.03453930467367172, -0.01715758442878723, 0.024542855098843575, -0.010388688184320927, 0.008982236497104168, 0.035973772406578064, 0.038192715495824814, -0.00791759230196476, -0.0009518761653453112, 0.015409327112138271, -0.0246773362159729, 0.007458114065229893, -0.0075589753687381744, -0.010876183398067951, 0.017090344801545143, 0.015252431854605675, -0.022503221407532692, 0.012540390715003014, 0.004202543757855892, 0.0465753898024559, 0.018367918208241463, 0.009268010035157204, -0.016866208985447884, 0.010349464602768421, 0.04608229175209999, 0.059082161635160446, 0.025080781430006027, -0.022693736478686333, 0.0022091371938586235, 0.006802517455071211, -0.00835465732961893, -0.01632828265428543, 0.03922374173998833, -0.03337379917502403, -0.04115130752325058, 0.02396010234951973, 0.005370850674808025, 0.013885204680263996, -0.02035151794552803, -0.02132650837302208, -0.008948616683483124, -0.023713553324341774, 0.039739254862070084, 0.017168791964650154, 0.005527745932340622, 0.006040456239134073, 0.03980649262666702, -0.020228244364261627, -0.0007564578554593027, -0.009542576037347317, -0.04182371497154236, -0.040837518870830536, 0.017471374943852425, 0.015129157342016697, -0.012966248206794262, -0.007099497132003307, 0.010444722138345242, 0.0008755299495533109, 0.03099796175956726, -0.01275331899523735, 0.00221894308924675, 0.006242178380489349, -0.003992416430264711]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-16T00:48:17.757271", "url_path": "/docs/python/tutorial-fastapi", "chunk_size": 4133}
updated_dt: 2025-03-16T00:48:17.758782
---
```
from typing import Optional
from pydantic import BaseModel
class ItemPayload(BaseModel):
  item_id: Optional[int]
  item_name: str
  quantity: int
Copy
```



[Pylance](https://marketplace.visualstudio.com/items?itemName=ms-python.vscode-pylance), the default language server for Python in VS Code, supports type hinting features that can be helpful for working with Pydantic models and FastAPI. This is because Pylance is built on top of [Pyright](https://github.com/microsoft/pyright), a static type checker for Python that can detect type errors in your code to prevent bugs and improve code quality.
The three steps below are optional, but given that FastAPI uses type hints extensively to improve code readability and validation, we can take advantage of Pylance's type checking features to catch errors early on:
  1. Open the Settings editor (Ctrl+,).
  2. Search for "python type checking mode" and set it to `basic` for basic type checking. Pylance will now show diagnostics and warnings to catch simple type-related errors. Alternatively, you can set it to `strict` to enforce more advanced [type checking rules](https://microsoft.github.io/pyright/#/configuration?id=diagnostic-rule-defaults).
![Python Analysis Type Checking Mode options \(off, basic and strict\) in Settings editor](https://code.visualstudio.com/assets/docs/python/fastapi-tutorial/type_checking_mode_setting.png)
  3. Next, search for "Python inlay type hints", and enable inlay hints for **Variable Types** and **Function Return Types** :
![Two Python Analysis Type Hints settings being enabled in the Settings editor: for Function Return Types and for Variable Types](https://code.visualstudio.com/assets/docs/python/fastapi-tutorial/function_and_variable_return_type_hint_settings.png)


## [Create routes](https://code.visualstudio.com/docs/python/tutorial-fastapi#_create-routes)
Now we need a place to store the grocery list items. For simplicity, let's start with an empty dictionary.
  1. First, let's import all the packages we need for the sample. Open the `main.py` file and replace the first import line with the following ones:
```
from fastapi import FastAPI, HTTPException
from models import ItemPayload
Copy
```

  2. Now add the following line right below `app = FastAPI()`:
```
grocery_list: dict[int, ItemPayload] = {}
Copy
```

This creates a new empty dictionary that receives keys of type `int` (as item IDs) and values of the `ItemPayload` type.
We'll now define routes in our FastAPI application. In the context of web applications, routes are like pathways that map specific URLs to the code that handles them. These routes serve as the entry points for the different functionality within our application. When a client, such as a web browser or another program, sends a request to our application with a particular URL, FastAPI routes that request to the appropriate function (also known as route handler or view function) based on the URL, and that function processes the request and generates a response.
Let's proceed with defining routes to add and retrieve individual items, as well as return all items in the grocery list.
  3. Add the following route at the end of the `main.py` file:
```
# Route to add a item
@app.post("/items/{item_name}/{quantity}")
def add_item(item_name: str, quantity: int):
  if quantity <= 0:
    raise HTTPException(status_code=400, detail="Quantity must be greater than 0.")
  # if item already exists, we'll just add the quantity.
  # get all item names
  items_ids = {item.item_name: item.item_id if item.item_id is not None else 0 for item in grocery_list.values()}
  if item_name in items_ids.keys():
    # get index of item_name in item_ids, which is the item_id
    item_id = items_ids[item_name]
    grocery_list[item_id].quantity += quantity
# otherwise, create a new item
  else:
    # generate an ID for the item based on the highest ID in the grocery_list
    item_id = max(grocery_list.keys()) + 1 if grocery_list else 0
    grocery_list[item_id] = ItemPayload(
      item_id=item_id, item_name=item_name, quantity=quantity
    )
  return {"item": grocery_list[item_id]}
Copy