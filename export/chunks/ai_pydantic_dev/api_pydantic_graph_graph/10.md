---
url: https://ai.pydantic.dev/api/pydantic_graph/graph/
session_id: pydantic_ai_docs
chunk_number: 10
title: Running a Graph in Pydantic
summary: This code snippet demonstrates how to use the `never_42_graph` to increment a number in a state asynchronously. The `main` function initializes the state, runs the graph with an `Increment` operation, and prints the updated state and the history length for the operations performed.
embedding: [0.00566538842394948, 0.008343121036887169, -0.026355832815170288, -0.056182797998189926, 0.03776099160313606, 0.001980406465008855, 0.015372169204056263, 0.009223301894962788, -0.005848242435604334, 0.034438617527484894, 0.0005427522701211274, -0.017603613436222076, 0.018620159476995468, -0.053554654121398926, -0.01023984793573618, -0.013859746046364307, -0.01646309718489647, 0.010977464728057384, -0.0024251455906778574, 0.036546092480421066, 0.032827019691467285, -0.03161212056875229, 0.03937258943915367, -0.018595365807414055, -0.005519724451005459, 0.004221148323267698, -0.004695329815149307, 0.011423753574490547, -0.014702736400067806, 0.028860008344054222, -0.007735672406852245, -0.01430603489279747, -0.020975572988390923, 0.002000551437959075, -0.0005144717870280147, -0.010475389659404755, 0.010475389659404755, -0.009694384410977364, 0.007996007800102234, 0.01994662918150425, 0.04616609588265419, -0.07105909287929535, -0.006440195254981518, 0.01086589228361845, -0.0037345692981034517, 0.00684309471398592, 0.019897041842341423, 0.02960382215678692, 0.06257960200309753, 0.03756263852119446, -0.045496661216020584, -0.013239900581538677, -0.016996163874864578, 0.04324042424559593, -0.05489351972937584, 0.015285391360521317, 0.004785207565873861, 0.01591763272881508, -0.007128223776817322, -0.02890959568321705, 0.041405681520700455, -0.024186372756958008, 0.026231862604618073, 0.05499269440770149, -0.04386027157306671, 0.04182717576622963, -0.024074800312519073, 0.02690129540860653, -0.0168474018573761, -0.0112873874604702, -0.0019881546031683683, 0.0683317705988884, -0.02072763442993164, -0.02930629625916481, 0.00738236028701067, -0.0019184219418093562, 0.030967483296990395, 0.014058096334338188, 0.020442506298422813, -0.03572789579629898, 0.005253191106021404, -0.0048254975117743015, 0.022487996146082878, 0.018198665231466293, 0.04854630306363106, -0.08122456073760986, -0.04686032235622406, -0.02468224987387657, -0.024793822318315506, -0.059257231652736664, -0.0008236197754740715, -0.0008158716955222189, -0.026777327060699463, 0.04849671572446823, 0.0687284767627716, 0.07413352280855179, 0.03255428746342659, -0.02119871787726879, -0.056728262454271317, -0.0008685585344210267, 0.02405000664293766, -0.01755402609705925, -0.0360502153635025, 0.028091398999094963, 0.0013140725204721093, 0.0360502153635025, -0.03721552714705467, 0.031141038984060287, -0.015756472945213318, -0.01956232450902462, -0.05400094389915466, -0.01733088120818138, -0.005563113838434219, 0.03597583621740341, -0.04405862092971802, -0.05206702649593353, -0.011529127135872841, 0.003079082816839218, 0.01257046777755022, -0.009105530567467213, -0.01315312273800373, -0.010884488001465797, -0.04418259114027023, 0.004090980626642704, 0.005284183192998171, 0.01802510768175125, -0.003446341259405017, -0.010177863761782646, 0.004506276920437813, -0.017839154228568077, 0.008361715823411942, -0.044951196759939194, -0.021173924207687378, -0.016835004091262817, -0.020678047090768814, -0.006009402684867382, -0.0604473352432251, 0.019140830263495445, 0.002482481300830841, 0.020442506298422813, -0.0008468639571219683, -0.0011211455566808581, -0.016301937401294708, -0.007177811115980148, 0.02630624547600746, 0.06322424113750458, -0.05008351802825928, 0.05489351972937584, -0.006027997937053442, 0.0054019540548324585, 0.0692739337682724, 0.03525681421160698, -0.034686557948589325, 0.03419068083167076, -0.004221148323267698, -0.019314387813210487, 0.005501129198819399, 0.005265587940812111, 0.026083100587129593, -0.0031984029337763786, -0.02660376951098442, 0.031736090779304504, -0.045893363654613495, -0.007177811115980148, -0.009762567467987537, -0.016983767971396446, -0.038554392755031586, -0.015793664380908012, -0.029504647478461266, -0.05400094389915466, 0.02034332975745201, -0.01832263357937336, -0.037537846714258194, 0.031884852796792984, 0.04120733216404915, 0.010977464728057384, -0.060050636529922485, 0.007946419529616833, -0.016277143731713295, -0.01894247904419899, -0.019587118178606033, -0.008684036321938038, -0.053405892103910446, 0.022525187581777573, -0.06892682611942291, 0.012613856233656406, 0.04648841544985771, 0.007270788308233023, 0.008832799270749092, 0.025153331458568573, 0.0009088485385291278, 0.041876763105392456, 0.012130376882851124, 0.021979723125696182, -0.01434322539716959, -0.020678047090768814, 0.06838136166334152, 0.029554234817624092, 0.03148815408349037, 0.06773672252893448, -0.019116036593914032, 0.0320088230073452, 0.026851708069443703, 0.016872195526957512, 0.039075061678886414, -0.019835056737065315, 0.008392708376049995, -0.06381929665803909, -0.04294290021061897, -0.018806112930178642, 0.03317413479089737, -0.016487890854477882, 0.016574669629335403, 0.00620465399697423, 0.006158165633678436, 0.012080789543688297, -0.023492146283388138, 0.0034835319966077805, 0.06208372861146927, 0.03161212056875229, 0.0007732572848908603, 0.04576939344406128, 0.01476472057402134, 0.024384723976254463, 0.03394274041056633, 0.03255428746342659, 0.0104443971067667, -0.030099699273705482, -0.022016912698745728, 0.041033774614334106, -0.019599515944719315, -0.021372273564338684, -0.022314438596367836, -0.043885063380002975, 0.004571361001580954, -0.040314752608537674, -0.006114776246249676, -0.02930629625916481, 0.025103744119405746, -0.06783589720726013, -0.03634774312376976, 0.015496138483285904, 0.005752166733145714, 0.013314282521605492, 0.008708829991519451, -0.0018207962857559323, 0.0017247202340513468, -0.010630350559949875, 0.020045803859829903, 0.045967746526002884, -0.009836948476731777, -0.01102085318416357, -0.0263806264847517, -0.015533328987658024, -0.025686398148536682, -0.023640908300876617, 0.006353416945785284, 0.0022051006089895964, -0.00022450031246989965, -0.019314387813210487, 0.056480325758457184, 0.011157219298183918, -0.043190836906433105, -0.0038771338295191526, -0.03500887751579285, -0.01094647217541933, 0.025859955698251724, -0.02521531656384468, -0.0019339181017130613, -0.0640176460146904, 0.019549928605556488, 0.021682197228074074, 0.024992171674966812, -0.021694593131542206, -0.005095130298286676, -0.017764773219823837, 0.011107631959021091, 0.049438878893852234, -0.008609654381871223, -0.04522392898797989, 0.02165740355849266, 0.04688511788845062, 0.03084351308643818, 0.02697567827999592, -0.016029205173254013, 0.004332720302045345, 0.007760466076433659, 0.012471292167901993, 0.02072763442993164, -0.006464988924562931, 0.033917948603630066, 0.006464988924562931, 0.03535598888993263, 0.02334338240325451, 0.022673949599266052, -0.06262919306755066, 0.03500887751579285, 0.007153017446398735, 0.004404002334922552, -0.02118632011115551, 0.007828649133443832, -0.038926299661397934, -0.002934968564659357, 0.017913535237312317, -0.01195062231272459, 0.016500288620591164, -0.02992614172399044, -0.014157271943986416, -0.003097678069025278, 0.00862825009971857, -0.01314072497189045, 0.03912464901804924, -0.04547186940908432, 0.018520984798669815, 0.009657193906605244, 0.015111833810806274, 0.04988516867160797, -0.039397381246089935, 0.03396753594279289, -0.036075010895729065, -0.0020423911046236753, -0.09342312067747116, 0.04098418727517128, 0.05871177092194557, -0.005157114937901497, 0.02737237885594368, 0.005098229739814997, -0.01098366267979145, -0.0005311301210895181, 0.007803855463862419, -0.00908693578094244, -0.05305877700448036, -0.010934075340628624, 0.012514681555330753, 0.04331480711698532, -0.022760728374123573, -0.020554078742861748, 0.045347899198532104, 0.05062898248434067, 0.057571254670619965, -0.06277795881032944, -0.027198821306228638, -0.017045753076672554, -0.0017433156026527286, 0.015731679275631905, 0.0204177126288414, -0.0024607868399471045, 0.01040100771933794, -0.0005543743609450758, 0.018186267465353012, 0.07576991617679596, 0.013115931302309036, 0.03458737954497337, 0.05568692460656166, -0.042868517339229584, -0.0170829426497221, -0.0012954771518707275, -0.0004389281093608588, -0.01833503134548664, 0.0138473492115736, -0.043339598923921585, -0.014950674027204514, 0.010462992824614048, -0.004069285932928324, -0.06119115278124809, -0.010958869010210037, -0.021706990897655487, 0.013698586262762547, 0.010686136782169342, 0.04695949703454971, 0.08444775640964508, 0.05732331424951553, 0.02481861598789692, -0.017231706529855728, 0.012415505945682526, -0.009905131533741951, 0.013599410653114319, 0.005228396970778704, 0.032355938106775284, 0.043190836906433105, 0.040017228573560715, 0.029058359563350677, 0.025463255122303963, -0.043265219777822495, 0.001165309571661055, 0.004069285932928324, 0.012657245621085167, -0.003864736994728446, -0.02380206808447838, 0.014392813667654991, 0.07066239416599274, -0.07274506986141205, -0.011820454150438309, -0.007475337013602257, -0.02204170636832714, -0.0060775852762162685, -0.0009351919288747013, 0.037612225860357285, 0.0394221767783165, 0.0535050667822361, -0.00037229471490718424, 0.001544190221466124, -0.024149181321263313, 0.01322750374674797, 0.013363869860768318, 0.004369910806417465, 0.060050636529922485, 0.016958974301815033, 0.02303346060216427, 0.022773124277591705, 0.013661395758390427, -0.0013427403755486012, 0.012892787344753742, -0.055488571524620056, -0.039099857211112976, -0.04733140394091606, -0.017144927754998207, -0.022636758163571358, -0.013326679356396198, 0.03203361853957176, -0.013277091085910797, -0.06793507188558578, -0.009712979197502136, -0.028438514098525047, 0.03007490560412407, 0.031984031200408936, 0.0365213006734848, -0.07819971442222595, 0.05206702649593353, -0.049215734004974365, 0.03743867203593254, 0.005336869973689318, 0.03141377121210098, 0.0338931530714035, 0.024868203327059746, 0.015992015600204468, 0.0023709090892225504, 0.015756472945213318, -0.0010134474141523242, -0.03741387650370598, 0.046835530549287796, -0.03709155693650246, 0.01771518588066101, 0.03919903188943863, -0.04663717746734619, -0.00046837079571560025, -0.026876501739025116, -0.03386836126446724, 0.003712874837219715, -0.046661972999572754, 0.004329620860517025, 0.0004896780010312796, -0.02064085565507412, -0.008851394057273865, -0.037314701825380325, -0.00857866182923317, 0.0683317705988884, 0.012192361988127232, 0.0444057360291481, 0.0036601878236979246, 0.015173818916082382, -0.00045946051250211895, -0.030967483296990395, 0.034463413059711456, -0.0038523399271070957, 0.01739286631345749, 0.0018471396761015058, 0.004912275820970535, 0.005894731264561415, 0.022004516795277596, 0.04138088971376419, -0.041182536631822586, -0.030719544738531113, 0.007047643885016441, 0.01925240270793438, 0.02700047194957733, 0.011752271093428135, 0.037686608731746674, 0.0014814308378845453, 0.004128171131014824, -0.04780248925089836, -0.02071523852646351, 0.024607867002487183, 0.012111782096326351, -0.011076639406383038, 0.05628197640180588, 0.00846089143306017, -0.02359132096171379, -0.03570310398936272, 0.01971108838915825, -0.011739874258637428, 0.011777064763009548, 0.031116245314478874, -0.01348783913999796, -0.0017386666731908917, 0.01550853531807661, -0.06054651364684105, -0.031909648329019547, -0.011039448902010918, -0.04415779560804367, -0.02762031741440296, -0.007351368200033903, 0.0018889792263507843, 0.03302536904811859, -0.006021799519658089, -0.07195167243480682, 0.010791510343551636, 0.006551767233759165, 0.030422018840909004, 0.003151914570480585, -0.01995902694761753, 0.012830802239477634, 0.05697620287537575, 0.007630298379808664, 0.005005252547562122, 0.007748069241642952, -0.0037934547290205956, 0.0032851812429726124, 6.271093297982588e-05, -0.02583516202867031, -0.011188211850821972, -0.017144927754998207, 0.0005772311706095934, -0.05543898418545723, 0.0011079738615080714, -0.017293689772486687, 0.03639733046293259, -0.05400094389915466, 0.009979513473808765, -0.0009948520455509424, 0.009223301894962788, 0.016115983948111534, 0.003244891297072172, 0.017925933003425598, -0.042570993304252625, 0.0023833061568439007, -0.0007201830158010125, -0.017814360558986664, -0.025636810809373856, -0.012465093284845352, 0.009681987576186657, 0.04591815918684006, 0.009105530567467213, -0.025488048791885376, -0.02466985210776329, 0.01671103574335575, 0.017070546746253967, -0.040339548140764236, -0.011708882637321949, -0.0032665859907865524, -0.0019091241993010044, -0.016115983948111534, 0.009533224627375603, -0.045199137181043625, -0.009942322038114071, 0.006483584176748991, -0.037389080971479416, -0.010146871209144592, -0.00975017063319683, 0.013822555541992188, -0.0018765823915600777, -0.01078531239181757, 0.020938381552696228, 0.006052791606634855, -0.0012296185595914721, 0.05360424146056175, 0.009248095564544201, -0.02536407858133316, -0.013128328137099743, -0.004751116037368774, 0.0020733834244310856, -0.0036508901976048946, -0.012303933501243591, 0.005944318603724241, -0.002798602683469653, -0.05588527396321297, -0.018979670479893684, 0.0011536874808371067, -0.03314933925867081, -0.006644743960350752, -0.03912464901804924, -0.04413300380110741, 0.005445342976599932, 0.01023984793573618, -0.000373650633264333, 0.03349645435810089, -0.018744129687547684, 0.017417659983038902, 0.004072385374456644, -0.008560067042708397, 0.002885380992665887, -0.010122077539563179, 0.00410027801990509, -0.021248305216431618, -0.006787308491766453, 0.000806574011221528, 0.02660376951098442, -0.0034060513135045767, -0.057868778705596924, 0.034835319966077805, 0.019438356161117554, 0.004772810731083155, 0.0006798930699005723, 0.03743867203593254, 0.020628459751605988, -0.004267636686563492, 0.035529546439647675, 0.01410768460482359, -0.04028996080160141, -0.011200608685612679, -0.014008508995175362, -0.009378262795507908, -0.005997005384415388, -0.02310784161090851, -0.041182536631822586, 0.010586962103843689, -0.017430055886507034, 0.06481105089187622, 0.05395135655999184, -0.05291001498699188, 0.022450804710388184, 0.020318536087870598, 0.0023926037829369307, 0.0021663601510226727, -0.004050690680742264, -0.025488048791885376, -0.01857057213783264, 0.0067811100743710995, -0.027248410508036613, 0.015161422081291676, -0.04963723197579384, 0.009929925203323364, 0.02700047194957733, -0.013896936550736427, -0.03843042254447937, -0.005646792706102133, -0.032678257673978806, -0.01724410243332386, -0.010332824662327766, 0.008845196105539799, 0.033670008182525635, -0.007060040719807148, -0.04529831185936928, -0.005479434505105019, 0.0017727582016959786, -0.003774859244003892, 0.019996216520667076, 0.031438566744327545, 0.00970058236271143, -0.016140777617692947, -0.013363869860768318, -0.006415401119738817, 0.005113725550472736, -0.0077790613286197186, 0.014293638058006763, -0.03314933925867081, -0.013314282521605492, -0.052314963191747665, -0.03798413276672363, -0.0276946984231472, 0.0015899038407951593, 0.005460839252918959, -0.018508587032556534, -0.017132529988884926, -0.05043063312768936, 0.011535325087606907, 0.03587665781378746, 0.023021062836050987, 0.04884382709860802, 0.024310341104865074, -0.02335578016936779, 0.031661711633205414, 0.034612175077199936, 3.6125373299000785e-05, -0.007828649133443832, -0.018347427248954773, 0.010710930451750755, -0.0329509899020195, -0.020764825865626335, 0.03974449634552002, -0.018074695020914078, -0.002783106407150626, -0.03101707063615322, 0.07343930006027222, 0.04200073331594467, -0.017454849556088448, -0.0312650091946125, -0.003582707140594721, -0.0016627355944365263, 0.012576665729284286, -0.00838651042431593, -0.004490781109780073, -0.008609654381871223, -0.005814150907099247, 0.009328675456345081, 0.0016968271229416132, 0.00684309471398592, 0.0034835319966077805, -0.013661395758390427, -0.05241413787007332, -0.00630072969943285, 0.010878289118409157, -0.018049901351332664, 0.027099646627902985, -0.013041550293564796, -0.017888741567730904, -0.0016255449736490846, 0.018372220918536186, 0.019227609038352966, -0.013673792593181133, -0.026851708069443703, 0.016500288620591164, -0.02828975021839142, -0.0052934810519218445, -0.018198665231466293, -0.003864736994728446, 0.02598392404615879, 0.018310237675905228, -0.001961811212822795, -0.025612017139792442, 0.0014217706630006433, 0.003122471971437335, -0.016041602939367294, -0.007593107875436544, -0.012080789543688297, -0.025686398148536682, -0.01833503134548664, 0.021384671330451965, 0.002002101158723235, -0.008603456430137157, -0.026950884610414505, -0.009148919954895973, -0.029430266469717026, -0.0030744338873773813, -0.015682091936469078, -0.011126227676868439, -0.03627336025238037, 0.015124230645596981, -0.03602542355656624, 0.014615957625210285, -0.014640751294791698, -0.02064085565507412, -0.0031891053076833487, -0.03577748313546181, 0.012781214900314808, -0.041876763105392456, -0.01902925781905651, 0.019735882058739662, -0.021830959245562553, -0.002228344790637493, -0.03565351665019989, 0.008417502045631409, 0.0019401165191084146, 0.0026668854989111423, 0.058563005179166794, 0.0067811100743710995, 0.030099699273705482, -0.006570362485945225, -0.01268823817372322, 0.03919903188943863, -0.043413981795310974, 0.006502179894596338, -0.02382686175405979, -0.004382308106869459, 0.01132457796484232, 0.006257340777665377, 0.00016212834452744573, 0.021087145432829857, -0.025227712467312813, 0.0025227712467312813, -0.013053947128355503, -0.016760623082518578, -0.019227609038352966, 0.01591763272881508, 0.031041864305734634, 0.00046139751793816686, 0.04956284910440445, -0.05737290158867836, 0.02776907943189144, -0.0329509899020195, 0.01450438518077135, 0.016611861065030098, -0.01090308278799057, 0.011268791742622852, 0.02489299699664116, 0.007004254497587681, -0.03245511278510094, -0.03101707063615322, -0.03347165882587433, -0.014752323739230633, -0.03758743405342102, -0.03741387650370598, 0.014739926904439926, 0.007971213199198246, -0.008634448051452637, -0.004509376361966133, -0.008262541145086288, -0.09337352961301804, -0.014715133234858513, 0.04810001328587532, -0.023008666932582855, 0.026331039145588875, -0.0019990019500255585, 0.01074192300438881, -0.016339128836989403, 0.021595418453216553, 0.012929977849125862, -0.01248988788574934, -0.024012815207242966, -0.0192400049418211, -0.03203361853957176, 0.03547995910048485, 0.016611861065030098, 0.006347218062728643, 0.00018295129120815545, 0.03543037176132202, -0.03967011347413063, -0.016425907611846924, 0.03339727595448494, -0.030198873952031136, 0.0012954771518707275, 0.013475442305207253, 0.0032758836168795824, -0.0170829426497221, 0.02475663088262081, -0.0058389450423419476, 0.00748153543099761, 0.005522823892533779, -0.032207172363996506, -0.02645500749349594, -0.0022484897635877132, -0.02033093385398388, 0.07016651332378387, 0.008070388808846474, 0.03689320757985115, 0.04740578681230545, 0.024111991748213768, -0.007022849749773741, -0.06024898588657379, 0.01978546939790249, 0.009551819413900375, 0.017801964655518532, 0.0115229282528162, -0.021768976002931595, 0.004094079602509737, -0.00019215211796108633, -0.006768713239580393, 0.008975363336503506, 0.02033093385398388, 0.005563113838434219, -0.03952135145664215, 0.08905940502882004, 0.041331298649311066, -0.026405420154333115, -0.016896989196538925, 0.01132457796484232, 0.01450438518077135, 0.01423165388405323, 0.02266155369579792, -0.004555864725261927, -0.02898397669196129, -0.0038709354121237993, 0.0005904028657823801, 0.0160044115036726, -0.005547617562115192, -0.0018114985432475805, -0.025636810809373856, -0.003883332246914506, -0.02033093385398388, 0.011008456349372864, -0.030893102288246155, 0.010196459479629993, 0.020318536087870598, 0.006489782594144344, -0.012967168353497982, -0.01857057213783264, -0.010122077539563179, 0.021434258669614792, 0.003004701342433691, 0.051769498735666275, 0.04053789749741554, -0.008820402435958385, 0.001833193120546639, -0.0003618348273448646, -0.010698533616960049, -0.014876293018460274, -0.009948520921170712, 0.0025041759945452213, -0.015992015600204468, 0.019549928605556488, -0.005811051931232214, -0.04663717746734619, 0.0020268948283046484, 0.019884644076228142, -0.0026374426670372486, -0.008380311541259289, -0.01016546692699194, 0.0007860416080802679, 0.045124754309654236, 0.0040289959870278835, 0.030917895957827568, -0.03587665781378746, 0.042496610432863235, 0.014591163955628872, -0.0004331170639488846, -0.039769288152456284, 0.024694645777344704, -0.0010297184344381094, 0.009638598188757896, -0.005448442418128252, -0.004785207565873861, -0.015880443155765533, -0.01407049410045147, 0.028339337557554245, -0.03944696858525276, -0.004633345175534487, -0.014553973451256752, -0.014244050718843937, 0.04532310739159584, -0.01206839270889759, 0.024025212973356247, -0.010419603437185287, 0.024806218221783638, 0.0045186737552285194, -0.011770866811275482, -0.0027366180438548326, 0.028364131227135658, 0.012217155657708645, 0.029678205028176308, -0.034984081983566284, 0.053554654121398926, 0.002183405915275216, -0.032678257673978806, 0.030669957399368286, -0.03257908299565315, -0.01786394789814949, 0.005113725550472736, 0.004887482151389122, -0.025959130376577377, 0.014405210502445698, -0.012905184179544449, -0.02652938850224018, 0.008194358088076115, 0.004438093863427639, -0.018992066383361816, -0.00510132871568203, 0.029281502589583397, -0.0014031752943992615, 0.012434101663529873, 0.024037610739469528, 0.02118632011115551, -0.02551284246146679, 0.023566527292132378, -0.028785627335309982, 0.0052965800277888775, -0.022078897804021835, 0.011113830842077732, -0.0007806179928593338, 0.021149130538105965, 0.008882386609911919, -0.010227451100945473, -0.012626253999769688, -0.009675788693130016, -0.031661711633205414, -0.011429951526224613, -0.010376214049756527, 0.008411304093897343, -0.044802434742450714, 0.037314701825380325, 0.021124335005879402, 0.02737237885594368, 0.032058410346508026, 0.051769498735666275, 0.034438617527484894, -0.00620465399697423, -0.017566422000527382, 0.04043872281908989, -0.014653148129582405, 0.033670008182525635, 0.010847296565771103, 0.024793822318315506, 0.029876554384827614, -0.01144854724407196, -0.002973709022626281, 0.02195492945611477, -0.012632451951503754, 0.007184009999036789, 0.025326889008283615, 0.04386027157306671, -0.011529127135872841, 0.028017017990350723, 0.0024948783684521914, 0.022326836362481117, 0.03401712328195572, -0.016301937401294708, -0.014752323739230633, -0.004236644133925438, -0.0012156720040366054, 0.04839754104614258, -0.011938225477933884, -0.010413404554128647, 0.028636863455176353, 0.05236455053091049, 0.007369963452219963, -0.01450438518077135, -0.033050164580345154, 0.01607879251241684, 0.014194462448358536, -0.02019456773996353, -0.002375558018684387, 0.00400110287591815, -0.036075010895729065, 0.016673844307661057, -0.003003151621669531, 0.0017448652070015669, -0.01857057213783264, -0.0041405679658055305, -0.01426884438842535, -0.017975520342588425, 0.00014421093510463834, -0.014244050718843937, -0.047529757022857666, 0.02512853778898716, -0.004822398070245981, 0.041405681520700455, 0.008653043769299984, 0.0026188474148511887, -0.004723222926259041, 0.020616061985492706, -0.024545883759856224, -0.0008623601170256734, 0.011739874258637428, -0.004252140410244465, 0.046190887689590454, -0.010122077539563179, -0.0032665859907865524, -0.005687082652002573, -0.026926090940833092, 0.004342018160969019, -0.03890150412917137, -0.0012319430243223906, 0.01747964322566986, 0.023169826716184616, 0.002364710671827197, 0.05112485960125923, 0.011708882637321949, -0.00227948185056448, 0.0017774071311578155, 0.004069285932928324, -0.010084887035191059, -0.0103266267105937, -0.021843357011675835, -0.021558227017521858, 0.018818510696291924, -0.0033006775192916393, -0.0051695117726922035, 0.017739979550242424, -0.00568088423460722, 0.03828166052699089, -0.0033936542458832264, -0.005377159919589758, -0.022711141034960747, -0.0021121236495673656, -0.013525029644370079, 0.002894678618758917, 0.041876763105392456, 0.060199398547410965, -0.02652938850224018, -0.005792456679046154, 0.02357892505824566, 0.02033093385398388, -0.012458895333111286, -0.0149258803576231, -0.02381446585059166, -0.002778457710519433, 0.004655039869248867, -0.016810210421681404, -0.0090807368978858, 0.015905236825346947, 0.003672584891319275, 0.030248461291193962, 0.0020919786766171455, -0.01764080487191677, -0.010878289118409157, -0.04924052953720093, -0.030595576390624046, 0.016376318410038948, 0.02512853778898716, 0.003700477769598365, 0.015607710927724838, -0.00574286887422204, 0.008144770748913288, 0.00932247657328844, 0.037314701825380325, -0.005634395871311426, -0.008219151757657528, -0.011882439255714417, -0.024781424552202225, 0.014553973451256752, -0.031512945890426636, -0.016512684524059296, 0.004106476902961731, 0.01120680756866932, -0.010971265845000744, -0.05682743713259697, -0.013239900581538677, 0.021843357011675835, -0.020045803859829903, -0.0034153489395976067, -0.016673844307661057, 0.007946419529616833, 0.03649650514125824, 0.04896779730916023, 0.0015550374519079924, -0.009254293516278267, -0.052166201174259186, 0.038554392755031586, -0.03131459653377533, 0.014863896183669567, 0.0033409674651920795, -0.010537373833358288, -0.017603613436222076, -0.01132457796484232, 0.016649050638079643, -0.002043940592557192, 0.003830645466223359, -0.04857109487056732, -0.01547134481370449, 0.013661395758390427, 0.004121972713619471, 0.043042074888944626, -0.007196406833827496, 0.012967168353497982, -0.012303933501243591, -0.009967116639018059, -0.012477491050958633, 0.0010041497880592942, 0.02645500749349594, -0.0032417920883744955, -0.024620264768600464, 0.0041374689899384975, 0.01186384353786707, -0.015644900500774384, -0.019735882058739662, 0.007599306292831898, 0.018297839909791946, 0.016438303515315056, 0.06277795881032944, 0.005268686916679144, -0.007710878271609545, 0.01136796735227108, -0.01916562393307686, -0.006031096912920475, 0.01090928167104721, -0.014182065613567829, -0.0008468639571219683, -0.03109145164489746, -0.013091137632727623, -0.011299784295260906, -0.004878184292465448, 0.003573409514501691, 0.011479539796710014, -0.009248095564544201, -0.0066385455429553986, 0.02992614172399044, 0.009805955924093723, 0.010543572716414928, 0.035603929311037064, 0.07314177602529526, 0.013078740797936916, -0.004810001235455275, 0.01979786716401577, 0.009520827792584896, 0.011857644654810429, -0.011832850985229015, 0.01364899892359972, 0.013388663530349731, -0.011163418181240559, -0.0249673780053854, 0.005107527133077383, 0.00632242439314723, -0.04259578511118889, 0.023640908300876617, -0.017653200775384903, -0.012049796991050243, -0.004180857911705971, 0.045496661216020584, 0.02002101019024849, 0.012465093284845352, 0.0004517124325502664, -0.030818719416856766, 0.011752271093428135, -0.0030449912883341312, 0.03086830861866474, 0.0011436149943619967, 0.007332772482186556, -0.013252297416329384, 0.016971370205283165, -0.003839943092316389, -0.0007860416080802679, -0.0360502153635025, -0.013016756623983383, -0.0241243876516819, 0.012421704828739166, 0.0623316653072834, 0.019438356161117554, 0.03086830861866474, -0.033744391053915024, -0.032281555235385895, 0.019884644076228142, 0.01832263357937336, -0.011343173682689667, -0.035827070474624634, 0.010425802320241928, -0.019140830263495445, -0.012663444504141808, 0.019128432497382164, -0.0025289698969572783, -0.01761600933969021, -1.0187500265601557e-05, 0.004255239386111498, 0.012272941879928112, 0.029107946902513504, -0.014095287770032883, -0.0013466144446283579, 0.019512737169861794, 0.04648841544985771, 0.028736039996147156, -0.031909648329019547, -0.02319462038576603, 0.018582969903945923, -0.03178567811846733, -0.021124335005879402, 0.033595629036426544, 0.022859903052449226, 0.005206702277064323, 0.026008719578385353, 0.04006681591272354, 0.0010901533532887697, -0.011702683754265308, -0.014219257049262524, 0.020293742418289185, 0.0014349424745887518, -0.011721279472112656, -0.021459052339196205, -0.030793925747275352, 0.00854767020791769, 0.03032284416258335, 0.009843147359788418, -0.004999054130166769, 0.012855596840381622, 0.02977737970650196, 0.02250039204955101, 0.022686347365379333, 0.009403056465089321, -0.041008979082107544, 0.022611964493989944, -0.016872195526957512, 0.016649050638079643, -0.002527420176193118, -0.024917790666222572, 0.007047643885016441, -0.006415401119738817, -0.019004464149475098, -0.016103586181998253, -0.020368123427033424, -0.004345117136836052, 0.014120081439614296, -0.047827281057834625, 0.009712979197502136, -0.021620212122797966, 0.008299731649458408, -0.002050139009952545, 0.01978546939790249, -0.025463255122303963, -0.027322791516780853, -0.016376318410038948, -0.010562167502939701, 0.001494602533057332, 0.008293533697724342, 0.0036787833087146282, 0.025537636131048203, 0.011876240372657776, -0.0030558384023606777, -0.016177969053387642, -0.01625235006213188, -0.011014655232429504, 0.010091084986925125, 0.035306401550769806, -0.005377159919589758, -0.01671103574335575, 0.023380573838949203, -0.00031573380692861974, 0.0036167986690998077, 0.01066754199564457, 0.006015601102262735, 0.030273256823420525, -0.0219673253595829, -0.01895487681031227, 0.00514161866158247, 0.017219308763742447, -0.014256447553634644, -0.04259578511118889, 0.02188054658472538, 0.002011398784816265, 0.0029923042748123407, -0.00030701723881065845, -0.01700856164097786, 0.01746724732220173, 0.002948915120214224, -0.010475389659404755, 0.0010436648735776544, 0.041480064392089844, -0.03314933925867081, 0.02243840880692005, 0.021793769672513008, -0.006275936029851437, 0.02326900139451027, 0.0021260702051222324, 0.03756263852119446, 0.01669863797724247, 0.022016912698745728, -0.0042800335213541985, 0.0003203826490789652, -0.039942845702171326, 0.013289487920701504, 0.011888637207448483, -0.02645500749349594, -0.026578975841403008, 0.01182665303349495, 0.011839049868285656, 0.00034943793434649706, -0.023616114631295204, -0.010425802320241928, -0.02558722347021103, 0.01388453971594572, -0.025959130376577377, -0.0027490148786455393, -0.010190260596573353, -0.03562872111797333, -0.012179965153336525, -0.033124543726444244, 0.06218290328979492, -0.0055135260336101055, 0.004230445716530085, 0.009409255348145962, 0.038083311170339584, 0.004534170031547546, -0.03441382572054863, -0.017219308763742447, 0.02012018673121929, 0.005271786358207464, 0.03347165882587433, -0.030719544738531113, 0.024235960096120834, -0.021843357011675835, -0.01716972142457962, -0.011151021346449852, 0.007983610965311527, -0.009929925203323364, -0.023244207724928856, 0.03138897940516472, -0.0011730577098205686, 0.00023379798221867532, 0.02002101019024849, 0.01793832890689373, -0.007946419529616833, -0.020752428099513054, -0.008826600387692451, 0.003908126149326563, -0.010853495448827744, -0.029950935393571854, -0.021149130538105965, -0.011454745195806026, 0.00928528606891632, -0.04115774482488632, -0.00970678124576807, 0.00911792740225792, -0.029256708920001984, -0.006787308491766453, -0.018186267465353012, 0.02040531486272812, -0.02930629625916481, -0.008026999421417713, -0.029281502589583397, 0.030595576390624046, -0.001672033336944878, 0.0022732834331691265, 0.03934779390692711, 0.019698690623044968, 0.03240552544593811, -0.027174027636647224, -0.0263806264847517, 0.041256919503211975, -0.008169564418494701, -0.016438303515315056, 0.02762031741440296, 0.008597257547080517, 0.00682449946179986, 0.00812617503106594, -0.022215263918042183, -0.00630382914096117, 0.00740095553919673, 0.02645500749349594, -0.03076913207769394, 0.011969217099249363, -0.009148919954895973, -0.015620107762515545, 0.013475442305207253, -0.03146335855126381, -0.0010731075890362263, 0.034066710621118546, -0.03981887549161911, 0.0014884041156619787, 0.018186267465353012, -0.04547186940908432, 0.01616557128727436, 0.005659189540892839, 0.013698586262762547, -0.02861206978559494, -0.007097231224179268, 1.3111185580783058e-05, 0.014417607337236404, -0.028091398999094963, 0.002346115419641137, 0.019190417602658272, -0.02241361513733864, -0.0020129482727497816, -0.02313263528048992, -0.002595603233203292, 0.0026916791684925556, 0.004348216578364372, 0.03758743405342102, 0.008845196105539799, 0.0022825812920928, -0.009799757972359657, -0.01087209116667509, 0.029950935393571854, -0.0020284445490688086, 0.02558722347021103, -0.02766990475356579, 0.012192361988127232, -0.04244702309370041, 0.013165519572794437, -0.026231862604618073, -0.0038802330382168293, -0.003012449247762561, -0.01315312273800373, -0.0050796340219676495, -0.007283185143023729, 0.0033161735627800226, 0.0077046798542141914, 0.025066552683711052, -0.002497977577149868, 0.0021229709964245558, -0.0076860846020281315, 0.02505415678024292, -0.0009615353774279356, 0.016896989196538925, -0.039471764117479324, -0.02049209363758564, 0.02251278981566429, 0.024409517645835876, -0.012675841338932514, -0.02474423311650753, 0.004667436704039574, 0.011516730301082134, 0.01995902694761753, 0.012403109110891819, -0.006003203801810741, -0.016611861065030098, -0.02382686175405979, 0.013388663530349731, -0.016128381714224815, 0.018657350912690163, 0.029678205028176308, 0.001991253811866045, -0.014491988345980644, 0.017566422000527382, 0.04938929155468941, 0.00025684849242679775, 0.015719283372163773, -0.029207121580839157, 0.02087639831006527, -0.015905236825346947, 0.010146871209144592, 0.023454954847693443, -0.019301990047097206, 0.00041413429426029325, 0.02527730166912079, 0.01994662918150425, -0.017231706529855728, 0.026926090940833092, 0.0006516126450151205, -0.04019078612327576, -0.004348216578364372, 0.026578975841403008, -0.018582969903945923, 0.018186267465353012, 0.01809949055314064, 0.02118632011115551, -0.001184679800644517, 0.028017017990350723, -0.012967168353497982, -0.0028900299221277237, -0.02351693995296955, 0.027793873101472855, -0.01888049580156803, 0.010475389659404755, 0.01985985040664673, 0.005780059844255447, -0.028711244463920593, -0.01538456603884697, 0.0114051578566432, 0.015000262297689915, 0.02109954133629799, -0.04011640325188637, 0.009272889234125614, -0.027793873101472855, 0.017529232427477837, 0.019835056737065315, -0.0017092240741476417, -0.03287660703063011, -0.004354414995759726, -0.020740032196044922, -0.012248148210346699, -0.009898933582007885, 0.025463255122303963, -0.024099593982100487, -0.0050765350461006165, -0.0149258803576231, -0.015644900500774384, 0.0053895567543804646, 0.0019106739200651646, -0.01746724732220173, -0.01724410243332386]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:53.972466", "url_path": "/api/pydantic_graph/graph/", "chunk_size": 2758}
updated_dt: 2025-03-15T11:17:53.972466
---
```py {title="run_never_42.py" noqa="I001" py="3.10"}
  from never_42 import Increment, MyState, never_42_graph
  async def main():
    state = MyState(1)
    graph_run_result = await never_42_graph.run(Increment(), state=state)
    print(state)
    #> MyState(number=2)
    print(len(graph_run_result.history))
    #> 3
    state = MyState(41)
    graph_run_result = await never_42_graph.run(Increment(), state=state)
    print(state)
    #> MyState(number=43)
    print(len(graph_run_result.history))
    #> 5
  ```
  """
  if infer_name and self.name is None:
    self._infer_name(inspect.currentframe())
  async with self.iter(start_node, state=state, deps=deps, infer_name=infer_name, span=span) as graph_run:
    async for _node in graph_run:
      pass
  final_result = graph_run.result
  assert final_result is not None, 'GraphRun should have a final result'
  return final_result

```
  
---|---  
####  iter `async`
```
iter(
  start_node: BaseNode[](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.BaseNode "pydantic_graph.nodes.BaseNode")[StateT[](https://ai.pydantic.dev/api/pydantic_graph/state/#pydantic_graph.state.StateT "pydantic_graph.state.StateT"), DepsT[](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.DepsT "pydantic_graph.nodes.DepsT"), T],
  *,
  history: list[](https://docs.python.org/3/library/stdtypes.html#list)[HistoryStep[](https://ai.pydantic.dev/api/pydantic_graph/state/#pydantic_graph.state.HistoryStep "pydantic_graph.state.HistoryStep")[StateT[](https://ai.pydantic.dev/api/pydantic_graph/state/#pydantic_graph.state.StateT "pydantic_graph.state.StateT"), T]] | None = None,
  state: StateT[](https://ai.pydantic.dev/api/pydantic_graph/state/#pydantic_graph.state.StateT "pydantic_graph.state.StateT") = None,
  deps: DepsT[](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.DepsT "pydantic_graph.nodes.DepsT") = None,
  infer_name: bool[](https://docs.python.org/3/library/functions.html#bool) = True,
  span: AbstractContextManager[](https://docs.python.org/3/library/contextlib.html#contextlib.AbstractContextManager "contextlib.AbstractContextManager")[Any[](https://docs.python.org/3/library/typing.html#typing.Any "typing.Any")] | None = None
) -> AsyncIterator[](https://docs.python.org/3/library/collections.abc.html#collections.abc.AsyncIterator "collections.abc.AsyncIterator")[GraphRun[](https://ai.pydantic.dev/api/pydantic_graph/graph/#pydantic_graph.graph.GraphRun "pydantic_graph.graph.GraphRun")[StateT[](https://ai.pydantic.dev/api/pydantic_graph/state/#pydantic_graph.state.StateT "pydantic_graph.state.StateT"), DepsT[](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.DepsT "pydantic_graph.nodes.DepsT"), T]]