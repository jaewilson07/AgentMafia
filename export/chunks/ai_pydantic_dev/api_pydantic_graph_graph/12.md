---
url: https://ai.pydantic.dev/api/pydantic_graph/graph/
session_id: pydantic_ai_docs
chunk_number: 12
title: Async Context Manager for Graph Node Iteration
summary: The `iter` method is an async context manager for iterating over a graph's nodes during execution. It returns a `GraphRun` object for async iteration and interaction with nodes, enabling manual graph execution control and access to execution history, state, dependencies, and final results.
embedding: [0.01734262891113758, 0.05268704146146774, -0.042095083743333817, -0.08482659608125687, 0.03534441441297531, -0.011751165613532066, 0.0009546400979161263, 0.00027772641624324024, 0.011387492530047894, 0.035071659833192825, -0.011336351744830608, 0.013421785086393356, 0.008569031953811646, -0.06932505965232849, 0.028911957517266273, -0.021331660449504852, -0.024593347683548927, 0.01567200943827629, 0.013569527305662632, 0.04648188129067421, 0.006352902855724096, 0.0033043050207197666, 0.023388683795928955, 0.0150242168456316, -0.03954937681555748, 0.036685455590486526, -0.008796326816082, 0.04289061576128006, -0.0010356140555813909, -0.0006250619771890342, -0.028298260644078255, -0.012251215055584908, -0.052777960896492004, -0.02882103994488716, 0.02225220575928688, -0.022365855053067207, -0.009159998968243599, 0.020320197567343712, 0.009563447907567024, 0.04750471189618111, 0.05259612575173378, -0.03448069095611572, -0.021263472735881805, -8.119590347632766e-05, 0.0025087716057896614, -0.0280709657818079, 0.024843372404575348, 0.04586818441748619, 0.06887046247720718, 0.0356171689927578, -0.03182133659720421, -0.003636724315583706, -0.05018679425120354, 0.02613895572721958, -0.0725526511669159, 0.021206649020314217, 0.01075106579810381, 0.000561845488846302, -0.02625260315835476, -0.025047939270734787, 0.04161776229739189, 0.0023965444415807724, 0.006034689489752054, 0.04936853051185608, -0.04445895552635193, 0.06236981973052025, 0.006011959630995989, 0.049232155084609985, -0.041140444576740265, 0.0010576333152130246, 0.03216227889060974, 0.034662529826164246, -0.034003373235464096, -0.026388980448246002, 0.015353795140981674, -0.02497974969446659, 0.04845935106277466, 0.023127293214201927, 0.013739998452365398, -0.012955830432474613, 0.017172157764434814, -0.0038015132304280996, -0.005392580293118954, 0.010529452934861183, 0.019990619271993637, -0.04223145917057991, -0.04909577593207359, -0.016808485612273216, 0.009188410826027393, -0.062733493745327, 0.01216029655188322, 0.005730682052671909, -0.005571575369685888, 0.04391344636678696, 0.04491354525089264, 0.05000495910644531, 0.015433348715305328, -0.006409726571291685, -0.03873111307621002, 0.009086128324270248, 0.009006574749946594, -0.02311592921614647, -0.014524167403578758, 0.009319106116890907, 0.006358585320413113, 0.005977865308523178, -0.03529895469546318, 0.044436223804950714, 0.0003597657778300345, -0.043413396924734116, -0.07132525742053986, -0.005682381801307201, -0.010807889513671398, 0.03918570280075073, -0.016047045588493347, -0.08259910345077515, -0.04036764055490494, -0.023343224078416824, 0.0441180095076561, -0.015842480584979057, -0.01251260470598936, -0.010898808017373085, -0.028707392513751984, 0.010853349231183529, 0.010660148225724697, -0.0163425300270319, -0.011671612039208412, -0.01405821181833744, -0.006773399189114571, -0.031480394303798676, -0.010915854945778847, -0.031139452010393143, -0.03132128715515137, -0.03191225603222847, -0.01160910539329052, 0.01618342287838459, -0.054641783237457275, 0.01825181022286415, -0.012933100573718548, 0.019240545108914375, -0.006148336920887232, -0.027184514328837395, 0.004443622659891844, -0.008688361383974552, 0.05268704146146774, 0.053187090903520584, -0.04673190787434578, 0.04805022105574608, -0.046959202736616135, 0.0372309647500515, 0.04186778888106346, 0.011933001689612865, -0.021206649020314217, 0.011069279164075851, 0.01572883315384388, -0.004142456222325563, -0.008364466018974781, -0.0008168423664756119, 0.026070768013596535, -0.025707093998789787, -0.021831709891557693, 0.036344513297080994, -0.03604903072118759, -0.01312630157917738, -0.019240545108914375, -0.02124074287712574, -0.049186695367097855, 0.008500843308866024, -0.018376821652054787, -0.04354977235198021, 0.02164987474679947, -0.029752951115369797, -0.0842810869216919, 0.06346084177494049, 0.05395989492535591, -0.019581487402319908, -0.07137071341276169, 0.011114738881587982, -0.006409726571291685, -0.0247751846909523, -0.02063841000199318, -0.01709260419011116, -0.042708780616521835, -0.005168125964701176, -0.07846232503652573, -0.007961017079651356, 0.015296971425414085, -0.013387691229581833, 0.004079950042068958, -0.021002082154154778, -0.003500347025692463, 0.06600654870271683, 0.01201255526393652, 0.03352605178952217, -0.0023596088867634535, -0.008250818587839603, 0.04293607547879219, 0.018740495666861534, 0.02109300158917904, 0.031730420887470245, -0.006762034259736538, 0.012614887207746506, 0.01729716919362545, -0.006801811046898365, 0.020820247009396553, -0.0028866499196738005, 0.006932505872100592, -0.038117416203022, -0.020695233717560768, 0.0005710793775506318, 0.0277072936296463, -0.011393175460398197, -0.011347716674208641, 0.009415706619620323, 0.006114242598414421, -0.007978064008057117, -0.03850381821393967, 0.003062803763896227, 0.034003373235464096, 0.02757091633975506, 0.036389973014593124, 0.025525258854031563, 0.010046450421214104, 0.0017416499322280288, 0.030230270698666573, 0.03448069095611572, -0.008057617582380772, -0.03050302527844906, 0.027229972183704376, 0.05846034362912178, -0.00922818761318922, -0.028957417234778404, -0.03761736676096916, -0.027139054611325264, -0.002010142430663109, -0.04850481078028679, -0.026116225868463516, -0.016819849610328674, 0.022945458069443703, -0.017183521762490273, -0.038458358496427536, 0.0247751846909523, 0.0011251115938648582, -0.020308831706643105, 0.04759562760591507, 0.002443424193188548, -0.010910172946751118, -0.04168595373630524, 0.0300484336912632, 0.036139946430921555, 0.002466153586283326, 0.004523175768554211, -0.04491354525089264, -0.018229080364108086, -0.006591562647372484, -0.015228782780468464, -0.014012753032147884, -0.002443424193188548, 0.02802550606429577, 0.004807294812053442, 0.047459252178668976, 0.02679811231791973, -0.03832198306918144, 0.013899105601012707, -0.022774985060095787, -0.012762629427015781, 0.027502726763486862, 0.002969044493511319, -0.008307642303407192, -0.028093695640563965, 0.013762728311121464, 0.03413974866271019, -0.0008637220016680658, -0.05632376670837402, -0.009944167919456959, 0.006722257472574711, 0.023388683795928955, 0.04525448754429817, 0.0007919819327071309, -0.0495503693819046, 0.015478807501494884, 0.03850381821393967, 0.032753247767686844, 0.05473269894719124, -0.012296673841774464, -0.0016095346072688699, -0.0015825432492420077, 0.024206945672631264, 0.03823106363415718, 0.009290694259107113, 0.011165879666805267, -0.02629806287586689, 0.03029845841228962, 0.017524465918540955, 0.026116225868463516, -0.040481287986040115, 0.02563890628516674, 0.014603720977902412, 0.0030798509251326323, -0.011086327023804188, -0.007432555314153433, -0.016467541456222534, -0.005440880544483662, 0.008426971733570099, 0.028639202937483788, 0.017569923773407936, -0.03250322490930557, -0.039162974804639816, 0.0035827415995299816, 0.002085434040054679, -0.024911561980843544, 0.032889626920223236, -0.031889524310827255, 0.013649080879986286, 0.002014404395595193, 0.05741478502750397, 0.07928059250116348, -0.051005057990550995, 0.02827553078532219, -0.02620714344084263, -0.01946783997118473, -0.06346084177494049, 0.03407156094908714, 0.06059691682457924, 0.006392679177224636, 0.0002329776471015066, 0.003639565547928214, -0.024002380669116974, -0.009773696772754192, 0.04036764055490494, -0.01234213262796402, -0.00617106631398201, -0.005352803505957127, 0.017479006201028824, 0.010035086423158646, -0.021877169609069824, 0.021763522177934647, 0.017933595925569534, 0.05609647184610367, 0.024957019835710526, -0.05605101212859154, -0.01148409303277731, -0.015558361075818539, -0.027229972183704376, 0.016808485612273216, 0.03398064151406288, -0.0296847615391016, 0.007358684204518795, -0.0362081378698349, -0.003943572752177715, 0.02472972497344017, -0.009302059188485146, -0.004224850796163082, 0.047322873026132584, 0.007728039287030697, -0.011506822891533375, -0.01972922869026661, 0.007279131095856428, -0.045640889555215836, 0.014274142682552338, -0.02332049421966076, -0.009927120991051197, -0.005190855823457241, -0.004744788631796837, -0.045549970120191574, -0.03373061865568161, -0.008409924805164337, 0.05077776312828064, 0.02291136234998703, 0.05564188212156296, 0.11646609753370285, 0.06241527944803238, 0.025911660864949226, -0.004585681948810816, -0.01647890731692314, 0.0026650370564311743, 0.027070866897702217, -0.006517692003399134, 0.043572504073381424, 0.06300624459981918, 0.00617106631398201, 0.019433746114373207, 0.03450342267751694, -0.025366151705384254, -0.006154019385576248, -0.01654709503054619, -0.008529255166649818, -0.006960917729884386, 0.010057815350592136, 0.01880868338048458, 0.029412006959319115, -0.0633244588971138, 0.017013050615787506, -0.01647890731692314, -0.03964029625058174, -0.015353795140981674, 0.003551488509401679, 0.02757091633975506, 0.04393617436289787, 0.011074962094426155, 0.011012455448508263, 0.008034887723624706, -0.05973319709300995, 0.018956424668431282, 0.007256401237100363, -0.0238205436617136, 0.03295781463384628, 0.016399353742599487, 0.007335954811424017, 0.03184406831860542, 0.023502331227064133, 0.018319997936487198, 0.006051736418157816, -0.0222067479044199, -0.020899800583720207, -0.022934092208743095, -0.016603918746113777, -0.04595910385251045, -0.02893468737602234, 0.05723294988274574, -0.048777565360069275, -0.0652337446808815, -0.0017487530130892992, 0.004193597473204136, 0.02522977441549301, 0.03516257926821709, 0.024161487817764282, -0.07955334335565567, 0.004349863156676292, -0.03479890525341034, 0.023729626089334488, 0.053232550621032715, 0.03904932737350464, 0.02502520941197872, 0.0002766609541140497, 0.009131587110459805, -0.0017487530130892992, -0.025002479553222656, -0.017740394920110703, -0.012626252137124538, 0.050595927983522415, -0.00656315078958869, 0.011137467809021473, 0.02629806287586689, -0.017263075336813927, 0.007125706411898136, -0.026616275310516357, -0.03657180815935135, -0.01820635050535202, -0.0342988558113575, 0.006261984817683697, -0.018274540081620216, -0.007534838281571865, -0.01122838631272316, -0.059096768498420715, 0.0001441016502212733, 0.07468922436237335, -0.004020284861326218, 0.043822526931762695, -0.013433150015771389, -0.002613895572721958, -0.0033668112009763718, -0.015546996146440506, 0.0238205436617136, 0.003500347025692463, 0.030980344861745834, 0.0280709657818079, 0.0065745157189667225, 0.01405821181833744, 0.05336892977356911, 0.04520902782678604, -0.014569626189768314, -0.009796425700187683, 0.005574416369199753, -0.03554898127913475, 0.010410123504698277, 0.002797152381390333, 0.049186695367097855, 0.019206449389457703, 0.020445208996534348, -0.04391344636678696, -0.010768113657832146, 0.01912689581513405, 0.030616672709584236, 0.02427513524889946, 0.015603819862008095, 0.005304503254592419, -0.03200317546725273, -0.028911957517266273, 0.019308732822537422, 0.0007181109976954758, 0.02522977441549301, -0.01710396818816662, -0.009978261776268482, 0.024843372404575348, -0.00512266717851162, -0.05214153602719307, -0.027298161759972572, 0.012683075852692127, -0.031139452010393143, -0.03334421664476395, 0.00759734446182847, -0.026979947462677956, 0.04227691888809204, -0.051868781447410583, -0.06800674647092819, 0.007796227466315031, -0.020797517150640488, 0.012489874847233295, -0.010154415853321552, -0.04327701777219772, 0.0020200866274535656, 0.04161776229739189, 0.03170768916606903, -8.119590347632766e-05, 0.03243503347039223, -0.013217220082879066, 0.01957012340426445, 0.004861277528107166, -0.03964029625058174, -0.03954937681555748, -0.018024515360593796, -0.0016521525103598833, -0.008188311941921711, 0.02078615128993988, 0.03095761500298977, 0.055005453526973724, -0.038572005927562714, 4.11306755268015e-05, 0.016774389892816544, 0.0004474875458981842, 0.01826317422091961, -0.022127194330096245, 0.02534342184662819, -0.030025705695152283, -0.026729922741651535, -0.003477617632597685, -0.004079950042068958, -0.04532267525792122, -0.02047930285334587, 0.019945159554481506, 0.025275234133005142, -0.021558955311775208, -0.010296475142240524, -0.02816188335418701, 0.011705705896019936, 0.015740197151899338, -0.034867092967033386, 0.03075304999947548, 0.024206945672631264, -0.0005000496166758239, -0.0342988558113575, 0.003182133659720421, -0.05700565129518509, 0.002683504717424512, -0.0025201363023370504, -0.03373061865568161, -0.009552083909511566, 0.008097393438220024, 0.0011641778983175755, 0.0024704153183847666, -0.00690409354865551, 0.03720823675394058, 0.024456970393657684, -0.00897248089313507, 0.0625971183180809, 0.019592851400375366, -0.02802550606429577, -0.04977766424417496, 0.003866860643029213, 0.01087039615958929, -0.003969143610447645, -0.013217220082879066, -0.0075121084228158, 0.00647223275154829, -0.04273150861263275, -0.014865110628306866, 0.008642902597784996, -0.02078615128993988, 0.01699032075703144, -0.021911263465881348, -0.04607275128364563, -0.0057051111944019794, 0.0006115663563832641, 0.005835806019604206, 0.02745726890861988, -0.047413792461156845, 0.016967590898275375, 0.012376227416098118, -0.0029974563512951136, -0.022593149915337563, -0.023479601368308067, 0.02321821078658104, -0.008580395951867104, -0.022013546898961067, 0.0037929897662252188, 0.015819750726222992, -0.010716971941292286, -0.03611721843481064, 0.024547887966036797, 0.021354390308260918, 0.0164902713149786, 0.008739503100514412, 0.023195482790470123, 0.01527424156665802, 0.009250917471945286, 0.016206152737140656, -0.004977766424417496, -0.039572104811668396, -0.005250520538538694, -0.0345943383872509, -0.0035117119550704956, -0.040231261402368546, -0.013410421088337898, -0.015262877568602562, 0.04850481078028679, -0.029502926394343376, 0.025570716708898544, 0.045799996703863144, -0.041799601167440414, 0.014490073546767235, 0.0014660544693470001, 0.017285805195569992, -0.01226257998496294, 0.004185074009001255, 0.004770359490066767, -0.027684563770890236, 0.0043015629053115845, -0.022979551926255226, 0.021024812012910843, -0.029571114107966423, 0.02509339712560177, 0.025161586701869965, -0.007114341948181391, -0.04941399022936821, 0.004500446375459433, -0.023456871509552002, -0.029002876952290535, -0.0014085203874856234, 0.02245677262544632, 0.052868880331516266, 0.015262877568602562, -0.04350431263446808, 0.0033497640397399664, 0.011830718256533146, 0.0003198115446139127, 0.02316138707101345, 0.026229873299598694, 0.01882004737854004, -0.016058411449193954, -0.039072055369615555, -0.02129756659269333, 0.010296475142240524, 0.009296376258134842, -0.005423833150416613, -0.02568436600267887, -0.025116126984357834, -0.03979939967393875, -0.03473071753978729, -0.023502331227064133, -0.002905117580667138, 0.012603522278368473, -0.018388187512755394, -0.01234213262796402, -0.04186778888106346, 0.011728435754776001, 0.013944564387202263, 0.0036225183866918087, 0.018638212233781815, 0.0319577157497406, -0.03302600234746933, 0.028093695640563965, 0.02868466265499592, -0.012239850126206875, 0.024820642545819283, -0.010643101297318935, 0.003077009692788124, -0.016308436170220375, -0.003937890287488699, 0.030025705695152283, -0.0030457566026598215, -0.005182331893593073, -0.012967195361852646, 0.06796128302812576, 0.0737345814704895, -0.023388683795928955, -0.02629806287586689, -0.008716773241758347, 0.017126698046922684, -0.006227890495210886, -0.014024117961525917, 0.0030684859957545996, 0.0007884304504841566, 0.0037020717281848192, -0.02704813703894615, -0.007438237778842449, 0.013183125294744968, 0.027775481343269348, -0.0006073045660741627, -0.011199974454939365, -0.018285904079675674, -0.00358558283187449, -0.0036424065474420786, 0.024297863245010376, -0.012103472836315632, -0.0036907067988067865, 0.0025059303734451532, 0.02264997363090515, 0.036639995872974396, -0.027025407180190086, -0.014808286912739277, -0.007375731598585844, -0.03266232833266258, 0.0033043050207197666, -0.01378545816987753, -0.03443523123860359, 0.029821138828992844, 0.0014056791551411152, -0.018797319382429123, -0.01092153787612915, 0.00036935482057742774, 0.005017543211579323, -0.0036708186380565166, -0.015160594135522842, 0.00011000735685229301, -0.017160791903734207, 0.007102977018803358, 0.02163850888609886, -0.009978261776268482, -0.013978659175336361, -0.010415805503726006, -0.010853349231183529, -0.02650262787938118, -0.010893126018345356, -0.014012753032147884, -0.017217615619301796, -0.03186679631471634, -0.006432455964386463, -0.005852852948009968, 0.0028411909006536007, -0.007699626963585615, -0.005648287478834391, -0.022229477763175964, -0.018240444362163544, -0.0010114639298990369, -0.04905031993985176, 0.02543434128165245, 0.0019476363668218255, -0.01294446550309658, 0.014865110628306866, -0.04777746647596359, 0.0058642178773880005, -0.01008622720837593, -0.006642704363912344, 0.045595429837703705, 0.012830818071961403, 0.0006719416123814881, 0.006341537926346064, -0.027025407180190086, 0.017922231927514076, -0.04384525865316391, -0.02816188335418701, -0.007841686718165874, -0.000622220803052187, 0.005932406522333622, 0.013842281885445118, 0.0015456078108400106, 0.02613895572721958, -0.02230903133749962, 0.022388583049178123, -0.03829925134778023, -0.0019547392148524523, -0.01992242969572544, 0.020149724557995796, 0.020967988297343254, -0.0072904955595731735, 0.05736932530999184, -0.026616275310516357, 0.016047045588493347, -0.025070667266845703, 0.014569626189768314, 0.008892927318811417, 0.0017288646195083857, 0.022945458069443703, 0.026820842176675797, -0.0089781628921628, -0.02852555550634861, -0.03579900413751602, -0.010262381285429, -0.005494863260537386, -0.05718749016523361, -0.04636823385953903, 0.0020712281111627817, 0.011921636760234833, 0.005526116117835045, -0.0016336847329512239, -0.022377219051122665, -0.07346183061599731, -0.010199875570833683, 0.014183225110173225, -0.009881661273539066, 0.01679711975157261, 0.009273647330701351, 0.012228485196828842, -0.0007955334149301052, 0.02959384396672249, 0.008466748520731926, -0.02059295028448105, -0.0111772445961833, -0.0401630736887455, -0.03736734017729759, 0.019536027684807777, -0.005023225210607052, -0.008336054161190987, -0.0003707754076458514, 0.04141319915652275, -0.019331462681293488, -0.014535532332956791, 0.008233770728111267, -0.04391344636678696, 0.007926922291517258, 0.033707886934280396, 0.0012721432140097022, 0.011819354258477688, 0.027775481343269348, -0.008324689231812954, 0.012728534638881683, -0.0019490568665787578, -0.053732600063085556, -0.03602629899978638, -0.0017856884514912963, -0.023172752931714058, 0.06514282524585724, 0.02250223234295845, 0.03711731731891632, 0.02200218103826046, 0.025979848578572273, -0.01961558125913143, -0.02700267732143402, 0.0019234862411394715, -0.0013275464298203588, 0.02725270204246044, 0.006029007025063038, 0.000561135180760175, 0.007017741445451975, -0.006841587368398905, -0.009955532848834991, 0.00534712104126811, 0.0067165750078856945, 0.013058112934231758, 0.0006477914866991341, 0.0508686825633049, 0.05582371726632118, -0.05041408911347389, -0.011415904387831688, 0.01841091737151146, 0.05023225396871567, 0.016922133043408394, 0.0061426544561982155, 0.020422479137778282, -0.01688803918659687, -0.028889227658510208, 0.004312927834689617, 0.011842083185911179, -0.01312630157917738, -0.004784565418958664, -0.031230369582772255, 0.02522977441549301, -0.014399155043065548, 0.009392976760864258, -0.036344513297080994, 0.017228981480002403, 0.009768013842403889, -0.009875979274511337, -0.01166024710983038, 0.0009929961524903774, -0.018399551510810852, -0.0018964948831126094, -0.0002738197799772024, 0.05764207988977432, 0.02012699656188488, 0.02094525843858719, -0.01362635102123022, -0.021252106875181198, 0.00017420051153749228, -0.0014440352097153664, -0.004886848386377096, -0.017081240192055702, -0.02725270204246044, 0.04143592715263367, -0.011762529611587524, -0.03895840793848038, -0.007921240292489529, 0.028707392513751984, 0.006313126068562269, -0.0010917276376858354, -0.013274043798446655, -0.005574416369199753, 0.014171860180795193, -0.005577257834374905, 0.0012018237030133605, -0.022172654047608376, 0.03177587687969208, 0.017990419641137123, 0.02200218103826046, -0.018831413239240646, 0.04461806267499924, -0.005213585216552019, 0.013990024104714394, -0.04282242804765701, -0.01941101625561714, -0.019308732822537422, 0.018035879358649254, 0.021570321172475815, -0.029252901673316956, -0.024002380669116974, -0.02295682206749916, -0.011631835252046585, -0.0017032938776537776, 0.017819948494434357, 0.021127095445990562, -0.0006783343269489706, 0.015615184791386127, 0.014240048825740814, -0.014649179764091969, -0.008688361383974552, 0.02053612656891346, 0.01362635102123022, 0.03179860860109329, -0.023275034502148628, 0.013990024104714394, -0.0017871090676635504, 0.012830818071961403, 0.023434141650795937, -0.018740495666861534, -0.00968846119940281, 0.007040470838546753, -0.0056568109430372715, -0.037299152463674545, 0.05377805978059769, 0.007335954811424017, -0.01588793843984604, 0.0020584426820278168, 0.02736634947359562, -0.030616672709584236, -0.03616267815232277, 0.03229865804314613, -0.016399353742599487, -0.010103275068104267, 0.032253198325634, 0.042867887765169144, -0.02078615128993988, 0.010728336870670319, -0.0222067479044199, -0.007830321788787842, -0.0335715115070343, 0.007767815608531237, -0.00729617802426219, 0.02816188335418701, -0.012989924289286137, 0.01039307564496994, -0.0018581388285383582, -0.009324788115918636, 0.0012721432140097022, 0.009398659691214561, -0.04373161122202873, -0.03125309944152832, -0.017513100057840347, 0.03686729073524475, 0.007932605221867561, 0.04029944911599159, 0.034412503242492676, 0.035276226699352264, 0.016069775447249413, -0.01926327310502529, -0.016501637175679207, 0.0502777136862278, -0.0075121084228158, 0.03675364330410957, 0.037753742188215256, 0.026320792734622955, -0.0019320098217576742, -0.020956624299287796, -0.021672604605555534, 0.023036375641822815, -0.047459252178668976, 0.012808088213205338, 0.03216227889060974, 0.03970848396420479, 0.002329776529222727, 0.03009389340877533, 0.010887443087995052, 0.01572883315384388, 0.013319502584636211, -0.01362635102123022, -0.009671413339674473, -0.019206449389457703, -0.02002471312880516, 0.042458757758140564, -0.0032503223046660423, -0.0359126515686512, 0.019865605980157852, 0.03336694464087486, -0.01977468840777874, -0.015478807501494884, -0.024456970393657684, -0.01062037143856287, -0.001171991229057312, 0.008165582083165646, -0.020047442987561226, 0.003818560391664505, -0.026161685585975647, 0.012876276858150959, -0.009870297275483608, -0.019683770835399628, 0.0014070997713133693, 0.021627144888043404, -0.010432852432131767, -0.020206550136208534, 0.024797914549708366, 0.010069180279970169, -0.04682282358407974, 0.03009389340877533, -0.01042148843407631, 0.0037560542114079, 0.009307741187512875, 0.00498060742393136, -0.00872813817113638, 0.031184909865260124, -0.015103770419955254, 0.006421091500669718, 0.03250322490930557, -0.00020829480490647256, 0.0133763263002038, -0.013955929316580296, -0.002559912856668234, 0.0038384487852454185, -0.030207540839910507, 0.010540817864239216, -0.05586917698383331, -0.007949652150273323, 0.007881463505327702, 0.025525258854031563, 0.0020698076114058495, 0.0463227741420269, 0.010944266803562641, 0.0029917738866060972, -0.014785557053983212, -0.003077009692788124, -0.010216922499239445, -0.032048631459474564, -0.03252595290541649, 0.003920843359082937, 0.03979939967393875, 0.0015186164528131485, -0.008517890237271786, 0.01709260419011116, 0.009864614345133305, 0.017524465918540955, -0.011421587318181992, -0.00273180496878922, -0.0002553520316723734, 0.004673758987337351, -0.018649576231837273, 0.003591265296563506, 0.02786639891564846, 0.03834471106529236, 0.0072904955595731735, -0.002710496075451374, 0.015546996146440506, 0.01766084134578705, -0.023138659074902534, -0.012558063492178917, -0.04768654704093933, -0.009017939679324627, -0.009949849918484688, -0.004960719030350447, 0.015285606496036053, 0.010472629219293594, -0.022365855053067207, 0.03425339609384537, -0.006011959630995989, -0.013967294245958328, -0.01506967656314373, -0.031889524310827255, -0.028139153495430946, 0.03475344553589821, 0.01519468892365694, 0.020047442987561226, -0.00527325039729476, -0.01729716919362545, 0.03757190704345703, -0.0005082180141471326, 0.025820741429924965, 0.0040458557195961475, -0.01178525947034359, -0.016058411449193954, -0.021729428321123123, 0.004943672101944685, -0.03777647390961647, -0.004432257730513811, 0.0034492057748138905, -0.00011524580622790381, -0.014569626189768314, -0.059960491955280304, -0.025661636143922806, 0.013024019077420235, -0.010779477655887604, 0.016149329021573067, -0.040844958275556564, 0.020547492429614067, 0.025934390723705292, 0.023729626089334488, 0.00268634594976902, -0.002039975021034479, -0.03695821017026901, 0.02320684678852558, -0.013285408727824688, 0.0020840135402977467, 0.0023738150484859943, -0.014637814834713936, -0.016524365171790123, 0.010557864792644978, -0.012558063492178917, 0.010290793143212795, -0.005091413855552673, -0.024797914549708366, -0.007335954811424017, 0.025411611422896385, -0.014512802474200726, 0.056869275867938995, -0.0032673694659024477, 0.023104563355445862, -0.025752553716301918, -0.014251412823796272, -0.017217615619301796, -0.013978659175336361, 0.022240841761231422, 0.016603918746113777, -0.03382153436541557, 0.014535532332956791, 0.024138757959008217, 0.0038725431077182293, -0.031684961169958115, 0.0006605768576264381, 0.01587657444179058, 0.027934588491916656, 0.06077875569462776, 0.020206550136208534, -0.017524465918540955, 0.010233969427645206, -0.007102977018803358, -0.036094486713409424, -0.017479006201028824, -0.013421785086393356, 0.001195430988445878, -0.04182232916355133, -0.01816089265048504, 0.0013566686538979411, -0.015546996146440506, 0.011063597165048122, 0.017422182485461235, -0.028889227658510208, -0.014376425184309483, 0.02645716816186905, -0.006796128582209349, 0.010404440574347973, 0.04232237860560417, 0.05491453781723976, -0.008995209820568562, 0.01613796316087246, 0.014706003479659557, -0.0021266313269734383, 0.022172654047608376, -0.011978460475802422, 0.0004077108751516789, 0.010853349231183529, 0.004929466173052788, -0.035230766981840134, -0.007710991892963648, -0.007955334149301052, -0.030366647988557816, 0.01754719391465187, -0.008745185099542141, -0.0014703162014484406, 0.009694143198430538, 0.04800476133823395, 0.011933001689612865, 0.01391047053039074, -0.0010285110911354423, -0.039162974804639816, -0.02113845944404602, 0.008819056674838066, 0.013694539666175842, 0.010353299789130688, 0.00427315104752779, -0.029343819245696068, 0.02604803815484047, 0.010881761088967323, 0.020456574857234955, -0.0310030747205019, 0.007875780574977398, -0.024820642545819283, 0.02670719474554062, 0.06809765845537186, 0.03104853257536888, 0.02625260315835476, -0.017172157764434814, -0.003184974892064929, 0.01982014812529087, 0.019081437960267067, -0.033912453800439835, -0.039776671677827835, 0.008841785602271557, 0.0032133867498487234, -0.009631636552512646, 0.019888335838913918, -0.011097691021859646, -0.030230270698666573, -0.0035088707227259874, 0.0043896399438381195, 0.027139054611325264, 0.014069576747715473, -0.0028624997939914465, -0.019195085391402245, 0.03443523123860359, 0.03186679631471634, 0.018774589523673058, -0.029866598546504974, -0.027502726763486862, 0.015603819862008095, -0.016262976452708244, 0.0032560047693550587, 0.01306947786360979, 0.023275034502148628, 0.006307443603873253, 0.0444134958088398, 0.02629806287586689, -0.011933001689612865, 0.0013872113777324557, -0.015081040561199188, 0.004628299735486507, 0.014399155043065548, -0.010387393645942211, -0.04652734100818634, -0.04945944994688034, 0.014785557053983212, 0.04034490883350372, 0.03588992357254028, 0.010461264289915562, 0.02049066871404648, 0.01785404235124588, 0.01996788941323757, 0.003648089012131095, 0.006500644609332085, -0.0394357293844223, 0.020138360559940338, -0.0037873073015362024, 0.007767815608531237, -0.008409924805164337, -0.020956624299287796, -0.00015839638945180923, -0.012762629427015781, -0.008864515461027622, -0.011029502376914024, -0.023388683795928955, 0.012148931622505188, 0.016353894025087357, -0.03270778805017471, 0.012683075852692127, -0.010915854945778847, -0.001050530350767076, 0.015649279579520226, 0.03170768916606903, -0.02108163572847843, -0.012103472836315632, 0.00647223275154829, -0.022695433348417282, -0.021456673741340637, 0.00819399394094944, -0.02422967553138733, 0.024297863245010376, 0.021127095445990562, 0.0001769529189914465, 0.004219168331474066, -0.009921438060700893, -0.04945944994688034, -0.021377120167016983, 0.04166322201490402, -0.010171462781727314, -0.008995209820568562, 0.03034391812980175, 0.0021990817040205, 0.017876772210001945, 0.030412105843424797, 0.016819849610328674, 0.054187193512916565, -0.0135581623762846, -0.025911660864949226, -0.019001884385943413, 0.020615680143237114, 0.006307443603873253, -0.03848109021782875, 0.029002876952290535, -0.002478939015418291, -0.004648188129067421, -0.009057716466486454, -0.007807592395693064, -0.012228485196828842, 0.010262381285429, -0.004935148637741804, 0.022990915924310684, 0.01738808862864971, -0.022479502484202385, 0.02432059310376644, 0.012899006716907024, 0.01688803918659687, -0.0010576333152130246, 0.01932009682059288, 0.03495801240205765, 0.008108758367598057, 0.013592257164418697, 0.0004062902880832553, 0.002209025900810957, -0.030912157148122787, 0.004636823665350676, -0.0032389576081186533, -0.027320891618728638, -0.02210446447134018, 0.0095293540507555, 0.0391402468085289, 0.001720341038890183, -0.01936555653810501, -0.019490569829940796, -0.03409428894519806, 0.006744986865669489, -0.026388980448246002, 0.0007063910597935319, -0.02948019653558731, -0.035685356706380844, -0.007841686718165874, -0.022786350920796394, 0.05305071547627449, 0.02786639891564846, -0.005949453450739384, -0.0007387096411548555, 0.031071262434124947, 0.01428550761193037, -0.027298161759972572, -0.020115630701184273, 0.03125309944152832, -0.006727939937263727, 0.03995850682258606, -0.030821237713098526, 0.009910074062645435, 0.0207406934350729, -0.04575453698635101, 0.018183620646595955, 0.006466550286859274, -0.02725270204246044, -0.034412503242492676, 0.02332049421966076, 0.01380818709731102, -0.0006279031513258815, 0.014296872541308403, 0.05355076491832733, 0.000658090808428824, -0.03520803526043892, -0.029412006959319115, 0.013990024104714394, -0.027434539049863815, -0.007210942450910807, -0.010785160586237907, 0.021558955311775208, 0.0034605704713612795, -0.034117020666599274, -0.025661636143922806, 0.013717269524931908, 0.010887443087995052, -0.0030599625315517187, -0.02275225706398487, 0.008745185099542141, -0.023275034502148628, -0.016501637175679207, -0.03645816072821617, 0.025661636143922806, -0.010233969427645206, -0.01628570631146431, 0.03493528440594673, -0.0005710793775506318, 0.026593545451760292, -0.015581090934574604, -0.028957417234778404, 0.0306394025683403, -0.005747728981077671, -0.022729527205228806, 0.004784565418958664, -0.017592653632164, 0.038617465645074844, 0.006665433757007122, -0.026639005169272423, -0.016047045588493347, 0.00019959366181865335, 0.03493528440594673, -0.03434431552886963, 0.004741947632282972, 0.0066938456147909164, -0.008256500586867332, 0.005415309686213732, -0.02923017181456089, -0.010091910138726234, 0.015001487918198109, -0.01972922869026661, 0.021672604605555534, -0.003111104015260935, -0.03161677345633507, 0.026070768013596535, 0.01148409303277731, 0.01031920500099659, -0.021581685170531273, 0.008023522794246674, -0.003662294941022992, 0.01583111472427845, -0.036139946430921555, -0.01947920396924019, 0.016012951731681824, -0.0003588779072742909, 0.005807394161820412, -0.029457466676831245, -0.026570817455649376, 0.024093298241496086, 0.00794396921992302, 0.011773894540965557, 0.011671612039208412, 0.02103617787361145, -0.017172157764434814, -0.028093695640563965, 0.021013448014855385, -0.01830863393843174, 0.021990817040205002, -0.0483684316277504, 0.01901324838399887, -0.04566361755132675, 0.00442373426631093, -0.017842678353190422, -0.02613895572721958, -0.028093695640563965, -0.02534342184662819, -0.00902930460870266, 0.01659255474805832, 0.0077223568223416805, 0.0005050216568633914, -0.010023721493780613, 0.0072904955595731735, 0.012876276858150959, 0.013955929316580296, 0.004202121403068304, 0.014808286912739277, -0.012251215055584908, -0.02109300158917904, -0.04161776229739189, 0.031639501452445984, 0.00880200881510973, -0.008103076368570328, -0.010023721493780613, -0.0074041434563696384, 0.003088374389335513, 0.02468426525592804, 0.007529155816882849, -0.0029832504224032164, -0.0033383993431925774, 0.00026955798966810107, 0.012637617066502571, -0.006489279679954052, -0.01100109051913023, 0.025320691987872124, -0.008148535154759884, 0.003969143610447645, 0.016672108322381973, 0.03223047032952309, 0.016115235164761543, 0.03425339609384537, -0.007182530593127012, 0.018388187512755394, -0.00983620248734951, 0.016092505306005478, 0.024570617824792862, -0.0033980642911046743, 0.004452146124094725, 0.024206945672631264, 0.020502032712101936, -0.02103617787361145, 0.02209310047328472, -0.0016748820198699832, -0.017001686617732048, -0.018899600952863693, 0.003406587755307555, -0.02468426525592804, 0.02679811231791973, 0.0495503693819046, 0.018876871094107628, -0.01679711975157261, 0.024047838523983955, 0.013342232443392277, 0.008398559875786304, -0.03336694464087486, 0.04323155805468559, 0.004810136277228594, 0.00043896399438381195, 0.0038611784111708403, 0.002623839769512415, -0.027320891618728638, 0.00109954085201025, 0.01861548237502575, 0.017513100057840347, 0.034117020666599274, -0.043822526931762695, -0.00026760465698316693, -0.025411611422896385, 0.0015314018819481134, -0.003162245498970151, -0.01416049525141716, -0.03604903072118759, -0.010802207514643669, -0.014876475557684898, -0.003395223058760166, 0.0022289142943918705, 0.021104365587234497, -5.691260230378248e-05, -0.0009091810788959265, -0.03311692178249359, -0.010591959580779076, -0.006591562647372484, 0.010472629219293594, -0.003983349539339542, -0.013842281885445118]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:54.345657", "url_path": "/api/pydantic_graph/graph/", "chunk_size": 3179}
updated_dt: 2025-03-15T11:17:54.347290
---
```
@asynccontextmanager
async defiter(
  self: Graph[StateT, DepsT, T],
  start_node: BaseNode[StateT, DepsT, T],
  *,
  history: list[HistoryStep[StateT, T]] | None = None,
  state: StateT = None,
  deps: DepsT = None,
  infer_name: bool = True,
  span: AbstractContextManager[Any] | None = None,
) -> AsyncIterator[GraphRun[StateT, DepsT, T]]:
"""A contextmanager which can be used to iterate over the graph's nodes as they are executed.
  This method returns a `GraphRun` object which can be used to async-iterate over the nodes of this `Graph` as
  they are executed. This is the API to use if you want to record or interact with the nodes as the graph
  execution unfolds.
  The `GraphRun` can also be used to manually drive the graph execution by calling
  [`GraphRun.next`][pydantic_graph.graph.GraphRun.next].
  The `GraphRun` provides access to the full run history, state, deps, and the final result of the run once
  it has completed.
  For more details, see the API documentation of [`GraphRun`][pydantic_graph.graph.GraphRun].
  Args:
    start_node: the first node to run. Since the graph definition doesn't define the entry point in the graph,
      you need to provide the starting node.
    history: The history of the graph run so far. If not provided, a new list will be created.
    state: The initial state of the graph.
    deps: The dependencies of the graph.
    infer_name: Whether to infer the graph name from the calling frame.
    span: The span to use for the graph run. If not provided, a new span will be created.
  Yields:
    A GraphRun that can be async iterated over to drive the graph to completion.
  """
  if infer_name and self.name is None:
    self._infer_name(inspect.currentframe())
  if self._auto_instrument and span is None:
    span = logfire_api.span('run graph {graph.name}', graph=self)
  with ExitStack() as stack:
    if span is not None:
      stack.enter_context(span)
    yield GraphRun[StateT, DepsT, T](
      self,
      start_node,
      history=history if history is not None else [],
      state=state,
      deps=deps,
      auto_instrument=self._auto_instrument,
    )

```
  
---|---  
####  run_sync
```
run_sync(
  start_node: BaseNode[](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.BaseNode "pydantic_graph.nodes.BaseNode")[StateT[](https://ai.pydantic.dev/api/pydantic_graph/state/#pydantic_graph.state.StateT "pydantic_graph.state.StateT"), DepsT[](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.DepsT "pydantic_graph.nodes.DepsT"), T],
  *,
  state: StateT[](https://ai.pydantic.dev/api/pydantic_graph/state/#pydantic_graph.state.StateT "pydantic_graph.state.StateT") = None,
  deps: DepsT[](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.DepsT "pydantic_graph.nodes.DepsT") = None,
  infer_name: bool[](https://docs.python.org/3/library/functions.html#bool) = True
) -> GraphRunResult[](https://ai.pydantic.dev/api/pydantic_graph/graph/#pydantic_graph.graph.GraphRunResult "pydantic_graph.graph.GraphRunResult")[StateT[](https://ai.pydantic.dev/api/pydantic_graph/state/#pydantic_graph.state.StateT "pydantic_graph.state.StateT"), T]