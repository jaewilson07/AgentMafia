---
url: https://ai.pydantic.dev/api/pydantic_graph/graph/
session_id: pydantic_ai_docs
chunk_number: 19
title: Graph Iteration Example using Pydantic
summary: This document chunk illustrates how to use the `never_42_graph.iter` method with the `Increment` class and a custom `MyState` object to track node states during an asynchronous graph traversal. The example includes two scenarios with different initial states, demonstrating how node transitions and state updates are captured and printed.
embedding: [0.0031923323404043913, 0.023610366508364677, -0.03609941899776459, -0.0792841911315918, 0.01430523581802845, 0.001905870041809976, 0.02264622040092945, -0.004893601406365633, 0.0036519833374768496, 0.05910439044237137, 0.03302760422229767, -0.022881651297211647, 0.018150608986616135, -0.033655423671007156, 0.015235749073326588, -0.021491486579179764, -0.0025406929198652506, 0.013924062252044678, 0.016782866790890694, 0.030942359939217567, 0.023969117552042007, -0.02111031301319599, 0.03874521702528, -0.0025911424309015274, -0.010897091589868069, 0.028588049113750458, -0.003640772309154272, -0.012959916144609451, -0.02091972529888153, 0.002825171919539571, 0.00829053483903408, -0.012119091115891933, -0.030740560963749886, -0.03692903369665146, 0.00747213140130043, -0.0003512196126393974, -0.0005416314234025776, 0.006580857094377279, 0.004974881187081337, 0.04446282610297203, 0.025561079382896423, -0.047131042927503586, 0.0036575887352228165, 0.024507245048880577, -0.016267161816358566, -0.004170491825789213, 0.028812270611524582, 0.03504558652639389, 0.047310419380664825, 0.06121205911040306, -0.052198417484760284, -0.014663987793028355, -0.016771655529737473, 0.0006887757917866111, -0.04879027232527733, 0.0004810219688806683, 0.005529825575649738, 0.01846451684832573, 0.00616044458001852, -0.029574617743492126, 0.04497853294014931, -0.014697620645165443, 0.01811697520315647, 0.04484400153160095, -0.03477652370929718, 0.03275854140520096, -0.009619037620723248, 0.02968672849237919, -0.024484824389219284, 0.003977102227509022, 0.00129627191927284, 0.04240000247955322, -0.005683977156877518, -0.02708577550947666, 0.0021931519731879234, 0.00891835056245327, 0.034350503236055374, 0.00820084661245346, 0.015246960334479809, -0.02672702446579933, 0.026928821578621864, -0.014607933349907398, 0.02760148234665394, 0.019226865842938423, 0.01665954664349556, -0.04293812811374664, -0.04645838215947151, -0.02780327945947647, 0.0068667372688651085, -0.052377790212631226, 0.04744495078921318, -0.0033997357822954655, -0.03152533248066902, 0.04383501037955284, 0.057265788316726685, 0.047220733016729355, 0.056458596140146255, 0.0014532258501276374, -0.03986631706357002, -0.016155051067471504, 0.023565521463751793, -0.007999048568308353, -0.03338635712862015, 0.020078901201486588, -0.0007987837307155132, 0.032646432518959045, -0.010885881260037422, 0.0733199417591095, -0.029014067724347115, -0.03432808071374893, -0.07914965599775314, -0.032265257090330124, 0.00756181962788105, 0.008520360104739666, -0.02744452841579914, -0.042332734912633896, -0.02426060475409031, -0.015516024082899094, 0.0024313856847584248, -0.01575145497918129, -0.013699841685593128, -0.009579799138009548, -0.016625912860035896, -0.0037080382462590933, 0.011199789121747017, 0.010196404531598091, -0.0038790060207247734, -0.022612586617469788, -0.012713273987174034, 0.01927170902490616, 0.015269381925463676, -0.04136858880519867, -0.010398202575743198, -0.013778318651020527, -0.018173031508922577, 0.02363278716802597, -0.06807319074869156, -0.00895758904516697, 0.0034866209607571363, 0.03574066609144211, -0.0006835206295363605, -0.04325203597545624, -0.022029614076018333, 0.03343120217323303, 0.047579482197761536, 0.07560698688030243, -0.07542760670185089, 0.04329688102006912, -0.009860074147582054, 0.012388154864311218, 0.07605542242527008, 0.02708577550947666, -0.00363236409612, 0.01982104778289795, 0.021211212500929832, -0.0201125331223011, -0.0072983610443770885, 0.006300582084804773, 0.02272469736635685, -0.002687837230041623, -0.02724272944033146, 0.03392448648810387, -0.020415231585502625, 0.0060707563534379005, -0.023655209690332413, -0.031458064913749695, -0.021143946796655655, -0.017354628071188927, -0.01974257081747055, -0.04789339005947113, 0.025942254811525345, -0.020034056156873703, -0.04825214296579361, 0.03231010213494301, 0.022836806252598763, -0.012242412194609642, -0.06636911630630493, 0.0026191698852926493, 0.003338075242936611, -0.001269645756110549, 0.0030073507223278284, -0.04284844174981117, -0.06529286503791809, 0.02923828735947609, -0.05587562546133995, 0.02762390300631523, 0.0545303039252758, -0.02282559499144554, -0.028453517705202103, -0.0032932311296463013, -0.017444316297769547, 0.05417155101895332, -0.0034641989041119814, 0.017354628071188927, 0.004419936798512936, -0.035180117934942245, 0.09363427013158798, 0.02533685974776745, 0.04515790939331055, 0.04192914068698883, -0.033363934606313705, 0.023341301828622818, 0.011199789121747017, -0.010600000619888306, 0.045135486871004105, -0.02526959404349327, 0.002127287210896611, -0.05731063336133957, -0.030314544215798378, -0.0015569275710731745, 0.017769435420632362, 0.0015877578407526016, 0.010000212118029594, -0.0023837387561798096, 0.00023998547112569213, 0.009142570197582245, -0.05080825090408325, 0.00900803878903389, 0.05650344118475914, 0.03822951018810272, -0.02010132372379303, 0.009316341020166874, -0.021760551258921623, 0.029036490246653557, 0.05977705121040344, 0.04446282610297203, -0.014776097610592842, -0.03275854140520096, 0.009131359867751598, 0.058521419763565063, -0.02255653217434883, -0.021670863032341003, -0.013811951503157616, -0.019484717398881912, -0.005908196792006493, -0.04426102712750435, -0.004809518810361624, -0.020863670855760574, 0.025830144062638283, -0.04125647991895676, -0.052646856755018234, 0.018128186464309692, -0.015516024082899094, 0.005126229953020811, 0.05161544308066368, 0.011351137422025204, -0.005706398747861385, -0.014776097610592842, 0.0076010581105947495, 0.03840888664126396, 0.011524908244609833, -0.024058805778622627, -0.0256283450871706, -0.02062823995947838, -0.013699841685593128, -0.019596828147768974, 0.01728736236691475, 0.0039014280773699284, 0.012477843090891838, 0.004750661086291075, 0.026592491194605827, -0.003640772309154272, -0.044687047600746155, 0.011939714662730694, -0.023430990055203438, -0.0024916448164731264, 0.03405901789665222, 0.0002771219005808234, 0.014686410315334797, -0.06071877479553223, 0.017085563391447067, 0.03648059442639351, 0.006990058347582817, -0.013654997572302818, -0.006995663978159428, -0.023744897916913033, 0.011182972230017185, 0.03289307281374931, -0.004352670628577471, -0.052108727395534515, 0.033655423671007156, 0.05179481953382492, 0.03078540600836277, 0.05533749610185623, -0.004279799293726683, 0.01290386077016592, -0.019305342808365822, 0.032287679612636566, 0.025830144062638283, 0.006177261006087065, 0.02307223714888096, 0.02273590862751007, 0.037085987627506256, 0.031368378549814224, 0.025583501905202866, -0.05062887445092201, 0.021491486579179764, 0.02218656800687313, 0.026278583332896233, -0.03596488758921623, -0.008632469922304153, -0.03343120217323303, -0.04488884285092354, -0.006081967614591122, -0.011793971993029118, 0.015527235344052315, -0.017993655055761337, -0.01439492404460907, 0.006603279151022434, 0.014024960808455944, -0.017085563391447067, 0.0488799586892128, -0.018699947744607925, 0.02491084113717079, 0.00090809102403, 0.007371232379227877, 0.08112279325723648, -0.017634902149438858, 0.015258170664310455, -0.047400109469890594, 0.0033997357822954655, -0.07784918695688248, 0.06681755930185318, 0.047489795833826065, -0.01883447915315628, 0.02870015986263752, 0.017354628071188927, -0.0019409044180065393, -0.0016858541639521718, -0.006653728429228067, -0.009265891276299953, -0.035090431571006775, -0.023610366508364677, 0.012769329361617565, 0.02988852560520172, -0.039888739585876465, -0.0011722501367330551, 0.033363934606313705, 0.06502380222082138, 0.051301535218954086, -0.048207301646471024, -0.0109139084815979, -0.007533791940659285, -0.003963088616728783, -0.017186462879180908, 0.03542675822973251, -0.018150608986616135, -0.00063377182232216, -0.019238075241446495, 0.007169434335082769, 0.06560677289962769, -0.0008751587010920048, 0.01452945638448, 0.05932861194014549, -0.01782548986375332, 0.004560074303299189, 0.018307562917470932, 0.00887350644916296, -0.020146166905760765, 0.016188684850931168, -0.060629088431596756, -0.006076361984014511, 0.007573030423372984, 0.013811951503157616, -0.042960550636053085, -0.011267054826021194, -0.012702062726020813, 0.030830249190330505, 0.028745003044605255, 0.05704156681895256, 0.08300624042749405, 0.036054577678442, 0.03224283456802368, 0.0013074828311800957, 0.0005006412393413484, -0.01299354899674654, 0.005305605940520763, 0.010678477585315704, 0.021670863032341003, 0.03793802484869957, -0.005941830109804869, 0.034798942506313324, 0.027780858799815178, -0.01975378207862377, 0.00624452717602253, 0.029036490246653557, -0.004938445519655943, -0.0043470654636621475, -0.03782591223716736, 0.02762390300631523, 0.04551665857434273, -0.05488905683159828, -0.0052831838838756084, 0.01153611857444048, -0.015818720683455467, -0.01975378207862377, -0.024843575432896614, 0.01800486631691456, 0.03565097972750664, 0.035628557205200195, -0.007018086034804583, 0.01819545216858387, -0.029731571674346924, 0.00508979381993413, 0.011917293071746826, 0.01955198310315609, 0.0548442117869854, -0.001947911223396659, 0.0017180857248604298, 0.05578593537211418, 0.019585616886615753, 0.03464198857545853, 0.0030578002333641052, -0.06251253932714462, -0.02300497144460678, -0.024933263659477234, -0.013273824006319046, -0.03042665310204029, 0.00514024356380105, 0.044507671147584915, 0.003253992646932602, -0.08834268152713776, -0.010891486890614033, -0.017455527558922768, 0.019327763468027115, 0.027758436277508736, 0.011076468043029308, -0.06928397715091705, 0.011149339377880096, -0.05004590377211571, 0.03923850134015083, 0.022253835573792458, 0.023924274370074272, 0.027309995144605637, 0.038453731685876846, 0.01964167132973671, 0.004052776377648115, -0.017040720209479332, 0.016502592712640762, -0.033812377601861954, 0.03347604721784592, -0.03174955025315285, 0.015213326551020145, 0.023655209690332413, -0.03349846601486206, -0.029193444177508354, -0.041144371032714844, -0.05197419598698616, -0.0032063459511846304, -0.025112640112638474, 0.019978001713752747, 0.006692966911941767, -0.04163765534758568, -0.02491084113717079, -0.05910439044237137, 0.010353358462452888, 0.08210936188697815, -0.01082422025501728, 0.03775864839553833, -0.021222423762083054, 0.007410470861941576, 0.0009298123186454177, -0.008447488769888878, 0.015224537812173367, 0.01497789565473795, 0.04448524862527847, 0.04208609461784363, -0.004344262648373842, 0.00836901180446148, 0.023655209690332413, 0.037893179804086685, -0.03495589643716812, -0.007046113256365061, 0.032197993248701096, 0.014663987793028355, 0.01290386077016592, 0.008464304730296135, 0.04354352504014969, 0.022612586617469788, 0.012186356820166111, -0.05390248820185661, -0.012511475943028927, 0.024193337187170982, 0.0115473298355937, 0.02688397839665413, -0.014237970113754272, -0.0038818088360130787, -0.03168228641152382, -0.02291528321802616, 0.023587943986058235, -0.028005078434944153, 0.01248905435204506, 0.01972014829516411, -0.009579799138009548, 0.035628557205200195, 0.0031839238945394754, -0.037085987627506256, -0.029081333428621292, 0.0007539397338405252, -0.023857008665800095, -0.03782591223716736, -0.008677314035594463, -0.022108091041445732, 0.029103755950927734, -0.0077187735587358475, -0.0885220542550087, 0.022208990529179573, 0.011614595539867878, 0.03446261212229729, 0.008901533670723438, -0.008413855917751789, 0.005193495657294989, 0.036076996475458145, -0.013845585286617279, -0.0021160761825740337, 0.014069804921746254, 0.0005798189085908234, 0.009075304493308067, -0.003195134922862053, -0.014428556896746159, -0.030718140304088593, -0.026659758761525154, -0.004442358855158091, -0.03125626966357231, 0.003018561750650406, -9.494315600022674e-05, 0.06610005348920822, -0.044216182082891464, 0.025852566584944725, 0.0070405080914497375, 0.005622316617518663, 0.02372247539460659, -0.0015569275710731745, 0.0396420955657959, -0.051480911672115326, 0.009125754237174988, -0.016166262328624725, -0.028991645202040672, -0.023386145010590553, -0.007444104179739952, 0.004178900271654129, 0.03195134922862053, 0.003677207976579666, -0.013980116695165634, -0.021569963544607162, 0.009484506212174892, 0.04363321140408516, -0.05094278231263161, 0.017522793263196945, 0.014069804921746254, 0.013868006877601147, 0.007494553457945585, -0.013733474537730217, -0.061884719878435135, -0.002582734217867255, 0.001068548415787518, -0.019081121310591698, -0.008699735626578331, -0.0012093866243958473, 0.010706504806876183, -0.004296615719795227, -0.02417091652750969, 0.04013537988066673, 0.029171021655201912, -0.01023003738373518, 0.07071898877620697, 0.01380074117332697, -0.048566050827503204, -0.040068112313747406, 0.007528186310082674, -0.005370068829506636, -0.0035707035567611456, 0.0012626388343051076, -0.00814479123800993, 0.00747213140130043, -0.034350503236055374, -0.006250132340937853, 1.9126578990835696e-05, -0.004063987638801336, 0.022668641060590744, -0.03587520122528076, -0.045314863324165344, 0.006429508328437805, -0.020415231585502625, -0.010740137659013271, 0.04410407319664955, -0.011603385210037231, 0.008576414547860622, 0.0029064517002552748, -0.023655209690332413, -0.009703120216727257, 0.004618932027369738, 0.02408122830092907, -0.004927234258502722, -0.028094766661524773, -0.002407562220469117, -0.0032343734055757523, -0.02081882767379284, -0.08013622462749481, 0.02733241766691208, 0.028005078434944153, 0.012163935229182243, -0.015885986387729645, 0.029283132404088974, 0.014428556896746159, -0.0071470122784376144, 0.021480275318026543, 0.014316447079181671, -0.047758858650922775, -0.0004621034022420645, -0.03275854140520096, -0.02417091652750969, -0.009086515754461288, -0.014237970113754272, -0.04080804064869881, 0.029731571674346924, -0.02553865872323513, 0.03396933153271675, 0.06578614562749863, -0.04139101132750511, 0.03161501884460449, 0.03701872006058693, 0.010375780053436756, -0.02135695517063141, -0.02706335298717022, -0.019350185990333557, -0.022422000765800476, 0.022747118026018143, -0.04210851714015007, -0.0027382867410779, -0.03950756415724754, 0.005423321388661861, 0.02751179412007332, 0.003122263588011265, -0.04843151941895485, 0.002141301054507494, -0.030987203121185303, -0.016794078052043915, -0.0007448308169841766, 0.0009312136680819094, 0.05331951752305031, 0.0038818088360130787, -0.04852120950818062, -0.00021843932336196303, 0.006692966911941767, 0.015695400536060333, 0.0297988373786211, 0.02744452841579914, 0.019608039408922195, -0.019686516374349594, -0.02108789049088955, 0.0015331042231991887, 0.016962243244051933, 0.0065864622592926025, 0.0030437863897532225, -0.019989212974905968, 0.0041508725844323635, -0.049014490097761154, -0.027556637302041054, -0.0230946596711874, -0.0024510049261152744, 0.026323428377509117, -0.021525120362639427, -0.00548217911273241, -0.04136858880519867, 0.014652776531875134, 0.018800847232341766, 0.01574024371802807, 0.03520254045724869, 0.030381809920072556, -0.03302760422229767, -0.015291803516447544, 0.04354352504014969, 0.013486833311617374, -0.017152829095721245, 0.008436277508735657, 0.0027144632767885923, -0.037893179804086685, -0.008380222134292126, 0.006177261006087065, -0.02244442142546177, -0.00390423065982759, -0.022960128262639046, 0.05009074881672859, 0.041054680943489075, -0.020404020324349403, -0.015975674614310265, -0.011070862412452698, 0.00883426796644926, 0.000327045883750543, -0.022747118026018143, 0.023498255759477615, -0.01729857362806797, 0.003993918653577566, -0.010005817748606205, 0.0025280804838985205, 0.00518508767709136, 0.014069804921746254, 0.007113379426300526, -0.06412691622972488, 0.005891380365937948, 0.019338974729180336, -0.013273824006319046, 0.023789741098880768, -0.004719831049442291, -0.02264622040092945, -0.006648122798651457, 0.031189002096652985, -0.004013537894934416, -0.006513590924441814, -0.0029793232679367065, 0.02580772154033184, -0.026906399056315422, 0.02109910175204277, -0.032018616795539856, -0.019215654581785202, 0.030202433466911316, -0.0024439978878945112, 0.001413987367413938, -0.016962243244051933, -0.008352194912731647, 0.0065864622592926025, -0.002701851073652506, -0.021760551258921623, -0.008907139301300049, -0.02017980068922043, -0.019507139921188354, 0.015908408910036087, -0.0026626125909388065, -0.01308323722332716, -0.010493495501577854, -0.01901385560631752, -0.0151236392557621, -0.0020207827910780907, -0.019529562443494797, 0.015179693698883057, -0.030830249190330505, 0.003929455298930407, -0.02226504683494568, 0.022287467494606972, -0.03614426404237747, 0.007825277745723724, -0.006950819864869118, -0.020392809063196182, 0.018251508474349976, -0.02180539444088936, -0.005535431206226349, 0.013688631355762482, -0.015639344230294228, 0.00891835056245327, -0.07157102227210999, 0.005731623619794846, -0.0077187735587358475, 0.005669963080435991, 0.022578954696655273, 0.033991750329732895, 0.0021258858032524586, 0.008481121622025967, -0.010336541570723057, 0.02154754102230072, -0.04266906529664993, -0.0007756610866636038, -0.02798265591263771, 0.013341089710593224, -0.005902591627091169, -0.00615483894944191, -0.002267424715682864, -0.0008730566478334367, -0.007292755413800478, 0.0070068747736513615, -0.030112745240330696, 0.017489159479737282, -0.0036351666785776615, 0.01755642518401146, 0.037063565105199814, -0.016177473589777946, 0.06923913210630417, -0.01357652060687542, 0.027466949075460434, -0.01701829768717289, 0.009983395226299763, 0.019137177616357803, 0.020213432610034943, 0.01737705059349537, 0.03928334265947342, 0.005294394679367542, -0.011883660219609737, -0.030449075624346733, -0.03574066609144211, -0.0004410827823448926, -0.05596531182527542, -0.04605478793382645, 0.019764993339776993, 0.027197886258363724, -0.01784791238605976, -0.005213114898651838, -0.009518139064311981, -0.09071940928697586, 0.013094447553157806, 0.040382020175457, -0.01308323722332716, 0.02482115477323532, -0.0003144335059914738, 2.0308989405748434e-05, -0.03105447068810463, 0.023408567532896996, -0.016962243244051933, -0.024933263659477234, -0.0380052886903286, -0.037691380828619, -0.025561079382896423, 0.03006790205836296, 0.009069698862731457, -0.006323004141449928, -0.0007129495497792959, 0.03356573358178139, -0.031637441366910934, 0.005639133043587208, 0.008817451074719429, -0.020482497289776802, -0.0006372752832248807, 0.011384770274162292, 0.008582020178437233, 0.007707562297582626, -0.0019324960885569453, -0.008593231439590454, 0.01974257081747055, 0.0024341882672160864, -0.056099843233823776, -0.011395981535315514, -0.005232734140008688, -0.0020978583488613367, 0.03840888664126396, 0.020874882116913795, 0.0402250662446022, 0.040157802402973175, 0.013329879380762577, -0.023655209690332413, -0.036368485540151596, 0.003478212747722864, -0.010258064605295658, 0.02517990581691265, 0.012769329361617565, -0.021962348371744156, 0.005779270548373461, -0.017455527558922768, -0.025740455836057663, -0.0024720255751162767, 0.008127975277602673, -0.019978001713752747, -0.017175251618027687, 0.07583120465278625, 0.040695928037166595, -0.024036383256316185, -0.013520466163754463, 0.010897091589868069, 0.025762878358364105, 0.010588789358735085, 0.030023057013750076, -0.00545695424079895, -0.0022351930383592844, -0.0032147541642189026, -0.0025589107535779476, 0.026301005855202675, -0.028901956975460052, -0.013610154390335083, -0.01367742009460926, 0.01800486631691456, 0.001978741493076086, 0.0010384188499301672, -0.03648059442639351, 0.009310735389590263, 0.02717546373605728, -0.00892395619302988, 0.004125648178160191, 3.3304553653579205e-05, -0.008537176065146923, -0.0020712323021143675, -0.004997303243726492, 0.028094766661524773, 0.02544897049665451, 0.010695293545722961, -0.018453305587172508, 0.0011414199834689498, -0.00887911207973957, -0.009826441295444965, -0.005745637696236372, -0.028901956975460052, -0.017231306061148643, 0.03269127756357193, -0.020392809063196182, -0.03385721892118454, -0.022399578243494034, 0.016827711835503578, 0.002051613060757518, 9.117696026805788e-05, -0.004024749156087637, 0.007225489243865013, 0.027646325528621674, 0.023027393966913223, 0.021054258570075035, -0.03235494717955589, 0.031839240342378616, 0.024327870458364487, -0.011317504569888115, -0.032018616795539856, 0.0026584083680063486, -0.002809756901115179, -0.0003724154084920883, -0.02372247539460659, -0.017522793263196945, -0.0313011109828949, 0.008845479227602482, 0.025404125452041626, -0.030650874599814415, -0.03280338644981384, -0.012657218612730503, -0.013307456858456135, 0.028049921616911888, -0.002557509345933795, 0.015347858890891075, -0.02102062478661537, 0.018173031508922577, 0.0009697515051811934, -0.00891835056245327, -0.012477843090891838, 0.011278266087174416, 0.028901956975460052, 0.031547755002975464, -0.0205609742552042, 0.04383501037955284, 0.009916129522025585, -0.022478055208921432, 0.02688397839665413, -0.015235749073326588, -0.007802856154739857, -0.013397145085036755, 0.004321840591728687, -0.040785618126392365, 0.045852988958358765, -0.02316192537546158, -0.014551877975463867, 0.004274193663150072, 0.012746906839311123, -0.03165986388921738, -0.023117082193493843, 0.024215759709477425, -0.005022528115659952, 0.012612374499440193, 0.03087509423494339, 0.01656985841691494, -0.02199598215520382, 0.038520995527505875, -0.01791517809033394, -0.01177155040204525, -0.02164844051003456, 0.015303014777600765, 0.0001613333006389439, 0.026861555874347687, -0.005137440748512745, -0.004882390610873699, 0.021670863032341003, -0.027040932327508926, -0.010196404531598091, -0.00543172936886549, -0.019215654581785202, -0.026413116604089737, -0.024507245048880577, 0.035897620022296906, 0.015729032456874847, 0.051391225308179855, 0.03648059442639351, 0.04100983962416649, 0.044417981058359146, 0.010291698388755322, -0.019854681566357613, 0.03641332685947418, 0.003898625262081623, 0.03885732591152191, 0.02843109518289566, 0.02515748329460621, 0.029193444177508354, -0.025852566584944725, -0.005288789048790932, 0.013352300971746445, -0.010678477585315704, 0.017881544306874275, 0.022612586617469788, 0.028946802020072937, -0.015885986387729645, 0.04089772701263428, 0.012556320056319237, 0.01312808133661747, 0.017511582002043724, -0.0025911424309015274, 0.004019143525511026, -0.005030936095863581, -0.017276151105761528, 0.045314863324165344, -0.022052036598324776, -0.03533707186579704, 0.008352194912731647, 0.056996725499629974, -0.0007294156821444631, -0.006720994599163532, -0.04995621740818024, 0.029126178473234177, -0.002033395227044821, -0.014843364246189594, 0.01236573327332735, 0.0030606030486524105, -0.026637336239218712, -0.0010209017200395465, -0.007786039263010025, -0.021771762520074844, -0.015706611797213554, -0.011166156269609928, -0.019787413999438286, -0.029395241290330887, -0.009876891039311886, -0.012006981298327446, -0.040987417101860046, 0.012915072031319141, -0.026278583332896233, -0.0017839503707364202, 0.018419673666357994, -0.0102804871276021, -0.013352300971746445, 0.014103437773883343, -0.03551644831895828, -0.007959810085594654, 0.02065066248178482, -0.008167213760316372, 0.033453624695539474, -0.008671708405017853, 0.0048879957757890224, 0.0011834611650556326, -0.03849857300519943, 0.013228979893028736, -0.027220308780670166, 0.00035192028735764325, 0.016502592712640762, 0.014159493148326874, -0.013464410789310932, 0.028857113793492317, 0.015224537812173367, 0.0090136444196105, -0.0274221058934927, -0.005403702147305012, -0.012006981298327446, -0.010717716068029404, -0.029395241290330887, -0.013307456858456135, 0.013845585286617279, -0.003469804534688592, -0.015527235344052315, 0.02263500913977623, -0.013823162764310837, 0.029283132404088974, -0.015157272107899189, -0.011261449195444584, -0.0034894237760454416, -0.015090005472302437, -0.014742464758455753, -0.0020432048477232456, 0.028094766661524773, 0.06627943366765976, -0.007814067415893078, 0.015045162290334702, 0.02263500913977623, 0.01728736236691475, -0.015975674614310265, -0.00742728728801012, -0.03659270331263542, -0.01611020602285862, -0.0024187732487916946, -0.007326388265937567, -0.007612268906086683, 0.004958064761012793, -0.006311792880296707, 0.016009308397769928, 0.008346589282155037, 0.006939609069377184, -0.01964167132973671, -0.04336414858698845, -0.03033696673810482, 0.02154754102230072, 0.040516555309295654, 0.0001557278010295704, 0.0070405080914497375, -0.005510206334292889, 0.01656985841691494, 0.010342147201299667, 0.02580772154033184, -0.0019815443083643913, -0.0008359201601706445, -0.04011295735836029, -0.005524220410734415, 0.0006719593075104058, -0.03609941899776459, -0.016995875164866447, 0.008161608129739761, -0.004590904340147972, -0.00240896362811327, -0.0479830801486969, -0.02461935579776764, 0.02171570621430874, -0.012623585760593414, -0.002268826123327017, -0.021323321387171745, 0.012343310751020908, 0.01502273976802826, 0.046682603657245636, 0.00010203761485172436, 0.0014518244424834847, -0.049776840955019, 0.036884188652038574, -0.03899185732007027, 0.012085458263754845, 0.003943469375371933, 0.008699735626578331, -0.018531782552599907, -0.004080804064869881, 0.00545695424079895, 0.004201322328299284, 0.03592004254460335, -0.025695612654089928, -0.01443976815789938, 0.03717567399144173, 0.011211000382900238, 0.034103862941265106, -0.009249075315892696, 0.014204337261617184, -0.009406029246747494, 0.0013635378563776612, -0.0014560286654159427, -0.008318562060594559, 0.01791517809033394, -0.017791856080293655, -0.031076891347765923, 0.012466631829738617, 0.0068891593255102634, -0.006395875476300716, -0.025381704792380333, -0.023229191079735756, 0.01800486631691456, 0.027915390208363533, 0.06403723359107971, 0.02047128602862358, -0.02464177832007408, 0.02226504683494568, -0.003991115838289261, -0.014865785837173462, -0.006670544855296612, -0.015224537812173367, 0.004330248571932316, -0.05094278231263161, -0.022029614076018333, 0.00354267586953938, -0.02417091652750969, 0.01775822415947914, 0.011334320530295372, -0.0012969725066795945, 0.0011813591700047255, 0.007303966674953699, 0.0015162877971306443, 0.012937493622303009, 0.04244484752416611, 0.0488799586892128, 0.00946768932044506, -0.006816287990659475, 0.016715601086616516, -0.0017615283140912652, 0.006821893621236086, -0.009624643251299858, 0.017724590376019478, 0.03737747296690941, -0.009282708168029785, -0.036637548357248306, 0.008755791001021862, -0.003618350252509117, -0.034821365028619766, 0.03701872006058693, 0.003452987875789404, -0.023587943986058235, 0.006704178173094988, 0.05520296469330788, 0.031637441366910934, 0.009899312630295753, -0.008251296356320381, -0.01565055549144745, 0.015280593186616898, -0.00047611715854145586, 0.02571803331375122, -0.003360497299581766, 0.017780646681785583, -0.013228979893028736, 0.01557207852602005, -0.0030325755942612886, 0.0260767862200737, -0.009136964567005634, 0.010986779816448689, -0.02959704026579857, 0.02090851403772831, 0.0661448985338211, 0.0001115844861487858, 0.025673190131783485, -0.014181914739310741, 0.006973241921514273, 0.028946802020072937, 0.01775822415947914, -0.02237715572118759, -0.025852566584944725, -0.017903966829180717, -0.008750185370445251, -0.013172924518585205, 0.007057324517518282, -0.013744685798883438, 0.007034902460873127, -0.008178424090147018, 0.007399260066449642, 0.004916023463010788, 0.002610761672258377, -0.002982126083225012, -0.0021637228783220053, 0.02988852560520172, 0.05269169807434082, 0.020404020324349403, -0.01452945638448, -0.04132374748587608, 0.013789529912173748, -0.02108789049088955, -0.0015232946025207639, 0.022892862558364868, 0.014237970113754272, 0.018453305587172508, 0.030404232442378998, 0.02708577550947666, 0.022780751809477806, -0.0019268905743956566, -0.010112321935594082, 0.01856541633605957, -0.005078583024442196, -0.01864389330148697, -0.0066088843159377575, -0.06506864726543427, 0.0011722501367330551, 0.030807828530669212, 0.02237715572118759, -0.0008022871916182339, 0.005625119432806969, 0.02316192537546158, 0.028745003044605255, 0.018240297213196754, 0.006278160028159618, -0.044216182082891464, 0.013015970587730408, -0.027466949075460434, 0.01236573327332735, -0.017410682514309883, -0.02688397839665413, 0.011827604845166206, -0.002348704496398568, -0.02952977456152439, -0.02952977456152439, -0.026951244100928307, -0.0038257536944001913, 0.018128186464309692, -0.019675305113196373, 0.028005078434944153, -0.01100920233875513, 0.028812270611524582, 0.0115473298355937, 0.013890429399907589, -0.018419673666357994, 0.002006768947467208, -0.03715325519442558, -0.022108091041445732, 0.027736013755202293, 0.00620528869330883, -0.00413966178894043, 0.022074459120631218, 0.017881544306874275, 0.004983289632946253, -0.005583078134804964, -0.01366620883345604, -0.021939927712082863, -0.021312110126018524, 0.047086201608181, -0.006222105119377375, -0.00576805928722024, 0.023430990055203438, -0.007118985056877136, 0.0272651519626379, 0.016872555017471313, 0.022388366982340813, 0.03627879545092583, -0.010656055063009262, -0.011126917786896229, -0.012971127405762672, 0.020673083141446114, -0.001838603988289833, -0.051749974489212036, 0.013285035267472267, 0.008374616503715515, -0.0021328928414732218, -0.03060602955520153, -0.01367742009460926, -0.002127287210896611, 0.02526959404349327, -0.022578954696655273, 0.005364463664591312, 0.02762390300631523, -0.027309995144605637, 0.003640772309154272, 0.010897091589868069, -0.012668429873883724, 0.039529986679553986, 0.009439662098884583, 0.0311441570520401, -0.006362242624163628, 0.010695293545722961, -0.005936224479228258, -0.00404997356235981, -0.030830249190330505, 0.007539397571235895, 0.007444104179739952, -0.026099208742380142, -0.0010790587402880192, 0.017186462879180908, 0.017903966829180717, 0.01031411997973919, -0.018901746720075607, 0.008632469922304153, -0.01711919717490673, -0.0006646020920015872, -0.007191856391727924, 0.012825383804738522, -0.02905891276896, -0.026390694081783295, 0.004815124440938234, -0.024933263659477234, 0.05403701961040497, 0.02020222134888172, -0.010835431516170502, 0.00511501869186759, 0.03778107091784477, 0.0059530409052968025, -0.04035960137844086, -0.02000042423605919, 0.026188895106315613, 0.017545215785503387, 0.027915390208363533, -0.02272469736635685, 0.02672702446579933, -0.014338868670165539, -0.016726812347769737, 0.0005917305825278163, -0.006810682360082865, 0.0005164066678844392, -0.03737747296690941, 0.020785193890333176, 0.012500264681875706, -0.004512427374720573, 0.003890217049047351, 0.046234164386987686, -0.006395875476300716, -0.02053855173289776, -0.013352300971746445, 0.018184242770075798, -0.01783670112490654, -0.015729032456874847, -0.022870440036058426, 8.215560956159607e-05, 0.005751242861151695, -0.028117187321186066, 0.006227710284292698, 0.015437547117471695, -0.022859228774905205, -0.012500264681875706, 0.005330830346792936, 0.017444316297769547, -0.029933370649814606, -0.0030381809920072556, -0.03773622587323189, 0.04011295735836029, -0.0188456904143095, 0.00873897410929203, 0.04219820350408554, 0.01507879514247179, 0.010415018536150455, -0.011749127879738808, -0.028274141252040863, 0.021962348371744156, -0.006592067889869213, -0.014406135305762291, 0.010650450363755226, 0.026054363697767258, 0.015527235344052315, 0.01104283519089222, -0.023386145010590553, -0.01439492404460907, 0.010061872191727161, 0.030000636354088783, -0.011737916618585587, 0.02461935579776764, 0.011065256781876087, -0.014282814227044582, 0.006687361281365156, -0.0369514562189579, 0.008408250287175179, 0.031166579574346542, -0.0396420955657959, 0.01855420507490635, 0.009209836833178997, -0.04361078888177872, 0.014428556896746159, -0.004498413763940334, 0.0008289132965728641, -0.019451085478067398, -0.001793759991414845, -0.005919408053159714, -0.0008050899486988783, -0.03280338644981384, -0.010756954550743103, 0.013778318651020527, -0.026861555874347687, 0.009142570197582245, -0.010168377310037613, -0.013116870075464249, 0.003256795462220907, 0.0016326018376275897, 0.008671708405017853, 0.015359070152044296, 0.017948810011148453, -0.005246747750788927, -0.007752406410872936, 0.02479873225092888, -0.016536224633455276, 0.021334532648324966, -0.030224855989217758, -0.0005297197494655848, -0.025022951886057854, 0.011468852870166302, -0.015628134831786156, 0.018329985439777374, 0.004419936798512936, -0.038072556257247925, 0.00576805928722024, -0.015684189274907112, 0.005751242861151695, 0.003307244973257184, 0.024462401866912842, 0.010762560181319714, 0.016278371214866638, 0.014148281887173653, -0.003321258816868067, 0.008458699099719524, 0.01673802360892296, -0.013352300971746445, -0.023206770420074463, 0.030359387397766113, -0.002692041452974081, -0.014832152985036373, -0.022029614076018333, 1.1561343853827566e-05, 0.010202010162174702, 0.005358858034014702, 0.01090830285102129, -0.015347858890891075, -0.0013369116932153702, -0.002128688618540764, 0.03542675822973251, -0.018520571291446686, 0.0029793232679367065, 0.02244442142546177, -0.0037781069986522198, 0.014271602965891361, 0.0244399793446064, 0.04237757995724678, 0.0067490218207240105, 0.009972184896469116, -0.02661491371691227, 0.004363881889730692, -0.013823162764310837, 0.0017559229163452983, 0.015549656935036182, -0.010577578097581863, 0.010706504806876183, 0.0151236392557621, 0.005846536252647638, -0.005392490886151791, 0.02153633162379265, 0.006177261006087065, -0.019395029172301292, -0.013699841685593128, 0.021513909101486206, -0.009327552281320095, -0.0018189847469329834, 0.023946695029735565, 0.041794609278440475, 0.02372247539460659, 0.03179439529776573, 0.004246166441589594, 0.0018189847469329834, 0.0020978583488613367, 0.042512111365795135, -0.020224643871188164, 0.007954204455018044, 0.029193444177508354, -0.021951137110590935, -0.03569582477211952, -0.012343310751020908, 0.025964675471186638, 0.012130302377045155, 0.03739989548921585, -0.020717928186058998, 0.005692385137081146, -0.027489371597766876, 0.011625806801021099, 0.021861450746655464, -0.01168186217546463, -0.058162666857242584, 0.0013971708249300718, -0.013520466163754463, -0.0096470657736063, -0.0075562139973044395, 0.013968906365334988, -0.022500477731227875, -0.014619143679738045, -0.021323321387171745, -0.011278266087174416, 0.013890429399907589, -0.009579799138009548, -0.023677632212638855, -0.007326388265937567]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-14T10:14:55.072517", "url_path": "/api/pydantic_graph/graph/", "chunk_size": 3609}
updated_dt: 2025-03-14T10:14:55.074064
---
```
fromcopyimport deepcopy
fromnever_42import Increment, MyState, never_42_graph
async defmain():
  state = MyState(1)
  async with never_42_graph.iter(Increment(), state=state) as graph_run:
    node_states = [(graph_run.next_node, deepcopy(graph_run.state))]
    async for node in graph_run:
      node_states.append((node, deepcopy(graph_run.state)))
    print(node_states)
'''
    [
      (Increment(), MyState(number=1)),
      (Check42(), MyState(number=2)),
      (End(data=2), MyState(number=2)),
    ]
    '''
  state = MyState(41)
  async with never_42_graph.iter(Increment(), state=state) as graph_run:
    node_states = [(graph_run.next_node, deepcopy(graph_run.state))]
    async for node in graph_run:
      node_states.append((node, deepcopy(graph_run.state)))
    print(node_states)
'''
    [
      (Increment(), MyState(number=41)),
      (Check42(), MyState(number=42)),
      (Increment(), MyState(number=42)),
      (Check42(), MyState(number=43)),
      (End(data=43), MyState(number=43)),
    ]
    '''

```

See the [`GraphRun.next` documentation](https://ai.pydantic.dev/api/pydantic_graph/graph/#pydantic_graph.graph.GraphRun.next) for an example of how to manually drive the graph run.
Source code in `pydantic_graph/pydantic_graph/graph.py`
```
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
```
| ```
classGraphRun(Generic[StateT, DepsT, RunEndT]):
"""A stateful, async-iterable run of a [`Graph`][pydantic_graph.graph.Graph].
  You typically get a `GraphRun` instance from calling
  `async with [my_graph.iter(...)][pydantic_graph.graph.Graph.iter] as graph_run:`. That gives you the ability to iterate
  through nodes as they run, either by `async for` iteration or by repeatedly calling `.next(...)`.
  Here's an example of iterating over the graph from [above][pydantic_graph.graph.Graph]:
  ```py {title="iter_never_42.py" noqa="I001" py="3.10"}
  from copy import deepcopy
  from never_42 import Increment, MyState, never_42_graph
  async def main():
    state = MyState(1)
    async with never_42_graph.iter(Increment(), state=state) as graph_run:
      node_states = [(graph_run.next_node, deepcopy(graph_run.state))]
      async for node in graph_run:
        node_states.append((node, deepcopy(graph_run.state)))
      print(node_states)
      '''
      [
        (Increment(), MyState(number=1)),
        (Check42(), MyState(number=2)),
        (End(data=2), MyState(number=2)),
      ]
      '''
    state = MyState(41)
    async with never_42_graph.iter(Increment(), state=state) as graph_run:
      node_states = [(graph_run.next_node, deepcopy(graph_run.state))]
      async for node in graph_run:
        node_states.append((node, deepcopy(graph_run.state)))
      print(node_states)
      '''
      [
        (Increment(), MyState(number=41)),
        (Check42(), MyState(number=42)),
        (Increment(), MyState(number=42)),
        (Check42(), MyState(number=43)),
        (End(data=43), MyState(number=43)),
      ]
      '''