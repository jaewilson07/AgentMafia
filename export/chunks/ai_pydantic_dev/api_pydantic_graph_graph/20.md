---
url: https://ai.pydantic.dev/api/pydantic_graph/graph/
session_id: pydantic_ai_docs
chunk_number: 20
title: Initializing a GraphRun in Pydantic
summary: This section describes the `__init__` method for creating a new run within a specified graph, detailing the parameters such as the graph instance, starting node, history of steps, shared state, and dependencies. It notes that users typically should utilize the `Graph.iter` method instead of invoking this constructor directly.
embedding: [0.043770819902420044, 0.02731531299650669, -0.015875212848186493, -0.08936542272567749, -0.002111341105774045, -0.024310214444994926, 0.009751027449965477, 0.000639231177046895, -0.014165414497256279, 0.04026832431554794, 0.0004782899923156947, 0.025014856830239296, -0.025408629328012466, -0.08227753639221191, 0.009056746028363705, -0.04026832431554794, -0.013761280104517937, -0.005310735199600458, 0.029035473242402077, 0.00771481404080987, -0.00155695213470608, 0.0004850903060287237, 0.0045983195304870605, -0.01824820414185524, -0.02335687167942524, 0.015512527897953987, 0.02109786681830883, 0.035294368863105774, -0.03243434429168701, -0.012186193838715553, -0.00818630401045084, -0.0104815773665905, -0.05583266541361809, -0.04082789644598961, 0.010818355716764927, 0.006968720816075802, 0.007497203536331654, 0.0034506823867559433, -0.0030802262481302023, 0.06300345063209534, 0.032703764736652374, -0.03784352168440819, 0.0002958144177682698, -0.005367728415876627, -0.001420945511199534, -0.0472525879740715, 0.007688908372074366, 0.04567750170826912, 0.049656666815280914, 0.01869378797709942, -0.03676582872867584, -0.01038831565529108, 0.007367673330008984, 0.020362135022878647, -0.08563495427370071, -0.00045950812636874616, 0.011709523387253284, -0.020590107887983322, -0.006569767836481333, 0.0003351591876707971, 0.029802290722727776, -0.004448064602911472, 0.0007655230583623052, 0.03378145769238472, -0.017574647441506386, 0.04924217239022255, 0.014984045177698135, 0.049200721085071564, -0.025802399963140488, -0.0032693403773009777, 0.009947913698852062, 0.03253796696662903, -0.05869268998503685, -0.04057919606566429, -0.018393278121948242, -0.008979028090834618, 0.014579910784959793, 0.028952572494745255, -0.004494695458561182, -0.0023574482183903456, 0.018414001911878586, -0.019450243562459946, 0.010828718543052673, 0.02142946422100067, -0.007999780587852001, -0.05467207357287407, -0.042361531406641006, -0.05442337691783905, -0.004717486910521984, -0.07311716675758362, 0.018973572179675102, -0.025201380252838135, 0.01449701189994812, 0.07170787453651428, 0.04006107524037361, 0.06316924840211868, 0.02576095052063465, 0.023398321121931076, -0.009434973821043968, 0.009357255883514881, -0.013927078805863857, -0.026424145326018333, -0.02290092594921589, -0.006315888836979866, 0.002498636022210121, 0.0055387080647051334, -0.03195767104625702, 0.0768476352095604, 0.014683534391224384, -0.020071987062692642, -0.05533526837825775, -0.044931408017873764, 0.03668292984366417, 0.009134463965892792, -0.06213301047682762, -0.06507593393325806, -0.030527658760547638, -0.035501617938280106, 0.016849279403686523, -0.031481001526117325, -0.00934689398854971, -0.005466171074658632, -0.010491940192878246, -0.015761224552989006, 0.019636766985058784, -0.012331267818808556, -0.023667743429541588, 0.01426903810352087, -0.030258236452937126, -0.0018976163119077682, 0.0011197879211977124, -0.01019143033772707, -0.018994297832250595, -0.03823729231953621, -0.014984045177698135, 0.032703764736652374, -0.06793595850467682, 0.00023153510119300336, -0.025574427098035812, 0.0037304675206542015, 0.015232742764055729, -0.051729150116443634, -0.02244498021900654, -0.006155271548777819, 0.03015461191534996, 0.08571785688400269, -0.03003026358783245, 0.042941827327013016, -0.04671374335885048, 0.02097351849079132, 0.06573912501335144, 0.023895718157291412, -0.03143955022096634, 0.011118865571916103, 0.002878159284591675, 0.0014157642144709826, 0.00588584877550602, 0.013222435489296913, 0.001825079438276589, -0.021574538201093674, 0.0019559047650545835, 0.041781235486269, -0.010849443264305592, -0.02283875085413456, -0.030506934970617294, -0.0009559323079884052, -0.04033049941062927, -0.025843849405646324, -0.026175446808338165, 0.0044739702716469765, 0.023978617042303085, -0.013450408354401588, -0.040206149220466614, 0.05317988619208336, 0.04435111582279205, 0.01605137251317501, -0.056910354644060135, 0.020299961790442467, 0.0065490431152284145, 0.0053418222814798355, -0.016652392223477364, -0.04820593073964119, -0.05836109444499016, 0.015346729196608067, -0.050236962735652924, 0.003683836665004492, 0.0068081035278737545, -0.015367453917860985, -0.004481742158532143, -0.04064137116074562, -0.01980256475508213, 0.013771642930805683, -0.009134463965892792, -0.014610998332500458, 0.012714676558971405, 0.014351937919855118, 0.08530335873365402, 0.007699270732700825, 0.04033049941062927, 0.03668292984366417, -0.0040024807676672935, -0.00043845947948284447, -0.0077614448964595795, -0.010849443264305592, 0.03177114948630333, -0.0006735566421411932, -0.02911837212741375, -0.016776742413640022, 0.004704534076154232, -0.029035473242402077, -0.001492187031544745, -0.04808158054947853, 0.010984154418110847, 0.019968364387750626, 0.01239344198256731, 0.0003273873880971223, -0.02627907134592533, 0.006103459279984236, 0.02323252335190773, 0.04845462739467621, 0.011274302378296852, 0.02524282969534397, -0.02122221514582634, 0.02259005419909954, 0.06200866028666496, 0.013875266537070274, 0.009849471040070057, -0.006885821465402842, 0.0010310597717761993, 0.06868205219507217, -0.005059446673840284, -0.0009954390116035938, -0.002885931171476841, -0.04418531432747841, 0.01452809851616621, -0.03230999410152435, -0.008170760236680508, -0.012828663922846317, 0.04064137116074562, -0.04729403927922249, -0.03662075474858284, -0.013947803527116776, -0.0004504410026129335, -0.0019261129200458527, 0.0359782874584198, -0.007828800939023495, 0.007885794155299664, 0.00387554126791656, 0.024372387677431107, 0.05338713526725769, 0.025056306272745132, 0.00012734430492855608, -0.008082679472863674, 0.020217061042785645, 0.020020175725221634, -0.031999122351408005, 0.016673117876052856, -0.010745818726718426, 0.022175557911396027, 0.0009850765345618129, 0.04418531432747841, 0.009134463965892792, -0.018289653584361076, 0.01597883552312851, -0.03092143125832081, 0.0013237978564575315, 0.02140873856842518, 0.014942594803869724, 0.008678518235683441, -0.03469334915280342, 0.0030543203465640545, -0.012631777673959732, -0.00459572859108448, -0.04476561024785042, -0.012310543097555637, 0.009828745387494564, 0.006388425827026367, 0.05094160884618759, 0.009833927266299725, -0.049159273505210876, 0.008611162193119526, 0.024952683597803116, 0.03858961537480354, 0.04737693816423416, 0.017626458778977394, 0.01504621934145689, -0.015999561175704002, 0.0021424281876534224, 0.03054838441312313, -0.003157944418489933, -0.0015491802478209138, -0.02381281740963459, 0.01539854146540165, -0.02051757089793682, 0.039190635085105896, -0.041180215775966644, 0.00983910821378231, 0.0011463415576145053, 0.028247930109500885, -0.005036131013184786, -0.008662974461913109, -0.02478688396513462, 0.01966785453259945, 0.0008387075504288077, 0.031232303008437157, 0.005486896261572838, 0.005694144405424595, -0.023149624466896057, 0.030693458393216133, 0.01397889107465744, -0.007808075752109289, 0.0367451049387455, -0.030652008950710297, -0.008559350855648518, 0.020662644878029823, 0.052516695111989975, 0.06540752947330475, -0.0512317530810833, -0.017243050038814545, 0.00018619955517351627, -0.02433093823492527, -0.040599923580884933, 0.05454772710800171, 0.05711760371923447, 0.002818575594574213, 0.012569603510200977, 0.010828718543052673, -0.0115126371383667, 0.011605898849666119, 0.0070205326192080975, -0.017958056181669235, -0.03307681158185005, 0.008450545370578766, 0.0037434205878525972, -0.0003643034724518657, -0.018040955066680908, 0.010859805159270763, 0.013968528248369694, 0.08244333416223526, 0.05740775167942047, -0.033097539097070694, -0.012517791241407394, 0.03910773620009422, -0.027398211881518364, -0.022154832258820534, 0.02466253563761711, 0.019325895234942436, -0.00963704101741314, -0.023253247141838074, 0.014465924352407455, 0.01909792236983776, -0.005245970096439123, -0.00044849805999547243, 0.02381281740963459, 0.01265250239521265, 0.011336476542055607, -0.011263939552009106, 0.029284169897437096, 0.0034817697014659643, 0.007709633093327284, -0.055625416338443756, -0.01869378797709942, -0.010595563799142838, -0.03533581644296646, -0.03504566848278046, -0.0353565439581871, -0.001260975725017488, 0.05143900215625763, 0.005844399333000183, 0.05948023125529289, 0.06640232354402542, 0.036662206053733826, 0.0051993392407894135, 0.009486786089837551, -0.031874772161245346, -0.0051993392407894135, 0.015388178639113903, -0.008238116279244423, 0.03641350939869881, 0.06772871315479279, 0.003670883597806096, 0.019709303975105286, 0.046174898743629456, -0.03301463648676872, -0.011087778955698013, -0.013605844229459763, 0.007719995453953743, 0.004973956849426031, 0.0304862093180418, 0.04122166708111763, 0.017066888511180878, -0.05939733237028122, -0.004204547964036465, 0.010181067511439323, -0.0167663786560297, 0.030050989240407944, 0.020662644878029823, 0.001906683435663581, 0.0496981181204319, 0.041698336601257324, 0.02775053307414055, 0.012206918559968472, -0.012714676558971405, 0.010113712400197983, -0.017978781834244728, -0.05376018211245537, 0.056330058723688126, 0.025988923385739326, -0.042071383446455, 0.03927353397011757, -0.012942650355398655, 0.03334623575210571, -0.0021346565335989, -0.02878677472472191, -0.016973627731204033, -0.02018597535789013, 0.020082350820302963, -0.031232303008437157, -0.03589538857340813, 0.02232063002884388, -0.0375119224190712, -0.046174898743629456, -0.01426903810352087, -0.02091134339570999, -0.006865096744149923, 0.016838915646076202, -0.011833871714770794, -0.04820593073964119, 0.009471242316067219, -0.010269148275256157, 0.05831964313983917, 0.036206260323524475, 0.005942841991782188, -0.005383271723985672, -0.0007564559346064925, 0.025450078770518303, -0.0030724545940756798, -0.046879541128873825, 0.005492077209055424, 0.004717486910521984, 0.04961521923542023, -0.02466253563761711, 0.04285892844200134, 0.020362135022878647, -0.0074350289069116116, -0.003015461377799511, -0.04866187646985054, -0.047003891319036484, -0.05400887876749039, -0.024538187310099602, -0.0068910024128854275, 0.006129365414381027, -0.01087016798555851, -0.033677831292152405, -0.0251599308103323, -0.016973627731204033, 0.12119874358177185, -0.010642195120453835, 0.032061297446489334, -0.021512363106012344, -0.005336640868335962, -0.014901145361363888, -0.01346077024936676, 0.05997762829065323, -0.022154832258820534, 0.034776248037815094, 0.010890892706811428, 0.02102532982826233, 0.018932122737169266, 0.016590218991041183, 0.03651713207364082, -0.01495295763015747, -0.0030776357743889093, -0.010828718543052673, -0.04314907640218735, 0.030382586643099785, -0.02142946422100067, 0.039688028395175934, 0.010289872996509075, -0.006196720991283655, -0.041573990136384964, -0.00877177994698286, 0.04302472621202469, 0.018942484632134438, -0.006170815322548151, -0.0144037501886487, 0.01896321028470993, -0.008823592215776443, -0.04217500984668732, 0.00950751081109047, 0.007875431329011917, 0.03732540085911751, -0.015481440350413322, -0.006450599990785122, 0.01566796377301216, 0.012942650355398655, -0.019947638735175133, -0.0304862093180418, -0.010020450688898563, 0.0007175969076342881, -0.05421612784266472, 0.0020621195435523987, -0.040869344025850296, 0.01637260802090168, -0.047003891319036484, -0.07232961803674698, 0.03790569677948952, 0.02679719217121601, 0.00022732536308467388, 0.038278743624687195, -0.037760622799396515, 0.009989363141357899, 0.0208906177431345, -0.010533389635384083, 1.4400106920220423e-05, 0.03622698411345482, -0.015284555032849312, 0.05131465569138527, 0.0043936618603765965, -0.014932232908904552, -0.04534590616822243, -0.0210356917232275, -0.009150007739663124, -0.00193777063395828, 0.0016761197475716472, -0.0011469892924651504, 0.04147036373615265, -0.02762618474662304, 0.021906133741140366, -0.00473821209743619, 0.020590107887983322, 0.022486429661512375, -0.013305334374308586, 0.021046053618192673, -0.023647019639611244, -0.017097976058721542, -0.010849443264305592, -0.0022447570227086544, -0.03709742799401283, -0.006450599990785122, -0.007652639877051115, 0.05889993906021118, -0.002165743615478277, -0.008300290443003178, -0.027916332706809044, -0.01061110757291317, 0.025139207020401955, -0.05048565939068794, 0.023501945659518242, 0.010595563799142838, -0.002678683027625084, -0.00422268221154809, -0.011201765388250351, -0.029263446107506752, 0.004494695458561182, -0.003165716305375099, -0.019191183149814606, -0.015626514330506325, 0.03061055950820446, 0.027812708169221878, -0.004137192387133837, 0.006336613558232784, -0.00264370976947248, 0.028227204456925392, -0.008833954110741615, 0.053221337497234344, 0.028185755014419556, -0.027087340131402016, -0.026486320421099663, 0.0012156402226537466, 0.010295053943991661, -0.01908755861222744, 0.040226876735687256, -0.0029377432074397802, 0.005932479631155729, -0.020341411232948303, 0.0014351938152685761, 0.004979137796908617, -0.022217007353901863, 0.008108586072921753, -0.03747047483921051, -0.04290037602186203, 0.005942841991782188, -0.0032771120313555002, -0.027232414111495018, 0.025450078770518303, -0.037429023534059525, 0.016009923070669174, 0.019958000630140305, -0.02018597535789013, -0.046174898743629456, 0.0032848839182406664, 0.029677942395210266, 0.007129338104277849, -0.02271440252661705, 0.0038625882007181644, -0.017502110451459885, -0.025139207020401955, -0.028911123052239418, 0.004585366230458021, 0.012921924702823162, 0.034133777022361755, 0.016662755981087685, 0.0358332134783268, 0.021512363106012344, -0.022051207721233368, 0.0367451049387455, 4.5821281673852354e-05, -0.027356762439012527, -0.003134628990665078, -0.005466171074658632, -0.001628193655051291, -0.027584735304117203, -0.023004550486803055, 0.008999752812087536, 0.0401025265455246, -0.02114967815577984, 0.04828882962465286, 0.03411305323243141, -0.05595701187849045, 0.03738757595419884, 0.013408957980573177, 0.0031605351250618696, 0.003528400557115674, 0.0012221167562529445, -0.02768835984170437, -0.0324757918715477, 0.016009923070669174, -0.012932287529110909, -0.006269257981330156, -0.017180874943733215, -0.002950696274638176, 0.024020066484808922, 0.0029455150943249464, -0.059107184410095215, -0.04588475078344345, 0.021108228713274002, -0.025906024500727654, -0.002448119455948472, 0.02155381254851818, 0.02464180998504162, 0.023253247141838074, -0.07179077714681625, 0.012248368933796883, -0.02717023901641369, 0.007782169617712498, 0.006828828249126673, 0.019242994487285614, 0.02057974599301815, -0.01838291436433792, -0.07063018530607224, 0.025346454232931137, 0.019564229995012283, -0.008326196111738682, 0.0004183822893537581, -0.04113876819610596, -0.00869924295693636, -0.00912410207092762, -0.010652557015419006, 0.0025349045172333717, -0.027874883264303207, 0.011460825800895691, -0.04229935631155968, 0.008808048442006111, -0.036600030958652496, 0.017512472346425056, 0.008207028731703758, 0.008880585432052612, 0.001699435175396502, 0.018082404509186745, -0.04198848456144333, 0.01329497154802084, 0.019201545044779778, 0.006414331961423159, -0.009056746028363705, -0.004587957169860601, -0.022217007353901863, -0.016735291108489037, 0.02524282969534397, 0.033947255462408066, 0.0014572138898074627, -0.013408957980573177, -0.012704314664006233, 0.0826091319322586, 0.08041229844093323, -0.0251599308103323, -0.03599901124835014, -0.026175446808338165, 0.004271903540939093, -0.0009358551469631493, -0.020735181868076324, -0.002249938203021884, -0.01326388493180275, 0.009481605142354965, 0.01987510174512863, 0.0037822795566171408, 0.008911672979593277, 0.0396258570253849, 0.01070436928421259, -0.06126256659626961, 0.00720187509432435, -0.003116494743153453, -0.009528235532343388, 0.03376073017716408, -0.019958000630140305, -0.013180985115468502, -0.016787104308605194, 0.011782060377299786, 0.008953122422099113, -0.020486485213041306, 0.01025878544896841, -0.020683370530605316, -0.02368846908211708, 0.002733085537329316, -0.047791436314582825, -0.015813037753105164, 0.033097539097070694, 0.018818136304616928, -0.027854157611727715, -0.018134217709302902, 0.015947747975587845, -0.018414001911878586, -0.013243160210549831, -0.004100923892110586, -0.017263775691390038, -0.0049402788281440735, -0.01850726455450058, -0.011564449407160282, -0.005668238271027803, -0.023709194734692574, -0.01564723812043667, -0.003569850232452154, 0.015564339235424995, 0.011502275243401527, -0.029677942395210266, 0.001550475601106882, -0.0358332134783268, -0.018486538901925087, 0.031729698181152344, -0.013657656498253345, -0.01688036508858204, -0.0020789585541933775, -0.011015241965651512, -0.005787406116724014, -0.003867769381031394, -0.0436050221323967, 0.006129365414381027, 0.013087723404169083, -0.006880640052258968, 0.015180930495262146, -0.04089006781578064, 0.002624280285090208, -0.01702543906867504, -0.030361860990524292, 0.02588530071079731, 0.02768835984170437, -0.0016307842452079058, -0.018994297832250595, -0.03274521604180336, 0.0014287172816693783, -0.06789451092481613, -0.031936947256326675, -0.0036734743043780327, 0.021885409951210022, -0.003264159196987748, -0.009263994172215462, -0.017812982201576233, 0.014735346660017967, -0.02478688396513462, 0.016600580886006355, -0.020175611600279808, -0.0029636493418365717, -0.0004578889929689467, 0.03778134658932686, 0.004650131333619356, -0.008160397410392761, 0.02853807620704174, -0.0472525879740715, 0.014476286247372627, -0.0104815773665905, 0.019564229995012283, 0.017968418076634407, 0.0045387353748083115, 0.016610942780971527, 0.03803004324436188, -0.0179891437292099, -0.007300317753106356, -0.03680728003382683, -0.0035309912636876106, 0.012890838086605072, -0.06669247150421143, -0.04089006781578064, 0.014279400929808617, 0.025222105905413628, -0.010372771881520748, -0.009455699473619461, -0.01670420542359352, -0.06627797335386276, 0.003388507990166545, 0.007875431329011917, -0.012092932127416134, 0.035563789308071136, -0.020020175725221634, -0.010491940192878246, -0.04188486188650131, 0.045718953013420105, -0.014600635506212711, -0.03910773620009422, -0.0038807224482297897, -0.022859476506710052, -0.0033833268098533154, 0.02083880640566349, -0.0019908780232071877, -0.015968473628163338, -0.006429875269532204, 0.0063573382794857025, -0.035957563668489456, -0.014414112083613873, -0.007346948608756065, -0.04621634632349014, -0.0030025083106011152, 0.02549152821302414, 0.0008484222926199436, 0.022859476506710052, -0.007569740526378155, -0.010559295304119587, 0.028330828994512558, -0.007730357814580202, -0.014579910784959793, -0.007808075752109289, -0.004033567849546671, -0.01838291436433792, 0.045470256358385086, 0.034589722752571106, 0.03212347254157066, 0.01038831565529108, 0.02698371559381485, 0.006398788187652826, -0.039895277470350266, 0.007652639877051115, 0.01539854146540165, 0.0041967760771512985, 0.012165469117462635, 0.01773008331656456, -0.00200512632727623, -0.013895991258323193, 0.01449701189994812, 0.018268927931785583, -0.021533086895942688, -0.011522999964654446, 0.0017059117089956999, 0.043190523982048035, 0.0335327573120594, -0.05036131292581558, -0.02277657762169838, -0.0028911123517900705, 0.030320411548018456, 0.04161543771624565, 0.03386435657739639, -0.007792532444000244, -0.017553921788930893, -0.017823345959186554, -0.014662809669971466, 0.013854541815817356, -0.028123579919338226, -0.019046109169721603, -0.02828937955200672, 0.002634642645716667, 0.010238060727715492, -0.004095742478966713, -0.012973736971616745, 0.0030232330318540335, 0.0039040378760546446, -0.029615767300128937, -0.0017227506032213569, 0.0350663959980011, -0.045967649668455124, -0.026880091056227684, 0.014123965054750443, 0.028061406686902046, 0.028496626764535904, 0.016455506905913353, -0.024123691022396088, 0.016103185713291168, 0.0029377432074397802, 0.0048107486218214035, -0.0016787104541435838, 0.004637178499251604, -0.017315587028861046, 0.0286624263972044, -0.021118590608239174, -0.05052711069583893, -0.03709742799401283, 0.01478715892881155, -0.006155271548777819, 0.021761061623692513, -0.01902538537979126, -0.015056581236422062, 0.04180196300148964, -0.007450572680681944, 0.03278666362166405, -0.021574538201093674, 0.03237216919660568, 0.004572413396090269, -0.0054039969108998775, -0.00681328447535634, 0.017305225133895874, 0.012973736971616745, 0.005688962992280722, -0.03494204580783844, -0.019439881667494774, -0.02399934083223343, 0.03850671648979187, -0.010491940192878246, -0.03405087813735008, -0.006036103703081608, -0.018300015479326248, -0.014310488477349281, -8.969961345428601e-05, 0.004347031004726887, 0.03643423318862915, -0.0115126371383667, 0.008424639701843262, 0.01966785453259945, -0.02795778214931488, -0.0045361449010670185, 0.0005550365895032883, 0.0222584567964077, 0.0030724545940756798, -0.03253796696662903, 0.028828224167227745, -0.006305526476353407, -0.01009816862642765, 0.009056746028363705, -0.021066779270768166, -0.01733631268143654, -0.012880475260317326, -0.0074246665462851524, -0.02847590297460556, 0.037698447704315186, -0.02634124644100666, -0.03208202123641968, 0.011823509819805622, 0.0100619001314044, -0.051480453461408615, -0.011398650705814362, 0.014476286247372627, -0.013999615795910358, 0.006435056682676077, 0.025222105905413628, 0.025926750153303146, -0.030444759875535965, 0.029076922684907913, -0.008916853927075863, 0.026216896250844002, -0.02951214276254177, -0.02077663131058216, 0.0002338018675800413, 0.0011890865862369537, 0.008191484957933426, 0.008751055225729942, -0.020289598032832146, -0.010662919841706753, 0.004891057498753071, 0.01239344198256731, -0.01792696863412857, -0.032185643911361694, -0.0251599308103323, 0.05040276050567627, 0.009911645203828812, 0.029284169897437096, 0.063417948782444, 0.012559240683913231, 0.04808158054947853, 0.002821166068315506, -0.0438951700925827, 0.052392344921827316, -0.0027175419963896275, 0.012175831943750381, 0.027667634189128876, 0.021004604175686836, 0.027460386976599693, -0.04252732917666435, 0.007067163474857807, 0.02549152821302414, 0.013284609653055668, -0.004914372693747282, 0.0032071659807115793, 0.02414441481232643, -0.015740500763058662, 0.03067273274064064, 0.008839135989546776, 0.006087915971875191, 0.016154997050762177, 0.004694171715527773, -0.0005783520173281431, -0.04277602955698967, -0.018538352102041245, 0.03985382989048958, -0.013833817094564438, -0.014289762824773788, 0.04372936859726906, 0.016942540183663368, -0.011284664273262024, 0.009061927907168865, -0.030755633488297462, -0.003616481088101864, -0.002341904677450657, -0.01019143033772707, -0.016538405790925026, 0.0016385560156777501, -0.017367398366332054, 0.007113794330507517, 0.00528741953894496, 0.014217226766049862, 0.011098140850663185, 0.009108558297157288, -0.02091134339570999, -0.029947364702820778, 0.017781894654035568, 0.010766543447971344, -0.054257579147815704, 0.0011541134444996715, -0.009098195470869541, 0.026382695883512497, 0.027791982516646385, 0.003551715984940529, -0.007243324536830187, 0.015066944062709808, -0.019108284264802933, -0.03255869075655937, 0.02472471073269844, -0.006025741342455149, 0.0006418217672035098, -0.0032589780166745186, -0.009222544729709625, 0.017243050038814545, -0.007968693040311337, -0.0006903955363668501, -0.022175557911396027, -0.017232688143849373, -0.015326004475355148, 0.03738757595419884, 0.002073777373880148, 0.048827674239873886, -8.753402653383091e-06, 0.0014416702324524522, -0.029470693320035934, -0.01096342969685793, -0.007450572680681944, -0.030755633488297462, -0.015201655216515064, 0.012569603510200977, 0.038859035819768906, 0.020745543763041496, 0.0012862341245636344, -0.0043936618603765965, 0.003569850232452154, 0.024165140464901924, -0.020590107887983322, 0.00954377930611372, -0.00864224974066019, 0.011108503676950932, -0.02938779443502426, 0.019709303975105286, 0.02180251106619835, 0.04783288389444351, 0.01623789593577385, -0.011025603860616684, -0.00264500523917377, 0.03189549595117569, -0.02969866618514061, -0.023211797699332237, -0.003888494335114956, -0.024496737867593765, -0.005217473488301039, -0.009258813224732876, 0.011098140850663185, -0.018714511767029762, -0.030258236452937126, 0.02466253563761711, -0.032579418271780014, -0.01727413758635521, -0.01488042064011097, -0.0200512632727623, -0.03137737885117531, 0.036475684493780136, 0.029491418972611427, 0.003214937634766102, -0.014393387362360954, 0.005999835208058357, 0.03454827517271042, 0.012807938270270824, 0.04430966451764107, -6.974387360969558e-05, -0.025222105905413628, -0.043978068977594376, 0.01832074113190174, -0.024994133040308952, -0.03668292984366417, 0.018973572179675102, 0.012662865221500397, -0.007352130021899939, 0.007580102887004614, -0.04290037602186203, -0.010745818726718426, 0.02814430557191372, -0.0201238002628088, 0.01716015115380287, -0.0385688878595829, -0.003290065098553896, 0.023211797699332237, 0.03204056993126869, 0.014279400929808617, 0.02665211819112301, -0.03757409751415253, 0.027978505939245224, -0.019263720139861107, 0.002974011702463031, -0.00035912226303480566, -0.006792559754103422, -0.020559020340442657, 0.0014261266915127635, -0.02219628170132637, -0.0002457834198139608, 0.015284555032849312, -0.004502466879785061, -0.0266728438436985, 0.04186413437128067, -0.02122221514582634, 0.03210274502635002, -0.009984182193875313, 0.014849333092570305, -0.023792093619704247, -0.004631997086107731, -0.019895827397704124, 0.004015434067696333, 0.003124266630038619, 0.01397889107465744, -0.04064137116074562, 0.011823509819805622, 0.025574427098035812, -0.0022369851358234882, -0.011854597367346287, 0.0035232193768024445, 0.034195952117443085, 0.03566741570830345, 0.07083743065595627, 0.02387499250471592, -0.024496737867593765, 0.041387464851140976, 0.008367645554244518, -0.005173433106392622, 0.001492187031544745, 0.006331432610750198, 0.012859750539064407, -0.042216457426548004, -0.043522123247385025, -0.003699380438774824, 0.0026631392538547516, 0.04335632175207138, 0.01728449948132038, -0.012859750539064407, 0.001200096565298736, -0.044558361172676086, -0.009745846502482891, 0.0074194855988025665, 0.04368792101740837, 0.061055317521095276, -0.012693951837718487, 0.014548823237419128, 0.016973627731204033, -0.0004688990593422204, -0.02082844451069832, 0.007637096103280783, 0.01265250239521265, 0.010248423554003239, -0.021128954365849495, -0.019491693004965782, 0.011118865571916103, 0.0072277807630598545, -0.02207193337380886, 0.015699051320552826, -0.0012629186967387795, -0.021388014778494835, -0.017377762123942375, 0.02348122000694275, 0.005797768477350473, 0.02025851048529148, 0.011149953119456768, -0.025988923385739326, 0.0029895552434027195, -0.00425635976716876, 0.0243931133300066, 0.008103404194116592, 0.01993727684020996, -0.03838236629962921, 0.001981810899451375, 0.030299685895442963, 0.026900816708803177, -0.026548493653535843, 0.011201765388250351, -0.03054838441312313, 0.016393331810832024, 0.050568562000989914, 0.023792093619704247, 0.032641589641571045, -0.02232063002884388, -0.018787048757076263, -0.0010880529880523682, 0.0033159712329506874, -0.03382290527224541, -0.018600525334477425, 0.004896238911896944, 0.005225245375186205, -0.036475684493780136, 0.040662094950675964, -0.03427885100245476, -0.002454595873132348, -0.013605844229459763, -0.009222544729709625, 0.016683479771018028, 0.006761472672224045, -0.012807938270270824, -0.02646559476852417, 0.015553977340459824, 0.017502110451459885, 0.021885409951210022, -0.00805677380412817, -0.032247819006443024, 0.017450299113988876, -0.012144744396209717, -0.015947747975587845, 0.05293118953704834, 0.026548493653535843, -0.004018024541437626, 0.013191347941756248, 0.02594747394323349, 0.009181095287203789, 0.015844125300645828, -0.01281830109655857, 0.008471270091831684, 0.0019610861781984568, -0.028517352417111397, -0.005688962992280722, -0.06387389451265335, 0.009274356998503208, 0.042071383446455, 0.04401951655745506, 0.009849471040070057, -0.0015543614281341434, 0.008134491741657257, 0.01326388493180275, 0.013025549240410328, 0.009792477823793888, -0.013699105940759182, 0.04932507127523422, -0.013543670065701008, 0.011098140850663185, 0.0026605487801134586, -0.031936947256326675, 0.008564531803131104, -0.008548988029360771, -0.01232090499252081, -0.008616344071924686, -0.04082789644598961, 0.016683479771018028, 0.02155381254851818, -0.00912410207092762, 0.021533086895942688, 0.00703607639297843, -0.003976574633270502, -0.0034895415883511305, 0.029532868415117264, -0.00941943097859621, 0.023149624466896057, -0.003520628670230508, -0.022486429661512375, 0.004502466879785061, 0.01716015115380287, 0.0013030730187892914, 0.012144744396209717, 0.040226876735687256, 0.010590382851660252, 0.001632079598493874, -0.015678325667977333, -0.022797301411628723, -0.023253247141838074, 0.030631283298134804, -0.027812708169221878, 0.02433093823492527, 0.004696762189269066, -0.006186358630657196, 0.03487987071275711, 0.028247930109500885, 0.0368901789188385, 0.021657437086105347, -0.01096342969685793, -0.026175446808338165, -0.0021126363426446915, 0.01045049075037241, -0.009150007739663124, -0.06088951975107193, -0.00520711112767458, -0.020030537620186806, -0.008854678831994534, -0.017367398366332054, 0.015885574743151665, -0.023191073909401894, 0.025077031925320625, -0.02140873856842518, -0.00916037056595087, 0.012994461692869663, -0.0037304675206542015, 0.013129173777997494, -0.0028574345633387566, -0.004696762189269066, 0.01028469204902649, 0.01785443164408207, 0.011719885282218456, 0.009730302728712559, 0.02814430557191372, 0.0003202632360626012, -0.001985696842893958, 0.004712305963039398, -0.009595591574907303, 0.02006162516772747, -0.01824820414185524, -0.01655913144350052, 0.002012898214161396, 0.0034817697014659643, 0.002689045388251543, -0.008212209679186344, 0.0013315696269273758, -0.02375064417719841, -0.006559405475854874, -0.017450299113988876, 0.0053418222814798355, -0.048164479434490204, -0.00908783357590437, 0.02070409432053566, -0.007383217103779316, 0.023729918524622917, 0.019968364387750626, -0.03421667590737343, -0.014300125651061535, 0.04057919606566429, 0.01948133111000061, -0.02828937955200672, -0.009082652628421783, 0.023149624466896057, 0.008196665905416012, 0.03127375245094299, -0.016258621588349342, 0.01733631268143654, -0.008942759595811367, -0.016859641298651695, -0.009911645203828812, 0.010212155058979988, 0.0056164260022342205, -0.01792696863412857, 0.03255869075655937, -0.005062037147581577, 0.014455561526119709, -0.0029455150943249464, 0.03861033916473389, 0.000955284689553082, -0.003986936993896961, -0.0014351938152685761, 0.005116439890116453, 0.027709083631634712, -0.017450299113988876, -0.02114967815577984, 0.009683672338724136, 0.026610668748617172, -0.05388453230261803, -0.004142373334616423, 0.006595673970878124, 0.00677701598033309, -0.0012726334389299154, 0.004831473808735609, 0.014051428064703941, -0.03676582872867584, 0.0030646827071905136, -0.055169470608234406, 0.033885080367326736, -0.024227313697338104, 0.013533307239413261, 0.04505575820803642, -0.016009923070669174, 0.01773008331656456, -0.009875376708805561, -0.0016048782272264361, 0.03436174988746643, -0.0022292134817689657, 0.013305334374308586, -0.017719721421599388, 0.0008639659499749541, 0.03293173760175705, -0.010471215471625328, -0.010528208687901497, -0.0017240459565073252, 0.02673501707613468, 0.041926309466362, -0.025512253865599632, 0.006315888836979866, 0.016476232558488846, 0.03531509265303612, 0.007253686897456646, -0.008362464606761932, 0.013149898499250412, 0.012797576375305653, -0.017253411933779716, 0.03954295441508293, 0.02600964903831482, -0.027999231591820717, 0.015553977340459824, 0.020040901377797127, 0.004593138117343187, -0.012041119858622551, -0.0010563181713223457, 0.013895991258323193, 0.011398650705814362, -0.020351773127913475, -0.04393661767244339, 0.008611162193119526, -0.0341545045375824, 0.01112922839820385, -0.0038055949844419956, -0.011274302378296852, 0.02341904677450657, -0.01663166843354702, 0.0029999176040291786, 0.011968583799898624, 0.022880200296640396, -0.009061927907168865, -0.012528153136372566, 0.012310543097555637, -0.012683589942753315, 0.040226876735687256, -0.03369855880737305, -0.021388014778494835, -0.037304677069187164, 0.013087723404169083, -0.019398432224988937, 0.010118893347680569, -0.03179187327623367, -0.023916441947221756, -0.014973682351410389, -0.0013509992277249694, 0.011605898849666119, 0.021968308836221695, 0.006103459279984236, 0.02969866618514061, -0.014600635506212711, 0.004593138117343187, -0.0029558774549514055, -0.005631969776004553, 0.008533444255590439, -0.0014520327094942331, -0.023128898814320564, 0.02200975827872753, 0.00025646964786574244, -0.02018597535789013, -0.013046273961663246, -0.03485914692282677, 0.0036216622684150934, 0.016735291108489037, -0.006264076568186283, 0.018942484632134438, 0.020403584465384483, 0.004857379477471113, -0.024558911100029945, -0.0370352528989315, -0.0016100594075396657, 0.010714732110500336, -0.005119030363857746, 0.008393552154302597, 0.03403015434741974, 0.03676582872867584, 0.004945460241287947, 0.03525291755795479, 0.014465924352407455, 0.020175611600279808, -0.014600635506212711, 0.027874883264303207, 0.0295743178576231, 0.016797466203570366, 0.012383080087602139, 0.015263829380273819, 0.014227588661015034, -0.012797576375305653, 0.0010498416377231479, 0.0026735018473118544, -0.0023198844864964485, -0.024579636752605438, 0.005766680929809809, -0.011750972829759121, 0.01462136022746563, 0.0179166067391634, 0.006398788187652826, -0.001284938771277666, 0.011595536954700947, -0.0011282074265182018, 0.007315861526876688, -0.024869782850146294, 0.033885080367326736, -0.04302472621202469, 0.006673391908407211, -0.0012467274209484458, -0.006611217744648457, -0.03216492012143135, 0.007947968319058418, 0.017097976058721542, 0.023087449371814728, 0.030714182183146477, -0.04704534262418747, -0.005492077209055424, -0.028455177322030067, 0.024248039349913597, -0.0019610861781984568, -0.0011534657096490264, -0.035170018672943115, 0.0048755137249827385, -0.030237512663006783, 0.00976657122373581, 0.027066614478826523, -0.014465924352407455, -0.009901282377541065, -0.016590218991041183, -0.02969866618514061, -0.014445199631154537, 0.009870195761322975, 0.00831583421677351, -0.011916771531105042, -0.0445169135928154]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:55.713890", "url_path": "/api/pydantic_graph/graph/", "chunk_size": 4968}
updated_dt: 2025-03-15T11:17:55.713890
---
```
  See the [`GraphRun.next` documentation][pydantic_graph.graph.GraphRun.next] for an example of how to manually
  drive the graph run.
  """
  def__init__(
    self,
    graph: Graph[StateT, DepsT, RunEndT],
    start_node: BaseNode[StateT, DepsT, RunEndT],
    *,
    history: list[HistoryStep[StateT, RunEndT]],
    state: StateT,
    deps: DepsT,
    auto_instrument: bool,
  ):
"""Create a new run for a given graph, starting at the specified node.
    Typically, you'll use [`Graph.iter`][pydantic_graph.graph.Graph.iter] rather than calling this directly.
    Args:
      graph: The [`Graph`][pydantic_graph.graph.Graph] to run.
      start_node: The node where execution will begin.
      history: A list of [`HistoryStep`][pydantic_graph.state.HistoryStep] objects that describe
        each step of the run. Usually starts empty; can be populated if resuming.
      state: A shared state object or primitive (like a counter, dataclass, etc.) that is available
        to all nodes via `ctx.state`.
      deps: Optional dependencies that each node can access via `ctx.deps`, e.g. database connections,
        configuration, or logging clients.
      auto_instrument: Whether to automatically create instrumentation spans during the run.
    """
    self.graph = graph
    self.history = history
    self.state = state
    self.deps = deps
    self._auto_instrument = auto_instrument
    self._next_node: BaseNode[StateT, DepsT, RunEndT] | End[RunEndT] = start_node
  @property
  defnext_node(self) -> BaseNode[StateT, DepsT, RunEndT] | End[RunEndT]:
"""The next node that will be run in the graph.
    This is the next node that will be used during async iteration, or if a node is not passed to `self.next(...)`.
    """
    return self._next_node
  @property
  defresult(self) -> GraphRunResult[StateT, RunEndT] | None:
"""The final result of the graph run if the run is completed, otherwise `None`."""
    if not isinstance(self._next_node, End):
      return None # The GraphRun has not finished running
    return GraphRunResult(
      self._next_node.data,
      state=self.state,
      history=self.history,
    )
  async defnext(
    self: GraphRun[StateT, DepsT, T], node: BaseNode[StateT, DepsT, T] | None = None
  ) -> BaseNode[StateT, DepsT, T] | End[T]:
"""Manually drive the graph run by passing in the node you want to run next.
    This lets you inspect or mutate the node before continuing execution, or skip certain nodes
    under dynamic conditions. The graph run should stop when you return an [`End`][pydantic_graph.nodes.End] node.
    Here's an example of using `next` to drive the graph from [above][pydantic_graph.graph.Graph]:
```py {title="next_never_42.py" noqa="I001" py="3.10"}
    from copy import deepcopy
    from pydantic_graph import End
    from never_42 import Increment, MyState, never_42_graph
    async def main():
      state = MyState(48)
      async with never_42_graph.iter(Increment(), state=state) as graph_run:
        next_node = graph_run.next_node # start with the first node
        node_states = [(next_node, deepcopy(graph_run.state))]
        while not isinstance(next_node, End):
          if graph_run.state.number == 50:
            graph_run.state.number = 42
          next_node = await graph_run.next(next_node)
          node_states.append((next_node, deepcopy(graph_run.state)))
        print(node_states)
        '''
        [
          (Increment(), MyState(number=48)),
          (Check42(), MyState(number=49)),
          (End(data=49), MyState(number=49)),
        ]
        '''
```
    Args:
      node: The node to run next in the graph. If not specified, uses `self.next_node`, which is initialized to
        the `start_node` of the run and updated each time a new node is returned.
    Returns:
      The next node returned by the graph logic, or an [`End`][pydantic_graph.nodes.End] node if
      the run has completed.
    """
    if node is None:
      if isinstance(self._next_node, End):
        # Note: we could alternatively just return `self._next_node` here, but it's easier to start with an
        # error and relax the behavior later, than vice versa.
        raise exceptions.GraphRuntimeError('This graph run has already ended.')
      node = self._next_node
    history = self.history
    state = self.state
    deps = self.deps
    self._next_node = await self.graph.next(node, history, state=state, deps=deps, infer_name=False)
    return self._next_node
  def__aiter__(self) -> AsyncIterator[BaseNode[StateT, DepsT, RunEndT] | End[RunEndT]]:
    return self
  async def__anext__(self) -> BaseNode[StateT, DepsT, RunEndT] | End[RunEndT]:
"""Use the last returned node as the input to `Graph.next`."""
    if isinstance(self._next_node, End):
      raise StopAsyncIteration
    return await self.next(self._next_node)
  def__repr__(self) -> str:
    return f'<GraphRun name={self.graph.nameor"<unnamed>"} step={len(self.history)+1}>'

```
  
---|---  
####  __init__