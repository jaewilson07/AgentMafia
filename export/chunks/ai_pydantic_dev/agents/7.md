---
url: https://ai.pydantic.dev/agents/
session_id: pydantic_ai_docs
chunk_number: 7
title: Customizing Model Behavior with ModelSettings
summary: This section explains how to customize model behavior using a subclass of ModelSettings, such as GeminiModelSettings, with an example of configuring an agent's settings for specific model requirements.
embedding: [-0.021751869469881058, 0.04858582839369774, 0.023388247936964035, -0.011973505839705467, -0.006735097151249647, 0.020594431087374687, 0.005551050417125225, 0.013337155804038048, 0.010583248920738697, 0.017734093591570854, -0.018532326444983482, -0.04004472494125366, 0.01905117928981781, -0.00519184535369277, -0.014368207193911076, -0.024412648752331734, -0.02619537152349949, 0.01845250278711319, 0.006612036377191544, 0.013536714017391205, 0.04834635555744171, 0.028629982843995094, -0.004862573929131031, 0.029188746586441994, -0.01198680978268385, 0.005670785438269377, 0.00043694983469322324, 0.02330842614173889, -4.630379407899454e-05, -0.0066319918259978294, 0.026168763637542725, -0.01770748570561409, -0.032195426523685455, -0.036745358258485794, 0.01261209324002266, -0.012745131738483906, 0.03440387547016144, 0.0009894772665575147, -0.004586517810821533, 0.0073104905895888805, 0.013044469989836216, -0.05715353414416313, 0.0315302312374115, -0.0009321041870862246, -0.034377265721559525, 0.03496263921260834, 0.008221807889640331, 0.039512570947408676, 0.005850388202816248, -0.02563660778105259, -0.0673709288239479, 0.015086617320775986, -0.01738819107413292, 0.02377406135201454, 0.004656363278627396, -0.025849469006061554, -0.005880321841686964, 0.015778420493006706, -0.014860451221466064, -0.0447809137403965, 0.008900306187570095, -0.012326058931648731, -0.017468014732003212, 0.043823033571243286, -0.02998698130249977, -0.01636379212141037, -0.03509567677974701, 0.007436877582222223, -0.03783627972006798, 0.023108866065740585, 0.03796931728720665, 0.018691973760724068, -0.036825183779001236, -0.008720703423023224, -0.016257360577583313, -0.03634624183177948, 0.03203577920794487, 0.1069101020693779, 0.023295121267437935, -0.009399202652275562, 0.033445995301008224, -0.0042672245763242245, 0.003881411626935005, 0.027246378362178802, -0.04001811891794205, -0.015658685937523842, -0.08099411427974701, -0.022603318095207214, -0.021499095484614372, -0.07141531258821487, -0.0052916244603693485, 0.015791723504662514, -0.013649797067046165, 0.008168592117726803, 0.07455503195524216, -0.008122028782963753, -0.001323737669736147, -0.03477638214826584, 0.02261662296950817, -0.004007798619568348, 0.04411571845412254, -0.007536656688898802, -0.047867417335510254, 0.009166384115815163, 0.030386097729206085, -0.008627576753497124, 0.010683028027415276, 0.022470280528068542, -0.046563636511564255, -0.00279215513728559, -0.08280344307422638, -0.0036552452947944403, 0.008507841266691685, 0.02729959413409233, -0.09371264278888702, -0.01344358641654253, -0.00813533179461956, 0.01933056116104126, 0.017268456518650055, -0.036000341176986694, -0.020235225558280945, -0.0034057972952723503, 0.016563350334763527, -0.02100685052573681, 0.022962523624300957, -0.006678555626422167, -0.006997849326580763, -0.03485620766878128, -0.03695822134613991, -0.021725261583924294, 0.0033143330365419388, 0.0036552452947944403, 0.024998020380735397, 0.011654213070869446, -0.016842732205986977, -0.006146399769932032, -0.05571671575307846, -0.012525618076324463, -0.03765002638101578, 0.057419613003730774, -0.00044484902173280716, 0.012652005068957806, -0.03528193011879921, 0.04696275293827057, -0.019170913845300674, 0.03727751597762108, -0.026900477707386017, 0.021352753043174744, -0.03206238895654678, 0.02860337495803833, 0.04507359862327576, 0.04603147879242897, -0.0300401970744133, 0.008015597239136696, -0.024439256638288498, 0.012931386940181255, 0.011567736975848675, 0.05502491444349289, 0.02294922061264515, -0.06114470586180687, -0.017734093591570854, 0.04983639344573021, -0.02675413340330124, -0.03623981028795242, -0.025011323392391205, -0.0004030664567835629, -0.023188689723610878, -0.007882557809352875, -0.030625568702816963, -0.03679857403039932, -0.0049390713684260845, 0.008428017608821392, -0.024319522082805634, -0.001082604518160224, -0.002246695337817073, -0.041135646402835846, -0.05981431528925896, -0.038448259234428406, -0.04863904416561127, 0.005694067571312189, -0.000248824420850724, 0.010669724084436893, -0.06715806573629379, -0.005793846677988768, -0.02117980271577835, -0.054812051355838776, -0.008128680288791656, 0.013490150682628155, -0.005151933524757624, 0.009026693180203438, 0.029321786016225815, 0.026674311608076096, 0.019383776932954788, 0.00887369830161333, -0.010549989528954029, -0.02026183344423771, 0.048053670674562454, -0.008767267689108849, -0.0036386153660714626, 0.017813917249441147, 0.015485734678804874, -0.003174642100930214, 0.025942595675587654, 0.009651976637542248, 0.0008514493238180876, -0.04238621145486832, -0.012066633440554142, 0.013583277352154255, -0.04914459213614464, -0.003665223252028227, 0.0065987324342131615, -0.05031533166766167, 0.012086588889360428, 0.012079937383532524, -0.017255153506994247, 0.01411543320864439, -0.047441691160202026, 0.008268371224403381, -0.008148635737597942, 0.03573426231741905, -0.03456352278590202, 0.03914006054401398, 0.051619116216897964, -0.0582178458571434, -0.009239555336534977, 0.008700747974216938, 0.032887231558561325, -0.02225741744041443, -0.004456805065274239, 0.05502491444349289, -0.00485592195764184, -0.014514550566673279, 0.028683198615908623, -0.025756342336535454, 0.04129529371857643, -0.04435518756508827, 0.03584069386124611, -0.007204059511423111, 0.00507543608546257, 0.028896061703562737, -0.010510077700018883, 0.005554376635700464, 0.010164176113903522, -0.005554376635700464, 0.008288326673209667, 0.0436633862555027, 0.018758492544293404, -0.035122282803058624, 0.05071445181965828, 0.03174309432506561, 0.03472316637635231, 0.00832158699631691, -0.0047860764898359776, -0.014448030851781368, -0.019689764827489853, -0.005827106535434723, -0.00864753220230341, -0.019596638157963753, -0.021126586943864822, 0.007051064632833004, -0.01905117928981781, 0.02660779096186161, -0.02873641438782215, 0.01914430595934391, -0.029694294556975365, -0.022869396954774857, 0.004280528519302607, -0.020142098888754845, 0.009465721435844898, -0.07450181245803833, 0.028683198615908623, 0.01970306970179081, 0.016350487247109413, -0.0330202691257, -0.04209352657198906, -0.0038647816982120275, 0.00048642369802109897, 0.05646173283457756, -0.028257474303245544, -0.007569916546344757, -0.01103558111935854, 0.015232960693538189, 0.029880549758672714, 0.014793932437896729, 0.009831578470766544, 0.026780741289258003, -0.03490942344069481, -0.014687500894069672, 0.0004751985252369195, -0.01942368783056736, 0.016842732205986977, 0.026115547865629196, 0.030093412846326828, -0.004223986994475126, 0.017880436033010483, -0.013237375766038895, 0.043131228536367416, 0.014288383536040783, -0.028151042759418488, -0.012499010190367699, 0.054865267127752304, 0.027179859578609467, -0.01640370301902294, -0.02308225817978382, 0.01571190170943737, 0.03871433809399605, -0.0027821771800518036, -0.0058038244023919106, 0.007816039025783539, -0.010250651277601719, -0.013982394710183144, 0.03129076212644577, -0.04230638965964317, -0.03796931728720665, -0.00013948303239885718, -0.046936143189668655, 0.03565444052219391, -0.02703351527452469, 0.03206238895654678, -0.004024428315460682, -0.029614470899105072, -0.026727525517344475, -0.0014875418273732066, -0.006392521783709526, -0.05885643512010574, 0.001769418129697442, 0.01914430595934391, 0.003079851856455207, 0.021099979057908058, 0.028018005192279816, -0.01126839965581894, -0.06726449728012085, -0.02703351527452469, 0.03296705335378647, 0.02772531844675541, -0.03333956375718117, -0.04957031458616257, 0.05257699638605118, 0.016390400007367134, 0.063060462474823, -0.02636832185089588, -0.009505633264780045, -0.04204031080007553, -0.030811822041869164, -0.025796253234148026, -0.0017211914528161287, -0.005537746474146843, 0.026261890307068825, -0.006705163512378931, 0.025104451924562454, 0.03416440263390541, -0.005255038850009441, -0.005321558099240065, 0.04379642382264137, -0.021632134914398193, 0.008474581874907017, -0.021991340443491936, -0.0057572610676288605, -0.023521287366747856, 0.008687444031238556, -0.04895833507180214, 0.0059734489768743515, 0.00915308017283678, 0.012000113725662231, -0.030998077243566513, 0.035069070756435394, 0.007736215367913246, -0.02660779096186161, -0.020088883116841316, 0.029082316905260086, 0.012299451977014542, 0.022323936223983765, -0.033445995301008224, -0.009246207773685455, -0.014235168695449829, -0.014195256866514683, -0.05433310940861702, -0.0036552452947944403, 0.026115547865629196, 0.029082316905260086, 0.014687500894069672, 0.03858129680156708, 0.002245032461360097, -0.012598789297044277, 0.013297243975102901, 0.0571003220975399, 0.005983427166938782, 0.004277202300727367, -0.03605355694890022, 0.018904834985733032, 0.060452900826931, -0.03927310183644295, -0.03903362900018692, 0.02044808678328991, -0.010629812255501747, 0.025184273719787598, -0.015658685937523842, 0.008727355860173702, 0.04020437225699425, -0.003971213009208441, 0.013875963166356087, -0.028576767072081566, -0.03243489935994148, 0.0311577245593071, -0.03429744392633438, 0.017068898305296898, 0.051486074924468994, 0.009765059687197208, 0.010576597414910793, 0.013636493124067783, 0.07822690904140472, -0.01627066358923912, 0.017813917249441147, -0.016204144805669785, -0.03855469077825546, -0.057685691863298416, -0.01288482267409563, -0.019077787175774574, 0.048133496195077896, 0.04297158494591713, -0.024958107620477676, -0.11228487640619278, -0.0119402464479208, -0.0012921409215778112, -0.04055027291178703, 0.05257699638605118, 0.02586277388036251, -0.04972996190190315, 0.0012680275831371546, -0.008388105779886246, 0.0020488000009208918, 0.04376981779932976, 0.013875963166356087, -0.02475854940712452, 0.014208560809493065, -0.029561256989836693, 0.01733497530221939, 0.00959876086562872, -0.011787251569330692, -0.0015266219852492213, 0.0034191012382507324, -0.05151268467307091, 0.008660836145281792, 0.08785893023014069, -0.033818501979112625, -0.011275051161646843, -0.035441577434539795, -0.019623246043920517, 0.05869678780436516, -0.04903816059231758, -0.007084324490278959, -0.024558991193771362, -0.05827106162905693, 0.002215098589658737, -0.0020488000009208918, -0.04525985196232796, 0.09073256701231003, -0.015499038621783257, 0.06428442150354385, 0.006006708834320307, 0.0421733483672142, 0.023428160697221756, -0.038128964602947235, 0.02072746865451336, -0.01077615562826395, 0.022723054513335228, 0.010882586240768433, -0.005843736231327057, -0.01933056116104126, 0.02767210267484188, 0.02183169312775135, -0.04076313599944115, 0.03945935517549515, -0.012306103482842445, -0.017973562702536583, -0.03802253305912018, 0.00027148262597620487, 0.022177593782544136, 0.011714080348610878, -0.004220660775899887, 0.040683314204216, 0.002960116835311055, 0.05960145220160484, 0.04677649587392807, -0.01411543320864439, 0.0054346416145563126, 0.01992923580110073, -0.007842646911740303, -0.00820185150951147, 0.036080166697502136, -0.016935858875513077, -0.0057639130391180515, 0.057366397231817245, -0.015778420493006706, 0.05779212340712547, 0.023614414036273956, 0.0076963035389781, 0.0020205292385071516, -0.020940331742167473, -0.037942711263895035, -0.01066307257860899, -0.050501588732004166, -0.027565671131014824, 0.036505889147520065, -0.012538922019302845, -0.03296705335378647, 0.02897588536143303, -0.027565671131014824, -0.004689623136073351, 0.05465240404009819, -0.06471014767885208, -0.007237319368869066, 0.011142012663185596, 0.017813917249441147, 0.004486738704144955, -0.011175272054970264, 0.013982394710183144, 0.017215240746736526, 0.007064368575811386, 0.007170799653977156, 0.03472316637635231, -0.033259738236665726, -0.01835937611758709, -0.008095420897006989, 0.007663044147193432, -0.005311580374836922, 0.018718581646680832, -0.0023514635395258665, -0.030306274071335793, -0.01757444627583027, 0.01557886227965355, 0.023947011679410934, 0.03027966618537903, -0.021299537271261215, -0.03629302605986595, 0.00864753220230341, 0.001704561640508473, 0.020195312798023224, -0.029002493247389793, -0.014700804837048054, -0.0071042804047465324, 0.007283882703632116, -0.015698596835136414, -0.0029069012962281704, 0.00023323392088059336, 0.006053272634744644, 0.032700974494218826, 0.012738480232656002, -0.0034041344188153744, 0.005823780316859484, 0.06465693563222885, 0.004556584171950817, 0.009671932086348534, -0.029747510328888893, 0.015911459922790527, -5.2539995522238314e-05, -0.011388135142624378, -0.014421422965824604, 0.03323313221335411, 0.016749605536460876, -0.015073313377797604, -0.04435518756508827, 0.015645381063222885, 0.007423573639243841, -0.03365885466337204, 0.04001811891794205, 0.026035724207758904, -0.002090374706313014, -0.013430282473564148, 0.00915308017283678, -0.006163029465824366, 0.0035089023876935244, -0.017122114077210426, 0.003394156461581588, 0.015126529149711132, -0.04321105405688286, 0.028896061703562737, -0.01742810383439064, -0.02873641438782215, -0.00994466245174408, -0.005457923281937838, 0.006831550505012274, 0.035814087837934494, 0.02953464910387993, -0.03666553646326065, -0.020754076540470123, -0.01608441025018692, -0.006013360805809498, -0.0013503454392775893, -0.0031513602007180452, 0.03091825358569622, -0.013875963166356087, -0.00021119933808222413, -0.005171889439225197, -0.008900306187570095, 0.024465864524245262, 0.018705276772379875, 0.007503397297114134, -0.04808028042316437, 0.017401495948433876, 0.03416440263390541, -0.02604902721941471, 0.0005159417050890625, 0.02823086641728878, -0.006542190909385681, 0.0017611031653359532, 0.016909250989556313, 0.0160444974899292, -0.04150815308094025, -0.006608710158616304, -0.02692708559334278, 0.016816124320030212, -0.002171861007809639, -0.03586730360984802, -0.029694294556975365, -0.0008344037341885269, -0.036000341176986694, 0.009146428667008877, 0.07945086807012558, -0.02554347924888134, -0.02196473255753517, 0.024745246395468712, 0.007922469638288021, 0.005733978934586048, 0.001016085036098957, 0.008820482529699802, -0.017215240746736526, -0.018904834985733032, -0.004303810186684132, 0.014075521379709244, -0.04547271504998207, 0.01974298059940338, 0.032940447330474854, 0.018878227099776268, -0.018931442871689796, -0.004307136405259371, -0.019995754584670067, -0.033073484897613525, -0.036878399550914764, -0.021525703370571136, -0.01261209324002266, 0.008175243623554707, -0.0047627948224544525, -0.0300401970744133, -0.005008916836231947, -0.01636379212141037, -0.012671960517764091, 0.028151042759418488, 0.03262115269899368, -0.0237873662263155, -0.009352638386189938, -0.04108243063092232, 0.007004501298069954, -0.015592165291309357, -0.004293832462280989, 0.0002326102985534817, -0.011135361157357693, -0.033445995301008224, -0.010742896236479282, 0.00860096886754036, -0.027272986248135567, 0.017640965059399605, -0.0002149410720448941, -0.0001254515809705481, -0.003144708229228854, 0.022310633212327957, 0.001608939841389656, -0.0017677551368251443, 0.026115547865629196, 0.0046197776682674885, -0.024785157293081284, 0.002462883712723851, 0.003182956948876381, 0.011255095712840557, 0.004004472400993109, -0.01439481507986784, 0.03341938555240631, -0.024093355983495712, -0.03983186185359955, 0.0233217291533947, -0.022829484194517136, -0.020035667344927788, -0.06236866116523743, 0.02002236247062683, 0.0600803941488266, 0.006904721725732088, -0.016949163749814034, 0.002580955857411027, 0.015964675694704056, 0.03560122475028038, 0.00479938043281436, -0.0485060028731823, -0.021991340443491936, 0.03230185806751251, 0.0307852141559124, 0.004809358157217503, -0.012252887710928917, -0.003738394705578685, -0.0008872035541571677, -0.03315330669283867, -0.017068898305296898, -0.002166871912777424, 0.0431046225130558, 0.0038148921448737383, -0.017188632860779762, -0.029880549758672714, 0.004633081611245871, 0.02772531844675541, 0.0012638700427487493, -0.02735280990600586, -0.029827333986759186, 0.023215297609567642, -0.020381567999720573, 0.01404891349375248, -0.012685264460742474, -0.023335032165050507, -0.01351010613143444, 0.026488056406378746, 0.01623075269162655, -0.005993404891341925, -0.03129076212644577, 0.017787309363484383, -0.03235507383942604, 0.00887369830161333, -0.0016031194245442748, -0.017640965059399605, -0.010476818308234215, 0.033818501979112625, -0.027698710560798645, -0.016337184235453606, 0.002186827827244997, -0.022124378010630608, -0.0064623672515153885, -0.02595590054988861, -0.007543308660387993, -0.013130945153534412, -0.048798687756061554, 0.026501359418034554, -0.02990715764462948, -0.006176333408802748, -0.009226251393556595, 0.014780628494918346, -0.0011308310786262155, 0.00259093358181417, -0.0038913895841687918, 0.008587664924561977, -0.004599821753799915, 0.03820879012346268, 0.001579837640747428, 0.028018005192279816, -0.012226279824972153, 0.010616508312523365, -0.03195595741271973, -0.0153926070779562, 0.02526409737765789, 0.011181924492120743, -0.0020454740151762962, 0.009232903830707073, -0.05004925653338432, 0.015632078051567078, 0.017268456518650055, 0.004722882993519306, -0.031636662781238556, 0.03514889255166054, -0.002328181639313698, -0.0014526190934702754, 0.0311577245593071, -0.019862717017531395, -0.013124292716383934, 0.0074701374396681786, -0.018878227099776268, -0.013150900602340698, -0.008547753095626831, 0.0237873662263155, 0.0436633862555027, -0.04286515340209007, -0.0057805427350103855, -0.029508041217923164, 0.029029101133346558, -0.0015041717560961843, -0.0076164803467690945, 0.027006907388567924, -0.010702984407544136, 0.01589815504848957, -0.004277202300727367, -0.018106602132320404, -0.018146513029932976, -0.01817312091588974, -0.046377379447221756, -0.024731941521167755, -0.06476336717605591, -0.005068784113973379, 0.011414742097258568, 0.011640909127891064, 0.010243999771773815, -0.0009786678710952401, 0.011534477584064007, -0.10350430756807327, -0.01112205721437931, 0.039512570947408676, 0.004214008804410696, 0.01729506440460682, -0.002208446618169546, 0.009751755744218826, 0.04635077342391014, -0.03421761840581894, -0.005155259743332863, 0.027831749990582466, 0.024080051109194756, -0.018439199775457382, -0.0024761876557022333, 0.0337652862071991, -0.05678102746605873, 0.02558339200913906, -0.04092278331518173, 0.06348618865013123, -0.014501246623694897, -0.030891645699739456, 0.006844854447990656, -0.04784080758690834, 0.013277287594974041, -0.021592222154140472, -0.007729563396424055, -0.029454825446009636, 0.04914459213614464, 0.011481261812150478, -0.006000056862831116, -0.03323313221335411, -0.03373868018388748, 0.019676461815834045, 0.010243999771773815, -0.03565444052219391, 0.05039515718817711, 0.009405854158103466, 0.008248415775597095, 0.001857556402683258, 0.008288326673209667, 0.0214591845870018, -0.015725204721093178, 0.011667516082525253, 0.030811822041869164, 0.013297243975102901, -0.015645381063222885, -0.019303953275084496, -0.000570404517930001, -0.0058537139557302, 0.00687146233394742, -0.011720731854438782, 0.02550356835126877, 0.009252859279513359, -0.0073104905895888805, 0.027831749990582466, 0.024306217208504677, -0.049064766615629196, 0.027618886902928352, -0.024625511839985847, 0.033073484897613525, -0.0007691314676776528, -0.020155401900410652, -0.00843467004597187, -0.003370874561369419, -0.0031580121722072363, -0.004480086732655764, -0.0004357025900389999, -0.005195171106606722, -0.007184103596955538, -0.01126839965581894, -0.014155345037579536, 0.015472430735826492, 0.00820850394666195, -0.004716231022030115, 0.01757444627583027, 0.024000227451324463, 0.015046706423163414, 0.023441463708877563, 0.000613642216194421, 0.0028902713675051928, 0.03858129680156708, -0.020235225558280945, 0.021126586943864822, 0.03027966618537903, -0.04613791033625603, 0.028018005192279816, 0.022789573296904564, -0.0153926070779562, -0.004653037525713444, 0.018612150102853775, 0.013137596659362316, -0.013323851861059666, -0.004057688172906637, 0.002640823367983103, -0.0451534204185009, 0.016975771635770798, -0.028576767072081566, 0.018040083348751068, -0.012898126617074013, -0.003369211684912443, 0.027565671131014824, 0.012918082997202873, -0.032754190266132355, 0.006013360805809498, 0.0006851506186649203, 0.06423120945692062, -0.02470533363521099, -0.010476818308234215, 0.001169911352917552, 0.0324615053832531, 0.010396994650363922, 0.005201823078095913, -0.03890059143304825, 0.019969146698713303, -0.01261209324002266, -0.00020943241543136537, 0.05837749317288399, -0.023015739396214485, -0.06151721253991127, 0.006375892087817192, -0.014168648980557919, 0.010377038270235062, -0.005171889439225197, 0.04302479699254036, -0.005221778992563486, 0.014926970936357975, -0.04047045111656189, -0.005557702388614416, -0.030120020732283592, 0.0011441350216045976, 0.02350798435509205, 0.028470337390899658, -0.023029044270515442, 0.0048027061857283115, -0.04001811891794205, -0.008408062160015106, 0.025516871362924576, -0.05960145220160484, 0.005338188260793686, -0.022044554352760315, -0.003592051798477769, -0.00871405191719532, 0.016722997650504112, -0.036319635808467865, -0.038368433713912964, -0.01502009853720665, 0.013796139508485794, -0.030146626755595207, 0.03546818718314171, 0.01645691879093647, 0.003861455712467432, -0.0147407166659832, 0.014354903250932693, 0.02280287630856037, -0.029135530814528465, 0.028443729504942894, -0.004054362419992685, -0.032940447330474854, -0.027459241449832916, -0.009844882413744926, -0.027618886902928352, 0.059920746833086014, 0.002830403856933117, 0.0044202194549143314, 2.0540486730169505e-05, -0.004919115453958511, -0.01216641254723072, -0.0006543853669427335, -0.018745189532637596, -0.0032461504451930523, -0.011620952747762203, -0.01495357882231474, 0.024731941521167755, -0.01631057634949684, 0.05145946890115738, 0.07067029178142548, 0.030013589188456535, -0.002704016864299774, -0.010144220665097237, 0.04001811891794205, 0.02253679931163788, 0.016949163749814034, -0.010982366278767586, -0.010975713841617107, 0.035760872066020966, 0.022177593782544136, 0.014966882765293121, 0.030865037813782692, -0.026527967303991318, 0.008720703423023224, 0.05026211962103844, 0.000943745078984648, -0.010204087942838669, 0.02703351527452469, 0.002800469985231757, -0.003801588201895356, 0.05446615070104599, 0.020687557756900787, -0.007297186646610498, -0.010822718963027, -0.022004643455147743, 0.0141819529235363, -0.019955843687057495, -0.004599821753799915, 0.0031430453527718782, 0.05121999979019165, 0.01682942733168602, -0.006512256804853678, -0.010849326848983765, 0.00841471366584301, -0.029960373416543007, 0.012552225962281227, 0.009558849036693573, -0.03259454295039177, 0.00810872483998537, 0.02953464910387993, -0.011966854333877563, -0.005770564544945955, -0.018159817904233932, 0.003161338157951832, -5.690533362212591e-05, -0.005175215192139149, -0.008048856630921364, -7.306748739210889e-05, 0.030811822041869164, 0.010130916722118855, -0.012685264460742474, 0.026501359418034554, 0.028177650645375252, -0.01886492408812046, -0.024678725749254227, -0.0011441350216045976, -0.014035609550774097, -0.03041270561516285, 0.020062275230884552, -0.006498952861875296, 0.02076738141477108, -0.01867866888642311, 0.0029700947925448418, -0.004263898357748985, 0.006412477698177099, 0.009372594766318798, -0.024825070053339005, -0.03187613561749458, 0.020048970356583595, 0.011175272054970264, 0.022922612726688385, 0.052683427929878235, -0.010915846563875675, -0.0455259308218956, -0.013583277352154255, 0.004014450591057539, 0.02071416564285755, -0.02224411442875862, 0.027459241449832916, 0.0032927142456173897, 0.014807235449552536, 0.03584069386124611, -0.0029850616119802, 0.019543422386050224, 0.0034124492667615414, 0.03584069386124611, -0.0039545828476548195, 0.015326088294386864, -0.011906987056136131, -0.018572239205241203, -0.010875934734940529, 0.01714872196316719, 0.04659024253487587, -0.010310519486665726, -0.00975840725004673, 0.008141984231770039, -0.010975713841617107, 0.013496802188456059, -0.029614470899105072, -0.011547781527042389, -0.041561368852853775, -0.0032511395402252674, -0.011867075227200985, -0.03961900249123573, -0.035441577434539795, -0.0062761129811406136, -0.02313547395169735, -0.028949277475476265, 0.029055709019303322, -0.019117698073387146, -0.027831749990582466, -0.031077900901436806, 0.0071109323762357235, 0.008487885817885399, 0.019436990842223167, 0.0017295064171776175, -0.00997126940637827, -0.03610677272081375, 0.01724184863269329, 0.0050920662470161915, 0.008747311308979988, 0.02549026347696781, -0.01038369070738554, -0.01664317399263382, -0.0009262837120331824, -0.0059801009483635426, -0.020660949870944023, -0.004546606447547674, -0.003392493352293968, -0.023255210369825363, -0.0009628694388084114, -0.015858244150877, 0.03522871434688568, 0.015379303134977818, -0.03443048149347305, -0.009725147858262062, 0.03522871434688568, -0.027751926332712173, 0.019410382956266403, -0.008727355860173702, -0.052922897040843964, -0.022869396954774857, -0.012040025554597378, -0.009725147858262062, -0.004187401384115219, 0.04116225242614746, 0.011514522135257721, -0.018652061000466347, 0.003093155799433589, -0.009678584523499012, -0.019184216856956482, -0.006794964894652367, 0.00580715062096715, -0.015046706423163414, 0.020421480759978294, 0.0078093865886330605, 0.005408033728599548, 0.025410441681742668, -0.05225770175457001, -0.009006737731397152, -0.0472022220492363, -0.020554518327116966, -0.0001496688200859353, -0.027565671131014824, -0.001307939295656979, -0.02313547395169735, -0.007676347624510527, 0.012312755919992924, 0.031503625214099884, -0.02530401013791561, -0.009911402128636837, 0.009771711193025112, -0.00810872483998537, -0.0016904262593016028, 0.06534873694181442, 0.0002901912375818938, -0.02638162486255169, 0.038182180374860764, -0.010583248920738697, 0.006139747798442841, 0.03280740603804588, 0.00931937899440527, -0.003997820429503918, -0.021672045812010765, -0.028683198615908623, 0.03929970785975456, -0.007756171282380819, -0.004051036201417446, 0.02136605605483055, -0.009798319078981876, 0.0004307136114221066, -0.004559910390526056, 0.029747510328888893, -0.014261776581406593, 0.03027966618537903, 0.04017776623368263, -0.014235168695449829, -0.02364102192223072, 0.012179716490209103, -0.0022566732950508595, 0.030625568702816963, -0.048931729048490524, 0.01785382814705372, 0.03639945760369301, 0.008627576753497124, -0.030439313501119614, -0.017042290419340134, 0.0027156576979905367, -0.05646173283457756, 0.018159817904233932, 0.011833814904093742, -0.005341514013707638, -0.01228614803403616, 0.022284025326371193, -0.005714023020118475, 0.006532212719321251, -0.0152994804084301, -0.013849355280399323, 0.0037051348481327295, 0.021539006382226944, 0.009419158101081848, -0.02330842614173889, 0.01839928701519966, 0.017840523272752762, 0.02651466429233551, -0.020847205072641373, -0.0007728731725364923, -0.008348194882273674, 0.006685207597911358, -0.051246605813503265, -0.006784986704587936, 0.03230185806751251, 0.03158344700932503, 0.032940447330474854, -0.012811651453375816, 0.01955672726035118, 0.01211984921246767, 0.014235168695449829, -0.010969062335789204, -0.018319465219974518, 0.008421366102993488, -0.03565444052219391, 0.0022333913948386908, 0.05233752727508545, -0.016816124320030212, -0.0038780856411904097, 0.03666553646326065, -0.010882586240768433, 0.019224129617214203, 0.012040025554597378, -0.0008393926545977592, -0.02313547395169735, 0.027246378362178802, 0.04020437225699425, 0.010184132494032383, -0.019995754584670067, -0.013137596659362316, 0.00997126940637827, -0.036692142486572266, -0.01593806780874729, 0.02377406135201454, 0.0004797717265319079, -0.029241962358355522, 0.019623246043920517, 0.03187613561749458, 0.011587693355977535, 0.015751812607049942, 0.022097770124673843, 0.012685264460742474, 0.011734035797417164, 0.02067425474524498, 0.00949898175895214, -0.035069070756435394, 0.009791667573153973, 0.010124264284968376, -0.015046706423163414, -0.03767663240432739, 0.024638814851641655, -0.004549932200461626, 0.0040909480303525925, -0.017534535378217697, -0.018040083348751068, 0.013849355280399323, 0.01933056116104126, -0.008740659803152084, -0.0039379531517624855, -0.009352638386189938, -0.016057802364230156, -0.012000113725662231, -0.023720845580101013, -0.0589628666639328, 0.02942821756005287, -0.023627718910574913, -0.02425300143659115, 0.01668308489024639, -0.017188632860779762, -0.016297271475195885, 0.00010554770415183157, -0.004503368865698576, 0.03448369726538658, 0.030492529273033142, -0.024825070053339005, -0.022084467113018036, 0.0016272327629849315, -0.006153051741421223, -0.009751755744218826, 0.0209004208445549, -0.05241734907031059, 0.009093212895095348, -0.00329105113632977, 0.020594431087374687, -0.004343722015619278, -0.016563350334763527, -0.017680877819657326, -0.00943246204406023, 0.02636832185089588, 0.0002315709280082956, -0.023627718910574913, -0.014767324551939964, -0.016629869118332863, 0.018878227099776268, -5.950375270913355e-05, -0.029641078785061836, 0.004613125696778297, -0.007510049268603325, -0.0012996243312954903, 0.0074634854681789875, 0.006492300890386105, 0.0007200733525678515, -0.03807574883103371, 0.038501475006341934, -0.023867188021540642, -0.0054113594815135, -0.011248444207012653, 0.01267861295491457, -0.0007005332736298442, -0.01010430883616209, -0.0012671960284933448, -0.0018425895832479, 0.005155259743332863, 0.03634624183177948, 0.004889181815087795, -0.0046264296397566795, 0.000892192532774061, 0.027592279016971588, -0.017068898305296898, 0.028709806501865387, 0.015738507732748985, 0.039565786719322205, -0.03341938555240631, 0.021525703370571136, -0.010563293471932411, 0.01988932490348816, 0.003394156461581588, 0.0027239725459367037, -0.0015257905470207334, 0.007483441382646561, -0.016017889603972435, -0.012638701125979424, 0.015086617320775986, -0.013583277352154255, -0.010250651277601719, -0.015139833092689514, -0.033445995301008224, -0.033073484897613525, -0.016989074647426605, -0.0007333772373385727, -0.001191530143842101, 0.016430310904979706, 0.02438604086637497, -0.04525985196232796, -0.01761435717344284, 0.012266191653907299, 0.011747339740395546, -0.02558339200913906, -0.007982337847352028, -0.01279169600456953, -0.01923743262887001, -0.03240828961133957, 0.023428160697221756, -0.000266909395577386, -0.003868107683956623, 0.00463640782982111, -0.0227629654109478, 0.0013478508917614818, 0.027805142104625702, -0.0062694610096514225, -0.017827220261096954, 0.04023098200559616, 0.0012597126187756658, 0.03621320426464081, -0.0071508437395095825, 0.009492329321801662, -0.02684726193547249, -0.01490036305040121, 0.017880436033010483, 0.026275193318724632, -0.029082316905260086, 0.0063093723729252815, -0.027964789420366287, 0.011082145385444164, 0.03440387547016144, -0.013217420317232609, 0.007682999595999718, 0.057738907635211945, 0.0018825012957677245, 0.011028929613530636, -0.020607734099030495, -0.009791667573153973, -0.02350798435509205, -0.027964789420366287, -0.010277259163558483, 0.01360988523811102, -0.017095506191253662, -0.03158344700932503, 0.03866112232208252, -0.024066748097538948, 0.02290930785238743, -0.021525703370571136, 0.0042738765478134155, 0.01696246676146984, -0.009492329321801662, -0.013190812431275845, 0.021751869469881058, 0.03772984817624092, 0.013596581295132637, -0.02113988995552063, -0.03184952586889267, 0.008354846388101578, -0.061251137405633926, -0.012778392061591148, -0.03216882050037384, -0.006532212719321251, 0.027046820148825645, -0.034749776124954224, -0.02201794646680355, 0.00668853335082531, 0.02679404616355896, 0.011567736975848675, 0.01960994303226471, -0.02614215575158596, -0.0326477587223053, -0.026261890307068825, -0.03336616978049278, -0.0038947155699133873, 0.0164170078933239, -0.028576767072081566, 0.012711872346699238, 0.0009054964175447822, 0.01752123050391674, 0.007822690531611443, -0.01776070147752762, -0.001264701597392559, -0.03639945760369301, -0.00014041845861356705, -0.005873669870197773, -0.017494622617959976, -0.02216429077088833, 0.006216245237737894, 0.0021302863024175167, 0.0152994804084301, 0.014022305607795715, 0.01886492408812046, 0.005963471252471209, 0.004080969840288162, -0.016842732205986977, 0.0313439778983593, -0.010490121319890022, 0.012785043567419052, 0.006728445179760456, 0.0006710152374580503, -0.0005234251730144024, -0.023667629808187485, 0.012459098361432552, 0.0013977405615150928, -0.018465807661414146, 0.059867531061172485, 0.00175611418671906, -0.007549960631877184, 0.013603233732283115, 0.003874759655445814, 0.020594431087374687, -0.035441577434539795, 0.03129076212644577, 0.051991622895002365, 0.0056375255808234215, 0.005058806389570236, -0.012977950274944305, 0.01333050336688757, 0.04398268088698387, -0.0019922584760934114, -0.004147489555180073, -0.031716488301754, 0.015046706423163414, 0.018199728801846504, 0.00029580379487015307, 0.020128794014453888, -0.009093212895095348, 0.016283968463540077, 0.02414656989276409, -0.018891531974077225, 0.005338188260793686, 0.03110450878739357, 0.005677437409758568, 0.015977978706359863, 0.025609999895095825, 0.045685578137636185, 0.013230724260210991, 0.006508931051939726, -0.0014476301148533821, -0.007217363454401493, 0.0011815521866083145, 0.02498471550643444, -2.34637063840637e-05, -0.0429183691740036, -0.004307136405259371, -0.00430048443377018, -0.0018259596545249224, 0.00931937899440527, 0.018439199775457382, 0.01502009853720665, -0.005886973813176155, -0.013729620724916458, 0.008215155452489853, -0.006385869812220335, 0.01822633668780327, 0.021259624511003494, 0.012605440802872181, -0.005600939970463514, 0.013875963166356087, -0.008820482529699802, 0.016616566106677055, -0.0010077700717374682, 0.01724184863269329, -0.02196473255753517, -0.01490036305040121, 0.012033374048769474, -0.020381567999720573, -0.01994253881275654, 0.04353034496307373, 0.014926970936357975, -0.007822690531611443, 0.0012588811805471778, 0.02785835787653923, 1.3927516192779876e-05, 0.012924734503030777, 0.0227629654109478, -0.0574728287756443, -0.01631057634949684, -0.031024685129523277, -0.023574503138661385, -0.02020861767232418, 0.006568798329681158, -0.05683424323797226, 0.008148635737597942, -0.040071334689855576, 0.00212030834518373, -0.021392663940787315, 0.017534535378217697, -0.002111993497237563, -0.031317371875047684, -0.01830616034567356, 0.00709097646176815]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-14T10:14:02.135537", "url_path": "/agents/", "chunk_size": 4269}
updated_dt: 2025-03-14T10:14:02.135537
---
```

### Model specific settings
If you wish to further customize model behavior, you can use a subclass of [`ModelSettings`](https://ai.pydantic.dev/api/settings/#pydantic_ai.settings.ModelSettings), like [`GeminiModelSettings`](https://ai.pydantic.dev/api/models/gemini/#pydantic_ai.models.gemini.GeminiModelSettings), associated with your model of choice.
For example:
```
frompydantic_aiimport Agent, UnexpectedModelBehavior
frompydantic_ai.models.geminiimport GeminiModelSettings
agent = Agent('google-gla:gemini-1.5-flash')
try:
  result = agent.run_sync(
    'Write a list of 5 very rude things that I might say to the universe after stubbing my toe in the dark:',
    model_settings=GeminiModelSettings(
      temperature=0.0, # general model settings can also be specified
      gemini_safety_settings=[
        {
          'category': 'HARM_CATEGORY_HARASSMENT',
          'threshold': 'BLOCK_LOW_AND_ABOVE',
        },
        {
          'category': 'HARM_CATEGORY_HATE_SPEECH',
          'threshold': 'BLOCK_LOW_AND_ABOVE',
        },
      ],
    ),
  )
except UnexpectedModelBehavior as e:
  print(e) [](https://ai.pydantic.dev/agents/#__code_8_annotation_1)
"""
  Safety settings triggered, body:
  <safety settings details>
  """

```

## Runs vs. Conversations
An agent **run** might represent an entire conversation — there's no limit to how many messages can be exchanged in a single run. However, a **conversation** might also be composed of multiple runs, especially if you need to maintain state between separate interactions or API calls.
Here's an example of a conversation comprised of multiple runs:
conversation_example.py```
frompydantic_aiimport Agent
agent = Agent('openai:gpt-4o')
# First run
result1 = agent.run_sync('Who was Albert Einstein?')
print(result1.data)
#> Albert Einstein was a German-born theoretical physicist.
# Second run, passing previous messages
result2 = agent.run_sync(
  'What was his most famous equation?',
  message_history=result1.new_messages(), [](https://ai.pydantic.dev/agents/#__code_9_annotation_1)
)
print(result2.data)
#> Albert Einstein's most famous equation is (E = mc^2).

```

_(This example is complete, it can be run "as is")_
## Type safe by design
PydanticAI is designed to work well with static type checkers, like mypy and pyright.
Typing is (somewhat) optional
PydanticAI is designed to make type checking as useful as possible for you if you choose to use it, but you don't have to use types everywhere all the time.
That said, because PydanticAI uses Pydantic, and Pydantic uses type hints as the definition for schema and validation, some types (specifically type hints on parameters to tools, and the `result_type` arguments to [`Agent`](https://ai.pydantic.dev/api/agent/#pydantic_ai.agent.Agent)) are used at runtime.
We (the library developers) have messed up if type hints are confusing you more than helping you, if you find this, please create an [issue](https://github.com/pydantic/pydantic-ai/issues) explaining what's annoying you!
In particular, agents are generic in both the type of their dependencies and the type of results they return, so you can use the type hints to ensure you're using the right types.
Consider the following script with type mistakes:
type_mistakes.py```
fromdataclassesimport dataclass
frompydantic_aiimport Agent, RunContext

@dataclass
classUser:
  name: str

agent = Agent(
  'test',
  deps_type=User, [](https://ai.pydantic.dev/agents/#__code_10_annotation_1)
  result_type=bool,
)

@agent.system_prompt
defadd_user_name(ctx: RunContext[str]) -> str: [](https://ai.pydantic.dev/agents/#__code_10_annotation_2)
  return f"The user's name is {ctx.deps}."

deffoobar(x: bytes) -> None:
  pass

result = agent.run_sync('Does their name start with "A"?', deps=User('Anne'))
foobar(result.data) [](https://ai.pydantic.dev/agents/#__code_10_annotation_3)

```

Running `mypy` on this will give the following output:
```
➤uvrunmypytype_mistakes.py
type_mistakes.py:18:error:Argument1to"system_prompt"of"Agent"hasincompatibletype"Callable[[RunContext[str]], str]";expected"Callable[[RunContext[User]], str]"[arg-type]
type_mistakes.py:28:error:Argument1to"foobar"hasincompatibletype"bool";expected"bytes"[arg-type]
Found2errorsin1file(checked1sourcefile)