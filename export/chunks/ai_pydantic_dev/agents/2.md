---
url: https://ai.pydantic.dev/agents/
session_id: pydantic_ai_docs
chunk_number: 2
title: Agents Documentation Overview
summary: This section outlines the table of contents for the agents documentation, covering key topics such as introduction, running agents, streaming, and configuration options, including usage limits and model settings.
embedding: [-0.049955904483795166, 0.02571178413927555, 0.02225031517446041, -0.012696663849055767, 0.004690289031714201, 0.019107302650809288, 0.012302056886255741, -0.004039532970637083, 0.04037456214427948, 0.013845871202647686, 0.010993622243404388, -0.07476770877838135, 0.006161412689834833, -0.013278190977871418, 0.002947439905256033, -0.01891346089541912, -0.02838403731584549, 0.026971757411956787, 0.01077208761125803, 0.046162135899066925, 0.021945705637335777, -0.017695024609565735, 0.040513020008802414, 0.00881982035934925, -0.002099380362778902, -0.0013248767936602235, 0.002248223405331373, 0.03023938275873661, -0.003297048155218363, 0.0010869009420275688, 0.05854034423828125, -0.013631260022521019, -0.0332023985683918, 0.011464381590485573, -0.008376752026379108, -0.016753504052758217, 0.050122056156396866, 0.03719000890851021, 0.010716704651713371, 0.031042443588376045, -0.0019816902931779623, -0.03840844705700874, 0.03802076354622841, 0.018885768949985504, -0.043199118226766586, 0.02064419351518154, 0.008605209179222584, 0.006455637514591217, -0.020422659814357758, 0.006497174967080355, -0.05521733686327934, 0.03226087987422943, 0.002673983806744218, -0.004807978868484497, -0.017695024609565735, -0.006050645839422941, -0.02938093990087509, 0.024991797283291817, 0.03525158762931824, -0.044971391558647156, -0.013658951967954636, 0.007559845689684153, 0.012405901215970516, 0.029547089710831642, -0.03023938275873661, -0.02306722104549408, -0.07543230801820755, 0.02871633693575859, -0.03566696494817734, 0.005683730356395245, 0.03694078326225281, 0.008667515590786934, -0.012945889495313168, -0.004901438485831022, -0.03799306973814964, -0.02698560431599617, 0.060367997735738754, 0.06114336848258972, -0.002300145337358117, -0.0019903439097106457, -0.00037838169373571873, -0.006275641266256571, 0.027705589309334755, 0.005261430982500315, -0.019785750657320023, -0.05103588104248047, -0.02504718117415905, -0.015133537352085114, -0.022997992113232613, -0.057986509054899216, -0.026224080473184586, 0.0250887181609869, -0.015507375821471214, 0.018442701548337936, 0.061531051993370056, 0.026348693296313286, 0.009048276580870152, 0.0011440151138231158, 0.032399337738752365, 0.018151937052607536, 0.02381489798426628, -0.015230458229780197, -0.027179446071386337, -0.00624102633446455, 0.02744251675903797, 0.006524866912513971, 0.007462924811989069, -0.0019332298543304205, -0.08828127384185791, -0.0322054959833622, -0.07271851599216461, -0.013548185117542744, -0.030987059697508812, 0.03455929458141327, -0.04630059376358986, -0.009539805352687836, 0.022624153643846512, 0.020491890609264374, 0.018484238535165787, -0.045663684606552124, -0.02821788564324379, -0.000845896196551621, 0.00570449884980917, -0.001336991903372109, 0.02974093146622181, 0.015119691379368305, -0.020491890609264374, -0.04990052059292793, 0.03422699496150017, -0.003473582910373807, 0.009214427322149277, 0.004690289031714201, -0.013437418267130852, -0.0009510382660664618, -0.034420836716890335, -0.0019280376145616174, 0.0016087171388790011, -0.025642553344368935, -0.03334086015820503, 0.018885768949985504, 0.011305154301226139, -0.015327380038797855, -0.027497900649905205, 0.005950263235718012, -0.013935869559645653, 0.034670062363147736, -0.04846055060625076, 0.019799595698714256, -0.043392959982156754, 0.012558205053210258, 0.029685547575354576, -0.023704132065176964, -0.034836214035749435, 0.012592820450663567, -0.02796865999698639, -0.006351793650537729, -0.020616503432393074, 0.03516851365566254, 0.01755656488239765, -0.03904535621404648, 0.012682817876338959, 0.07476770877838135, -0.018235012888908386, -0.006358716636896133, -0.025407174602150917, 0.0015732371248304844, -0.03647002577781677, 0.009041354060173035, -0.02727636694908142, 0.0032105115242302418, 0.025061028078198433, -0.005742575041949749, -0.00631371745839715, -0.013208961114287376, 0.019218070432543755, -0.044556014239788055, -0.026334848254919052, -0.05759882554411888, -0.012281288392841816, -0.045248307287693024, -0.03151320293545723, -0.020422659814357758, -0.025531787425279617, -0.03608234226703644, -0.006767169572412968, 0.007566768676042557, 0.022153394296765327, -0.027013294398784637, -0.04164838045835495, 0.0040603019297122955, 0.03649771586060524, 0.046411361545324326, 0.04306066036224365, 0.0331193245947361, -0.00805137399584055, 0.0037003092002123594, 0.06225103884935379, -0.015465838834643364, 0.030433224514126778, -0.012966658920049667, 0.014205863699316978, 0.036802325397729874, 0.022194931283593178, -0.01110438909381628, 0.012558205053210258, -0.033922385424375534, 0.007282928563654423, 0.006282564252614975, -0.03339624032378197, -0.02429950423538685, 0.023205680772662163, -0.044556014239788055, 0.029879391193389893, -0.03840844705700874, -0.05903879553079605, 0.005341045092791319, -0.008411366492509842, 0.04114992916584015, -0.005372198298573494, 0.05289122834801674, -0.021987244486808777, 0.03555619716644287, -0.004787209909409285, -0.003219165140762925, -0.035611581057310104, 0.023801052942872047, 0.02443796396255493, -0.04516523331403732, 0.024950260296463966, 0.024617958813905716, -0.01783348247408867, -0.01013517752289772, -0.017944250255823135, -0.03242703154683113, 0.03242703154683113, -0.040346868336200714, 0.009775185026228428, 0.017930403351783752, -0.01939806528389454, -0.00732446601614356, 0.00261513888835907, -0.0021097646094858646, 0.009588265791535378, -0.0328700989484787, -0.005171433091163635, 0.039820726960897446, 0.003153397236019373, -0.021973397582769394, 0.0688970535993576, 0.016781195998191833, 0.02904863841831684, -0.02212570235133171, -0.00576680526137352, -0.020824190229177475, -0.026224080473184586, 0.0016286206664517522, -0.017238110303878784, -0.030848601832985878, -0.012267442420125008, -0.010273636318743229, 0.02043650671839714, 0.003683001734316349, -0.0637463927268982, -0.008314445614814758, -0.00035826192470267415, -0.033950075507164, 0.0071583157405257225, -0.022845687344670296, -0.021267257630825043, -0.028660953044891357, -0.0041156853549182415, 0.000663736485876143, -0.015438146889209747, 1.8051014194497839e-06, -0.03555619716644287, -0.029685547575354576, 0.021267257630825043, 0.01077208761125803, -0.010204407386481762, -0.014095096848905087, -0.011651300825178623, 0.01912114769220352, 0.04815594106912613, 0.0338670015335083, 0.003037438029423356, -0.016005827113986015, -0.028148656710982323, -0.032648563385009766, 0.01578429341316223, 0.0023451445158571005, 0.011305154301226139, 0.031291671097278595, 0.033507008105516434, -0.007518308237195015, 0.0027674436569213867, -0.013292036950588226, 0.02035343088209629, -0.006209873128682375, -0.025144102051854134, -0.01415048073977232, 0.0256287083029747, 0.020741116255521774, -0.017695024609565735, -0.01997959241271019, -0.006393331103026867, 0.034254685044288635, -0.0016043903306126595, -0.021516485139727592, 0.02825942449271679, -0.022956455126404762, 0.00430606584995985, 0.08457057923078537, -0.00933211762458086, -0.01293204352259636, -0.04153761267662048, -0.02957478165626526, 0.06335870921611786, -0.014032790437340736, 0.05269738659262657, -0.006611403543502092, -0.026057930663228035, -0.017805790528655052, 0.07066933065652847, -0.003267625579610467, -0.04065147787332535, -0.026916373521089554, 0.03558389097452164, 0.016338128596544266, -0.026127159595489502, -0.0014088173629716039, 0.04857131838798523, -0.00787137821316719, -0.013686643913388252, 0.05422043427824974, 0.0014590086648240685, -0.02863326296210289, -0.046079061925411224, 0.03815922141075134, -0.0061787199229002, 0.054774265736341476, -0.06236180663108826, 0.02767789736390114, -0.022845687344670296, -0.008854434825479984, -0.02932555601000786, 0.041094545274972916, 0.005545271560549736, 0.023039530962705612, 0.022485695779323578, 0.008729822002351284, -0.014953541569411755, -0.0167673509567976, 0.0022205316927284002, 0.02932555601000786, -0.028204040601849556, -0.007559845689684153, -0.04383602738380432, 0.026348693296313286, -0.03979303315281868, 0.013562031090259552, -0.08933356404304504, -0.0033645466901361942, -0.012945889495313168, 0.011609762907028198, -0.04519292339682579, 0.016504278406500816, 0.015770448371767998, -0.029602473601698875, 0.013354343362152576, 0.03209472820162773, 0.0495128370821476, 0.023745669052004814, -0.05186663568019867, -0.017847327515482903, 0.011422843672335148, 0.0010401711333543062, -0.039156123995780945, -0.012765893712639809, -0.005742575041949749, 0.008743667975068092, 0.00023256737040355802, 0.03624849021434784, 0.022264162078499794, -0.007393695414066315, 0.037383854389190674, 0.035943880677223206, -0.00832136906683445, -0.003070322098210454, -0.024534884840250015, 0.019467296078801155, 0.04145453870296478, -0.05239277705550194, -0.05577116832137108, -0.012696663849055767, 0.024645650759339333, 0.010972852818667889, -0.027691742405295372, 0.021654943004250526, 0.05574347823858261, -0.028245577588677406, -0.03148551285266876, -0.024894876405596733, -0.004122608341276646, 0.020491890609264374, -0.0012608396355062723, 0.01874730922281742, 0.056463465094566345, 0.01743195205926895, -0.0006464291363954544, 0.03702386096119881, 0.07166623324155807, 0.007580614648759365, 0.002353798132389784, -0.04001456871628761, -0.013333573937416077, -0.02233339101076126, -0.0166427381336689, -0.033507008105516434, 0.04103916138410568, 0.06252795457839966, -0.006230642087757587, -0.07487846910953522, 0.04441755637526512, -0.006362177897244692, -0.016836579889059067, 0.026888681575655937, 0.03101475164294243, -0.014005099423229694, -0.024271812289953232, -0.02076880633831024, 0.03292548283934593, 0.044223714619874954, 0.022624153643846512, 0.003745308145880699, 0.005008744075894356, -0.0168504249304533, 0.017155034467577934, 0.013195115141570568, 0.004686827305704355, -0.021488793194293976, 0.011305154301226139, -0.01095900684595108, 0.024008741602301598, 0.07249698042869568, -0.023454906418919563, 0.019536525011062622, -0.03184550255537033, -0.05865111202001572, 0.05726652592420578, -0.05632500350475311, -0.034254685044288635, -0.0004690288915298879, -0.01326434500515461, 0.01791655831038952, -0.036276184022426605, -0.052835844457149506, 0.09254580736160278, -0.012018216773867607, 0.057155758142471313, 0.010107486508786678, 0.037716154009103775, 0.012987427413463593, -0.04037456214427948, 0.019051918759942055, -0.003155127866193652, 0.00920750480145216, -0.02133648842573166, -0.03192858025431633, -0.013984329998493195, 0.030765525996685028, 0.006289487238973379, -0.01606121100485325, 0.0015862176660448313, 0.005458734929561615, -0.0036068495828658342, -0.017695024609565735, 0.0168919637799263, 0.002976862248033285, -0.00514027988538146, -0.03563927486538887, 0.026293309405446053, -0.0063760238699615, 0.01841500960290432, 0.006289487238973379, -0.01503661647439003, 0.023717977106571198, -0.012101291678845882, -0.023496443405747414, -0.04580214247107506, 0.02031189389526844, 0.0031118595506995916, 0.009408270008862019, 0.060700301080942154, -0.017473489046096802, 0.07177700102329254, 0.01478739082813263, 0.025808705016970634, -0.006067953072488308, -0.0321224220097065, -0.019370373338460922, 0.013859717175364494, -0.03489159420132637, -0.02175186388194561, 0.07360465079545975, 0.006331024691462517, -0.01997959241271019, 0.03198396414518356, 0.003324739867821336, -0.014136634767055511, 0.058928027749061584, -0.019065765663981438, 0.0011907449224963784, -0.022914918139576912, 0.018428854644298553, 0.005586809013038874, -0.011651300825178623, -0.010862085968255997, -0.0063033327460289, -0.0124820526689291, 0.0012106483336538076, 0.027788663282990456, -0.01599198207259178, -0.0081344498321414, -0.010751319117844105, 0.035860806703567505, -0.008231370709836483, 0.002660138066858053, -0.05662961304187775, -0.0007481097127310932, -0.007864454761147499, 0.0007308024214580655, 0.014468935318291187, 0.003918381407856941, 0.016088902950286865, -0.029796315357089043, 0.03198396414518356, 0.010176715441048145, 0.017944250255823135, -0.04796209931373596, -0.03599926456809044, -0.02727636694908142, 0.007220622152090073, -0.005282199941575527, 0.01948114112019539, -0.021765710785984993, 0.018927305936813354, 0.012128983624279499, -0.020630348473787308, 0.01668427512049675, 0.014939695596694946, 0.066737100481987, 0.021848784759640694, 0.017722714692354202, -0.009892875328660011, 0.03871305659413338, -0.029547089710831642, -0.0029387862887233496, -0.007705227471888065, 0.0024697573389858007, -0.009442884474992752, -0.02423027530312538, -0.00982364546507597, 0.005174894351512194, -0.006826014723628759, 0.004486062563955784, 0.027054833248257637, 0.019134994596242905, 0.0005845553823746741, 0.0010730550857260823, 0.0014148750342428684, -0.029685547575354576, 0.0029249403160065413, 0.012495898641645908, -0.015535067766904831, 0.011568225920200348, -0.01989651657640934, 0.01833193376660347, -0.019924208521842957, -0.03167935460805893, 0.03893459215760231, -0.004787209909409285, -0.036110032349824905, -0.013541262596845627, -0.014108942821621895, -0.0067152478732168674, -0.01293204352259636, -0.012620511464774609, 0.0033766617998480797, 0.00719985319301486, -0.008342137560248375, 0.008639823645353317, -0.009795954450964928, -0.020214973017573357, 0.004524138290435076, -0.05424812436103821, 0.011817451566457748, -0.012225904501974583, 0.03403315320611, -0.02904863841831684, 0.010765165090560913, 0.021101107820868492, -0.015327380038797855, -0.01408817432820797, 0.020076513290405273, 0.005701037589460611, -0.013035887852311134, -0.002649753587320447, 0.032316263765096664, -0.023634903132915497, -0.0017125612357631326, -0.008882126770913601, 0.005756421014666557, -0.003745308145880699, -0.043974488973617554, -0.04029148444533348, 0.018193475902080536, -0.03674694150686264, 0.007732919417321682, 0.0665709525346756, -0.020547272637486458, -0.03383931145071983, 0.041426848620176315, 0.014102020300924778, -0.007165238261222839, -0.006047184579074383, 0.001033248146995902, 0.0034233916085213423, -0.009470576420426369, -0.010432864539325237, 0.03641464188694954, -0.06092183291912079, 0.006753323599696159, 0.032731641083955765, 0.02904863841831684, -0.02290107123553753, 0.006711786147207022, -0.02748405560851097, -0.03489159420132637, 0.004825286101549864, -0.013444340787827969, 0.02241646498441696, 0.03048860840499401, 0.01013517752289772, -0.0014841043157503009, -0.010356712155044079, 0.0067602465860545635, -0.001548141473904252, 0.0009025777690112591, 0.03414391726255417, -0.028688644990324974, -0.01849808357656002, -0.027830202132463455, 0.012011293321847916, -0.012675895355641842, 0.011464381590485573, 0.0021149569656699896, 0.02212570235133171, -0.023094912990927696, 0.008189832791686058, 0.025974854826927185, -0.03973764926195145, 0.014773544855415821, -0.0016554469475522637, -0.02694406546652317, -0.004375295247882605, 0.045663684606552124, 0.009726724587380886, -0.006157951429486275, 0.011000544764101505, 0.002528602257370949, -0.0664047971367836, -0.00937365461140871, -0.016448894515633583, 0.020131897181272507, 0.007504462264478207, 0.020367277786135674, 0.01541045494377613, -0.010654398240149021, -0.04646674543619156, 0.036193106323480606, 0.0064210230484604836, -0.02125341258943081, -0.05302968621253967, 0.03766077011823654, 0.038740746676921844, -0.0009164236253127456, 0.003835306502878666, 0.004278374370187521, 0.03209472820162773, 0.035777732729911804, -0.0053514293394982815, 0.0009250773000530899, -0.016947345808148384, 0.020367277786135674, 0.015770448371767998, 0.009089814499020576, -0.010758242569863796, 0.013804334215819836, -0.008715976029634476, -0.0687309056520462, -0.01891346089541912, 0.009512113407254219, 0.01668427512049675, -0.003333393484354019, -0.02990708313882351, -0.042368367314338684, 0.018318088725209236, 0.012412823736667633, 0.010931315831840038, -0.01452431920915842, -0.00038725172635167837, 0.011935140937566757, -0.011076697148382664, 0.02150263823568821, -0.03782692179083824, 0.01376279629766941, -0.008494442328810692, -0.025601016357541084, 0.0019886132795363665, -0.013998175971210003, -0.04347603768110275, 0.009297502227127552, -0.049374379217624664, -0.021931860595941544, 0.0023070683237165213, -0.0319562703371048, -0.02949170581996441, 0.04715903848409653, -0.01779194548726082, 0.0033801232930272818, 0.011942064389586449, -0.042119141668081284, 0.02921478822827339, -0.025157948955893517, -0.004209144972264767, -0.01382510270923376, -0.04973436892032623, 0.016047364100813866, -0.0494297593832016, -0.012848968617618084, -0.013333573937416077, -0.02079649828374386, -0.02195955254137516, 0.013568953610956669, -0.004641828592866659, 0.012821276672184467, 0.01866423524916172, 0.03624849021434784, -0.024701034650206566, 0.014510473236441612, -0.01643504947423935, 0.011540533974766731, 0.0036345412954688072, -0.00017123448196798563, 0.01973036676645279, 0.007483693305402994, -0.013458186760544777, -0.05327891185879707, -0.008169064298272133, 0.011983601376414299, 0.016822732985019684, 0.001183822052553296, -0.01758425682783127, 0.03616541624069214, 0.012959735468029976, -0.008591363206505775, 0.028148656710982323, -0.020533427596092224, -0.017210418358445168, 0.01326434500515461, -0.012855892069637775, 0.0079890675842762, 0.006573327351361513, -0.021530330181121826, 0.02788558416068554, -0.042202215641736984, 0.017127342522144318, -0.01783348247408867, 0.03497467190027237, -0.014060482382774353, -0.008148295804858208, 0.006521405652165413, -0.004801055882126093, 0.0003489592345431447, 0.02418873831629753, -0.005001821089535952, 0.00807214342057705, -0.014635086059570312, -0.0162688996642828, -0.004856439307332039, -0.06302640587091446, -0.0032901251688599586, 0.0014252593973651528, -0.010619783774018288, 0.01172052975744009, 0.021198028698563576, 0.02821788564324379, -0.08994278311729431, -0.024894876405596733, 0.014482781291007996, -0.014745852909982204, 0.036608483642339706, -0.03176242858171463, 0.03790999576449394, 0.02821788564324379, -0.0037314624059945345, -0.015188921242952347, 0.0021357256919145584, 0.013977407477796078, -0.03685770928859711, -0.0035791578702628613, 0.045497532933950424, -0.04627290368080139, 0.012821276672184467, 0.001664100680500269, 0.04663289338350296, -0.0012331479229032993, -0.02788558416068554, 0.01038440316915512, -0.07266313582658768, 0.012163598090410233, -0.016365820541977882, 0.007836762815713882, -0.0036656945012509823, 0.04798978939652443, 0.06734631955623627, 0.0022880302276462317, -0.0322885736823082, -0.0043164505623281, 0.001412278856150806, 0.00135689543094486, -0.027871739119291306, 0.010308251716196537, 0.020976494997739792, 0.02727636694908142, 0.007545999716967344, 0.020533427596092224, 0.023870281875133514, -0.017944250255823135, 0.022319544106721878, 0.012212058529257774, 0.052088167518377304, -0.011983601376414299, -0.028827104717493057, 0.011872834526002407, -0.00015198007167782634, 0.01003133412450552, 0.015645835548639297, 0.02360721118748188, 0.017293494194746017, -0.002450719242915511, 0.010799779556691647, 0.0064210230484604836, -0.03752231225371361, 0.020547272637486458, -0.019633445888757706, 0.030211690813302994, -0.0039045356679707766, 0.01003133412450552, -0.010578245855867863, -0.010869009420275688, -0.016324281692504883, 0.0007680131820961833, -0.03785461187362671, -0.0010669974144548178, -0.0009640188072808087, -0.022471848875284195, -0.023787207901477814, 0.013354343362152576, -0.00129805039614439, 0.015008924528956413, 0.010536707937717438, 0.009768262505531311, 0.013631260022521019, 0.015147383324801922, 0.029685547575354576, -0.0245902668684721, 0.030627068132162094, -0.06668172031641006, -0.0030235922895371914, -0.0010964199900627136, -0.030267074704170227, 0.011706684716045856, 0.022541077807545662, -0.008245216682553291, -0.009622880257666111, 0.034946978092193604, 0.0016260244883596897, -0.016947345808148384, 0.009733648039400578, -0.008487518876791, -0.047851331532001495, 0.010661320760846138, -0.015631988644599915, 0.03383931145071983, 0.009179812856018543, 0.0004482600779738277, 0.0343654528260231, 0.012205136008560658, -0.006881398148834705, -0.009685186669230461, -0.028577879071235657, 0.031651660799980164, -0.01565968059003353, -0.02938093990087509, -0.006486790720373392, 0.02331644669175148, 0.02068573236465454, 0.004617597907781601, -0.04635597765445709, 0.035611581057310104, -0.016379665583372116, -0.0002844893897417933, 0.08667515218257904, 0.00048676892765797675, -0.03912843391299248, 0.012738201767206192, -0.005060666240751743, 0.004524138290435076, 0.0004551830352284014, 0.002037073951214552, -0.0039426120929419994, -0.0020751499105244875, -0.01019748393446207, -0.036110032349824905, -0.0071721612475812435, -0.004711057525128126, 0.0176396407186985, 0.019245760515332222, -0.03921150788664818, 0.004991436842828989, -0.06330332159996033, 0.012648203410208225, 0.03217780590057373, -0.05466350167989731, -0.017611948773264885, -0.024908723309636116, 0.012108214199543, -0.029879391193389893, -0.0024524498730897903, -0.028993254527449608, -0.04023610055446625, -0.0036656945012509823, -0.020754961296916008, -0.024008741602301598, -0.02327490970492363, 0.005064127501100302, 0.015576605685055256, -0.009442884474992752, 0.002800327492877841, 0.04488831385970116, -0.010779011063277721, 0.023136451840400696, 0.014358168467879295, -0.057488057762384415, -0.004098378121852875, 0.0031135904137045145, -0.007511385250836611, 0.0794752985239029, 0.006341408938169479, -0.0037280009128153324, -0.017861174419522285, -0.0037037706933915615, -0.0013992984313517809, -0.025974854826927185, -0.002926671179011464, -0.021821092814207077, -0.007276005577296019, -0.056380387395620346, 0.002064765663817525, -0.009934412315487862, 0.032316263765096664, 0.035528507083654404, 0.0481836311519146, -0.013617414981126785, -0.00943596102297306, 0.03638695180416107, 0.008951355703175068, 0.03998687490820885, -0.04297758638858795, 0.003617233829572797, 0.008930587209761143, 0.0163935124874115, 0.013603569008409977, 0.01241974625736475, -0.02615485154092312, 0.03065476007759571, 0.014427398331463337, 0.009567497298121452, -0.003914920147508383, 0.021184183657169342, -0.008480596356093884, 0.010972852818667889, 0.046494435518980026, 0.010370558127760887, -0.0036068495828658342, -0.012918198481202126, 0.0041468385607004166, 0.0017627525376155972, -0.0045829834416508675, -0.0031620508525520563, 0.007518308237195015, 0.04837747663259506, 0.020173434168100357, -0.009609035216271877, 0.0033749311696738005, -0.0032589719630777836, -0.009622880257666111, -0.001623428426682949, -0.0258779339492321, 0.0165181253105402, 0.04272836074233055, -0.01570121757686138, -0.04200837388634682, -0.014690469950437546, -0.014316631481051445, 0.005161048378795385, -0.005105664953589439, -0.03422699496150017, -0.014261247590184212, -0.016836579889059067, 0.038131531327962875, 0.010377480648458004, 0.027788663282990456, -0.0015749678714200854, -0.011194387450814247, -0.0017238110303878784, -0.02744251675903797, 0.009622880257666111, -0.012094369158148766, -0.01779194548726082, 0.030183998867869377, -0.043808337301015854, 0.02558717131614685, -0.010765165090560913, 0.012585896998643875, -0.008985970169305801, -0.020879574120044708, 0.009602111764252186, -0.020893419161438942, -0.016795042902231216, 0.04015302658081055, 0.032039348036050797, 0.030987059697508812, 0.033313166350126266, -0.02064419351518154, -0.02751174569129944, 0.004447986371815205, 0.0061510284431278706, 0.034254685044288635, -0.02183493971824646, 0.02166878804564476, -0.01853962242603302, 0.022914918139576912, 0.02904863841831684, 0.003418199485167861, 0.0006377754616551101, -0.0017618871061131358, 0.033950075507164, 0.0004270586068741977, -0.0018657312029972672, -0.04544214904308319, -0.02949170581996441, -0.00719985319301486, 0.01878884807229042, 0.020658040419220924, 0.0015697756316512823, -0.044057562947273254, -0.004520677030086517, 0.010785933583974838, 0.039820726960897446, -0.00478028692305088, 0.006462560500949621, -0.024271812289953232, -0.021073415875434875, 0.0027553283143788576, -0.009664418175816536, -0.02913171425461769, 0.0035185820888727903, -0.014953541569411755, -0.02377336099743843, 0.01895499788224697, -0.010841317474842072, -0.018858077004551888, -0.03406084328889847, 0.018484238535165787, -0.01964729093015194, 0.0322054959833622, 0.02335798554122448, -0.019134994596242905, 0.005316814407706261, 0.013375111855566502, 0.01491200365126133, 0.01570121757686138, -0.0019989977590739727, -0.0048114401288330555, 0.0018709233263507485, 0.02022881805896759, 0.021599559113383293, -0.022928763180971146, -0.0013317997800186276, -0.009228273294866085, -0.011422843672335148, -0.013707412406802177, -0.030543992295861244, 0.017861174419522285, -0.025490248575806618, -0.05770959332585335, -0.023828744888305664, 0.01775040663778782, -0.03724539279937744, 0.04206375777721405, 0.013672797940671444, -0.050232820212841034, -0.023177988827228546, -0.016075056046247482, -0.016711967065930367, -0.008065219968557358, 0.024396425113081932, -0.012842046096920967, 0.004859901033341885, -0.01165822334587574, -0.0025528324767947197, 0.0001909215934574604, 0.003013207809999585, -0.0053514293394982815, -0.027373287826776505, 0.035085439682006836, -0.0061198752373456955, -0.007428309880197048, 0.0014226633356884122, -0.046826738864183426, -0.008660592138767242, -0.016296591609716415, -0.01927345246076584, -0.00479067163541913, -0.025490248575806618, -0.013354343362152576, 0.00045994253014214337, 0.014856619760394096, 0.008473672904074192, 0.020201126113533974, 0.005863726604729891, 0.028107119724154472, -0.021738018840551376, 0.007511385250836611, 0.0250887181609869, 0.07205391675233841, 0.002395335817709565, -0.004261067137122154, 0.019799595698714256, 0.025504095479846, 0.012149752117693424, 0.02039496786892414, -0.014690469950437546, -0.013022041879594326, -0.01883038505911827, -0.01466277800500393, 0.04070686176419258, 0.015341226011514664, -0.005555655807256699, -0.00881289690732956, -0.008162140846252441, 0.006265257019549608, 3.888742867275141e-05, 0.03300855681300163, 0.010425941087305546, 0.05859572812914848, 0.0332854762673378, -0.04458370432257652, -0.02748405560851097, 0.0026393693406134844, -0.011014390736818314, 0.019467296078801155, -0.016462741419672966, 0.009103660471737385, 0.043199118226766586, 0.03580542281270027, -0.03685770928859711, -0.011312076821923256, 0.010785933583974838, -0.049208227545022964, 0.027387132868170738, 0.036359257996082306, -0.009034431539475918, 0.004351065028458834, 0.027954814955592155, 0.0046695200726389885, 0.010626706294715405, -0.04502677544951439, -0.01923191547393799, 0.0012781469849869609, 0.02619638852775097, 0.015327380038797855, -0.049789752811193466, 0.02517179399728775, 0.004382218234241009, -0.009387500584125519, -0.021267257630825043, 0.016947345808148384, 0.004922207444906235, -0.005341045092791319, -0.034919288009405136, -0.0023347600363194942, 0.04239605739712715, 0.010211329907178879, 0.02932555601000786, -0.025241022929549217, 0.03741154447197914, -0.009733648039400578, 0.023925665766000748, -0.022111857309937477, -0.02615485154092312, 0.001752368058077991, 0.0067048631608486176, 8.356199396075681e-05, 0.05388813093304634, -0.008418289944529533, -0.008667515590786934, 0.00943596102297306, 0.010065948590636253, 0.004544907249510288, 0.0322885736823082, 0.02904863841831684, -0.015673525631427765, 0.01205283123999834, 0.035334665328264236, -0.007483693305402994, -0.01565968059003353, -0.018719617277383804, 0.017459644004702568, -0.023801052942872047, -0.027788663282990456, 0.011014390736818314, 0.005313353147357702, -0.04056840389966965, 0.0020803422667086124, 0.02129494957625866, 0.027553284540772438, 0.015313534066081047, 0.027124062180519104, 0.008439058437943459, 0.023454906418919563, 0.01054363138973713, 0.011332845315337181, -0.03140243515372276, 0.0017506374279037118, 0.00465567409992218, -0.014704315923154354, -0.013430495746433735, 0.02467334270477295, 0.00906212255358696, 0.02141956239938736, -0.029436321929097176, 0.007968299090862274, 0.02586408704519272, 0.0032832021825015545, -0.018318088725209236, -0.005527964327484369, -0.005877572577446699, -0.006545635871589184, -0.0007359946030192077, -0.0025268716271966696, -0.0335347019135952, 0.00807214342057705, -0.032233189791440964, -0.018318088725209236, -0.002358990255743265, 0.008639823645353317, -0.002237838925793767, 0.002154763787984848, -0.005316814407706261, 0.03516851365566254, 0.03558389097452164, -0.007815994322299957, 0.007732919417321682, -0.010675166733562946, 0.008466750383377075, 0.0046695200726389885, 0.0005555655807256699, -0.02327490970492363, -0.004863362293690443, -0.010391326621174812, 0.010038256645202637, -0.011443613097071648, -0.008861357346177101, 0.004648751113563776, 0.004711057525128126, 0.012613588944077492, 0.0345316044986248, -0.03563927486538887, -0.00937365461140871, -0.0016571776941418648, 0.03109782747924328, -0.003530697198584676, -0.002502641174942255, 0.015271996147930622, -0.010149023495614529, -0.007829840295016766, 0.02265184558928013, 0.015631988644599915, 0.026251772418618202, -0.013776642270386219, 0.0166011992841959, -0.016739659011363983, 0.006286025512963533, -0.013949715532362461, 0.002625523367896676, -0.03383931145071983, -0.006742939352989197, -0.0020491890609264374, 0.01254435908049345, 0.01028055977076292, 0.014496627263724804, -0.0027864815201610327, 0.014129712246358395, -0.004087993409484625, 0.024784110486507416, -0.019411912187933922, 0.0008359444909729064, -0.007954453118145466, 0.05903879553079605, -0.0322054959833622, 0.031208593398332596, -0.01003133412450552, -0.0011613224633038044, 0.0031153210438787937, -0.026584073901176453, 0.006611403543502092, 0.00957441981881857, -0.010301328264176846, -0.0322054959833622, 0.014745852909982204, -0.04181453213095665, -0.017611948773264885, -0.02277645841240883, -0.023621056228876114, 0.007296774070709944, -0.0333685502409935, -0.0020820728968828917, -0.008044451475143433, 0.011914372444152832, 0.05219893530011177, -0.0346146784722805, 0.0023711055982857943, 0.04419602081179619, 0.02780251018702984, 0.003620695322751999, 0.00694024283438921, -0.046688277274370193, -0.001983421156182885, -0.014136634767055511, -0.0011691107647493482, 0.0036968477070331573, 0.010765165090560913, 0.010813625529408455, 0.0026912912726402283, -0.0006446983898058534, 0.003506466979160905, 0.009830568917095661, -0.0006896974518895149, 0.05120203271508217, 0.011748221702873707, 0.007123700808733702, -0.004357988014817238, 0.013589723035693169, -0.020865729078650475, -0.019882671535015106, 0.022111857309937477, -0.01021825335919857, -0.015341226011514664, 0.012447438202798367, -0.05194970965385437, -0.003534158691763878, 0.00653871288523078, -0.05111895874142647, -0.025767166167497635, 0.030627068132162094, -0.0015766986180096865, -0.010329020209610462, 0.00471798051148653, 0.017944250255823135, -0.030128616839647293, -0.040513020008802414, 0.015881214290857315, 0.01912114769220352, -0.0021443793084472418, -0.035445429384708405, 0.059094179421663284, -0.012205136008560658, 0.016088902950286865, 0.002769174287095666, 0.014178172685205936, 0.030876293778419495, -0.017930403351783752, -0.014219709672033787, -0.019882671535015106, 0.05028820410370827, 0.019758058711886406, -0.019716521725058556, -0.00793368462473154, 0.03879613056778908, -0.016407357528805733, -0.005410274490714073, -0.022485695779323578, -0.008584440685808659, 0.010903623886406422, -0.0511743426322937, 0.0011422843672335148, -0.0011682454496622086, 0.0037591541185975075, 0.040069952607154846, 0.025365635752677917, -0.05338967964053154, -0.009754416532814503, -0.035943880677223206, -0.008840588852763176, 0.00608872203156352, 0.0065006366930902, -0.013430495746433735, 0.01631043665111065, -0.023510290309786797, 0.013887409120798111, 0.002885133493691683, -0.03896228224039078, 0.006067953072488308, -0.025531787425279617, -0.012835122644901276, 0.02402258664369583, -0.017155034467577934, -0.016365820541977882, 0.011872834526002407, 0.008833666332066059, -0.0007537346100434661, 0.013610491529107094, 0.04023610055446625, 0.004835670813918114, 0.002985516097396612, -0.013721258379518986, 0.0175150278955698, -0.03857459872961044, 0.010945161804556847, 0.008598285727202892, -8.525216799171176e-06, -0.010841317474842072, -0.026639455929398537, 0.013603569008409977, -0.00687793642282486, -0.008826742880046368, 0.04715903848409653, 0.03525158762931824, 0.0166427381336689, 0.012786662206053734, -0.01305665634572506, 0.018304241821169853, -0.050205130130052567, 0.0330362506210804, 0.023911820724606514, -0.0042264522053301334, 0.02364874817430973, -0.03683001920580864, 0.01528584212064743, 0.028577879071235657, 0.0053825825452804565, -0.04602367803454399, -0.028910178691148758, -0.0015239112544804811, -0.007940607145428658, -0.02277645841240883, 0.016255052760243416, -0.00906212255358696, 0.01923191547393799, 0.028910178691148758, -0.034171611070632935, 0.008722898550331593, 0.03406084328889847, -0.012800508178770542, 0.003565311897546053, -0.0022516848985105753, 0.044556014239788055, -0.003213973017409444, -0.004662597086280584, 0.036276184022426605, 0.00869520753622055, 0.0012193020666018128, 0.01837347075343132, -0.022278007119894028, -0.032980866730213165, -0.02990708313882351, -0.02546255849301815, 0.00291974819265306, 0.000691428198479116, 0.01009364053606987, 0.027982506901025772, -0.020962649956345558, -0.03649771586060524, -0.004569137468934059, -0.00899981614202261, 0.028494803234934807, 0.023801052942872047, 0.009075968526303768, 0.014953541569411755, -0.03530697152018547, -0.0076013836078345776, 0.012018216773867607, -0.023662595078349113, 0.01758425682783127, -0.011637454852461815, -0.01762579381465912, 0.027345595881342888, -0.0037626156117767096, 0.014939695596694946, 0.019578061997890472, -0.013742027804255486, 0.00440644845366478, 0.018151937052607536, -0.008979047648608685, -0.006265257019549608, 0.008501364849507809, 0.038906898349523544, -0.023953357711434364, -0.00726215960457921, -0.02801019884645939, -0.04812824726104736, -0.01060593780130148, 0.013949715532362461, -0.036110032349824905, 0.006569866091012955, -0.02719329111278057, 0.052337393164634705, -0.015078154392540455, -0.0022516848985105753, -0.024119507521390915, -0.008328291587531567, -0.012475130148231983, 0.005372198298573494]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-14T10:14:01.555293", "url_path": "/agents/", "chunk_size": 4271}
updated_dt: 2025-03-14T10:14:01.555830
---
Table of contents 
  * [ Introduction  ](https://ai.pydantic.dev/agents/#introduction)
  * [ Running Agents  ](https://ai.pydantic.dev/agents/#running-agents)
    * [ Iterating Over an Agent's Graph  ](https://ai.pydantic.dev/agents/#iterating-over-an-agents-graph)
      * [ async for iteration  ](https://ai.pydantic.dev/agents/#async-for-iteration)
      * [ Using .next(...) manually  ](https://ai.pydantic.dev/agents/#using-next-manually)
      * [ Accessing usage and the final result  ](https://ai.pydantic.dev/agents/#accessing-usage-and-the-final-result)
    * [ Streaming  ](https://ai.pydantic.dev/agents/#streaming)
    * [ Additional Configuration  ](https://ai.pydantic.dev/agents/#additional-configuration)
      * [ Usage Limits  ](https://ai.pydantic.dev/agents/#usage-limits)
      * [ Model (Run) Settings  ](https://ai.pydantic.dev/agents/#model-run-settings)
    * [ Model specific settings  ](https://ai.pydantic.dev/agents/#model-specific-settings)
  * [ Runs vs. Conversations  ](https://ai.pydantic.dev/agents/#runs-vs-conversations)
  * [ Type safe by design  ](https://ai.pydantic.dev/agents/#static-type-checking)
  * [ System Prompts  ](https://ai.pydantic.dev/agents/#system-prompts)
  * [ Reflection and self-correction  ](https://ai.pydantic.dev/agents/#reflection-and-self-correction)
  * [ Model errors  ](https://ai.pydantic.dev/agents/#model-errors)


# Agents
## Introduction
Agents are PydanticAI's primary interface for interacting with LLMs.
In some use cases a single Agent will control an entire application or component, but multiple agents can also interact to embody more complex workflows.
The [`Agent`](https://ai.pydantic.dev/api/agent/#pydantic_ai.agent.Agent) class has full API documentation, but conceptually you can think of an agent as a container for:
**Component** | **Description**  
---|---  
[System prompt(s)](https://ai.pydantic.dev/agents/#system-prompts) | A set of instructions for the LLM written by the developer.  
[Function tool(s)](https://ai.pydantic.dev/tools/) | Functions that the LLM may call to get information while generating a response.  
[Structured result type](https://ai.pydantic.dev/results/) | The structured datatype the LLM must return at the end of a run, if specified.  
[Dependency type constraint](https://ai.pydantic.dev/dependencies/) | System prompt functions, tools, and result validators may all use dependencies when they're run.  
[LLM model](https://ai.pydantic.dev/api/models/base/) | Optional default LLM model associated with the agent. Can also be specified when running the agent.  
[Model Settings](https://ai.pydantic.dev/agents/#additional-configuration) | Optional default model settings to help fine tune requests. Can also be specified when running the agent.  
In typing terms, agents are generic in their dependency and result types, e.g., an agent which required dependencies of type `Foobar` and returned results of type `list[str]` would have type `Agent[Foobar, list[str]]`. In practice, you shouldn't need to care about this, it should just mean your IDE can tell you when you have the right type, and if you choose to use [static type checking](https://ai.pydantic.dev/agents/#static-type-checking) it should work well with PydanticAI.
Here's a toy example of an agent that simulates a roulette wheel:
roulette_wheel.py```
frompydantic_aiimport Agent, RunContext
roulette_agent = Agent( [](https://ai.pydantic.dev/agents/#__code_0_annotation_1)
  'openai:gpt-4o',
  deps_type=int,
  result_type=bool,
  system_prompt=(
    'Use the `roulette_wheel` function to see if the '
    'customer has won based on the number they provide.'
  ),
)

@roulette_agent.tool
async defroulette_wheel(ctx: RunContext[int], square: int) -> str: [](https://ai.pydantic.dev/agents/#__code_0_annotation_2)
"""check if the square is a winner"""
  return 'winner' if square == ctx.deps else 'loser'

# Run the agent
success_number = 18 [](https://ai.pydantic.dev/agents/#__code_0_annotation_3)
result = roulette_agent.run_sync('Put my money on square eighteen', deps=success_number)
print(result.data) [](https://ai.pydantic.dev/agents/#__code_0_annotation_4)
#> True
result = roulette_agent.run_sync('I bet five is the winner', deps=success_number)
print(result.data)
#> False