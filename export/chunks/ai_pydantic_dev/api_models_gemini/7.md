---
url: https://ai.pydantic.dev/api/models/gemini/
session_id: pydantic_ai_docs
chunk_number: 7
title: Gemini Streamed Response Implementation
summary: This document outlines the `GeminiStreamedResponse` class, which implements the `StreamedResponse` for the Gemini model. It details the attributes such as `_model_name`, `_content`, and `_stream`, along with an asynchronous method `_get_event_iterator` that processes responses from the Gemini model.
embedding: [0.007736756466329098, 0.030253257602453232, 0.006584605667740107, -0.026858748868107796, -0.010059641674160957, 0.0033108859788626432, -0.026363199576735497, -0.03691839054226875, 0.005076278932392597, -0.035506077110767365, -0.021928036585450172, -0.03173990547657013, 0.014531970955431461, -0.06134894862771034, 0.002719324314966798, 0.00042470087646506727, -0.0031297008972615004, 0.023650068789720535, 0.0008339158375747502, 0.050149545073509216, 0.04747358337044716, 0.015820397064089775, -0.015820397064089775, 0.016489388421177864, -0.0053736078552901745, 0.024170396849513054, -0.03766171261668205, 0.028345394879579544, -0.026437532156705856, -0.044079072773456573, 0.05599702149629593, -0.025248214602470398, 0.011713536456227303, -0.04524361342191696, -0.034267205744981766, -0.002753393491730094, 0.012586941011250019, 0.004540466703474522, -0.01543634757399559, 0.000864887610077858, -0.017604373395442963, -0.017381375655531883, -0.019103409722447395, 0.03047625534236431, -0.025087160989642143, 0.018459195271134377, -0.034614089876413345, 0.009867616929113865, 0.05515458807349205, 0.013082490302622318, -0.016811495646834373, 0.029163051396608353, -0.004704616963863373, 0.006919100880622864, 0.012320583686232567, -0.06422313302755356, -0.03183901309967041, 0.04078367352485657, -0.0342424251139164, -0.042022544890642166, -0.0010538155911490321, 0.00627488736063242, -0.06219138205051422, -1.7373246009810828e-05, -0.0037692685145884752, -0.0004854830331169069, -0.051784858107566833, 0.009384457021951675, -0.03136824443936348, 0.004608604591339827, -0.006832379847764969, 0.002708484185859561, -0.0024390295147895813, -0.04095711559057236, -0.03771127015352249, -0.011416207067668438, -0.016638053581118584, 0.034936193376779556, -0.010685272514820099, -0.010895880870521069, 0.0048842537216842175, 0.026016315445303917, 0.00846149679273367, 0.0022733304649591446, -0.012636495754122734, 0.021890871226787567, -0.03657150641083717, -0.025297770276665688, -0.021036049351096153, -0.006962461397051811, -0.04197298735380173, -0.019276851788163185, -0.034291982650756836, 0.03981735184788704, 0.06144805997610092, -0.03857848048210144, 0.029534712433815002, -0.03263189271092415, 0.012438276782631874, 0.029658598825335503, 0.019276851788163185, 0.009923365898430347, -0.050174321979284286, -0.003313983092084527, 0.04898500442504883, -0.001025166711769998, 0.01665044203400612, -0.006776630878448486, -0.020466167479753494, 0.00598375266417861, -0.07874271273612976, 0.01866980269551277, 0.04137833043932915, 0.006727075669914484, -0.05683945491909981, -0.0014014741173014045, -0.07239969074726105, 0.02057766728103161, -0.017864536494016647, -0.02052811160683632, -0.027701182290911674, 0.01175689697265625, -0.007668618578463793, -0.052230849862098694, -0.016960160806775093, 0.0038621840067207813, 0.0009423171286471188, -0.059069424867630005, -0.06640354543924332, -0.04021378979086876, 0.02114754728972912, -0.019475070759654045, 0.016489388421177864, -0.050694648176431656, 0.0035772433038800955, -0.009018989279866219, -0.06397535651922226, -0.003939613699913025, -0.017418542876839638, 0.025211049243807793, 0.006993433460593224, -0.043310970067977905, 0.02272091619670391, 0.023030633106827736, 0.03102135844528675, 0.006290373392403126, -0.036992721259593964, 0.00395200215280056, -0.05267684534192085, 0.004057306330651045, 0.0019806469790637493, 0.03785993531346321, -0.018223809078335762, -0.011589649133384228, -0.008622550405561924, -0.017827371135354042, 0.0029965220019221306, 0.04135355353355408, -0.02284480258822441, -0.044326845556497574, -0.034812308847904205, 0.03956957533955574, -0.042542871087789536, 0.014544359408318996, -0.05337061360478401, 0.026065871119499207, -0.035976849496364594, -0.005906322970986366, -0.06338070333003998, -0.034985750913619995, 0.05337061360478401, 0.042542871087789536, -0.03947046771645546, 0.01662566512823105, 8.333351433975622e-05, -0.03709183260798454, -0.05421304702758789, -0.036422841250896454, -0.0197600107640028, -0.035976849496364594, -0.02010689489543438, -0.01522573921829462, -0.07423321902751923, -0.016117727383971214, -0.027056967839598656, -0.0046240901574492455, 0.012884270399808884, 0.005221846047788858, 0.011571066454052925, 0.009520732797682285, -0.01889280043542385, 0.05599702149629593, 0.022584639489650726, 0.009576481766998768, -0.04734969511628151, -0.03164079412817955, 0.035084858536720276, -0.019797177985310555, -0.0034905222710222006, 0.07740473002195358, 0.050570763647556305, 0.03297877684235573, 0.026635751128196716, -0.03768649324774742, -0.03312744200229645, -0.03929702565073967, -0.03283011168241501, 0.043211862444877625, -0.03833070397377014, 0.021890871226787567, 0.03711660951375961, 0.0005261335172690451, 0.023327963426709175, -0.005866059567779303, -0.006819991394877434, 0.034514978528022766, -0.03139302134513855, -0.02435622736811638, 0.028642725199460983, 0.009204819798469543, -0.05609613284468651, 0.08359909057617188, 0.04502061381936073, -0.010344582609832287, 0.011354263871908188, 0.007674813270568848, -0.0027208731044083834, -0.014544359408318996, -0.023600514978170395, 0.03042669966816902, -0.011812645941972733, -0.023724401369690895, -0.006566022522747517, -0.052032630890607834, -0.02440578117966652, -0.06506556272506714, 0.019846731796860695, 0.00294541846960783, 0.010933047160506248, -0.044302068650722504, -0.011403818614780903, 0.007922587916254997, -0.028989609330892563, 0.019301628693938255, 0.03317699581384659, -0.017331821843981743, 0.005265206564217806, -0.0812700167298317, 0.034638866782188416, 0.06070473790168762, 0.010487052612006664, -0.0372900515794754, -0.025495989248156548, 0.0018474680837243795, -0.014606302604079247, -0.01001628115773201, -0.027428630739450455, 0.03191334754228592, -0.023625291883945465, -0.010598551481962204, -0.029361270368099213, 0.020837830379605293, -0.06387624889612198, -0.022175811231136322, -0.021506821736693382, 0.028692279011011124, 0.0032799141481518745, -0.04541705548763275, -0.0014192829839885235, -0.0660071074962616, 0.029361270368099213, 0.0027781708631664515, 0.03751304745674133, -0.007222624961286783, -0.058177437633275986, 0.03795904293656349, -0.03030281327664852, 0.059019871056079865, 0.04673025757074356, -0.021692652255296707, 0.049777884036302567, -0.0192644614726305, 0.013491317629814148, 0.04023856669664383, -0.021556375548243523, 0.027775514870882034, -0.0010329097276553512, 0.01689821667969227, 0.049753107130527496, -0.014358528889715672, 0.05703767389059067, 0.009161459282040596, 0.009762312285602093, -0.036398064345121384, 0.03706705570220947, -0.009483566507697105, 0.06144805997610092, 0.020825441926717758, -0.026586197316646576, -0.006172680761665106, 0.025619875639677048, 0.008294248953461647, -0.04754791408777237, 0.004831601399928331, -0.0037011306267231703, 0.03833070397377014, -0.004041820298880339, 0.008529635146260262, -0.0021618318278342485, -0.023377517238259315, 0.007396067027002573, -0.011806451715528965, -0.02331557497382164, -0.04093233495950699, -0.0004092149611096829, -0.02242358587682247, 0.02346423827111721, 0.009347290731966496, 0.010295027866959572, 0.0039086416363716125, 0.017963645979762077, -0.017331821843981743, -0.018211420625448227, 0.003930321894586086, -8.159134449670091e-05, 0.005079376045614481, 0.01906624250113964, -0.028816167265176773, 0.001007357961498201, -0.011341874487698078, 0.007018210832029581, -0.0610516220331192, -0.030253257602453232, 0.01635311171412468, 0.02480222098529339, -0.029336493462324142, -0.006764241959899664, 0.011825034394860268, 0.027552517130970955, 0.08131957054138184, -0.0066713267005980015, -0.0066527435556054115, -0.06338070333003998, -0.001206351793371141, -0.024616390466690063, -0.027180856093764305, 0.028964830562472343, 0.051685746759176254, -0.014172697439789772, -0.017889313399791718, 0.03790948912501335, 0.0019713554065674543, -0.0063306367956101894, 0.018310530111193657, -0.03092224895954132, -0.04863812029361725, 0.010945435613393784, 0.0024560641031712294, -0.0067208814434707165, 0.0005760755739174783, -0.08409464359283447, -0.009334901347756386, -0.0004390253161545843, -0.008319026790559292, 0.008963240310549736, 0.029262160882353783, -0.02361290343105793, -0.03104613721370697, -0.027626849710941315, -0.026511864736676216, 0.02023078314960003, 0.044202957302331924, -0.02435622736811638, -0.015770843252539635, -0.03964390978217125, 0.015560234896838665, -0.03112046979367733, 0.028419727459549904, 0.008857935667037964, 0.014668246731162071, 0.03667061775922775, 0.029633821919560432, 0.009254375472664833, -0.03342477232217789, 0.006442135199904442, 0.0123143894597888, -0.020763497799634933, 0.013082490302622318, -0.04635859653353691, -0.0054758149199187756, -0.00199458422139287, -0.029658598825335503, -0.006163388956338167, -0.03045147843658924, 0.0061417086981236935, 0.019499847665429115, 0.016068171709775925, 0.025768540799617767, 0.057830553501844406, -0.012667467817664146, 0.04073411598801613, -0.013850591145455837, 0.005862962454557419, 0.00414402736350894, -0.010982601903378963, -0.014928409829735756, 0.014408083632588387, 0.03124435618519783, 0.03974301740527153, -0.0016476999735459685, 0.03154168650507927, -0.00780489481985569, 0.009118098765611649, -0.02440578117966652, -0.017542429268360138, -0.06347981095314026, 0.017269877716898918, 0.012252445332705975, 0.017455708235502243, 0.05302372947335243, -0.01876891404390335, -0.08597772568464279, -0.01679910719394684, 0.007928782142698765, -0.03245845064520836, 0.07264746725559235, -0.008647327311336994, -0.0797833651304245, 0.03783515468239784, -0.04070933908224106, -0.008089834824204445, 0.003258233889937401, 0.07487743347883224, -0.010456081479787827, 0.015337237156927586, 0.0014262516051530838, 0.017269877716898918, -0.008746437728404999, -0.017802592366933823, -0.007042988203465939, 0.01884324662387371, -0.007427038624882698, -0.012847104109823704, 0.03684405982494354, 0.005661645904183388, -0.013355041854083538, 0.026809193193912506, 0.018558304756879807, -0.0037104221992194653, -0.05565013736486435, 0.05307328328490257, 0.03404420614242554, -0.021444877609610558, -0.01525051612406969, -0.019375961273908615, -0.008641133084893227, 0.05629435181617737, 0.0002719711628742516, 0.05678990110754967, -0.07636407762765884, 0.00199458422139287, -0.022981079295277596, 0.006937684025615454, -0.009477372281253338, -0.05465903878211975, -0.06407447159290314, 0.018013201653957367, 0.006572216749191284, -0.0005571053479798138, 0.012611718848347664, -0.00039314833702519536, -0.01943790353834629, 0.017331821843981743, 0.011348068714141846, -0.007544731721282005, -0.0037011306267231703, 0.010431303642690182, 0.003732102457433939, 0.03144257515668869, 0.021023660898208618, 0.013565650209784508, -0.022634195163846016, -0.02065199986100197, 0.0021060826256871223, -0.027502961456775665, 0.043633077293634415, -0.008343803696334362, -0.02277047000825405, 0.015473512932658195, -0.021742206066846848, 0.014903631992638111, -0.015523068606853485, 0.013317875564098358, -0.013553261756896973, 0.03828115016222, -0.0025520767085254192, -0.08330176770687103, -0.03917313739657402, 0.011763091199100018, -0.01674955151975155, -0.019475070759654045, -0.025669431313872337, -0.021234268322587013, 0.04682936891913414, -0.004590021446347237, -0.0377856008708477, 0.006271790247410536, -0.00016076302563305944, -0.01827336475253105, 0.03069925308227539, -0.034465424716472626, 0.02336512878537178, 0.014383305795490742, 0.028469283133745193, 0.005866059567779303, 0.008678299374878407, -0.0018954743864014745, -0.014680635184049606, -0.0038312121760100126, -0.01652655564248562, 0.014940798282623291, 0.01933879405260086, 0.014754967764019966, -0.03996601700782776, -0.04640815034508705, -0.0026713181287050247, -8.352708391612396e-05, -0.059416308999061584, -0.022981079295277596, -0.006085959728807211, 0.05485726147890091, -0.006559828296303749, -0.002087499713525176, 0.0056151882745325565, -0.017951257526874542, -0.0027208731044083834, 0.021593542769551277, -0.027354298159480095, 0.0022748790215700865, -0.016117727383971214, -0.02282002568244934, 0.002593888668343425, -0.05218129605054855, 0.004788240883499384, 0.008994212374091148, 0.03193812444806099, -0.0225226953625679, -0.019747622311115265, 0.007098737638443708, 0.018161866813898087, 0.026883525773882866, -0.04660636931657791, 0.04821690544486046, -0.06035785377025604, -0.017604373395442963, 0.01842202991247177, -0.013082490302622318, 0.02425711788237095, -0.02383590117096901, 0.025297770276665688, -0.017257489264011383, -0.005466523580253124, 0.04487194865942001, 0.03922269120812416, -0.05470859631896019, 0.03290444612503052, 0.026883525773882866, 0.008783604018390179, 0.005454134661704302, 0.004119249992072582, -0.01847158372402191, 0.007835866883397102, 0.02114754728972912, -0.025359712541103363, -0.017319433391094208, -0.01660088635981083, 0.007247402332723141, -0.006516467779874802, -0.03223545476794243, 0.004500203300267458, -0.014854077249765396, -0.004072792362421751, 0.00214944314211607, 0.01677432842552662, -0.03776082396507263, 0.03221067786216736, 0.009725146926939487, 0.013478929176926613, 0.0036980335135012865, -0.008566801436245441, 0.042171210050582886, -0.02470311149954796, -0.004701519850641489, 0.03191334754228592, 0.006714687217026949, -0.036645837128162384, 0.03012937121093273, -0.007346511818468571, -0.06466912478208542, 0.012283417396247387, 0.04856378957629204, 0.01889280043542385, -0.03721572086215019, 0.04675503447651863, 0.003313983092084527, 0.0016693802317604423, 0.012252445332705975, -0.0111994044855237, -0.058623429387807846, 0.01568412221968174, -0.017133602872490883, 0.003047625534236431, -0.014110754244029522, -0.034366313368082047, -0.022708527743816376, -0.009613648056983948, -0.008703077211976051, -0.008659716695547104, 0.03060014173388481, -0.007018210832029581, -0.0007506791152991354, 0.011019768193364143, 0.02257225103676319, -0.006454524118453264, 0.03079836256802082, 0.03657150641083717, 0.025396879762411118, -0.008628744632005692, -0.010468469932675362, 0.04670548066496849, -0.0004781272145919502, -0.025421656668186188, 0.034886639565229416, -0.004051112104207277, -0.017951257526874542, 0.01968567818403244, 0.033920321613550186, -0.003809531917795539, -0.01884324662387371, -0.01971045695245266, -0.006268693134188652, 0.043211862444877625, 0.007550925947725773, -0.025867650285363197, 0.024219950661063194, -0.03156646341085434, -0.019970620051026344, 0.020639609545469284, -0.009787090122699738, -0.01522573921829462, 0.020590055733919144, -0.03820681944489479, -0.008517245762050152, -0.013639982789754868, 0.008306638337671757, -0.01660088635981083, -0.0034905222710222006, 0.002838565967977047, -0.004057306330651045, 0.034663643687963486, -0.019475070759654045, 0.013305487111210823, -0.022857191041111946, 0.01005344744771719, -0.018037978559732437, 0.02391023375093937, 0.03230978548526764, -0.011540094390511513, 0.004323663655668497, 0.01110029499977827, 0.007389872334897518, 0.027453407645225525, 0.03069925308227539, -0.021444877609610558, 0.016613276675343513, -0.001444060355424881, -0.011459567584097385, -0.021779373288154602, -0.03233456239104271, 0.06432224065065384, -0.0053426362574100494, 0.034787531942129135, -0.065016008913517, -0.028791388496756554, 0.035332635045051575, -0.050991978496313095, 0.011843618005514145, -0.003620603820309043, 0.00602091895416379, 0.03632373362779617, -0.0027007414028048515, -0.02232447639107704, -0.0035958264488726854, -0.021766984835267067, 0.016167281195521355, 0.022386420518159866, -0.034539755433797836, 0.010666689835488796, 0.007358900737017393, -0.06660176813602448, -0.0016306655015796423, 0.0026914498303085566, -0.022002369165420532, 0.01886802352964878, -0.014172697439789772, -0.0006616351893171668, 0.021159935742616653, -0.010617134161293507, 0.007687201723456383, -0.05356883257627487, -0.03711660951375961, 0.028543615713715553, -0.0034440646413713694, 0.04063500836491585, -0.024591611698269844, -0.03245845064520836, 0.014197475276887417, 0.015374403446912766, -0.0003573371795937419, 0.013466540724039078, -0.0008323672227561474, 0.022312087938189507, -0.04179954528808594, 0.010208306834101677, 0.00932251289486885, -0.021135158836841583, -0.010295027866959572, 0.03942091390490532, -0.03401942923665047, 0.005190874449908733, -0.02232447639107704, 0.02358812652528286, -0.0035648546181619167, -0.019896287471055984, 0.009062349796295166, -0.004428967833518982, -0.043880853801965714, -0.015746064484119415, -0.00011672498658299446, 0.025347324088215828, -0.0032551365438848734, 0.005166097078472376, 0.019698066636919975, -0.00859777256846428, -0.010109197348356247, -0.013379819691181183, -0.03097180463373661, 0.03731482848525047, -0.011701148003339767, -0.012494025751948357, 0.006981044542044401, 0.00826327782124281, 0.004645770415663719, -0.01682388409972191, 0.035803407430648804, -0.027676403522491455, 0.017009714618325233, 0.002059624996036291, -0.04710191860795021, 0.04098189249634743, -0.011279931291937828, -0.042022544890642166, 0.0034254814963787794, 0.03944569081068039, -0.00999150425195694, -0.014048810116946697, 0.002818434266373515, 0.026140203699469566, -0.0034223843831568956, -0.029014386236667633, 0.012357749976217747, 0.0012241605436429381, -0.02062722109258175, 0.04561527445912361, 0.04794435203075409, -0.013962089084088802, 0.0031962902285158634, 0.016489388421177864, 0.015300070866942406, 0.022782858461141586, 0.008709271438419819, -0.0019357377896085382, 0.011738313362002373, 0.011769285425543785, 0.008579189889132977, 0.006327539682388306, 0.0028416630811989307, -0.008021697402000427, -0.04147744178771973, -0.010214501060545444, -0.017307044938206673, 0.02388545498251915, -0.027750736102461815, 0.02035466954112053, 0.001974452519789338, -0.03667061775922775, 0.022559862583875656, -0.12091392278671265, 0.011459567584097385, 0.036992721259593964, -0.0016415056306868792, 0.034936193376779556, -0.021122770383954048, 0.0023724401835352182, 0.0010143265826627612, 0.00757570331916213, -0.050991978496313095, 0.006027113180607557, -0.004171901848167181, 0.004673645365983248, -0.03260711580514908, 0.05475815013051033, -0.013379819691181183, 0.015919506549835205, -0.041650883853435516, 0.017418542876839638, -0.005958975292742252, -0.03183901309967041, 0.00960745383054018, -0.03657150641083717, 0.008690687827765942, -0.0031839015427976847, -0.029088718816637993, 0.013268320821225643, 0.015448736026883125, 0.023154521360993385, -0.0196361243724823, -0.006566022522747517, 0.03335043787956238, 0.035629965364933014, 0.014333751052618027, -0.009031377732753754, 0.04519405588507652, -0.01938834972679615, 0.0031839015427976847, 0.02254747413098812, 0.026759639382362366, 0.007228819187730551, -0.04085800424218178, -0.006857157684862614, 0.036100734025239944, 0.044277291744947433, -0.0003006200713571161, -0.027725959196686745, 0.0009423171286471188, -0.01630355790257454, 0.020317504182457924, -0.0465320385992527, 0.033746879547834396, -0.05247862637042999, 0.02500043995678425, -0.0018815371440723538, 0.0370422787964344, -0.024566834792494774, -0.01669999770820141, -0.00774914538487792, -0.0015656247269362211, -0.0025025217328220606, 0.009731341153383255, 0.010579967871308327, -0.00019115410395897925, 0.006126222666352987, -0.006231526844203472, -0.034440647810697556, -0.006727075669914484, -0.0036701587960124016, 0.007383678108453751, 0.012568358331918716, 0.002745650475844741, -0.026710083708167076, -0.033746879547834396, -0.00026422820519655943, 0.029782487079501152, -0.015163795091211796, 0.021667873486876488, -0.03895014151930809, 0.017034491524100304, -0.0005996915861032903, -0.015523068606853485, 0.0006287276046350598, 0.013801036402583122, -0.04717625305056572, -0.009310124441981316, 0.018533527851104736, -0.0057855332270264626, 0.017455708235502243, 0.01807514578104019, 0.023823512718081474, 0.00031339595443569124, -0.004633381962776184, -0.013355041854083538, -0.021172326058149338, -0.014259418472647667, 0.009737535379827023, -0.024195173755288124, 0.0031931931152939796, -0.0044382596388459206, 0.03270622342824936, -0.016960160806775093, 0.0023987663444131613, -0.0074889822863042355, 0.021209491416811943, -0.022361641749739647, 0.002137054456397891, 0.007891615852713585, -0.0025319450069218874, 0.011911756359040737, -0.0046240901574492455, 0.042716313153505325, 0.007965948432683945, -0.01662566512823105, -0.0019233489874750376, -0.012419693171977997, 0.064520463347435, -0.000408440682804212, -0.01894235610961914, 0.005503689404577017, -0.02212625741958618, -0.0027874624356627464, 0.021568764001131058, 0.03104613721370697, -0.006219138391315937, -0.025644654408097267, 0.0024669042322784662, 0.009000406600534916, -0.0053736078552901745, -0.02433144859969616, 0.012958602979779243, 0.02346423827111721, 0.011911756359040737, -0.0028633433394134045, -0.025495989248156548, -0.034960974007844925, 9.189914999296889e-05, -0.020144062116742134, -0.05019909888505936, -0.03669539466500282, 0.024343838915228844, -0.002973293187096715, 0.02028033696115017, -0.017641540616750717, -0.03042669966816902, 0.0018939258297905326, 0.010072031058371067, 0.0077615343034267426, 0.012735606171190739, 0.009737535379827023, 0.01837247423827648, -0.018322918564081192, -0.004800629802048206, 9.475436672801152e-05, 0.0152629055082798, 0.020391836762428284, -0.02229969948530197, -0.035183969885110855, -0.034787531942129135, -0.01033838838338852, 0.044004738330841064, 0.011806451715528965, -0.029088718816637993, -0.0031173122115433216, 0.0021881579887121916, -0.025867650285363197, -0.034614089876413345, 0.006727075669914484, -0.035753849893808365, 0.05426260083913803, -0.019995396956801414, 0.0002833920007105917, 0.035927291959524155, 0.013664759695529938, 0.020540500059723854, 0.03847936913371086, 0.027651626616716385, -0.008963240310549736, 0.014965576119720936, 0.025743763893842697, -0.019921064376831055, 0.005339539144188166, 0.029187828302383423, 0.025396879762411118, 0.044079072773456573, 0.01956179179251194, -0.00836238730698824, 0.01911579817533493, -0.023773957043886185, 0.0038405037485063076, 0.005550147499889135, 0.03890058770775795, -0.0018010104540735483, 0.03010459430515766, -0.014977964572608471, -0.007606674917042255, 0.04928233474493027, 0.024343838915228844, -0.021568764001131058, 0.013355041854083538, 0.05525369942188263, 0.018298141658306122, -0.000921411148738116, -0.021184714511036873, -0.012469248846173286, 0.012921436689794064, -0.012438276782631874, 0.008857935667037964, -0.010821548290550709, 0.01961134560406208, 3.8690559449605644e-05, -0.010282639414072037, -0.00589083693921566, 0.0014456089120358229, -0.03937135636806488, -0.022336864843964577, 0.013379819691181183, 0.014866465702652931, -0.01951223611831665, -0.026710083708167076, 0.015696510672569275, 0.013999255374073982, -0.0016074366867542267, 0.018434418365359306, 0.002545882249251008, 0.0246287789195776, -0.03741393983364105, 0.013726703822612762, 0.0247526653110981, -0.021060826256871223, -0.0026264090556651354, 0.0033542464952915907, -0.027626849710941315, -0.03102135844528675, 0.0190166886895895, -0.027948956936597824, 0.00801550317555666, -0.011248959228396416, 0.0012837812537327409, 0.028816167265176773, -0.00787922739982605, 0.04043678939342499, 0.0006511821993626654, -0.01129851397126913, 0.002620214596390724, -0.002116922754794359, 0.04013945907354355, 0.02482699789106846, -0.008758826181292534, -0.019400738179683685, -0.014160308986902237, 0.01896713301539421, 0.004202873911708593, 0.023427072912454605, 0.0017437125789001584, 0.027478184551000595, -0.002581499982625246, 0.028543615713715553, -0.010790576227009296, 0.013144433498382568, 0.0225226953625679, 0.03706705570220947, -0.011001184582710266, 0.02286957949399948, 0.023327963426709175, -0.013689537532627583, -0.02015645056962967, 0.020813051611185074, 0.026164980605244637, 0.01630355790257454, -0.011787869036197662, 0.017765427008271217, -0.04623470827937126, 0.025991538539528847, 0.00385598954744637, -0.005695714615285397, -0.0021912551019340754, -0.003781657200306654, -0.012295805849134922, -0.010567579418420792, -0.018806079402565956, 0.01565934345126152, 0.004308178089559078, -0.050545983016490936, 0.0098800053820014, -0.014482415281236172, -0.0015516873681917787, -0.020044952630996704, 0.025917205959558487, -0.004825407173484564, 0.03022848069667816, 0.020342281088232994, -0.012010865844786167, -0.03364776819944382, 0.019425515085458755, -0.005918711889535189, 0.0387766994535923, -0.036274176090955734, 0.015411569736897945, -0.0038219206035137177, -0.027701182290911674, 0.004559049382805824, -0.01224005687981844, -0.005705006420612335, -0.0330035537481308, 0.01837247423827648, 0.018335308879613876, -0.050099991261959076, -0.03709183260798454, 0.007792505901306868, -0.011769285425543785, 0.006151000503450632, 0.014903631992638111, -0.0018877314869314432, 0.0018319821683689952, -0.009068544022738934, 0.0208749957382679, -0.01655133254826069, 0.0019032174022868276, 0.01911579817533493, -0.003741394029930234, 0.009898588992655277, -0.015176184475421906, 0.006813796702772379, 0.04814257100224495, -0.018285753205418587, -0.008195139467716217, -0.042691536247730255, -0.01859547197818756, 0.01040033157914877, 0.027032190933823586, -0.0032148733735084534, 0.016563721001148224, 0.006271790247410536, -0.026982635259628296, -0.023674847558140755, -0.06407447159290314, -0.0070615713484585285, -0.013974478468298912, -0.034787531942129135, -0.0186450257897377, -0.01674955151975155, -0.033945098519325256, 0.03949524462223053, -0.018137088045477867, 0.025446433573961258, -0.008907491341233253, 0.00745801068842411, -0.004292692057788372, 0.005429357290267944, 0.07522431761026382, 0.01183122955262661, -0.002299656393006444, 0.01854591630399227, 0.0020952424965798855, -0.008610161952674389, 0.026660529896616936, 0.02326601929962635, 0.014172697439789772, -0.013169211335480213, 0.003558660391718149, -0.008938462473452091, -0.009018989279866219, 0.013862979598343372, 0.0415022186934948, 0.0044382596388459206, 0.027527740225195885, 0.0011513768695294857, 0.012574552558362484, 0.0190166886895895, 0.028989609330892563, 0.022708527743816376, -0.005955878179520369, 0.0098800053820014, -0.008734048344194889, -0.008653522469103336, 0.0334991030395031, 0.0060735708102583885, 0.03060014173388481, 0.057434115558862686, -0.010635717771947384, 0.011050739325582981, -0.011354263871908188, 0.01640266738831997, -0.016836272552609444, 0.003230359172448516, -0.009310124441981316, -0.02247314155101776, 0.011744508519768715, 0.00577314430847764, 0.02062722109258175, 0.005138222128152847, 0.006491689942777157, -0.01876891404390335, 0.009923365898430347, 0.007278373930603266, -0.026140203699469566, -0.027131300419569016, 0.002849406097084284, 0.008455302566289902, -0.017455708235502243, -0.03273100405931473, -0.010530413128435612, -0.002641894854605198, 0.017938869073987007, -0.026536641642451286, 0.010158752091228962, 0.02388545498251915, -0.01179406326264143, 0.0028261770494282246, -0.006900518201291561, 0.011428595520555973, -0.01857069320976734, 0.014110754244029522, -0.005001946352422237, -0.06635399162769318, 0.0067022982984781265, -0.020069729536771774, -0.0013434019638225436, 0.00035578859387896955, 0.013701925985515118, 0.006832379847764969, 0.022138645872473717, -0.016216836869716644, 0.0001248550834134221, -0.008319026790559292, -0.004754172172397375, -0.010635717771947384, 0.022460753098130226, 0.02023078314960003, 0.0207511093467474, -0.016613276675343513, -0.017418542876839638, 0.01501513086259365, -0.050595540553331375, 0.029807263985276222, -0.0027038385160267353, -0.03243367373943329, -0.0034533562138676643, 0.00248858449049294, 0.04065978527069092, 0.04083322733640671, 0.010771993547677994, 0.011143655516207218, 0.0009477371932007372, 0.017666317522525787, -0.0009918720461428165, -0.00999150425195694, 0.020837830379605293, 0.0025412365794181824, 0.0475231371819973, 0.026858748868107796, 0.007290762849152088, 0.02296869084239006, -0.042964085936546326, -0.0457887165248394, -0.009105710312724113, -0.013082490302622318, -0.0012195147573947906, 0.017059270292520523, 0.013206377625465393, 0.017220323905348778, -0.015622178092598915, 0.009725146926939487, -0.00985522847622633, -0.00290515529923141, 0.0009624488302506506, 0.00836238730698824, -0.01729465462267399, -0.03387076407670975, 0.003391412552446127, -0.015039907768368721, -0.0016941577196121216, 0.0039055445231497288, 0.011955116875469685, -0.007699590642005205, -0.0118188401684165, -0.0008857935899868608, -0.013701925985515118, -0.012747994624078274, 0.012562164105474949, 0.0006655066390521824, 0.014953186735510826, -0.025966759771108627, 0.01622922532260418, 0.023352740332484245, 0.004082083702087402, -0.03181423619389534, -0.011478150263428688, 0.01652655564248562, -0.025892429053783417, 0.01990867592394352, -0.009718951769173145, -0.03139302134513855, 0.024963274598121643, 0.036175068467855453, -0.017220323905348778, -0.004862573463469744, -0.010833936743438244, 0.006832379847764969, -0.016861049458384514, -0.012085198424756527, -0.007736756466329098, 0.0012590038822963834, 0.025619875639677048, -0.043509189039468765, 0.01889280043542385, -0.024988051503896713, -0.03669539466500282, -0.005624479614198208, -0.007897810079157352, 0.016018617898225784, -0.022782858461141586, -0.01971045695245266, 0.008740243501961231, 0.010982601903378963, 0.01931401714682579, 0.050372540950775146, 0.007235013414174318, 0.0043050809763371944, -0.0027208731044083834, -0.006566022522747517, -0.005705006420612335, 0.05500592291355133, 0.014779744669795036, -0.000422765122493729, 0.016167281195521355, 0.011081711389124393, 0.009341096505522728, 0.0022857191506773233, -0.024542057886719704, -0.0015369757311418653, 0.008232305757701397, -0.020998883992433548, 0.013924922794103622, 0.017046881839632988, 0.00391483586281538, -0.008926074020564556, -0.00047270715003833175, -0.036645837128162384, 0.013763870112597942, -0.016638053581118584, -0.029658598825335503, 0.018397251144051552, 0.027676403522491455, -0.0002183512260671705, 0.028642725199460983, 0.015176184475421906, 0.03198767825961113, -0.020243171602487564, -0.03069925308227539, 0.0003888897190336138, 0.021766984835267067, 0.017331821843981743, -0.0026821582578122616, 0.003716616425663233, 0.0011947373859584332, 0.014197475276887417, -0.0025598197244107723, -0.016984937712550163, -0.025545544922351837, 0.0008478531381115317, -0.0031777070835232735, 0.005881545599550009, 0.0334991030395031, -0.008486274629831314, 0.007284568157047033, 0.013714315369725227, 0.01682388409972191, -0.005280692595988512, -0.01165778748691082, 0.003942710813134909, 0.0020844023674726486, -0.007513759657740593, 0.0111994044855237, -0.013491317629814148, 0.020738720893859863, -0.011385235004127026, -0.0022810734808444977, 0.018558304756879807, 0.026264090090990067, -0.034886639565229416, 0.0011025962885469198, -0.018583081662654877, -0.01110029499977827, -0.014308973215520382, 0.012171919457614422, -0.04730013757944107, 0.04945577681064606, -0.025793317705392838, -0.012809937819838524, 0.035060081630945206, -0.017170768231153488, 0.02361290343105793, 0.006714687217026949, 0.008703077211976051, -0.013231154531240463, -0.006937684025615454, -0.014296584762632847, 0.0482664592564106, 0.03969346359372139, 0.05287506431341171, -0.0004823858616873622, -0.03027803637087345, 0.002288816263899207, -0.022411197423934937, -0.005339539144188166, 0.0007034470909275115, 0.001025940990075469, 0.008411942049860954, -0.017814982682466507, -0.002127762883901596, 0.027973733842372894, -0.03317699581384659, 0.023179298266768456, 0.00939684547483921, -0.004992655012756586, -0.0370422787964344, -0.005900128744542599, 0.00025513023138046265, -0.002973293187096715, -0.03263189271092415, -0.021667873486876488, -0.00932251289486885, 0.027800291776657104, 0.03139302134513855, -0.010295027866959572, -0.006857157684862614, -0.0053426362574100494, 0.003248942317441106, -0.0049338084645569324, -0.007142098154872656, -0.012128558941185474, -0.015671733766794205, 0.014606302604079247, 0.03171512857079506, -0.018099922686815262, 0.004020140040665865, -0.00590942008420825, 0.010672884061932564, 0.034291982650756836, -0.02314213290810585, 0.01603100635111332, -0.026487087830901146, 0.00849866308271885, 0.007581897545605898, 0.013379819691181183, -0.030154148116707802, -0.005745269823819399, -0.026759639382362366, -0.029187828302383423, -0.010257861576974392, 0.01043749786913395, -0.026164980605244637, -0.013862979598343372, 0.0030274938326328993, 0.027354298159480095, 0.035283081233501434, -0.007142098154872656, 0.012184307910501957, 0.051437973976135254, -0.01237633265554905, -0.021729817613959312, 0.004453745670616627, 0.007445621769875288, 0.029460379853844643, -0.0008300443296320736, 0.028940053656697273, 0.014160308986902237, 0.01684866100549698, 0.008641133084893227, -0.0022934621665626764, 0.007160681299865246, 0.0008284957730211318, 0.027973733842372894, 0.001737518236041069, -0.029212605208158493, 0.009700369089841843, 0.012735606171190739, 0.0051041534170508385, -0.0033015944063663483, -0.027924178168177605, 0.015485902316868305, 0.036472395062446594, 0.024765053763985634, -0.0061231255531311035, -0.018360085785388947, 0.035506077110767365, -0.006343025714159012, 0.012524997815489769, -0.014110754244029522, -0.02050333470106125, -0.003781657200306654, -0.029534712433815002, -0.017158379778265953, 0.04113055765628815, 0.005705006420612335, -0.027924178168177605, -0.006993433460593224, -0.013602816499769688, -0.016043394804000854, 0.007990725338459015, 0.03956957533955574, -3.709357406478375e-05, -0.025495989248156548, 0.021469654515385628, -0.025025218725204468, 0.010790576227009296, -0.026363199576735497, -0.023303184658288956, 0.012481637299060822, 0.003781657200306654, 0.016761939972639084, 0.027205632999539375, -0.019103409722447395, 0.03724049776792526, -0.009241986088454723, 0.005144416820257902, 0.01542395818978548, 0.006832379847764969, -0.012295805849134922, 0.0045559522695839405, -0.0003687580465339124, -0.017542429268360138, -0.006460718344897032, -0.034168094396591187, -0.03857848048210144, -0.044698506593704224, 0.020193615928292274, -0.008888907730579376, 0.026933081448078156, -0.021407710388302803, -0.020862607285380363, 0.014531970955431461, 0.023278407752513885, 0.0021339573431760073, 0.025495989248156548, 0.03186379373073578, 0.0035462714731693268]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:44.800099", "url_path": "/api/models/gemini/", "chunk_size": 4918}
updated_dt: 2025-03-15T11:17:44.800099
---
```
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
```
| ```
@dataclass
classGeminiStreamedResponse(StreamedResponse):
"""Implementation of `StreamedResponse` for the Gemini model."""
  _model_name: GeminiModelName
  _content: bytearray
  _stream: AsyncIterator[bytes]
  _timestamp: datetime = field(default_factory=_utils.now_utc, init=False)
  async def_get_event_iterator(self) -> AsyncIterator[ModelResponseStreamEvent]:
    async for gemini_response in self._get_gemini_responses():
      candidate = gemini_response['candidates'][0]
      if 'content' not in candidate:
        raise UnexpectedModelBehavior('Streamed response has no content field')
      gemini_part: _GeminiPartUnion
      for gemini_part in candidate['content']['parts']:
        if 'text' in gemini_part:
          # Using vendor_part_id=None means we can produce multiple text parts if their deltas are sprinkled
          # amongst the tool call deltas
          yield self._parts_manager.handle_text_delta(vendor_part_id=None, content=gemini_part['text'])
        elif 'function_call' in gemini_part:
          # Here, we assume all function_call parts are complete and don't have deltas.
          # We do this by assigning a unique randomly generated "vendor_part_id".
          # We need to confirm whether this is actually true, but if it isn't, we can still handle it properly
          # it would just be a bit more complicated. And we'd need to confirm the intended semantics.
          maybe_event = self._parts_manager.handle_tool_call_delta(
            vendor_part_id=uuid4(),
            tool_name=gemini_part['function_call']['name'],
            args=gemini_part['function_call']['args'],
            tool_call_id=None,
          )
          if maybe_event is not None:
            yield maybe_event
        else:
          assert 'function_response' in gemini_part, f'Unexpected part: {gemini_part}'
  async def_get_gemini_responses(self) -> AsyncIterator[_GeminiResponse]:
    # This method exists to ensure we only yield completed items, so we don't need to worry about
    # partial gemini responses, which would make everything more complicated
    gemini_responses: list[_GeminiResponse] = []
    current_gemini_response_index = 0
    # Right now, there are some circumstances where we will have information that could be yielded sooner than it is
    # But changing that would make things a lot more complicated.
    async for chunk in self._stream:
      self._content.extend(chunk)
      gemini_responses = _gemini_streamed_response_ta.validate_json(
        _ensure_decodeable(self._content),
        experimental_allow_partial='trailing-strings',
      )
      # The idea: yield only up to the latest response, which might still be partial.
      # Note that if the latest response is complete, we could yield it immediately, but there's not a good
      # allow_partial API to determine if the last item in the list is complete.
      responses_to_yield = gemini_responses[:-1]
      for r in responses_to_yield[current_gemini_response_index:]:
        current_gemini_response_index += 1
        self._usage += _metadata_as_usage(r)
        yield r
    # Now yield the final response, which should be complete
    if gemini_responses:
      r = gemini_responses[-1]
      self._usage += _metadata_as_usage(r)
      yield r
  @property
  defmodel_name(self) -> GeminiModelName:
"""Get the model name of the response."""
    return self._model_name
  @property
  deftimestamp(self) -> datetime:
"""Get the timestamp of the response."""
    return self._timestamp

```
  
---|---  
####  model_name `property`
```
model_name: GeminiModelName[](https://ai.pydantic.dev/api/models/gemini/#pydantic_ai.models.gemini.GeminiModelName "pydantic_ai.models.gemini.GeminiModelName")

```

Get the model name of the response.
####  timestamp `property`
```
timestamp: datetime[](https://docs.python.org/3/library/datetime.html#datetime.datetime "datetime.datetime")

```

Get the timestamp of the response.
###  GeminiSafetySettings
Bases: `TypedDict[](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.TypedDict "typing_extensions.TypedDict")`
Safety settings options for Gemini model request.
See [Gemini API docs](https://ai.google.dev/gemini-api/docs/safety-settings) for safety category and threshold descriptions. For an example on how to use `GeminiSafetySettings`, see [here](https://ai.pydantic.dev/agents/#model-specific-settings).
Source code in `pydantic_ai_slim/pydantic_ai/models/gemini.py`
```
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
```
|