---
url: https://ai.pydantic.dev/graph/
session_id: pydantic_ai_docs
chunk_number: 2
title: Introduction to Graph Types in Pydantic Graph
summary: This section outlines the fundamental components of `pydantic-graph`, focusing on `GraphRunContext`, which manages the state and dependencies during a graph run, and `End`, which signifies the termination of the graph run. Both of these components are generic, allowing flexibility in the types of states and return values used in graphs.
embedding: [-0.0056343358010053635, 0.025183606892824173, 0.004680578131228685, -0.06589195877313614, 0.050058480352163315, 0.007536337245255709, -0.00012369902106001973, 0.008787799626588821, -0.000899316044524312, 0.019846975803375244, 0.015006517991423607, -0.04926460236310959, 0.009046913124620914, -0.04278125613927841, 0.01581142283976078, -0.02696983329951763, -0.03927495703101158, 0.014565474353730679, 0.043178196996450424, 0.051690343767404556, 0.02119215950369835, 0.0009234356693923473, 0.039892420172691345, 0.0025056805461645126, -0.0007353028631769121, 0.01700224168598652, 0.013859803788363934, 0.021567046642303467, 0.015116779133677483, 0.015370379202067852, 0.0154916662722826, -0.0026104284916073084, -0.04622139781713486, -0.019582347944378853, 0.02273581176996231, -0.020387254655361176, -0.0023182369768619537, 0.021335497498512268, 0.029329419136047363, 0.03367369994521141, 0.0062021794728934765, -0.0318874716758728, -0.009802200831472874, 0.0031617332715541124, -0.044457223266363144, -0.022978385910391808, 0.0037516294978559017, 0.04688296467065811, 0.03270340338349342, 0.02593338117003441, -0.05596847087144852, -0.021401654928922653, -0.007800963707268238, 0.036297913640737534, -0.08132849633693695, 0.01808279938995838, -0.025007188320159912, 0.008175850845873356, -0.0032582117710262537, -0.04710348695516586, 0.02113702893257141, 0.028403226286172867, 0.01658325083553791, 0.07713857293128967, -0.019648505374789238, 0.032460831105709076, -0.03936316817998886, 0.030652550980448723, -0.03413679823279381, -0.016748642548918724, 0.0533222071826458, 0.04807378351688385, -0.03034381940960884, -0.010408636182546616, -0.006819641217589378, -0.02765345200896263, 0.015502693131566048, 0.027102146297693253, 0.00954859983175993, -0.005667414050549269, 0.030542289838194847, 0.03859134018421173, 0.013264395296573639, 0.015238066203892231, 0.023309169337153435, -0.05614488571882248, -0.03744462504982948, -0.02606569416821003, -0.032879821956157684, -0.05248422175645828, 0.0014526883605867624, -0.03603328391909599, -0.0076300594955682755, 0.04992616921663284, 0.06523039191961288, 0.060996368527412415, 0.026550842449069023, -0.0047963522374629974, -0.05808547884225845, -0.029814567416906357, -0.0046723089180886745, 0.0007284115417860448, -0.04899997636675835, 0.004967256914824247, 0.04683886095881462, -0.01735507696866989, -0.02811654843389988, 0.08097565919160843, -0.019571322947740555, -0.042803309857845306, -0.07189015299081802, -0.00920127797871828, 0.027454981580376625, 0.04820609837770462, -0.05486585944890976, -0.03804003447294235, -0.03340907394886017, 0.006384110078215599, 0.025360023602843285, -0.002152845496311784, 0.008082129061222076, 0.012338202446699142, -0.016076048836112022, 0.004490378312766552, -0.004065873567014933, 0.02315480448305607, -0.02866785228252411, 0.015734240412712097, 0.008010460063815117, -0.0016676972154527903, -0.03612149506807327, -0.0259774848818779, -0.04617729410529137, -0.029219157993793488, -0.010039261542260647, 0.017608677968382835, -0.06227539852261543, 0.021930906921625137, -0.019152330234646797, 0.015469614416360855, 0.01567910984158516, -0.05530690401792526, -0.009421800263226032, 0.03338702395558357, 0.012448463588953018, 0.06531859934329987, -0.050234898924827576, 0.04763273894786835, -0.035746607929468155, 0.01841358281672001, 0.07021418958902359, 0.058614734560251236, -0.012470516376197338, -0.0072000413201749325, -0.007244145963340998, -0.006703867111355066, 0.013584151864051819, 0.0086554866284132, 0.007365433033555746, -0.0234635341912508, -0.012889507226645947, 0.04154633358120918, -0.03338702395558357, 0.022405030205845833, -0.030542289838194847, 0.0241471529006958, -0.0560566782951355, -0.01649504154920578, -0.0150395967066288, -0.03790772333741188, -0.005477213766425848, -0.028359122574329376, -0.03534966707229614, 0.038613393902778625, 0.0314464308321476, 0.01640683226287365, -0.0432884581387043, -0.005777674727141857, 0.0019764278549700975, -0.007392998319119215, -0.013087977655231953, -0.008131747134029865, -0.07189015299081802, 0.027256513014435768, -0.03534966707229614, 0.003740603569895029, 0.02355174347758293, -0.009962079115211964, -0.037378471344709396, 0.0047798133455216885, 0.008942164480686188, 0.03349728509783745, 0.005005848128348589, 0.015293196775019169, 0.022669656202197075, -0.00936115626245737, 0.07634469866752625, 0.0177630428224802, 0.04847072437405586, 0.047456324100494385, 0.025536440312862396, 0.04028936102986336, 0.014675735495984554, 0.01937285251915455, 0.023132752627134323, -0.03085101954638958, -0.006384110078215599, -0.04653013125061989, -0.005772161763161421, -0.03195362910628319, 0.007277224212884903, -0.04348692670464516, -0.004214725457131863, 0.001039898837916553, -0.011456115171313286, 0.02496308460831642, -0.05623309686779976, 0.018523843958973885, 0.04028936102986336, 0.02893247827887535, 0.0026641807053238153, 0.034555789083242416, 0.024764614179730415, -0.012062550522387028, 0.0033326379489153624, -0.007133884821087122, -0.015458588488399982, -0.03867954760789871, 0.0040300386026501656, 0.054204292595386505, -0.021809620782732964, -0.031600795686244965, 0.010645696893334389, -0.0332547090947628, -0.025492336601018906, -0.03559224307537079, -0.014797022566199303, -0.03671690449118614, 0.028734009712934494, -0.033916275948286057, -0.04306793585419655, 0.027675503864884377, 0.008594842627644539, 0.017531493678689003, 0.052792955189943314, 0.01909719966351986, 0.0030046114698052406, -0.021765515208244324, 0.005083031021058559, 0.06465703248977661, 0.03435732051730156, 0.007034650072455406, 0.003437385894358158, 0.00872715562582016, -0.014091352000832558, -0.05490996316075325, 0.008848442696034908, -0.0031589767895638943, 0.0191413052380085, 0.02838117443025112, 0.0073433807119727135, 0.0005361439543776214, -0.015590901486575603, -0.001415475271642208, -0.03345317766070366, -0.005011361092329025, -0.003509055357426405, -0.00018623766663949937, -0.00603678822517395, -0.08988474309444427, 0.01694711111485958, 0.026484685018658638, 0.03290187567472458, -0.04439106583595276, 0.023992788046598434, -0.0092233307659626, 0.020111601799726486, 0.05244011804461479, 0.0019295669626444578, -0.04763273894786835, 0.02496308460831642, 0.02551438845694065, 0.04520699754357338, 0.05737980827689171, -0.011709715239703655, 0.00032079051015898585, -0.008980756625533104, 0.0009613378788344562, 0.011511245742440224, -0.021357551217079163, 0.03340907394886017, 0.0014416621997952461, 0.02405894361436367, -0.03667280077934265, 0.03025561012327671, -0.0696849375963211, -0.00014282242045737803, 0.010689801536500454, 0.03398243337869644, -0.01736610382795334, -0.017288919538259506, -0.022394003346562386, -0.05098467320203781, -0.0018055234104394913, 0.005513048730790615, -0.011897158809006214, -0.004890074022114277, 0.001885462668724358, 0.012194863520562649, 0.004167864564806223, -0.012955664657056332, 0.02379431761801243, 0.002070149639621377, -5.349380080588162e-05, -0.0234635341912508, 0.037885669618844986, 0.08313677459955215, -0.035327617079019547, -0.018700260668992996, -0.027322668582201004, -0.03823850676417351, -0.054248400032520294, 0.07493335753679276, 0.021214211359620094, -0.020938558503985405, 0.021302420645952225, -0.023529691621661186, 0.025801068171858788, 0.022162456065416336, -0.0050720046274363995, -0.00025360024301335216, -0.046044982969760895, 0.007552876602858305, 0.04560393840074539, 0.017752015963196754, -0.01635170169174671, -0.023816369473934174, 0.05336631089448929, 0.03786361962556839, 0.04767684265971184, -0.03808413818478584, -0.048823557794094086, 0.009366669692099094, -0.020199809223413467, -0.018788469955325127, 0.02520565874874592, -0.019350800663232803, 0.038282610476017, -0.03901033103466034, 0.006610145326703787, 0.003456681501120329, -0.02551438845694065, 0.005416570231318474, 0.04439106583595276, 0.023066595196723938, 0.0018840843113139272, 0.0062132058665156364, -0.03790772333741188, -0.013065924867987633, 0.020398279651999474, -0.0437515527009964, -0.03618765249848366, -0.017057372257113457, 0.004129273351281881, -0.04899997636675835, -0.024345623329281807, -0.029197106137871742, 0.014863179065287113, 0.029770461842417717, 0.050367213785648346, 0.04899997636675835, 0.03382806479930878, 0.006808614823967218, -0.02155601978302002, 0.007596980780363083, -0.014940361492335796, -0.027543190866708755, -0.027962181717157364, 0.0214237067848444, 0.027124200016260147, -0.0076300594955682755, 0.020166732370853424, 0.027168303728103638, -0.009791173972189426, -0.012205889448523521, 0.013187211938202381, -0.0030790376476943493, 0.014367004856467247, 0.020651880651712418, 0.0437295027077198, 0.023265065625309944, -0.025999536737799644, -0.005860370583832264, 0.005540614016354084, 0.009168200194835663, 0.002968776738271117, -0.02282402105629444, 0.0013293338706716895, 0.044545434415340424, 0.009465904906392097, -0.0150395967066288, -0.01795048639178276, -0.03603328391909599, -0.012845403514802456, -0.013220290653407574, -0.0036358556244522333, 0.062407709658145905, 0.02560259774327278, -0.012305124662816525, 0.014179561287164688, 0.04302383214235306, 0.018171008676290512, -0.012889507226645947, -0.04514084383845329, -0.021533967927098274, -0.04820609837770462, -0.004294665064662695, -0.01567910984158516, -0.02520565874874592, 0.013981090858578682, -0.014642656780779362, -0.07899095863103867, -0.03605533763766289, -0.013981090858578682, -0.02341943047940731, 0.04264894500374794, 0.04622139781713486, -0.043442822992801666, 0.01191921066492796, -0.041391968727111816, 0.05380735546350479, 0.07832939177751541, 0.016439910978078842, -0.00123285548761487, 0.04653013125061989, -0.015458588488399982, -0.00023964533465914428, 0.0088815214112401, -0.0030817941296845675, -0.01365030836313963, 0.011808950453996658, -0.03559224307537079, 0.03490862250328064, 0.026440581306815147, -0.030608445405960083, -0.010193627327680588, -0.01431187428534031, -0.05173444747924805, -0.01700224168598652, -0.02461024932563305, -0.024544091895222664, 0.02341943047940731, -0.05636540800333023, 0.008638947270810604, -0.03528350964188576, -0.022250663489103317, 0.07585954666137695, 0.009708479046821594, 0.03680511191487312, -0.031203854829072952, 0.02341943047940731, 0.007955329492688179, -0.0058824229054152966, 0.03003508970141411, -0.022581446915864944, 0.014819074422121048, 0.014201613143086433, -0.01786227710545063, 0.0036716903559863567, 0.005943066440522671, 0.02820475585758686, -0.03636406734585762, 0.0023981761187314987, -0.0022286497987806797, 0.014841127209365368, 0.0007904333178885281, 0.004934178665280342, 0.039297010749578476, 0.03667280077934265, 0.03340907394886017, -0.02410304918885231, -0.018755391240119934, 0.015028570778667927, 0.010513383895158768, 0.010430688038468361, -0.0018303320975974202, -0.001772445160895586, -0.024125101044774055, -0.0036193164996802807, 0.01978081837296486, -0.018171008676290512, -0.00030580192105844617, 0.03753283619880676, -0.00888703390955925, 0.04081861302256584, 0.03905443474650383, -0.062231291085481644, -0.014521369710564613, 0.01011644396930933, -0.023617900907993317, -0.004691604524850845, -0.006224231794476509, -0.0029136461671441793, 0.03177721053361893, -0.009300513193011284, -0.08494505286216736, 0.04988206550478935, 0.008809851482510567, 0.009537573903799057, 0.029130948707461357, -0.03512914478778839, -0.00036041554994881153, 0.03230646625161171, 0.013209264725446701, 0.0013741273432970047, 0.029770461842417717, -0.011897158809006214, 0.020023392513394356, -0.011808950453996658, -0.006014735903590918, -0.04269304871559143, -0.01589963212609291, -0.02081727236509323, -0.017112502828240395, -0.006047814153134823, -0.0010178466327488422, 0.04560393840074539, -0.02979251556098461, -0.004065873567014933, -0.009079990908503532, 0.022625550627708435, 0.0024739806540310383, 0.011423036456108093, 0.019064122810959816, -0.061128683388233185, 0.006841693539172411, 0.017288919538259506, -0.002789602614939213, -0.026903677731752396, -0.011241106316447258, 0.0005433798651210964, 0.008754720911383629, -0.003346420591697097, -0.007084267679601908, -0.023948682472109795, 0.03162284567952156, 0.02150088921189308, -0.043950024992227554, 0.009063451550900936, 0.036297913640737534, 0.004788082558661699, 0.009493469260632992, -0.0017352320719510317, -0.06933210045099258, -0.022107325494289398, 0.025734910741448402, -0.03329881280660629, -0.01478599663823843, 0.016241440549492836, 0.02906479313969612, -0.009124095551669598, -0.014587526209652424, 0.031733106821775436, 0.03837081789970398, -0.022405030205845833, 0.08093155175447464, 0.02674931101500988, -0.027873974293470383, -0.026220059022307396, 0.001769688562490046, 0.0017779581248760223, 0.0034456553403288126, 0.0027262025978416204, -0.011059175245463848, 0.010502357967197895, -0.03435732051730156, -0.01781817339360714, 0.010849679820239544, -0.0034925162326544523, -0.02168833278119564, -0.04178890958428383, -0.03751078248023987, 0.01226102001965046, -0.0180056169629097, -0.02957199327647686, 0.01786227710545063, -0.020034419372677803, 0.007828528992831707, 0.004355308599770069, -0.017707912251353264, -0.005948579404503107, -0.005683952942490578, -0.007448128890246153, 0.014962414279580116, -0.001173590193502605, -0.007718267850577831, 0.01854589581489563, -0.013981090858578682, -0.06064353510737419, 0.03704768791794777, 0.013881856575608253, 0.0018592756241559982, -0.003917021211236715, 0.035548135638237, -0.0009165443480014801, -0.006676301825791597, 0.014201613143086433, 0.011285210959613323, -0.01995723508298397, 0.008170338347554207, -0.019604401662945747, 0.0066046323627233505, 0.00011698000162141398, -0.014752917923033237, 0.0031589767895638943, 0.009432826191186905, -0.03819439932703972, 0.04487621411681175, 0.03667280077934265, -0.06192256137728691, 0.01937285251915455, 0.025029240176081657, -0.0076190331019461155, -0.012768220156431198, -0.008396373130381107, 0.011075714603066444, -0.006626684218645096, -0.006610145326703787, -0.00464749988168478, -0.015877580270171165, -0.022394003346562386, 0.012249994091689587, 0.02948378399014473, -0.01700224168598652, -0.04780915752053261, 0.00036110467044636607, -0.02104881964623928, -0.04004678502678871, 0.022548368200659752, -0.008010460063815117, -0.002101849764585495, 0.011136358603835106, -0.03435732051730156, 0.00010802129691001028, -0.0010715988464653492, -0.01754252053797245, 0.010006182827055454, 0.023441482335329056, 0.02516155317425728, -0.02379431761801243, -0.009774635545909405, 0.02624211087822914, 0.015646031126379967, -0.017421234399080276, -0.028645800426602364, -0.038282610476017, -0.039252907037734985, -0.03526145964860916, -0.015745267271995544, -0.011075714603066444, -0.04639781638979912, 0.010827627032995224, -0.0034952727146446705, -0.029042739421129227, -0.02970430627465248, 0.031049489974975586, 0.022846072912216187, 0.02802833914756775, 0.0035118120722472668, -0.005976144690066576, -0.041766855865716934, 0.030828967690467834, 0.05213138833642006, 0.014014169573783875, 0.00769070303067565, -0.011698689311742783, -0.006571554113179445, -0.01419058721512556, -0.015976814553141594, 0.033783961087465286, -0.0018758147489279509, -0.011786897666752338, -0.040664248168468475, 0.06187845766544342, 0.06324569135904312, -0.021578071638941765, -0.02692572958767414, 0.016098102554678917, 0.016825824975967407, 0.020177757367491722, -0.005049952305853367, 0.006257310044020414, -0.010656722821295261, -0.003839838318526745, -0.008969729766249657, 0.008164824917912483, 0.008534199558198452, 0.061128683388233185, -0.019604401662945747, -0.06615658104419708, -0.016528120264410973, -0.0086554866284132, -0.03792977333068848, 0.005342144053429365, -0.005717031192034483, 0.006334492936730385, 0.0016291058855131269, 0.021015740931034088, 0.004358064848929644, -0.03945137560367584, -0.01672658883035183, 0.02114805392920971, -0.043950024992227554, -0.0034732206258922815, -0.009780148044228554, 0.00017288576054852456, 0.034974779933691025, 0.0033050726633518934, 0.0073268418200314045, -0.011853054165840149, -0.028138600289821625, 0.014587526209652424, -0.011930237524211407, -0.01639580726623535, 0.0037984903901815414, -0.01941695809364319, -0.034379370510578156, 0.014587526209652424, -0.0003948720986954868, -0.01899796538054943, -0.032328516244888306, 0.019747739657759666, -0.023529691621661186, -0.000552683137357235, -0.0020687715150415897, 0.0015298710204660892, -0.031644899398088455, -0.006411675363779068, -0.021589098498225212, 0.005617796443402767, -0.0008793312590569258, 0.012933611869812012, -0.018435634672641754, -0.032107993960380554, -0.025823120027780533, -0.014874204993247986, -0.025779014453291893, 0.04165659472346306, -0.0014196099946275353, 0.029197106137871742, -0.024676404893398285, 0.005394517909735441, -0.043817710131406784, -0.03270340338349342, 0.05724749714136124, 0.011742793954908848, 0.011588428169488907, 0.0007139397785067558, -0.016109127551317215, 0.0173109732568264, -0.05407198145985603, -0.017024293541908264, -0.037709251046180725, 0.024367675185203552, 0.010193627327680588, -0.03380601480603218, 0.009140634909272194, 0.00014764633669983596, -0.0019819410517811775, 0.023529691621661186, -0.021699359640479088, 0.0020618801936507225, 0.00014075501530896872, 0.02465435303747654, 0.026440581306815147, -0.01034247875213623, 0.050234898924827576, -0.0451187901198864, 0.012128707021474838, -0.009846304543316364, 0.008490094915032387, -0.00023327086819335818, 0.027278564870357513, 0.02040930651128292, 0.03380601480603218, 0.018612051382660866, -0.004661282524466515, -0.04930870607495308, -0.04630960896611214, -0.019108226522803307, -0.0437515527009964, -0.02670520730316639, 0.0010826248908415437, 0.011197001673281193, 0.029968932271003723, -0.015116779133677483, -0.019020017236471176, -0.09001705795526505, 0.013683387078344822, 0.0282488614320755, -0.025536440312862396, 0.028491435572504997, -0.010816601105034351, -0.007916737347841263, -0.015612953342497349, 0.026947781443595886, -0.034511685371398926, -0.016572223976254463, -0.000593341828789562, -0.028954531997442245, -0.012040497735142708, 0.015546796843409538, -0.021357551217079163, 0.02260349877178669, -0.010568514466285706, 0.022868124768137932, -0.018942834809422493, -0.010546461679041386, 0.00653847586363554, -0.03318855166435242, 0.018016641959547997, 0.035790711641311646, 0.02200808934867382, 0.014400082640349865, 0.006218718830496073, 0.03217415139079094, 0.028778113424777985, -0.008931138552725315, -0.05266064032912254, -0.019383879378437996, 0.02943968027830124, -0.02036520093679428, 0.04183301329612732, 0.02392663061618805, 0.036342017352581024, 0.028094496577978134, 0.0173219982534647, 0.017487389966845512, -0.022581446915864944, -0.013297473080456257, -0.0021404412109404802, 0.009984130971133709, 0.0022824020124971867, -0.013087977655231953, 0.014863179065287113, -0.011257645674049854, -0.020905479788780212, 0.005656387656927109, -0.01239333301782608, 0.00849560834467411, -0.006102944724261761, 0.06933210045099258, 0.03177721053361893, -0.04136991500854492, -0.030233558267354965, -0.019119253382086754, 0.04081861302256584, 0.01134585402905941, 0.02008954994380474, 0.0075197983533144, -0.015249092131853104, -0.007155937142670155, -0.02880016528069973, 0.041127342730760574, -0.008942164480686188, -0.017024293541908264, -0.03453373536467552, 0.0008958703838288784, 0.02164422906935215, 0.015712188556790352, -0.02838117443025112, 0.009631295688450336, 0.029505835846066475, -0.0010715988464653492, -0.024411778897047043, 0.00904139969497919, -0.022316820919513702, 0.0036193164996802807, -0.002709663473069668, 0.032196205109357834, 0.04123760387301445, 0.013209264725446701, 0.003183785593137145, 0.00783404242247343, 0.015888605266809464, -0.003897725371643901, 0.0052511789835989475, -0.024411778897047043, -0.002902620006352663, -0.004424221348017454, 0.012845403514802456, -0.030917176976799965, -0.016759667545557022, 0.03704768791794777, 0.015182935632765293, 0.03102743811905384, -0.009421800263226032, 0.007084267679601908, 0.013959039002656937, -0.024808717891573906, 0.014168535359203815, -0.026594946160912514, 0.038017984479665756, 0.000986146624200046, -0.00559298787266016, -0.04533931240439415, 0.007001571822911501, 0.028315016999840736, -0.001743501634337008, -0.0016814798582345247, -0.0248307716101408, -0.04081861302256584, 0.018259216099977493, 0.034379370510578156, -0.03029971569776535, -0.033475231379270554, -0.023441482335329056, -0.025448232889175415, 0.007596980780363083, 0.015800397843122482, 0.04847072437405586, -0.03089512512087822, 0.020541619509458542, 0.01431187428534031, 0.002581485081464052, -0.022868124768137932, -0.0017614190001040697, 0.03521735593676567, 0.0062076929025352, -0.04653013125061989, 0.023772265762090683, -0.0038150297477841377, -0.007889172993600368, 0.028689904138445854, -0.003674446837976575, 0.02657289430499077, -0.011577402241528034, 0.010265296325087547, -0.03407064080238342, 0.017299946397542953, -0.045736249536275864, -0.01200741995126009, 0.007310302462428808, 0.0060423011891543865, -0.03969395160675049, 0.0019461062038317323, -0.01963747851550579, 0.002100471407175064, 0.036562539637088776, 0.005289770197123289, -0.002877811435610056, -0.010783523321151733, 0.048823557794094086, 0.01239333301782608, -0.013606203719973564, -0.029417626559734344, 0.00448762159794569, -0.026462633162736893, 0.021225236356258392, -0.001656671054661274, -0.0010426553199067712, -0.0017035320634022355, -0.020354175940155983, -0.002184545621275902, 0.01841358281672001, -0.036606643348932266, 0.002650398062542081, -0.01972568780183792, 0.009471417404711246, 0.03832671418786049, 0.0332547090947628, 0.05111698806285858, 0.058306001126766205, 0.06487755477428436, 0.002734472043812275, -0.0464860275387764, 0.04013499245047569, 0.00945487804710865, -0.004294665064662695, 0.03197568282485008, 0.0232430137693882, 0.04379565641283989, -0.024213310331106186, 0.020662905648350716, 0.023220960050821304, 0.0034952727146446705, 0.0039666383527219296, 0.02405894361436367, 0.010794549249112606, 0.020122626796364784, 0.014113404788076878, 0.025756962597370148, -0.016031945124268532, 0.007949816063046455, 0.005524074658751488, 0.020718036219477654, -0.004542752169072628, -0.011285210959613323, 0.028226809576153755, -0.0006215962348505855, -0.028006287291646004, 0.02160012535750866, 0.02516155317425728, -3.837598706013523e-05, -0.007817503064870834, -0.005504779051989317, 0.015877580270171165, 0.023000439628958702, 0.005733570549637079, 0.012062550522387028, -0.0053834919817745686, -0.045096736401319504, -0.0010026857489719987, -0.013606203719973564, -0.0008965595043264329, 0.001656671054661274, 0.010546461679041386, -0.03956163674592972, -0.021059846505522728, 0.01557987555861473, 0.013694413006305695, -0.016748642548918724, 0.027962181717157364, -0.0007959463982842863, 0.024345623329281807, 0.01298874244093895, -0.017487389966845512, -0.01954927109181881, 0.020541619509458542, -0.020839324221014977, -0.0035311076790094376, 0.02379431761801243, -0.0086554866284132, 0.024632301181554794, -0.004790839273482561, 0.004622691310942173, 0.006951954215764999, -0.014113404788076878, -0.01080006267875433, -0.014587526209652424, -0.027080094441771507, -0.011952289380133152, 0.0006264201365411282, 0.004289151635020971, 0.016384780406951904, 0.0036386121064424515, -0.01333055179566145, -0.034247059375047684, 0.006770023610442877, 0.013087977655231953, -0.019218487665057182, -0.010425174608826637, -0.01799459010362625, 0.011235592886805534, 0.002301697852090001, -0.004052090924233198, 0.01653914526104927, 0.012944637797772884, 0.030740758404135704, -0.0010247379541397095, -0.017233790829777718, -0.020166732370853424, 0.013529021292924881, -0.010248756967484951, 0.011130845174193382, 0.01621938869357109, 0.03495272994041443, -0.041899170726537704, 0.032372619956731796, 0.0012307880679145455, 0.025183606892824173, -0.0076190331019461155, -0.007128371857106686, -0.0428474135696888, -0.016506068408489227, 0.005353169981390238, -0.031292062252759933, -0.0030128811486065388, -0.004592369310557842, -0.0007215202203951776, 0.03257109224796295, 5.57765451958403e-05, -0.009272947907447815, -0.03138027340173721, -0.030409976840019226, -0.029549941420555115, 0.012382307089865208, 0.028226809576153755, -0.0038591339252889156, 0.0047798133455216885, -0.021247290074825287, 0.02816065214574337, 0.0120735764503479, 0.01084416639059782, 0.0043497951701283455, -0.0018964887131005526, -0.03887801989912987, 0.005987170618027449, -0.016428884118795395, -0.008434964343905449, 0.03550403192639351, 0.018148956820368767, 0.00849560834467411, 0.0026076720096170902, -0.05874704569578171, -0.02077316679060459, 0.020111601799726486, 0.009465904906392097, -0.019769791513681412, -0.02136857621371746, 0.014620604924857616, 0.02379431761801243, 0.04617729410529137, -0.025690807029604912, -0.015193961560726166, -0.02952788770198822, 0.015877580270171165, -0.0015160883776843548, 0.02465435303747654, -0.009912461042404175, 0.003037689719349146, -0.009118582122027874, 0.005460674874484539, 0.006918875966221094, 0.006014735903590918, 0.029946880415081978, -0.013826726004481316, -0.014234691858291626, 0.02333122119307518, -0.0117317670956254, 0.048911768943071365, -0.009333590976893902, 0.018788469955325127, -0.03217415139079094, -0.015502693131566048, -0.019527217373251915, -0.004782569594681263, 1.5225489732983988e-05, -0.002960507059469819, -0.02215142920613289, 0.002788224257528782, 0.023573795333504677, -0.024367675185203552, 0.005204318091273308, -0.006709380075335503, -0.015271144919097424, 0.0026738285087049007, 0.054336607456207275, 0.008572790771722794, -0.044170547276735306, 0.027058042585849762, -0.0023650978691875935, 0.015568849630653858, -0.018744364380836487, 0.013981090858578682, 0.001966780051589012, -0.036474328488111496, -0.04119350016117096, 0.026440581306815147, -0.00840739905834198, 0.0051519437693059444, -0.001498171011917293, -0.014929335564374924, -0.004881804343312979, -0.004862508736550808, 0.0026958808302879333, 0.0033023161813616753, 0.04503058269619942, 0.05358683317899704, -0.0035834815353155136, 0.013132081367075443, 0.02619800716638565, -0.0124153858050704, 0.0055433702655136585, 0.014808048494160175, 0.003409820608794689, 0.009818739257752895, 0.009680913761258125, -0.027234459295868874, 0.014289822429418564, 0.023816369473934174, -0.030145348981022835, 0.018931809812784195, -0.01405827421694994, -0.046089086681604385, -0.0022851587273180485, 0.03812824562191963, 0.00863343384116888, -0.002136306371539831, 0.004746734630316496, -0.004247804172337055, 0.0028075200971215963, 0.014047248288989067, 0.04622139781713486, 0.023573795333504677, 0.0016442667692899704, -0.00834124255925417, -0.011103279888629913, 0.004369091242551804, 0.013517995364964008, -0.00913512147963047, 0.01589963212609291, -0.01741020753979683, -0.0003910818777512759, 0.03863544389605522, 0.032460831105709076, 0.043817710131406784, -0.021379603073000908, 0.01483010035008192, 0.019527217373251915, 0.022581446915864944, -0.018689235672354698, -0.03431321308016777, 0.00701811071485281, -0.023595847189426422, 0.00437460420653224, 0.01767483353614807, -0.008534199558198452, -0.0030873073264956474, -0.001935080043040216, -0.0029412114527076483, 0.00514918752014637, 0.03662869334220886, -0.004021768923848867, -0.022173481062054634, 0.02838117443025112, 0.03444552794098854, 0.0006126375519670546, -0.0346219465136528, -0.04377360641956329, 0.0523960143327713, -0.05094056949019432, -0.003969395067542791, 0.03025561012327671, 0.006257310044020414, -0.014113404788076878, 0.027454981580376625, 0.04492032155394554, 0.02397073619067669, -0.011147384531795979, 0.008969729766249657, 0.008379833772778511, 0.002243810798972845, 0.0011935749789699912, -0.006703867111355066, -0.045736249536275864, 0.03213004767894745, 0.03585686907172203, 0.009394234977662563, -0.008352268487215042, 0.021787568926811218, 0.027080094441771507, 0.01726686768233776, 0.005397274624556303, -0.00866099912673235, -0.008528686128556728, 0.02465435303747654, -0.011301749385893345, 0.012382307089865208, -0.007729294244199991, -0.023595847189426422, 0.027499087154865265, -0.004680578131228685, -0.039980627596378326, -0.010149522684514523, -0.039936523884534836, 0.020982662215828896, 0.02291223034262657, -0.015502693131566048, 0.01818203367292881, -0.028050391003489494, 0.028910426422953606, 0.026374423876404762, 0.027763713151216507, -0.023816369473934174, -0.0034759771078824997, -0.01061813160777092, 0.002132171532139182, 0.0005247733206488192, -0.001631862367503345, -0.0018372234189882874, 0.02838117443025112, 0.0017283407505601645, 0.019880052655935287, -0.006075379438698292, -0.048867661505937576, -0.006555014755576849, -0.02237195149064064, 0.03448963165283203, -0.008308163844048977, -0.02516155317425728, 0.03263724595308304, -0.0014237448340281844, 0.0248307716101408, 0.036342017352581024, -0.0006253864266909659, 0.04033346474170685, -0.009079990908503532, -0.0046364739537239075, 0.0021914367098361254, 0.03466605022549629, -0.014929335564374924, -0.06712687760591507, 0.023529691621661186, -0.00954859983175993, -0.009565139189362526, -0.027124200016260147, 0.022250663489103317, -0.0024422805290669203, 0.001164631568826735, -0.02215142920613289, 0.013187211938202381, 0.0184576865285635, -0.015072674490511417, -0.006268336437642574, 0.003398794448003173, -0.0024643326178193092, 0.013925961218774319, 0.006450267042964697, 0.03259314224123955, 0.01968158408999443, 0.017597651109099388, -0.02145678550004959, -0.010568514466285706, -0.03545992821455002, 0.023309169337153435, -0.0020922019612044096, -0.034247059375047684, -0.03338702395558357, 0.010585052892565727, -0.012680011801421642, 0.006797588896006346, 0.00922884326428175, 0.002385771833360195, -0.020861376076936722, 0.002070149639621377, -0.04383976384997368, 0.0028971070423722267, -0.013925961218774319, -0.006246284116059542, -0.0017848494462668896, -0.014620604924857616, 0.04295767471194267, -0.0002477426314726472, -0.006362058222293854, 0.002243810798972845, 0.04346487671136856, 0.0005009982851333916, -0.020265966653823853, -0.008423938415944576, 0.006626684218645096, -0.012702063657343388, 0.026594946160912514, -0.02078419364988804, 0.01671556383371353, 0.008958703838288784, -0.012437437660992146, 0.0019433496054261923, -0.012955664657056332, -0.0012245859252288938, -0.016230415552854538, 0.027058042585849762, 0.0005230504903011024, 0.011875106953084469, 0.004691604524850845, 0.0441925972700119, -0.018920782953500748, -0.010789035819470882, -0.010491331107914448, 0.029880722984671593, -0.006648736540228128, -0.00806558970361948, -0.020651880651712418, 0.02333122119307518, 0.008258546702563763, -0.026506736874580383, 0.01226102001965046, 0.00941077433526516, -0.02602158859372139, -0.02388252690434456, 0.0022314065136015415, 0.021203184500336647, -0.021699359640479088, -0.011489192955195904, -0.04811788722872734, 0.0282488614320755, -0.017851252108812332, -0.00952103454619646, 0.025999536737799644, 0.010281835682690144, 0.014808048494160175, -0.013529021292924881, -0.006158075295388699, 0.013517995364964008, -0.023044543340802193, -0.010397609323263168, 0.01125213224440813, 0.01627451926469803, 0.01627451926469803, -0.014675735495984554, -0.019020017236471176, 0.007128371857106686, -0.010386583395302296, 0.025404127314686775, -0.012040497735142708, 0.026903677731752396, 0.010948914103209972, 0.011963315308094025, 0.021754490211606026, -0.023750213906168938, -0.0189097560942173, 0.029924828559160233, 0.01691403239965439, -0.02610979788005352, 0.0038618906401097775, -0.06946441531181335, 0.009416286833584309, 0.0015601927880197763, -0.005838318262249231, -0.028491435572504997, -0.017895355820655823, -0.006003709975630045, 0.021986037492752075, -0.0023981761187314987, 0.0161752849817276, 0.01191921066492796, -0.007073241285979748, 0.0065053971484303474, -0.01134585402905941, -0.011219053529202938, -0.0058824229054152966, 0.008352268487215042, 0.005672927014529705, -0.00709529360756278, 0.040576037019491196, -0.02260349877178669, 0.008401885628700256, 0.02273581176996231, 0.005165726412087679, 0.045096736401319504, -0.01813792996108532, 0.004994822200387716, -0.011566376313567162, 0.009884895756840706, -0.027763713151216507, -0.015282170847058296, -0.004096195101737976, -0.014885230921208858, -0.0041099777445197105, 0.03987036645412445, 0.005168483126908541, -0.0037847079802304506, 0.019846975803375244, 0.027851922437548637, -0.01453239656984806, 0.001773823401890695, -0.006516423542052507, 0.030740758404135704, 0.0022314065136015415, -0.008622407913208008, -0.030409976840019226, 0.02064085379242897, 0.019064122810959816, -0.014135456643998623, 0.004396656062453985, -0.005937553476542234, 0.005998197011649609, 0.036562539637088776, 0.013418760150671005, 0.009267434477806091, -0.002910889685153961, 0.017200712114572525, -0.002130793174728751, -0.022846072912216187, 0.015524744987487793, 0.003070767968893051, -0.006417188793420792, -0.0051519437693059444, 0.044545434415340424, 0.021070871502161026, -0.00840739905834198, 0.02615390345454216, 0.007916737347841263, 0.023992788046598434, -0.00012766153668053448, 0.026859572157263756, 0.023044543340802193, -0.03512914478778839, 0.008699590340256691, 0.023088647052645683, -0.010287349112331867, 0.007106319535523653, 0.03667280077934265, 0.0056067705154418945, -0.012889507226645947, -0.0017655538395047188, 0.015976814553141594, -0.01226102001965046, -0.0072992765344679356, 0.01280129887163639, -0.013826726004481316, 0.016461962834000587, 0.010833140462636948, -0.015756292268633842, 0.004178890958428383, -0.012437437660992146, 0.015403457917273045, -0.01918540894985199, -0.008611381985247135, -0.00929499976336956, -0.013407734222710133, -0.03107154183089733, -0.014411109499633312, 0.01699121668934822, -0.018799494951963425, 0.023176856338977814, -0.025073345750570297, 0.015337301418185234, -0.008936651982367039, 0.021401654928922653, -0.01567910984158516, 0.0031782726291567087, -0.03517324849963188, -0.013551073148846626, -0.012812324799597263, 0.011775871738791466, -0.018104851245880127, 0.02452204003930092, -0.015138831920921803, -0.01608707569539547, -0.01872231252491474, -0.011489192955195904, -0.007657624315470457, -0.003379498841241002, -0.0017752016428858042, -0.02328711748123169]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:24:54.234127", "url_path": "/graph/", "chunk_size": 4832}
updated_dt: 2025-03-15T11:24:54.234643
---
```

## Graph Types
`pydantic-graph` is made up of a few key components:
### GraphRunContext
[`GraphRunContext`](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.GraphRunContext) — The context for the graph run, similar to PydanticAI's [`RunContext`](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext). This holds the state of the graph and dependencies and is passed to nodes when they're run.
`GraphRunContext` is generic in the state type of the graph it's used in, [`StateT`](https://ai.pydantic.dev/api/pydantic_graph/state/#pydantic_graph.state.StateT).
### End
[`End`](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.End) — return value to indicate the graph run should end.
`End` is generic in the graph return type of the graph it's used in, [`RunEndT`](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.RunEndT).
### Nodes
Subclasses of [`BaseNode`](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.BaseNode) define nodes for execution in the graph.
Nodes, which are generally [`dataclass`es](https://docs.python.org/3/library/dataclasses.html#dataclasses.dataclass), generally consist of:
  * fields containing any parameters required/optional when calling the node
  * the business logic to execute the node, in the [`run`](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.BaseNode.run) method
  * return annotations of the [`run`](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.BaseNode.run) method, which are read by `pydantic-graph` to determine the outgoing edges of the node


Nodes are generic in:
  * **state** , which must have the same type as the state of graphs they're included in, [`StateT`](https://ai.pydantic.dev/api/pydantic_graph/state/#pydantic_graph.state.StateT) has a default of `None`, so if you're not using state you can omit this generic parameter, see [stateful graphs](https://ai.pydantic.dev/graph/#stateful-graphs) for more information
  * **deps** , which must have the same type as the deps of the graph they're included in, [`DepsT`](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.DepsT) has a default of `None`, so if you're not using deps you can omit this generic parameter, see [dependency injection](https://ai.pydantic.dev/graph/#dependency-injection) for more information
  * **graph return type** — this only applies if the node returns [`End`](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.End). [`RunEndT`](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.RunEndT) has a default of [Never](https://docs.python.org/3/library/typing.html#typing.Never) so this generic parameter can be omitted if the node doesn't return `End`, but must be included if it does.


Here's an example of a start or intermediate node in a graph — it can't end the run as it doesn't return [`End`](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.End):
intermediate_node.py```
fromdataclassesimport dataclass
frompydantic_graphimport BaseNode, GraphRunContext

@dataclass
classMyNode(BaseNode[MyState]): [](https://ai.pydantic.dev/graph/#__code_2_annotation_1)
  foo: int [](https://ai.pydantic.dev/graph/#__code_2_annotation_2)
  async defrun(
    self,
    ctx: GraphRunContext[MyState], [](https://ai.pydantic.dev/graph/#__code_2_annotation_3)
  ) -> AnotherNode: [](https://ai.pydantic.dev/graph/#__code_2_annotation_4)
    ...
    return AnotherNode()

```

We could extend `MyNode` to optionally end the run if `foo` is divisible by 5:
intermediate_or_end_node.py```
fromdataclassesimport dataclass
frompydantic_graphimport BaseNode, End, GraphRunContext

@dataclass
classMyNode(BaseNode[MyState, None, int]): [](https://ai.pydantic.dev/graph/#__code_3_annotation_1)
  foo: int
  async defrun(
    self,
    ctx: GraphRunContext[MyState],
  ) -> AnotherNode | End[int]: [](https://ai.pydantic.dev/graph/#__code_3_annotation_2)
    if self.foo % 5 == 0:
      return End(self.foo)
    else:
      return AnotherNode()

```

### Graph
[`Graph`](https://ai.pydantic.dev/api/pydantic_graph/graph/#pydantic_graph.graph.Graph) — this is the execution graph itself, made up of a set of [node classes](https://ai.pydantic.dev/graph/#nodes) (i.e., `BaseNode` subclasses).
`Graph` is generic in:
  * **state** the state type of the graph, [`StateT`](https://ai.pydantic.dev/api/pydantic_graph/state/#pydantic_graph.state.StateT)
  * **deps** the deps type of the graph, [`DepsT`](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.DepsT)
  * **graph return type** the return type of the graph run, [`RunEndT`](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.RunEndT)


Here's an example of a simple graph:
graph_example.py