---
url: https://ai.pydantic.dev/graph/
session_id: pydantic_ai_docs
chunk_number: 7
title: Iterating Over a Graph with `Graph.iter`
summary: This section describes the `Graph.iter` method, a context manager that facilitates asynchronous iteration over the nodes of a graph. It allows for better control and insight into the execution flow of each graph node.
embedding: [-0.003932985011488199, 0.05206071585416794, -0.030882619321346283, -0.045439399778842926, 0.0014397251652553678, 0.010089922696352005, 0.012023244984447956, 0.055598821491003036, 0.01849924400448799, 0.02239116281270981, 0.0556999109685421, -0.01805698126554489, -0.013444806449115276, -0.03394055366516113, 0.011852658353745937, -0.022201620042324066, 0.012623460032045841, 0.024589842185378075, 0.0339658260345459, 0.042507827281951904, 0.023250415921211243, -0.016199475154280663, 0.03108479641377926, 0.04296272620558739, -0.007246801164001226, 0.01761471852660179, 0.021304458379745483, 0.023086147382855415, -0.023477865383028984, -0.008573590777814388, 0.024375028908252716, -0.00894003827124834, -0.043038543313741684, -0.00562306260690093, 0.013533258810639381, -0.016174202784895897, -0.031463880091905594, 0.008813677355647087, 0.02510792203247547, 0.012528689578175545, 0.03014972433447838, -0.036038145422935486, 0.0017895870842039585, 0.0037276484072208405, -0.015479217283427715, 0.026636891067028046, -0.027395056560635567, 0.017804259434342384, 0.06732512265443802, 0.031514424830675125, -0.05382977053523064, 0.02093801088631153, -0.04235619306564331, 0.01796852797269821, -0.0600467287003994, -0.01463259942829609, -0.022694427520036697, 0.02731923945248127, 0.01474632415920496, -0.04071350023150444, 0.014379877597093582, -0.035103075206279755, 0.013179448433220387, 0.04859842360019684, -0.04897750914096832, 0.035153619945049286, -0.05822712928056717, 0.01777898706495762, -0.016755463555455208, -0.014026066288352013, 0.03330874815583229, 0.042507827281951904, -0.02417285181581974, -0.008030238561332226, 0.0027104425244033337, -0.013975522480905056, 0.03366256132721901, 0.014152427203953266, 0.013558531180024147, -0.002418232848867774, 0.0067476751282811165, -0.02656107395887375, -0.012168560177087784, 0.018170705065131187, 0.03394055366516113, -0.053374867886304855, -0.04804243519902229, -0.02084955759346485, -0.028860842809081078, -0.09537725150585175, 0.012579233385622501, 0.012844591401517391, 0.009685567580163479, 0.055194467306137085, 0.08076992630958557, 0.03624032437801361, 0.03305602818727493, -0.0033580425661057234, -0.028936659917235374, -0.006062167230993509, 0.028456488624215126, -0.051327820867300034, -0.06459572166204453, -0.035456884652376175, 0.0408904068171978, 0.027167607098817825, -0.01017837505787611, 0.09699467569589615, -0.014240880496799946, -0.03899499028921127, -0.08203353732824326, -0.030351903289556503, -0.030326630920171738, 0.01518858689814806, 0.014531509950757027, -0.02673797868192196, -0.023225143551826477, -0.038337916135787964, 0.028532303869724274, 0.0007917303591966629, -0.014683143235743046, -0.0035159937106072903, -0.007050941698253155, -0.0037781926803290844, 0.01214960590004921, 0.00878208689391613, -0.018158070743083954, 0.00668449467048049, -0.001243865699507296, -0.0013457442400977015, 0.013773344457149506, -0.0470062755048275, -0.003367519471794367, -0.043670348823070526, -0.019788125529885292, 0.0357348807156086, -0.010987085290253162, 0.021582452580332756, -0.003702376037836075, 0.028810298070311546, -0.005755741614848375, -0.09138424694538116, 0.004757490009069443, 0.030276086181402206, 0.0037750336341559887, 0.05696352198719978, -0.05362759158015251, 0.0425836443901062, -0.03429436311125755, 0.04452960193157196, 0.04895223677158356, 0.026283079758286476, -0.02021775394678116, -0.0020186163019388914, 0.0030942640732973814, 0.005929488223046064, 0.00931280292570591, 0.034218546003103256, -0.027698323130607605, -0.004877532832324505, -0.0252342838793993, 0.037402842193841934, -0.0013591700699180365, -0.01795589178800583, -0.0382368266582489, -0.019093140959739685, -0.04566685110330582, 0.0006902467575855553, -0.03378891944885254, -0.028810298070311546, -0.0022713381331413984, -0.0346987210214138, -0.037453386932611465, 0.02341468632221222, 0.049786217510700226, 0.0060495310463011265, -0.0729355439543724, 0.018865691497921944, 0.01733672432601452, -0.004590061958879232, -0.007411070168018341, -0.03191877901554108, -0.04071350023150444, -0.004296272527426481, -0.007019351236522198, -0.014910593628883362, -0.005209230352193117, -0.010620638728141785, -0.06585933268070221, 0.02164563164114952, 0.015997298061847687, 0.04784025996923447, 0.0014499920653179288, 0.03881808742880821, 0.0031353312078863382, -0.055902089923620224, 0.07076213508844376, 0.02368004433810711, -0.004618492908775806, 0.035406339913606644, -0.008573590777814388, 0.025044742971658707, -0.0009650818537920713, -0.011214534752070904, 0.0442768819630146, -0.005784173030406237, -0.012313875369727612, -0.025006834417581558, -0.031640782952308655, -0.027951044961810112, 0.03295493870973587, -0.022327981889247894, 0.01288249995559454, -0.009862473234534264, -0.019358498975634575, -0.021405545994639397, -0.04753699153661728, 0.040561869740486145, 0.029922274872660637, 0.036922670900821686, -0.005749423522502184, 0.019004687666893005, 0.005123937036842108, 0.0322725884616375, 0.05499228835105896, 0.022378526628017426, 0.024185488000512123, -0.038161009550094604, -0.0027120220474898815, 0.05382977053523064, 0.026106175035238266, -0.01614893041551113, 0.01774107851088047, -0.03073098510503769, 0.036695223301649094, -0.047435905784368515, -0.02562600187957287, -0.04506031796336174, 0.01106922049075365, -0.03591178357601166, -0.015757212415337563, -0.012155923992395401, 0.0200029406696558, -0.021481363102793694, 0.04260891675949097, 0.03778192773461342, -0.03330874815583229, -0.03929825872182846, 0.030225541442632675, 0.057367876172065735, -0.003051617182791233, -0.006614996120333672, -0.02673797868192196, -0.017172453925013542, -0.02364213578402996, -0.028102677315473557, 0.034926168620586395, 0.014152427203953266, 0.0038382140919566154, 0.018878327682614326, 0.01527704019099474, 0.013141539879143238, -0.025449097156524658, 0.04437796771526337, 0.005553564056754112, -0.011587300337851048, 0.02714233472943306, -0.029972819611430168, -0.0296190083026886, -0.05092346668243408, -0.004248887300491333, 0.03972788527607918, 0.013962886296212673, -0.006295934785157442, -0.013520622625946999, -0.0160983856767416, 0.01924477331340313, 0.04983676224946976, -0.00495650852099061, -0.023161964491009712, 0.011460939422249794, 0.005518815014511347, 0.04349344223737717, 0.022858697921037674, 0.010582730174064636, 0.02031884156167507, 0.002152874832972884, 0.014316696673631668, 0.044554874300956726, 0.022605976089835167, 0.02328832447528839, -0.0060179405845701694, 0.037402842193841934, 0.006311730016022921, 0.06186632439494133, -0.05585154518485069, 0.022252164781093597, 0.02843121625483036, 0.03902026265859604, -0.033283475786447525, -0.006766629405319691, -0.023086147382855415, -0.010904951021075249, 0.02120336890220642, 0.00179590517655015, 0.024008581414818764, -0.052262891083955765, 0.002261861227452755, 0.0034622903913259506, 0.02456456981599331, -0.01747572049498558, 0.00840300414711237, -0.0013575905468314886, 0.020988555625081062, 0.0047606490552425385, 0.021077008917927742, 0.08061829209327698, -0.04058713838458061, 0.012377056293189526, -0.05021584406495094, 0.00021323411783669144, -0.06090598180890083, 0.02132973074913025, 0.041850749403238297, -0.006962488871067762, -0.02838067151606083, 0.007714336737990379, -0.021253913640975952, 0.03813573718070984, 0.007467932533472776, -0.02160772494971752, -0.015302312560379505, 0.005177640356123447, 0.042154017835855484, -0.005345068406313658, 0.016667010262608528, -0.004814352374523878, 0.043038543313741684, 0.04652610421180725, 0.030806802213191986, -0.033814191818237305, -0.02802686020731926, -0.0003064253251068294, -0.04129476100206375, -0.02186044678092003, 0.03596232831478119, 0.01782953180372715, 0.014948501251637936, -0.021759357303380966, 0.013798616826534271, 0.017235634848475456, -0.003367519471794367, 0.007385798264294863, 0.036568861454725266, 0.028759755194187164, 0.021190732717514038, -0.001960174413397908, 0.0047606490552425385, -0.02226480096578598, -0.0074489787220954895, -0.0679316520690918, -0.008908447809517384, -0.029113564640283585, 0.006232754327356815, -0.0273697841912508, -0.009439163841307163, 0.00179590517655015, -0.017905347049236298, 0.025158466771245003, 0.05418357998132706, 0.07748454064130783, 0.04205292835831642, 0.022252164781093597, -0.030857346951961517, -0.04076404497027397, -0.01897941529750824, -0.021519271656870842, -0.008630453608930111, 0.021165460348129272, 0.05021584406495094, 0.012212786823511124, -0.0014531509950757027, -0.001641112961806357, -0.009641340933740139, -0.025537550449371338, 0.025209011510014534, -0.004773285239934921, -0.0028668143786489964, -0.01933322660624981, 0.014897957444190979, 0.03277803212404251, -0.05074656009674072, 0.025385916233062744, 0.024981562048196793, 0.006722403224557638, -0.0020881148520857096, 0.0013244207948446274, 0.027066517621278763, 0.0574689656496048, 0.03196932375431061, 0.013166812248528004, 0.0021355003118515015, -0.04940713569521904, 0.042684733867645264, 0.005300842225551605, -0.018650878220796585, 0.04412524774670601, 0.027774138376116753, -0.009653977118432522, 0.03934880346059799, 0.025575459003448486, 0.005578836426138878, -0.00021619570907205343, -0.03813573718070984, 0.01213065255433321, -0.041218943893909454, -0.02017984539270401, -0.014190335758030415, -0.007556385360658169, 0.02447611838579178, -0.043619804084300995, -0.05832821875810623, -0.009319121018052101, -0.028127949684858322, -0.03444599732756615, 0.05893475189805031, 0.019901851192116737, -0.05817658454179764, 0.024324484169483185, -0.055548276752233505, 0.03007390908896923, 0.032752759754657745, 0.028355399146676064, 0.012901454232633114, 0.02784995548427105, 0.011473574675619602, 0.016919732093811035, 0.001340215909294784, 0.012484462931752205, -0.06980179250240326, -0.007341571617871523, -0.05006421357393265, 0.030048636719584465, 0.03042771853506565, -0.04336708039045334, -0.02110227942466736, -0.023338869214057922, -0.03952570632100105, -0.011606253683567047, -0.04500977322459221, 0.0008853164617903531, 0.010228919796645641, -0.043038543313741684, 0.02456456981599331, -0.06687022000551224, 0.02518373914062977, 0.07804052531719208, -0.014784231781959534, 0.019585948437452316, -0.012888818047940731, 0.0002219214366050437, 0.00027108375797979534, -0.0017169294878840446, 0.04083986207842827, -0.027420328930020332, 0.037807200103998184, 0.022517522796988487, 0.017185090109705925, 0.019004687666893005, 0.040561869740486145, 0.01144198514521122, -0.02035675011575222, -0.010942858643829823, 0.009881426580250263, -0.03153969720005989, -0.00022429070668295026, 0.008320868946611881, 0.041774932295084, -0.0050133708864450455, 0.035810694098472595, -0.017399903386831284, -0.0003506516513880342, 0.02931574173271656, 0.03166605532169342, 0.037503931671381, 0.008864221163094044, -0.009439163841307163, -0.016755463555455208, -0.04324071854352951, 0.014417785219848156, -0.03358674421906471, 0.010879678651690483, 0.013204719871282578, -0.012964634224772453, 0.020369386300444603, 0.0007332884706556797, -0.020862193778157234, -0.03970261290669441, 0.04319017753005028, -0.013558531180024147, -0.027117062360048294, -0.013887069188058376, -0.006024258676916361, 0.011113446205854416, -0.034572359174489975, -0.0653538852930069, 0.04142112284898758, -0.013229992240667343, 0.047031547874212265, 0.03641722723841667, -0.008807359263300896, -0.015681395307183266, 0.020786378532648087, 0.02186044678092003, -0.04624811187386513, 0.04205292835831642, -0.0021418181713670492, 0.03196932375431061, -0.01814543455839157, -0.006295934785157442, -0.023793768137693405, -0.007398433983325958, -0.027395056560635567, -0.005452475510537624, 0.00566728925332427, -0.004883850924670696, 0.026662161573767662, 0.010052014142274857, 0.002858916763216257, 0.005063915625214577, 0.019636493176221848, -0.005313478410243988, -0.00820714421570301, 0.04349344223737717, -0.03659413382411003, 0.015529762022197247, -0.017627354711294174, -0.00756270345300436, -0.04589429870247841, -0.009293848648667336, -0.005420885048806667, 0.01106922049075365, -0.007170984521508217, -0.006772947497665882, -0.009609751403331757, -0.006545497570186853, 0.03937407582998276, -0.036341410130262375, 0.0005942913703620434, 0.021809902042150497, -0.010772272013127804, -0.0037276484072208405, 0.00820714421570301, -0.0668196752667427, -0.021658267825841904, 0.004144639242440462, -0.032449495047330856, -0.009218031540513039, 0.02807740494608879, -0.00710780406370759, -0.0034970396663993597, -0.02249225042760372, 0.02040729485452175, -0.006134824361652136, -0.027748866006731987, 0.06823492050170898, 0.019762853160500526, -0.0309078898280859, -0.037453386932611465, 0.010424778796732426, 0.0025098444893956184, 0.011827385984361172, 0.003844532184302807, 0.00030227910610847175, 0.055194467306137085, -0.020419931039214134, -0.010538504458963871, 0.004659560509026051, -0.012010608799755573, -0.00011026968422811478, -0.03538106754422188, -0.05357704684138298, 0.028229039162397385, 0.005228184629231691, -0.033283475786447525, 0.022416433319449425, -0.008636771701276302, 0.01814543455839157, -0.031286973506212234, -0.002683590864762664, -0.027218149974942207, -0.010639593005180359, 0.022542795166373253, 0.041774932295084, -0.01849924400448799, -0.008542001247406006, 0.009792974218726158, 0.0003005021426361054, -0.054133035242557526, 0.03826209902763367, -0.006150619592517614, -0.007695382460951805, -0.010367916896939278, 0.003932985011488199, 0.004748012870550156, 0.018473971635103226, -0.004482654854655266, 0.0059358058497309685, 0.005313478410243988, 0.008478820323944092, -0.024766748771071434, -0.023781131953001022, -0.014961137436330318, -0.03864118084311485, -0.03060462512075901, 0.025436460971832275, -0.020078755915164948, 0.02749614417552948, 0.04824461415410042, -0.024716204032301903, 0.03725121170282364, 0.03505253046751022, 0.008857903070747852, -0.01357116736471653, -0.009066399186849594, 0.007341571617871523, -0.02106437273323536, 9.032834350364283e-05, -0.017450448125600815, -0.0074995229952037334, -0.03242422267794609, 0.011877929791808128, 0.02039465866982937, 0.008971627801656723, -0.03505253046751022, -0.019548039883375168, -0.0006377279642038047, -0.010696454904973507, 0.015340220183134079, -0.019750218838453293, 0.015327583998441696, -0.004899646155536175, -0.03237367793917656, 0.004795398563146591, 0.01113240048289299, 0.011682070791721344, 0.012332829646766186, 0.019042596220970154, 0.01459469087421894, -0.032045140862464905, -0.029517920687794685, -0.022719699889421463, 0.05711515247821808, 0.002383483573794365, -0.016161566600203514, -0.017551537603139877, -0.04440324008464813, -0.0346987210214138, -0.03073098510503769, 0.005702038295567036, -0.01359643880277872, 0.01386179681867361, -0.020634744316339493, 0.0016426924848929048, -0.02807740494608879, 0.026181990280747414, -0.006709767039865255, 0.020887466147542, 0.029593735933303833, 0.035987600684165955, -0.05362759158015251, 0.03255058452486992, 0.06863927096128464, 0.002204998629167676, -0.04627338424324989, -0.007196256425231695, -0.0019822875037789345, -0.02053365670144558, 0.018284430727362633, 0.02337677776813507, -0.017463084310293198, 0.01492322888225317, -0.02901247702538967, 0.060602717101573944, 0.041269488632678986, -0.03290439397096634, 0.015112770721316338, 0.014556782320141792, 0.004583743866533041, 0.004466860089451075, -0.01007096841931343, 0.008061829023063183, 0.013874433003365993, -0.01518858689814806, -0.024198124185204506, 0.00816291756927967, 0.0056546530686318874, 0.0556999109685421, -0.00787228811532259, -0.05751951038837433, 0.00016841547039803118, -0.014304060488939285, -0.002127602696418762, 0.012269648723304272, -0.003313816152513027, 0.002023354871198535, 0.0009887744672596455, 0.03196932375431061, 0.005335591733455658, -0.016351107507944107, -0.01889096386730671, 0.02603035792708397, -0.04602066054940224, 0.012181196361780167, -0.022808153182268143, -0.027521416544914246, -0.011669434607028961, 0.008655725978314877, 0.020508384332060814, -0.03965206816792488, -0.014910593628883362, 0.02266915701329708, -0.0012407066533342004, -0.044201064854860306, 0.0006377279642038047, -0.028835570439696312, 0.01779162324965, 0.012225423008203506, -0.004065664019435644, 0.012054835446178913, -0.003932985011488199, -0.004811193328350782, -0.0015897788107395172, -0.035987600684165955, -0.00732893543317914, -0.003005811246111989, -0.032702215015888214, 0.0005571728688664734, -0.017185090109705925, 0.004580584820359945, -0.030124451965093613, 7.52242558519356e-05, -0.012794047594070435, -0.03672049567103386, -0.0046279700472950935, -0.018170705065131187, -0.0018401314737275243, 0.04132003337144852, -0.02350313775241375, -0.0065770880319178104, -0.058075495064258575, 0.009894062764942646, -0.021708812564611435, -0.0003083997289650142, 0.0435439869761467, -0.014266151934862137, 0.0009627125691622496, -0.016073113307356834, -0.03449654206633568, 0.006008463446050882, -0.05327378213405609, 0.0014349865959957242, -0.029113564640283585, 0.022820789366960526, -0.0018401314737275243, -0.0007715916144661605, 0.013331080786883831, 0.00318271666765213, 0.009894062764942646, 0.01631319895386696, -0.01712190918624401, -0.0016458515310660005, -0.005822081118822098, 0.027774138376116753, 0.041850749403238297, -0.019939759746193886, 0.04930604621767998, -0.006213800050318241, 0.03982897475361824, -0.016692282631993294, 0.019548039883375168, 0.013015178963541985, 0.0012264910619705915, -0.014063974842429161, 0.009135897271335125, 0.011138718575239182, -0.017286179587244987, -0.030326630920171738, -0.038919176906347275, -0.0005682294140569866, -0.052616704255342484, -0.05898529663681984, 0.00545563455671072, -0.006425454746931791, -0.010361598804593086, -0.012869863770902157, 0.00813764613121748, -0.10098768025636673, 0.013507986441254616, 0.011738932691514492, -0.0010795964626595378, 0.003484403481706977, 0.0025903997011482716, 0.005310319364070892, 0.0057968092150986195, 0.02111491560935974, -0.028229039162397385, 0.004943872336298227, -0.0026172513607889414, -0.04680410027503967, -0.04058713838458061, 0.019724946469068527, -0.015946753323078156, 0.031337518244981766, 0.01123980712145567, 0.0399300642311573, -0.02984645776450634, -0.007771199103444815, -0.01849924400448799, -0.031463880091905594, 0.012168560177087784, -0.002332939300686121, -0.009931971319019794, 0.023882221430540085, 0.005202912725508213, 0.015365492552518845, 0.03444599732756615, 0.011233489029109478, -0.04607120528817177, 0.0055504050105810165, -0.0022934514563530684, -0.00330433901399374, 0.021430818364024162, 0.02673797868192196, 0.026586346328258514, 0.029063019901514053, 0.021228641271591187, -0.007013033144176006, -0.01809488981962204, 0.008542001247406006, -0.025221647694706917, 0.020609471946954727, 0.006321207154542208, -0.01345744263380766, 0.004943872336298227, -0.02536064386367798, -0.005853671580553055, -0.015416037291288376, -0.009388619102537632, -0.012579233385622501, -0.029745370149612427, 0.04892696440219879, 0.047562263906002045, -0.02346523106098175, -0.020078755915164948, -0.009919335134327412, 0.028330126777291298, 0.0008545159944333136, 0.0330813005566597, 0.01804434508085251, -0.0047890804708004, 0.0100014703348279, -0.013583803549408913, 0.01827179454267025, -0.011631526052951813, 0.0035254708491265774, -0.01724827103316784, 0.0027246582321822643, 0.020293569192290306, 0.013280536979436874, 0.004188865888863802, 0.023225143551826477, -0.012629778124392033, 0.005973714403808117, 0.0005417726351879537, 0.00737316207960248, -0.024678295478224754, -0.02514583058655262, -0.01636374369263649, 0.03871699795126915, 0.029467375949025154, -0.011107128113508224, -0.0015542397741228342, -0.029593735933303833, -0.0026598982512950897, 0.0055504050105810165, 0.008295596577227116, 0.0016569080762565136, -0.0021844650618731976, 0.014619963243603706, -0.019813397899270058, -0.022656520828604698, -0.017639989033341408, 0.018701421096920967, 0.0017880075611174107, 0.04900278151035309, 0.008491456508636475, 0.027597233653068542, 0.01106290239840746, -0.008150282315909863, -0.0027104425244033337, -0.04164857044816017, 0.008257688954472542, 0.014847412705421448, -0.0011269818060100079, -0.015150679275393486, -0.014986409805715084, 0.02341468632221222, -0.0015289676375687122, -0.01010887697339058, 0.011252443306148052, -0.01492322888225317, 0.02541118860244751, 0.037984102964401245, -0.0182338859885931, -0.013078358955681324, 0.005468270741403103, -0.011151354759931564, -0.003361201612278819, -0.0008118691621348262, 0.03699848800897598, -0.006532861385494471, 0.013242628425359726, -0.004226773977279663, -0.013874433003365993, 0.0016569080762565136, 0.013912341557443142, 0.012939361855387688, 0.03717539459466934, -0.02931574173271656, 0.0426594614982605, 0.009066399186849594, -0.007259436883032322, 0.027976317331194878, -0.013394261710345745, -0.0028320651035755873, 0.0064444090239703655, 0.01091126911342144, -0.031211156398057938, -0.0013449544785544276, -0.0230229664593935, -0.032348405569791794, 0.01102499384433031, 0.028153222054243088, -0.024514026939868927, -0.030402446165680885, 0.020078755915164948, 0.012813000939786434, 0.03313184529542923, 0.013002542778849602, 0.011423030868172646, -0.021304458379745483, 0.04895223677158356, -0.0009658715571276844, -0.023578954860568047, -0.011985337361693382, -0.004795398563146591, 0.002356631914153695, 0.015213859267532825, 0.006084280088543892, -0.03229786083102226, -0.01545394491404295, -0.015630850568413734, -0.019611220806837082, -0.0027941567823290825, -0.009603433310985565, -0.01606047712266445, -0.03689739853143692, 0.024008581414818764, 0.010146784596145153, 0.03055408038198948, 0.08041611313819885, 0.05721624195575714, 0.05140363797545433, 0.005089187528938055, -0.053324323147535324, 0.029568463563919067, -0.004416315350681543, 0.01995239593088627, 0.03348565474152565, 0.017842167988419533, 0.02673797868192196, -0.03426909074187279, 0.0061095524579286575, 0.03800937533378601, -0.006905626505613327, 0.015466581098735332, 0.04799189418554306, 0.04222983121871948, 0.020078755915164948, 0.04083986207842827, -0.0044479058124125, 0.024337120354175568, -0.016224747523665428, -0.009982516057789326, -0.002152874832972884, 0.01028578169643879, -0.01968703791499138, 0.02878502570092678, -0.006880354136228561, -0.03848954662680626, -0.01769053377211094, 0.05357704684138298, -0.020154573023319244, -0.010917587205767632, -0.040031153708696365, 0.01383652538061142, 0.005389295052736998, 0.01374807208776474, 4.4522494135890156e-05, 0.020786378532648087, -0.03108479641377926, -0.00797969475388527, -0.027066517621278763, -0.00679821940138936, -0.0042836363427340984, -0.005026007071137428, -0.048851147294044495, -0.01486004889011383, 0.01991448737680912, 0.042861636728048325, -0.01336898934096098, -0.004466860089451075, -0.03429436311125755, 0.003626559628173709, 0.016603829339146614, -0.0016790212830528617, 0.0011996394023299217, 0.03148915246129036, -0.00287629128433764, -0.017538901418447495, -0.003974052146077156, -0.01800643652677536, 0.01427878811955452, -0.010216283611953259, 0.024425573647022247, 0.020824285224080086, -0.021721448749303818, -0.01782953180372715, -0.028532303869724274, -0.019042596220970154, 0.018992051482200623, 0.00433418108150363, -0.0046279700472950935, 0.03356147184967995, 0.0070825316943228245, 0.01600993424654007, -0.023263052105903625, -0.0019933441653847694, 0.005158686079084873, -0.0020896943751722574, 0.0020881148520857096, -0.014468329958617687, 0.00782806146889925, 0.012073789723217487, -0.002691488480195403, 0.008643089793622494, -0.0030468786135315895, 0.0339658260345459, 0.007537431083619595, -0.016932368278503418, -0.0029631645884364843, 0.01600993424654007, -0.03348565474152565, 0.029467375949025154, 0.03141333535313606, 0.01902996003627777, -0.03340983763337135, 0.02346523106098175, 0.027698323130607605, 0.03553270176053047, -0.01135353185236454, 0.002332939300686121, -0.04114312678575516, 0.007518477272242308, -0.0260809026658535, -0.03431963548064232, 0.003661308903247118, 0.03684685751795769, -0.03303075581789017, 0.03760502114892006, -0.0100204236805439, 0.0053292736411094666, 0.003402268746867776, -0.04374616593122482, -0.03368782997131348, 0.024577206000685692, 0.05418357998132706, -0.0004691150679718703, -0.013166812248528004, -0.02772359363734722, 0.006071643903851509, 0.002498788060620427, 0.01756417378783226, -0.013166812248528004, -0.01654065027832985, -0.022113168612122536, 7.685313175898045e-05, -0.012358102016150951, 0.005405089817941189, 0.0012778252130374312, 0.01386179681867361, 0.004896487109363079, 0.0080491928383708, -0.07020615041255951, -0.0019680720288306475, 0.00787228811532259, -0.006021099630743265, 0.008712587878108025, -0.012427600100636482, 0.010323690250515938, 0.002682011341676116, 0.03042771853506565, -0.01439251285046339, -0.002947369357571006, -0.04306381568312645, 0.020104028284549713, -0.029037747532129288, 0.023136692121624947, -0.02058419957756996, 0.0273697841912508, 0.003234840463846922, -0.007069895509630442, -0.012781411409378052, 0.0016790212830528617, 0.0019349021604284644, -0.008643089793622494, 0.006716085132211447, 0.03156496584415436, 0.007518477272242308, 0.013785980641841888, -0.022252164781093597, 0.019674401730298996, -0.030478263273835182, 0.0005394033505581319, -0.004242569208145142, -0.004166752565652132, -0.0012730866437777877, 0.0022207938600331545, 0.006210641004145145, 0.0038224190939217806, 0.024147579446434975, -0.0014318276662379503, -0.02505737915635109, -0.00023357033205684274, -0.024160215631127357, 0.025070013478398323, 0.07394643127918243, 0.0035570610780268908, -0.018903600051999092, 0.024766748771071434, 0.016742827370762825, 0.006232754327356815, 0.00942652765661478, -0.0016332153463736176, 0.0028194289188832045, -0.062017958611249924, -0.005070233717560768, 0.01657855696976185, -0.0009003218146972358, 0.018777238205075264, 0.020963283255696297, -0.005196594633162022, 0.016730191186070442, 0.007524794898927212, 0.002683590864762664, 0.01192847453057766, 0.047031547874212265, 0.05382977053523064, 0.008573590777814388, -0.010702772997319698, 0.025335371494293213, -0.01724827103316784, -0.01752626523375511, 0.02501947060227394, 0.02102646417915821, 0.04460541903972626, 0.00514604989439249, -0.03189350664615631, -0.016287928447127342, -0.009805610403418541, -0.04715790972113609, 0.022909242659807205, 0.02106437273323536, -0.006330684293061495, -0.0020012417808175087, 0.017463084310293198, -0.006678176578134298, 0.005831558257341385, 0.0025066854432225227, -0.0018511880189180374, -0.012964634224772453, 0.012105380184948444, 0.026813795790076256, 0.004530040547251701, -0.007531112991273403, -0.013785980641841888, 0.016338471323251724, -0.004087776876986027, 0.04066295549273491, -0.02279551699757576, -0.0003577594761736691, -0.010348962619900703, 0.00270570395514369, 0.051959626376628876, 0.019257409498095512, 0.04283636435866356, -0.028001587837934494, 0.046677738428115845, 0.016250019893050194, 0.01336898934096098, -0.00866836216300726, -0.041977111250162125, -0.01788007654249668, -0.014329332858324051, -0.017993800342082977, -0.001724827103316784, -0.01459469087421894, -0.0032143068965524435, -0.0024466640315949917, 0.011050266213715076, 0.019548039883375168, 0.019232137128710747, -0.005114459898322821, -0.01712190918624401, 0.03305602818727493, 0.034344907850027084, 0.00342122302390635, -0.016224747523665428, -0.035987600684165955, 0.0073352535255253315, -0.0273697841912508, 0.018840419128537178, 0.035987600684165955, 0.016199475154280663, -0.008074465207755566, 0.028507031500339508, 0.013027815148234367, 0.021809902042150497, 0.017728442326188087, 0.008270325139164925, 0.002560388995334506, -0.016869187355041504, -0.003269589738920331, -0.00503232516348362, -0.05721624195575714, 0.016881823539733887, 0.004356293939054012, 0.003493880620226264, 0.010323690250515938, 0.009767701849341393, 0.02373058907687664, 0.011580982245504856, 0.016692282631993294, 0.011846340261399746, -0.04316490516066551, 0.020862193778157234, -0.034622903913259506, -0.013583803549408913, -0.015327583998441696, -0.002069160807877779, -0.001186213456094265, -0.013823889195919037, -0.03770611062645912, 0.015049589797854424, -0.038034647703170776, -0.021178096532821655, 0.015036954544484615, -0.017046093940734863, -0.012787729501724243, -0.011694706976413727, 0.012231741100549698, 0.019724946469068527, 0.03171660006046295, -0.019939759746193886, -0.0136848920956254, -0.023452594876289368, -0.0010448471875861287, 0.038464274257421494, 0.0005682294140569866, -0.0038097829092293978, -0.009818246588110924, 0.02954319305717945, -0.0048806918784976006, -0.002347154775634408, 0.005588313564658165, -0.021089643239974976, -0.013710164465010166, 0.04106731340289116, -0.00797969475388527, -0.015908844769001007, 0.015845663845539093, 0.01588357239961624, 0.011359849944710732, 0.010102558881044388, 0.011385122314095497, 0.039626795798540115, -0.005003894213587046, -0.017488356679677963, -0.0009500764426775277, 0.03277803212404251, -0.019724946469068527, -0.06985233724117279, 0.007613247726112604, -0.009641340933740139, 4.9137630412587896e-05, -0.0322725884616375, 0.02926519885659218, -0.008181871846318245, 0.001626897370442748, -0.013874433003365993, 0.004580584820359945, 0.0269654281437397, -0.012711912393569946, -0.001998082734644413, 0.017374631017446518, 0.013015178963541985, -0.00588842062279582, 0.016287928447127342, 0.014670507051050663, 0.018524516373872757, 0.037402842193841934, -0.003711853176355362, -0.003942462150007486, -0.01583302766084671, -0.005793650168925524, 0.006930898409336805, -0.008598863147199154, -0.02701597288250923, -0.0061379834078252316, -0.006962488871067762, -0.004084617830812931, 0.008264007046818733, -0.002190783154219389, -0.017058730125427246, -0.0007072265143506229, -0.006823491770774126, 0.011378804221749306, -0.01902996003627777, 0.004975462798029184, 0.013722800649702549, 0.01474632415920496, 0.05019057169556618, 0.0143672414124012, -0.012061153538525105, 0.001520280260592699, 0.052161805331707, -0.015643486753106117, -0.028127949684858322, -0.038742270320653915, 0.021304458379745483, -0.02581554464995861, 0.028582848608493805, -0.010254192166030407, 0.005834717303514481, 0.01641428843140602, -0.0043436577543616295, -0.009938289411365986, -0.0058568306267261505, -0.0016079432098194957, -0.00019062735373154283, 0.022605976089835167, 0.0009903539903461933, 0.0017090319888666272, 0.009281212463974953, 0.00756270345300436, 0.006709767039865255, -0.002647262066602707, -0.004681673366576433, 0.019371135160326958, -0.022075260058045387, -0.016262656077742577, 0.0021939422003924847, 0.02279551699757576, 0.03437018021941185, -0.0356590636074543, -0.015643486753106117, 0.008725224062800407, -0.04412524774670601, -0.010917587205767632, 5.241388407739578e-06, 0.014202971942722797, -0.020432567223906517, -0.0010851247934624553, -0.03277803212404251, 0.03765556588768959, -0.022163711488246918, -0.023667408153414726, 0.03490089625120163, -0.01973758265376091, 0.0076701100915670395, 0.009780338034033775, -0.03368782997131348, 0.05008948594331741, -0.015087498351931572, -0.010191011242568493, 0.006425454746931791, 0.002680431818589568, 0.016869187355041504, -0.021481363102793694, -0.03717539459466934, 0.000490043603349477, -0.004229933023452759, 0.014051338657736778, -0.009546570479869843, 0.002072319621220231, 0.03517889231443405, -0.011043948121368885, -0.02012930065393448, -0.025663910433650017, -0.01359643880277872, 0.019724946469068527, -1.7436332200304605e-05, -0.016464833170175552, 0.005635698791593313, -0.02838067151606083, 0.01597202569246292, 0.007708018645644188, 0.010273146443068981, -0.020558927208185196, 0.01022260170429945, -1.0920845170403481e-06, 0.01454414613544941, -0.004672196693718433, 0.001270717359147966, 0.01853715255856514, -0.016616465523838997, 0.0173493605107069, -0.013798616826534271, -0.05529555678367615, -0.022694427520036697, -0.01631319895386696, 0.012383374385535717, 0.014645235612988472, 0.029972819611430168, -0.01708400249481201, -0.008573590777814388, 0.03353619948029518, 0.0212918221950531, 0.02474147640168667, -0.009079035371541977, 0.020685289055109024, -0.01574457623064518, 0.02749614417552948, -0.03773138299584389, -0.007967058569192886, -0.03394055366516113, -0.020280934870243073, 0.0013828627998009324, 0.031590238213539124, -0.023086147382855415, 0.022012079134583473, 0.022719699889421463, 0.013798616826534271, 0.0100014703348279, 0.008548319339752197, -0.010127831250429153, 0.0046785143204033375, 0.0029063019901514053, -0.0023297802545130253, -0.007354207802563906, 0.039854247123003006, -0.00615377863869071, -0.021456090733408928, -0.0010369495721533895, -0.0010179955279454589, 0.03042771853506565, 0.03247476741671562, 0.01150516513735056, 0.002514583058655262, 0.0017137705581262708, 0.006520225666463375, 0.00212918221950531, -0.020900102332234383, -0.009653977118432522, -0.0009271735325455666, -0.02954319305717945, 0.0031890347599983215, 0.029871730133891106, 0.03555797412991524, 0.009009536355733871, 0.012402327731251717, -0.002514583058655262, 0.024109670892357826, 0.009060081094503403, 0.027167607098817825, 0.012756139039993286, -0.023844312876462936, -0.02115282416343689, 0.014847412705421448, 0.01501168217509985, 0.0032474766485393047, 0.03406691551208496, -0.028355399146676064, 0.009413891471922398, -0.017842167988419533, 0.025423824787139893, -0.015264404006302357, 0.0026883294340223074, -0.0054303621873259544, 0.007240483071655035, 0.0026756932493299246, 0.014114519581198692, 0.020028211176395416, 0.008819994516670704, 0.0020312524866312742, 0.018385520204901695, -0.03260112926363945, -0.0011435666820034385, 0.004590061958879232, -0.03416800498962402, -0.028810298070311546, 0.004296272527426481, 0.018195977434515953, 0.005679924972355366, 0.005136573221534491, -0.03007390908896923, 0.020900102332234383, -0.021051736548542976, -0.005594631657004356, 0.0071141221560537815, -0.028304854407906532, -0.05074656009674072, -0.0300233643501997, -0.007486886810511351, -0.0035570610780268908, -0.028835570439696312, 0.0003846111649181694, -0.026990700513124466, 0.0062706624157726765, -0.0425836443901062, 0.013697528280317783, -0.01139775849878788, -0.01889096386730671, 0.0173493605107069, -0.014885321259498596]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:24:55.122287", "url_path": "/graph/", "chunk_size": 4324}
updated_dt: 2025-03-15T11:24:55.123814
---
```

You maybe have noticed that although this example transfers control flow out of the graph run, we're still using [rich's `Prompt.ask`](https://rich.readthedocs.io/en/stable/reference/prompt.html#rich.prompt.PromptBase.ask) to get user input, with the process hanging while we wait for the user to enter a response. For an example of genuine out-of-process control flow, see the [question graph example](https://ai.pydantic.dev/examples/question-graph/).
## Iterating Over a Graph
### Using `Graph.iter` for `async for` iteration
Sometimes you want direct control or insight into each node as the graph executes. The easiest way to do that is with the [`Graph.iter`](https://ai.pydantic.dev/api/pydantic_graph/graph/#pydantic_graph.graph.Graph.iter) method, which returns a **context manager** that yields a [`GraphRun`](https://ai.pydantic.dev/api/pydantic_graph/graph/#pydantic_graph.graph.GraphRun) object. The `GraphRun` is an async-iterable over the nodes of your graph, allowing you to record or modify them as they execute.
Here's an example:
count_down.py```
from__future__import annotations as _annotations
fromdataclassesimport dataclass
frompydantic_graphimport Graph, BaseNode, End, GraphRunContext

@dataclass
classCountDownState:
  counter: int

@dataclass
classCountDown(BaseNode[CountDownState]):
  async defrun(self, ctx: GraphRunContext[CountDownState]) -> CountDown | End[int]:
    if ctx.state.counter <= 0:
      return End(ctx.state.counter)
    ctx.state.counter -= 1
    return CountDown()

count_down_graph = Graph(nodes=[CountDown])

async defmain():
  state = CountDownState(counter=3)
  async with count_down_graph.iter(CountDown(), state=state) as run: [](https://ai.pydantic.dev/graph/#__code_13_annotation_1)
    async for node in run: [](https://ai.pydantic.dev/graph/#__code_13_annotation_2)
      print('Node:', node)
      #> Node: CountDown()
      #> Node: CountDown()
      #> Node: CountDown()
      #> Node: End(data=0)
  print('Final result:', run.result.output) [](https://ai.pydantic.dev/graph/#__code_13_annotation_3)
  #> Final result: 0
  print('History snapshots:', [step.data_snapshot() for step in run.history])
"""
  History snapshots:
  [CountDown(), CountDown(), CountDown(), CountDown(), End(data=0)]
  """

```

### Using `GraphRun.next(node)` manually
Alternatively, you can drive iteration manually with the [`GraphRun.next`](https://ai.pydantic.dev/api/pydantic_graph/graph/#pydantic_graph.graph.GraphRun.next) method, which allows you to pass in whichever node you want to run next. You can modify or selectively skip nodes this way.
Below is a contrived example that stops whenever the counter is at 2, ignoring any node runs beyond that:
count_down_next.py```
frompydantic_graphimport End
fromcount_downimport CountDown, CountDownState, count_down_graph

async defmain():
  state = CountDownState(counter=5)
  async with count_down_graph.iter(CountDown(), state=state) as run:
    node = run.next_node [](https://ai.pydantic.dev/graph/#__code_14_annotation_1)
    while not isinstance(node, End): [](https://ai.pydantic.dev/graph/#__code_14_annotation_2)
      print('Node:', node)
      #> Node: CountDown()
      #> Node: CountDown()
      #> Node: CountDown()
      #> Node: CountDown()
      if state.counter == 2:
        break [](https://ai.pydantic.dev/graph/#__code_14_annotation_3)
      node = await run.next(node) [](https://ai.pydantic.dev/graph/#__code_14_annotation_4)
    print(run.result) [](https://ai.pydantic.dev/graph/#__code_14_annotation_5)
    #> None
    for step in run.history: [](https://ai.pydantic.dev/graph/#__code_14_annotation_6)
      print('History Step:', step.data_snapshot(), step.state)
      #> History Step: CountDown() CountDownState(counter=4)
      #> History Step: CountDown() CountDownState(counter=3)
      #> History Step: CountDown() CountDownState(counter=2)

```

## **Interrupting Graph Execution**
### Example: Pausing and Resuming with Human Review
This example shows a simple graph that processes an order. If the order amount is large, we require human review at a dedicated node and _pause_ the workflow until that review occurs.
We'll simulate persistence in a global dictionary rather than a real database. We also show how to resume execution once the human has approved the order.
pause_and_resume.py