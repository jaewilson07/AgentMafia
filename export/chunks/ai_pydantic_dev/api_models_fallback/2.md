---
url: https://ai.pydantic.dev/api/models/fallback/
session_id: pydantic_ai_docs
chunk_number: 2
title: FallbackModel Class Documentation
summary: The FallbackModel is a dataclass designed to utilize one or more fallback models in case of failure. It includes an initialization method that accepts a default model, optional fallback models, and a mechanism to determine when to trigger the fallback based on exceptions.
embedding: [-0.0005317680770531297, 0.01353351678699255, 0.041820209473371506, -0.05436861515045166, 0.0015157773159444332, -0.016582662239670753, -0.039498165249824524, -0.010425733402371407, 0.024768445640802383, 0.012911959551274776, -0.0346195325255394, -0.07102164626121521, -0.06417278945446014, -0.04934925213456154, -0.024463532492518425, 0.011434297077357769, 0.0173097662627697, 0.030890192836523056, 0.0143778957426548, 0.031476568430662155, 0.00698371697217226, -0.010642691515386105, -0.009141573682427406, 0.010056317783892155, 0.02976435422897339, -0.016617845743894577, -0.022282220423221588, 0.04888015240430832, -0.007822232320904732, -0.03569846227765083, 0.06839468330144882, -0.007886732928454876, -0.06961434334516525, 0.005116114858537912, -0.007880869321525097, 0.00310485134832561, 0.01096519734710455, 0.033587515354156494, -0.0008736975723877549, 0.05798068270087242, 0.0016081312205642462, -0.05338350683450699, 0.038841426372528076, 0.020616916939616203, -0.012137945741415024, 0.02490917593240738, 0.046675387769937515, 0.04775431379675865, -0.03192221000790596, 0.04074127972126007, -0.010026998817920685, -0.019842902198433876, -0.04029563441872597, -0.0253782756626606, -0.019948450848460197, 0.0004581048560794443, -0.016336385160684586, 0.018330058082938194, -0.03051491267979145, 0.0016697004903107882, 0.002549261786043644, 0.002212096704170108, 0.0033951066434383392, -0.013451424427330494, 0.023537060245871544, -0.0060513815842568874, -0.015104999765753746, 0.008402742445468903, -0.012442860752344131, 0.0478246808052063, -0.061639655381441116, -0.011252520605921745, -0.040483273565769196, -0.00864901952445507, -0.02005399763584137, 0.007775322068482637, 0.025354821234941483, 0.043532419949769974, 0.0048551782965660095, -0.005183547735214233, 0.01051955297589302, 0.023079687729477882, 0.00451508117839694, -0.021414386108517647, 0.009077073074877262, 0.0033188778907060623, -0.05038127303123474, 0.008707656525075436, -0.036449018865823746, -0.06989580392837524, -0.01659438945353031, -0.0007498260238207877, -0.07500898838043213, 0.044986627995967865, 0.04599519073963165, -0.010572327300906181, 0.054274797439575195, -0.017696773633360863, 0.028075596317648888, -0.013169964775443077, 0.029037250205874443, 0.011053153313696384, 0.004922611638903618, 0.00698371697217226, 0.011962033808231354, -0.051131829619407654, 0.003049145918339491, 0.025096815079450607, -0.009147437289357185, 0.01893988624215126, -0.05122565105557442, -0.005025227088481188, 0.01817760057747364, -0.03898215666413307, -0.0862673744559288, -0.011440160684287548, -0.07604100555181503, 0.019772538915276527, -0.04212512448430061, -0.022610589861869812, -0.0057112849317491055, -0.0016462455969303846, 0.026855938136577606, 0.017931323498487473, 0.01122320257127285, -0.02624610997736454, 0.02349015139043331, -0.009381987154483795, -0.06679975241422653, -0.059950899332761765, 0.025401730090379715, -0.01764986291527748, -0.030772918835282326, -0.020147817209362984, -0.009645855985581875, -0.015808649361133575, -0.04139801859855652, 0.00034596078330650926, -0.045385364443063736, 0.028661971911787987, -0.02168411761522293, -0.0484110526740551, 0.036284834146499634, 0.0017166105099022388, 0.006256612949073315, 0.0357922799885273, 0.007499726023525, 0.014917359687387943, -0.025214090943336487, -0.00047752849059179425, 0.008133010007441044, 0.01309959962964058, 0.0038319553714245558, -0.003972685430198908, -0.0047672223299741745, -0.013979161158204079, -0.023173509165644646, 0.026175744831562042, 0.04754322022199631, -0.020265093073248863, -0.04472862556576729, -0.004494558088481426, -0.009768994525074959, -0.014542080461978912, -0.05432170629501343, -0.0118095763027668, -0.06867614388465881, -0.03804395720362663, -0.04747285693883896, -0.05361805856227875, 0.024111706763505936, 0.04916161298751831, -0.005066273268312216, -0.0066612111404538155, 0.009534444659948349, -0.028497785329818726, -0.07824577391147614, -0.05108492076396942, -0.010455052368342876, -0.05338350683450699, 0.007482134737074375, -0.0010584053816273808, -0.029717445373535156, 0.01725112833082676, -0.08439097553491592, 0.016805484890937805, 0.04341514781117439, 0.016441931948065758, 0.0397561714053154, 0.04892706498503685, -0.01347487885504961, 0.02448698692023754, 0.02444007620215416, 0.00131567707285285, 0.005101455375552177, 0.0049577937461435795, 0.027676861733198166, -0.03748103976249695, 0.09091145545244217, 0.049302343279123306, -0.03757485747337341, 0.010595781728625298, 0.038090869784355164, -0.037504494190216064, 0.03150002285838127, 0.011123518459498882, -0.058731239289045334, 0.053993336856365204, -0.05558827519416809, 0.010566462762653828, 0.0026987872552126646, -0.020546551793813705, 0.021179836243391037, -0.0281694158911705, -0.030890192836523056, 0.0023865429684519768, -0.034408438950777054, -0.044869355857372284, -0.03513554111123085, 0.039849989116191864, 0.03602683171629906, 0.028544696047902107, 0.00865488313138485, 0.006508753634989262, 0.015140182338654995, 0.018154146149754524, -0.02941253036260605, -0.054743897169828415, -0.01139911450445652, 0.029037250205874443, 0.0160666536539793, -0.02227049134671688, -0.0048757013864815235, -0.003632588079199195, -0.022997595369815826, -0.02379506453871727, 0.02519063651561737, -0.010695465840399265, 0.02542518451809883, -0.016559207811951637, -0.0010518087074160576, -0.00022868593805469573, -0.009745539166033268, -0.008977388963103294, 0.05408715829253197, 0.013111326843500137, -0.009552035480737686, -0.011745075695216656, 0.0013743145391345024, 0.05103801190853119, 0.06248403340578079, 0.009311622008681297, 0.01543336920440197, 0.01543336920440197, -0.019772538915276527, 0.022258764132857323, 0.015796920284628868, -0.0033599240705370903, -0.06694047898054123, 0.011252520605921745, -0.06276549398899078, 0.007710820995271206, 0.005312550347298384, 0.00891875196248293, -0.04158565774559975, -0.052351489663124084, -0.01288850512355566, -0.04296950250864029, 0.015058089978992939, -0.054978445172309875, 0.006866442039608955, 0.011791985481977463, -0.004673402290791273, -0.01183889526873827, -0.013193419203162193, 0.002629888243973255, 0.03150002285838127, -0.0013801782624796033, 0.020441005006432533, -0.02929525449872017, 0.03086673840880394, -0.014565534889698029, 0.03804395720362663, 0.005180615931749344, 0.0023968045134097338, 0.017626408487558365, -0.006813668180257082, -0.007235857658088207, -0.028075596317648888, 0.006104155443608761, -0.03532318025827408, -0.022422948852181435, -0.015398186631500721, -0.059903986752033234, 0.02210630662739277, 0.026386838406324387, -0.018400423228740692, 0.015140182338654995, 0.01788441278040409, 0.04613592103123665, 0.004013731610029936, 0.0046997894532978535, -0.05859050899744034, 0.025636279955506325, -0.0011111791245639324, -0.026105379685759544, 0.009024298749864101, 0.013873613439500332, 0.024228982627391815, -0.019549716264009476, -0.025870829820632935, 0.01637156866490841, -0.02425243705511093, 0.019256528466939926, -0.00556762283667922, -0.04057709500193596, 0.04116347059607506, -0.014706265181303024, 0.043110232800245285, -0.021895213052630424, -0.05849669128656387, -0.023654336109757423, -0.004708584863692522, 0.024111706763505936, -0.0005094126099720597, 0.0173097662627697, -0.007898460142314434, -0.0035974057391285896, -0.03260240703821182, -0.007769457995891571, -0.051178742200136185, -0.026433749124407768, -0.006901624146848917, 0.003509449539706111, 0.025214090943336487, -0.04050673171877861, -0.03806741163134575, 0.01935034804046154, 0.05122565105557442, 0.013193419203162193, -0.04622974246740341, -0.026433749124407768, -0.03863033279776573, 0.026410294696688652, -0.03635520115494728, 0.0035886100959032774, -0.05005290359258652, 0.018916431814432144, -0.014201982878148556, 0.04648774862289429, -0.009288167580962181, -0.008314786478877068, 0.026152288541197777, 0.010695465840399265, -0.04179675132036209, -0.04015490412712097, 0.027723772451281548, -0.025800464674830437, -0.009851086884737015, 0.015456823632121086, -0.05033436045050621, 0.035933010280132294, -0.05385260656476021, -0.01453035231679678, 0.0010327515192329884, 0.013228601776063442, -0.0017429973231628537, -0.04062400385737419, -0.027747226879000664, 0.03771558776497841, -0.022024214267730713, 0.011041426099836826, -0.015796920284628868, 0.045854464173316956, -0.013439696282148361, -0.04257076606154442, 0.00539464270696044, -0.021426113322377205, 0.012325585819780827, 0.03368133306503296, 0.08715866506099701, -0.027043579146265984, 0.013111326843500137, -0.0067550307139754295, 0.027747226879000664, 0.015316094271838665, 0.0011888736626133323, -0.0216372087597847, -0.011598481796681881, 0.01222003810107708, -0.009581354446709156, 0.005623328499495983, 0.012442860752344131, 0.010120818391442299, 0.03210985288023949, 0.005034022498875856, 0.002547795884311199, 0.011950306594371796, 0.027090488001704216, 0.0018705336842685938, 0.020593462511897087, -0.0030315546318888664, 0.0047672223299741745, 0.010601645335555077, 0.013111326843500137, -0.018869521096348763, 0.07674465328454971, 0.016101835295557976, 0.011938578449189663, -0.006907488219439983, 0.028544696047902107, -0.027747226879000664, 0.030139634385704994, -0.007153765298426151, -0.025049906224012375, 0.011569162830710411, 0.05774613097310066, -0.027020122855901718, 0.0082151023671031, 0.04374351724982262, 0.004148597363382578, -0.06886378675699234, -0.03508863225579262, 0.002335235243663192, -0.03630829229950905, -5.6432791097904555e-06, 0.007212402764707804, -0.05127255991101265, 0.04892706498503685, -0.050428181886672974, 0.0016990192234516144, -0.03051491267979145, 0.03332950919866562, 0.04801231995224953, 0.023947522044181824, -0.006502890028059483, -0.0015744147822260857, -0.012055853381752968, 0.02467462606728077, -0.011997216381132603, 0.04198439419269562, 0.017638135701417923, 0.010871377773582935, 0.010232229717075825, -0.007411770056933165, 0.015128454193472862, -0.0507565513253212, 0.003069669008255005, -0.022962413728237152, -0.003178148064762354, -0.0059077199548482895, 0.010982789099216461, -0.01946762390434742, -0.021543387323617935, 0.033001139760017395, 0.010883104987442493, 0.049255434423685074, 0.02448698692023754, 0.09869850426912308, -0.03023345395922661, 0.030913647264242172, 0.022821683436632156, -0.0046646068803966045, -0.002333769341930747, -0.008361696265637875, -0.014026070944964886, 0.044869355857372284, 0.01864670030772686, -0.0058197639882564545, -0.022059397771954536, 0.013920523226261139, -0.001976081170141697, 0.03295423090457916, -0.005089728161692619, 0.009170892648398876, -0.019068889319896698, -0.0023103144485503435, 0.03250858560204506, 0.010396414436399937, 0.008314786478877068, 0.018212782219052315, -0.03508863225579262, 0.038606878370046616, 0.0021681187208741903, -0.03028036467730999, 0.04916161298751831, -0.03203948587179184, -0.02870888076722622, -0.007376587484031916, 0.0033364691771566868, -0.009153300896286964, 0.01222003810107708, 0.035510823130607605, -0.011704029515385628, -0.009170892648398876, -0.07693229615688324, -0.004532672464847565, 0.0020200591534376144, -0.019491078332066536, -0.027583042159676552, -0.013076144270598888, 0.001248244079761207, -0.02144956775009632, 0.0328604094684124, 0.009622400626540184, 0.0008172590169124305, -0.03063218854367733, 0.004805336706340313, -0.0472383052110672, 0.011985489167273045, -0.05540063604712486, 0.020663827657699585, -0.014272348023951054, 0.031711116433143616, 0.030186543241143227, 0.0033951066434383392, 0.017227673903107643, 0.01055473554879427, -0.03780940920114517, -0.023290783166885376, 0.0005233389674685895, 0.008291331119835377, -0.015140182338654995, 0.005010567605495453, 0.008097827434539795, 0.014459988102316856, -0.018048597499728203, -0.06407897174358368, -0.005787513218820095, 0.001558289397507906, 0.03028036467730999, 0.024744991213083267, -0.017344949766993523, -0.017755411565303802, -0.00088615802815184, 0.02279822900891304, 0.007183083798736334, -0.0019189096055924892, -0.027723772451281548, -0.04278186336159706, 0.00010820436727954075, 0.04873942211270332, -0.013779793865978718, 0.007734275888651609, -0.0025771146174520254, 0.044752079993486404, 0.0010195581708103418, 0.0037205442786216736, 0.00011251054820604622, -0.00027577910805121064, 0.008027463220059872, 0.02198903262615204, -0.0034302889835089445, -0.06947361677885056, -0.015034634619951248, 0.023279055953025818, -0.02519063651561737, 0.00559694180265069, -0.013404514640569687, -0.004368487745523453, 0.011522253043949604, 0.012607045471668243, 0.03454916924238205, 0.033751700073480606, -0.008168192580342293, 0.04449407383799553, 0.005072136875241995, 0.02969398908317089, -0.012841595336794853, -0.02472153678536415, -0.004459375981241465, -0.02338460274040699, -0.026738664135336876, 0.049959082156419754, -0.010038726031780243, -0.0006453780806623399, 0.048317234963178635, -0.009364396333694458, -0.024627717211842537, 0.013791521079838276, -0.0026284223422408104, -0.01227867603302002, -0.026316475123167038, 0.016864122822880745, -0.04934925213456154, 0.0037205442786216736, -0.011721620336174965, 0.00993317924439907, -0.0033921748399734497, -0.023044506087899208, 0.017380131408572197, -0.013017507269978523, -0.0018294875044375658, 0.027020122855901718, 0.0030608733650296926, -0.013510061427950859, 0.004743767436593771, -0.01227867603302002, -0.019162708893418312, 0.015163636766374111, 0.026152288541197777, -0.02343151345849037, 0.02526099979877472, 0.00264454772695899, -0.011645391583442688, 0.00698371697217226, 0.007323813624680042, 0.020675554871559143, -0.030256908386945724, -0.009340940974652767, 0.022258764132857323, -0.005104387644678354, -0.0006296192877925932, -0.024885721504688263, 0.016688209027051926, -0.03478371724486351, -0.047918498516082764, 0.024299347773194313, 0.027747226879000664, -0.019842902198433876, -0.015280911698937416, -0.014166800305247307, 0.03987344726920128, -0.003934571053832769, -0.008865977637469769, -0.03518245369195938, 0.014694537967443466, 0.003013963345438242, 0.004265872295945883, 0.02460426092147827, 0.023513605818152428, 0.02052309736609459, -0.00264454772695899, -0.006409069988876581, -0.039427801966667175, 0.01735667698085308, 0.019960178062319756, -0.00885425042361021, 0.009921451099216938, -0.032414764165878296, 0.018834339454770088, 0.009786585345864296, -0.01707521639764309, -0.016617845743894577, 0.0357922799885273, -0.004764290526509285, -0.0006644352688454092, 0.04836414381861687, 0.012524953112006187, -0.02303277887403965, 0.002839517081156373, -0.015492006205022335, -0.0067550307139754295, 0.01116456463932991, 0.04214857891201973, -0.05272676795721054, 0.0215668436139822, 0.005582282319664955, -0.008285467512905598, 0.030726008117198944, -0.01764986291527748, 0.015163636766374111, -0.006192111410200596, -0.003538768272846937, 0.03058527782559395, -0.005025227088481188, 0.03748103976249695, 0.019045434892177582, 0.030843283981084824, -0.028450876474380493, -0.013111326843500137, -0.017274584621191025, -0.011205610819160938, 0.026527568697929382, -0.025120271369814873, -0.0031634888146072626, -0.008062644861638546, -0.026222653687000275, -0.03548736497759819, 0.04221894219517708, -0.037035394459962845, -0.0022897913586348295, -0.06295313686132431, -0.0022971208672970533, 0.04163256660103798, -0.026293018832802773, 0.0017180764116346836, 0.004148597363382578, -0.00549725815653801, 0.03478371724486351, 0.0010737978154793382, -0.026410294696688652, -0.0024554419796913862, -0.005048681981861591, 0.002200369257479906, -0.006895760539919138, -0.03325914591550827, 0.007376587484031916, -0.024299347773194313, -0.01923307403922081, 0.00525977648794651, 0.0008143271552398801, 0.007183083798736334, 0.02257540635764599, -0.013826703652739525, -0.02432280220091343, -0.03705884888768196, 0.06952052563428879, -0.007142037618905306, -0.060889098793268204, -0.02490917593240738, -0.007271040230989456, 0.019420713186264038, 0.046558111906051636, -0.03877106308937073, 0.02250504121184349, 0.030092723667621613, 0.038841426372528076, -0.018400423228740692, -0.025917740538716316, -0.010279139503836632, 0.003201603190973401, -0.00800400786101818, 0.011616072617471218, -0.007511453703045845, -0.035158995538949966, 0.021613752469420433, 0.050005991011857986, -0.015808649361133575, 0.009440625086426735, -0.0038055686745792627, 0.005330141633749008, 0.012947142124176025, 0.0058314916677773, -0.015445096418261528, -0.02268095500767231, -0.008332377299666405, 0.0002613030083011836, 0.0012137945741415024, 0.012290403246879578, 0.026386838406324387, -0.006801940966397524, 0.004737903364002705, 0.009487534873187542, 0.027981776744127274, -0.011158701032400131, -0.015128454193472862, 0.06328150629997253, -0.030913647264242172, -0.0049783168360590935, -0.022587133571505547, 0.006297659128904343, 0.0032924911938607693, -0.010408141650259495, -0.0011815440375357866, -0.032367855310440063, 0.02554246038198471, 0.013193419203162193, -0.07791740447282791, 0.01435444038361311, 0.005294959060847759, 0.01666475459933281, -0.004435920622199774, 0.020734190940856934, -0.04266458749771118, -0.0333060547709465, 0.0019540919456630945, 0.015621008351445198, 0.022176671773195267, 0.01725112833082676, 0.013205147348344326, -0.03837232664227486, -0.013076144270598888, 0.024862267076969147, 0.0454791821539402, 0.0002711980778258294, 0.03811432421207428, 0.02589428424835205, -0.008091963827610016, -0.006057245656847954, -0.001287091406993568, 0.031828392297029495, 0.030303819105029106, 0.016359839588403702, 0.037035394459962845, 0.045737188309431076, 0.00952858105301857, -0.013955705799162388, -0.02730158343911171, -0.04618283361196518, -0.004861042369157076, -0.000313526950776577, -0.012020670808851719, 0.012841595336794853, 0.004113415256142616, -0.009247121401131153, 0.0035886100959032774, -0.08645500987768173, -0.01565619185566902, 0.0008876239298842847, 0.006145201623439789, 0.01952626183629036, -0.007640455849468708, 0.026293018832802773, -0.022727863863110542, 0.0018192259594798088, -0.05085036903619766, -0.024815356358885765, 0.025354821234941483, 0.009077073074877262, 0.0033628561068326235, 0.04158565774559975, -0.006151065230369568, 0.011797849088907242, -0.02887306548655033, 0.012384222820401192, -0.013697701506316662, -0.02343151345849037, 0.005274435970932245, -0.047496311366558075, -0.012548407539725304, -0.0338924303650856, -0.019596625119447708, -0.004356760531663895, -0.022587133571505547, 0.013334149494767189, 0.027395403012633324, 0.002053775591775775, -0.003049145918339491, 0.0035006538964807987, 0.01078928541392088, 0.013627336360514164, 0.046675387769937515, 0.015738284215331078, -0.007769457995891571, 0.0169462151825428, -0.04578409716486931, -0.03663666173815727, -0.000878095394000411, 0.022634044289588928, 0.010853786952793598, 0.033587515354156494, 0.005227526184171438, 0.004435920622199774, 0.028333600610494614, -0.013158237561583519, -0.030256908386945724, 0.011270112358033657, 0.035276271402835846, -0.034994810819625854, 0.018318330869078636, 0.012161401100456715, 0.05891887843608856, -0.07045872509479523, 0.02027682028710842, 0.0012387154856696725, 0.012114491313695908, -0.011991352774202824, 0.04156220331788063, 0.01753258891403675, 0.031898755580186844, -0.003612064989283681, -0.02093355916440487, 0.04376697167754173, 0.0009506591595709324, -0.038208141922950745, 0.009000844322144985, 0.04770740494132042, 0.0023704178165644407, -0.0281694158911705, -0.0023073824122548103, -0.010249821469187737, 0.012149673886597157, 0.018963342532515526, -0.0028893589042127132, -0.011621937155723572, 0.014870449900627136, 0.03246167674660683, 0.0026166948955506086, -0.018201055005192757, -0.005591078195720911, -0.01701657846570015, 0.010795149020850658, -0.004301054868847132, 0.01499945204705, 0.04892706498503685, -0.006356296129524708, 0.030327273532748222, 0.023056233301758766, -0.0018045665929093957, -0.0033276735339313745, -0.01782577484846115, 0.014776630327105522, -0.005441552493721247, 0.0031224426347762346, 0.0008714986615814269, 0.002562455367296934, 0.004641151987016201, 0.0006149599212221801, -0.01776713877916336, 0.030092723667621613, 0.026809029281139374, 0.013568699359893799, 0.01414334587752819, 0.0014424804830923676, 0.003943366464227438, -0.004714448470622301, 0.013263784348964691, 0.008783885277807713, 0.0006717649521306157, 0.011258385144174099, -0.024299347773194313, -0.02069900929927826, 0.04067091643810272, 0.004913815762847662, -0.012290403246879578, 0.009223666042089462, -0.012583590112626553, 0.04146838188171387, -0.009487534873187542, 0.025354821234941483, -0.029740899801254272, -0.008965661749243736, 0.019150981679558754, 0.01116456463932991, -0.016383295878767967, -0.0181189626455307, 0.02636338397860527, 0.05511917546391487, -0.022059397771954536, 0.02408825233578682, 0.00824442133307457, -0.034760262817144394, -0.01870533637702465, -0.02910761535167694, -0.0120675815269351, -0.015398186631500721, -0.0025917738676071167, 0.00891875196248293, 0.021660663187503815, -0.06736266613006592, 0.0021725164260715246, 0.04414224997162819, -0.011299431324005127, -0.027113942429423332, 0.01911579817533493, 0.012947142124176025, -0.012255220673978329, -0.014905632473528385, -0.008379287086427212, 0.010472643189132214, -0.008097827434539795, -0.00973381195217371, -0.00420723482966423, -0.039545077830553055, -0.002600569510832429, 0.0001320258161285892, -0.017227673903107643, 0.021836575120687485, -0.02870888076722622, -0.03128892928361893, 0.062061846256256104, -0.02584737539291382, -0.009862814098596573, 0.0015876081306487322, 0.004377283621579409, 0.010062181390821934, -0.015597553923726082, -0.007083400152623653, 0.010883104987442493, 0.00864901952445507, 0.03673047944903374, 0.059481799602508545, -0.0037557268515229225, -0.027512677013874054, -0.0017576566897332668, 0.017696773633360863, 0.02232912927865982, 0.025823919102549553, 0.016688209027051926, 0.06750340014696121, -0.009047754108905792, -0.023642607033252716, -0.004497490357607603, 0.03192221000790596, -0.017509134486317635, 0.019010251387953758, 0.04850487411022186, 0.036566294729709625, -0.03110128827393055, 0.032719679176807404, -0.002160788979381323, -0.0028483127243816853, 0.037269946187734604, 0.0009851086651906371, -0.002665070816874504, -0.013779793865978718, 0.01263049989938736, 0.016054926440119743, -0.01754431612789631, -0.027020122855901718, 0.004817063920199871, 0.009206075221300125, -0.01160434540361166, 0.03086673840880394, -0.03412697836756706, 0.011962033808231354, 0.003585678292438388, 0.0215668436139822, 0.012102763168513775, -0.002625490538775921, 0.0015245729591697454, 0.006825395859777927, -0.03619101643562317, -0.005212866701185703, -0.03804395720362663, -0.00908880028873682, -0.016500569880008698, -0.04540881887078285, -0.040319088846445084, -0.01017359271645546, -0.009106391109526157, 0.00842033326625824, -0.02087492123246193, 0.02479190193116665, 0.006350432522594929, -0.0029743830673396587, 0.011234929785132408, -0.011440160684287548, -0.012982324697077274, 0.00536532374098897, 0.015398186631500721, -0.035510823130607605, 0.00800400786101818, -0.025683190673589706, -0.01396743394434452, 0.017450496554374695, 0.008871841244399548, 0.03877106308937073, -0.01753258891403675, 0.0048493146896362305, 0.0232556015253067, 0.02601156011223793, -0.0007512919255532324, 0.024393167346715927, 0.011123518459498882, -0.00014860920782666653, 0.02777068316936493, 0.027958322316408157, 0.024393167346715927, -0.011352204717695713, -0.004383147228509188, -0.005321345757693052, 0.04442371055483818, 0.008349969051778316, -0.0009587217937223613, 0.027559587731957436, 0.021766209974884987, 0.009768994525074959, 0.023806791752576828, 0.028732335194945335, -0.029834719374775887, -0.013662518933415413, 0.007206539157778025, 0.0419609397649765, -0.0338924303650856, 0.023044506087899208, -0.0333060547709465, 0.040131449699401855, -0.005476735066622496, 0.03232094645500183, -0.017157308757305145, -0.012806412763893604, -0.032250579446554184, -0.017556043341755867, 0.002691457513719797, 0.011246656998991966, 0.004131006076931953, -0.00413393834605813, -0.005963425617665052, -0.045690279453992844, 0.02847433090209961, -0.008050917647778988, 0.010044589638710022, -0.023009324446320534, 0.011967897415161133, 0.011328749358654022, 0.03534663841128349, 0.021906940266489983, -0.025167180225253105, -0.022024214267730713, 0.03368133306503296, 0.0023073824122548103, 0.013955705799162388, -0.006866442039608955, 0.013193419203162193, -0.009980089031159878, -0.02116810902953148, 0.008778021670877934, -0.014225438237190247, -0.015339548699557781, -0.012794685550034046, 0.008942206390202045, -0.01502290740609169, -0.038794517517089844, -0.008285467512905598, -0.001613994943909347, -0.03396279364824295, 0.021062562242150307, -0.0032778317108750343, -0.01058405451476574, 0.009645855985581875, 0.022727863863110542, 0.004435920622199774, -0.00844378862529993, -0.014471715316176414, 0.002088958164677024, -0.011275975964963436, 0.030327273532748222, -0.010982789099216461, -0.0047408356331288815, 0.028216326609253883, -0.03415043279528618, -0.019854631274938583, 0.00508679635822773, -0.0042365537956357, -0.012712592259049416, 0.008836659602820873, 0.009129846468567848, 0.02436971105635166, 0.023220418021082878, -0.024580806493759155, -0.0010107625275850296, -0.046792659908533096, 0.028802700340747833, 0.010976925492286682, 0.003008099738508463, 0.02619919925928116, -0.012853322550654411, -0.007300358731299639, 0.015445096418261528, -0.03157038614153862, -0.011739211156964302, 0.03039763867855072, -0.014014343731105328, 0.022129762917757034, -0.024299347773194313, 0.06998962163925171, -0.003573950845748186, 0.007229994051158428, -0.009897996671497822, 0.005529508925974369, -0.0070013077929615974, 0.012806412763893604, 0.012536680325865746, 0.008127146400511265, -0.04794195666909218, 0.006203839089721441, 0.042007848620414734, 0.008021598681807518, 0.005863741971552372, 0.01776713877916336, 0.0018162940395995975, 0.004600105807185173, -0.0270670335739851, 0.023818520829081535, 0.017227673903107643, 0.04285222664475441, 0.008162328973412514, 0.0012702330714091659, -0.035463910549879074, 0.006350432522594929, -0.025917740538716316, -0.014295803382992744, -0.008666610345244408, 0.03764522448182106, 0.050428181886672974, -0.03262586146593094, -0.007177220191806555, -0.023243874311447144, 0.00044747680658474565, -0.009047754108905792, -0.005843218881636858, -0.016043197363615036, -0.017790593206882477, 0.00976313091814518, 0.02144956775009632, -0.009428896941244602, -0.015011179260909557, 0.01637156866490841, -0.02460426092147827, -0.010238093324005604, -0.02222358249127865, -0.020147817209362984, 0.00421016663312912, 0.01945589669048786, 0.019889812916517258, 0.014905632473528385, -0.002997838193550706, -0.031195107847452164, -0.022118035703897476, -0.03719957917928696, -0.007335541304200888, -0.028568150475621223, 0.027864502742886543, 0.025214090943336487, -0.0024334529880434275, -0.025589371100068092, -0.0415152944624424, 0.009540308266878128, -0.005787513218820095, 0.01684066653251648, -0.017731955274939537, 0.047613583505153656, -0.013439696282148361, -0.01478835754096508, 0.052163850516080856, -0.032297492027282715, 0.005368256010115147, -0.016101835295557976, -0.017380131408572197, -0.006520481314510107, 0.013146509416401386, -0.06553318351507187, 0.002512613544240594, 0.009546171873807907, 0.060654547065496445, 0.021719301119446754, 0.010073908604681492, -0.014600717462599277, 0.00017343850049655885, -0.00569955725222826, -0.01306441705673933, 0.025472095236182213, 0.006274203769862652, -0.02222358249127865, -0.014940815046429634, 0.022071124985814095, 0.055682092905044556, 0.0014292871346697211, 0.0024246573448181152, 0.006197975482791662, 0.021590298041701317, -0.014776630327105522, 0.009340940974652767, 0.019092343747615814, 0.04693339020013809, 0.03178148344159126, 0.03471335396170616, -0.013603881932795048, 0.026879392564296722, -0.0344788022339344, 0.011979624629020691, -0.027020122855901718, -0.013052689842879772, -0.007100991439074278, 0.008379287086427212, 0.02694975771009922, -0.03534663841128349, 0.022845139726996422, 0.005479666870087385, 0.03863033279776573, 0.008807340636849403, -0.028966885060071945, 0.036214470863342285, 0.023548787459731102, -0.014330985955893993, 0.01227867603302002, -0.007224129978567362, 0.010707193054258823, -0.028568150475621223, -0.018810885027050972, 0.006907488219439983, -0.024932630360126495, -0.006227293983101845, -0.03877106308937073, -0.024041341617703438, -0.028427422046661377, 0.01178025733679533, 0.0022033010609447956, -0.03968580439686775, 0.005124910734593868, -0.02460426092147827, -0.003468403359875083, -0.0030403502751141787, -0.04301641136407852, -0.003990276250988245, -0.030772918835282326, -0.010537144728004932, 0.014647627249360085, 0.016934486106038094, -0.02636338397860527, 0.010883104987442493, 0.03016308881342411, -0.012091035954654217, -0.04449407383799553, 0.04897397384047508, 0.015292638912796974, -0.016441931948065758, 0.02005399763584137, -0.006068972870707512, -0.026855938136577606, -0.00885425042361021, 0.01759122684597969, -0.019784266129136086, -0.011422569863498211, -0.01684066653251648, -0.002851244527846575, 0.007734275888651609, 0.0066260285675525665, 0.015820376574993134, -0.011111791245639324, 0.02455735206604004, 0.018107235431671143, 0.017685046419501305, 0.019080616533756256, -0.007974688895046711, 0.030491458252072334, -0.01754431612789631, -0.01999535970389843, 0.026621388271450996, -0.017556043341755867, -0.01014427375048399, -0.007822232320904732, -0.00820923876017332, 0.024041341617703438, -0.021144654601812363, -0.012524953112006187, -0.015280911698937416, 0.026433749124407768, 0.012771230190992355, -0.01735667698085308, -0.003242649370804429, 0.016125289723277092, 0.005274435970932245, 0.014342713169753551, -0.03487753868103027, -0.01590246893465519, 0.0038935246411710978, -0.016864122822880745, -0.01648884266614914, -0.012935414910316467, -0.029482895508408546, -0.01224349346011877, -0.026222653687000275, 0.006151065230369568, -0.008344104513525963, -0.0007274704985320568, -0.026691753417253494, 0.009223666042089462, -0.0013061484787613153, -0.010900696739554405, -0.007775322068482637, -0.014706265181303024, 0.008344104513525963, 0.005300822667777538, -0.03255549445748329, -0.005916515830904245, -0.0011339010670781136, -0.011973761022090912, 0.0027808796148747206, 0.04022527113556862, 0.0001718809362500906, 0.02934216521680355, 0.0219303946942091, 0.0059692892245948315, -0.0029435984324663877, -0.01028500311076641, 0.02781759202480316, 0.04109310358762741, 0.03408006951212883, 0.038020502775907516, 0.01935034804046154, 0.017919596284627914, -0.024510441347956657, 0.010238093324005604, 0.01766159012913704, 0.029600169509649277, 0.01037296000868082, -0.022669225931167603, 0.012360768392682076, -0.01888125017285347, -0.0385834239423275, -0.011598481796681881, 0.037621770054101944, 0.037316855043172836, -0.011920987628400326, -0.019080616533756256, 0.017040034756064415, 0.0023616221733391285, -0.011059017851948738, 0.0011456286301836371, 0.0005039153038524091, 0.016688209027051926, 0.040600549429655075, -0.045690279453992844, 0.07294495403766632, 0.017989961430430412, 0.024158617481589317, 0.0007399309542961419, -0.028192872181534767, -0.01519881933927536, -0.032062940299510956, -0.008907023817300797, -0.004969521425664425, -0.023478422313928604, 0.019549716264009476, 0.010232229717075825, 0.00976313091814518, 0.019033705815672874, -0.026433749124407768, 0.026668298989534378, 0.004095823969691992, -0.022247036918997765, -0.010120818391442299, -0.004327441565692425, -0.013510061427950859, 0.022082852199673653, 0.0015406982274726033, -0.012091035954654217, -0.011053153313696384, -0.029975449666380882, 0.002572716912254691, -0.01729803904891014, -0.010425733402371407, 0.02092183195054531, -0.02209457941353321, -0.020159544423222542, -0.03607374057173729, 0.010736512020230293, 0.008836659602820873, -0.004154461435973644, 0.042828772217035294, -0.009000844322144985, 0.005415165796875954, -0.04883324354887009, 0.01347487885504961, 0.04864560440182686, -0.02122674696147442, 0.027512677013874054, -0.014682809822261333, -0.00847897119820118, -0.01227867603302002, 0.01435444038361311, -0.008643155917525291, -0.00012350507313385606, -0.017274584621191025, -0.009505125693976879, -0.02279822900891304, 0.017755411565303802, 0.005939970724284649, 0.004837587010115385, -0.0013743145391345024, 0.008660746738314629, 0.023771610110998154, -0.05150711163878441, 0.013029234483838081, 0.02133229374885559, -0.04400151968002319, 0.00912398286163807, -0.0001462270738556981, 0.005755262915045023, 0.016793757677078247, 0.002176914131268859, 0.011205610819160938, -0.030139634385704994, 0.009364396333694458, 0.00464994739741087, -0.001281227683648467, -0.009176756255328655, 0.0287557914853096, -0.008525880984961987, -0.003477199003100395, -0.026996668428182602, -0.010437460616230965, 0.009557899087667465, -0.012126218527555466, 0.0086197005584836, 0.016359839588403702, 0.022082852199673653, 0.003269036067649722, 0.03239130973815918, 0.009041890501976013, -0.010713056661188602, -0.0034126979298889637, 0.015796920284628868, 0.0020405822433531284, 0.022141490131616592, -0.0037733179051429033, -0.014811811968684196, -0.02490917593240738, -0.008191647939383984, 0.030022358521819115, -0.015937650576233864, -0.0021681187208741903, -0.011897532269358635, -0.02863851562142372, -0.021379202604293823, 0.01157502643764019, 0.033587515354156494, -0.03771558776497841, -0.014436532743275166, 0.008291331119835377, -0.03553427755832672, 0.018107235431671143, -0.010648555122315884, -0.0039199115708470345, -0.004946066532284021, -0.0019467623205855489, 0.019725628197193146, -0.010801012627780437, -0.007054081652313471, 0.017344949766993523, -0.01759122684597969, -0.044048428535461426, 0.016266020014882088, -0.034689899533987045, -0.00600447179749608, -0.00786327850073576, 0.013287239708006382, 0.0004969521542079747, -0.0018676018808037043, 0.0005105120362713933, 0.0032573086209595203, 0.010537144728004932, 0.02343151345849037, -0.0015905400505289435, -0.014635900035500526, -0.005462075583636761, 0.024862267076969147, 0.013685974292457104, -0.0466519333422184, 0.00888356938958168, 0.010689601302146912, -0.0482703261077404, -0.022012487053871155]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:33.812734", "url_path": "/api/models/fallback/", "chunk_size": 4268}
updated_dt: 2025-03-15T11:17:33.813745
---
```
@dataclass(init=False)
classFallbackModel(Model):
"""A model that uses one or more fallback models upon failure.
  Apart from `__init__`, all methods are private or match those of the base class.
  """
  models: list[Model]
  _model_name: str = field(repr=False)
  _fallback_on: Callable[[Exception], bool]
  def__init__(
    self,
    default_model: Model | KnownModelName,
    *fallback_models: Model | KnownModelName,
    fallback_on: Callable[[Exception], bool] | tuple[type[Exception], ...] = (ModelHTTPError,),
  ):
"""Initialize a fallback model instance.
    Args:
      default_model: The name or instance of the default model to use.
      fallback_models: The names or instances of the fallback models to use upon failure.
      fallback_on: A callable or tuple of exceptions that should trigger a fallback.
    """
    self.models = [infer_model(default_model), *[infer_model(m) for m in fallback_models]]
    self._model_name = f'FallBackModel[{", ".join(model.model_nameformodelinself.models)}]'
    if isinstance(fallback_on, tuple):
      self._fallback_on = _default_fallback_condition_factory(fallback_on)
    else:
      self._fallback_on = fallback_on
  async defrequest(
    self,
    messages: list[ModelMessage],
    model_settings: ModelSettings | None,
    model_request_parameters: ModelRequestParameters,
  ) -> tuple[ModelResponse, Usage]:
"""Try each model in sequence until one succeeds.
    In case of failure, raise a FallbackExceptionGroup with all exceptions.
    """
    exceptions: list[Exception] = []
    for model in self.models:
      try:
        response, usage = await model.request(messages, model_settings, model_request_parameters)
        response.model_used = model # type: ignore
        return response, usage
      except Exception as exc:
        if self._fallback_on(exc):
          exceptions.append(exc)
          continue
        raise exc
    raise FallbackExceptionGroup('All models from FallbackModel failed', exceptions)
  @asynccontextmanager
  async defrequest_stream(
    self,
    messages: list[ModelMessage],
    model_settings: ModelSettings | None,
    model_request_parameters: ModelRequestParameters,
  ) -> AsyncIterator[StreamedResponse]:
"""Try each model in sequence until one succeeds."""
    exceptions: list[Exception] = []
    for model in self.models:
      async with AsyncExitStack() as stack:
        try:
          response = await stack.enter_async_context(
            model.request_stream(messages, model_settings, model_request_parameters)
          )
        except Exception as exc:
          if self._fallback_on(exc):
            exceptions.append(exc)
            continue
          raise exc
        yield response
        return
    raise FallbackExceptionGroup('All models from FallbackModel failed', exceptions)
  @property
  defmodel_name(self) -> str:
"""The model name."""
    return self._model_name
  @property
  defsystem(self) -> str | None:
"""The system / model provider, n/a for fallback models."""
    return None
  @property
  defbase_url(self) -> str | None:
    return self.models[0].base_url

```
  
---|---  
####  __init__
```
__init__(
  default_model: Model[](https://ai.pydantic.dev/api/models/base/#pydantic_ai.models.Model "pydantic_ai.models.Model") | KnownModelName[](https://ai.pydantic.dev/api/models/base/#pydantic_ai.models.KnownModelName "pydantic_ai.models.KnownModelName"),
  *fallback_models: Model[](https://ai.pydantic.dev/api/models/base/#pydantic_ai.models.Model "pydantic_ai.models.Model") | KnownModelName[](https://ai.pydantic.dev/api/models/base/#pydantic_ai.models.KnownModelName "pydantic_ai.models.KnownModelName"),
  fallback_on: (
    Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[[Exception[](https://docs.python.org/3/library/exceptions.html#Exception)], bool[](https://docs.python.org/3/library/functions.html#bool)]
    | tuple[](https://docs.python.org/3/library/stdtypes.html#tuple)[type[](https://docs.python.org/3/library/functions.html#type)[Exception[](https://docs.python.org/3/library/exceptions.html#Exception)], ...]
  ) = (ModelHTTPError[](https://ai.pydantic.dev/api/exceptions/#pydantic_ai.exceptions.ModelHTTPError "pydantic_ai.exceptions.ModelHTTPError"),)
)