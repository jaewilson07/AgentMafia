---
url: https://ai.pydantic.dev/api/usage/
session_id: pydantic_ai_docs
chunk_number: 2
title: LLM Usage Class in PydanticAI
summary: This documentation details the `Usage` class, which tracks LLM usage metrics such as the number of requests, request and response tokens, and total tokens used. It also outlines a method to increment usage details based on additional input.
embedding: [0.013591906055808067, 0.02160186879336834, 0.02663312666118145, -0.05471806228160858, 0.044154923409223557, 0.006373552605509758, -0.029186302796006203, -0.0011686411453410983, 0.0071213580667972565, -0.012146358378231525, -0.0032603053841739893, -0.009061270393431187, -0.054968371987342834, -0.019962329417467117, 0.009549378417432308, -0.011989913880825043, -0.0007532807067036629, 0.03549414873123169, 0.018422914668917656, 0.06868543475866318, -0.010444240644574165, 0.05677061527967453, 0.061626654118299484, -0.022027399390935898, -0.0005100093549117446, -0.015031196177005768, -0.004083204083144665, 0.018698258325457573, -0.004173941910266876, -0.029586801305413246, 0.004965551197528839, -0.018598133698105812, -0.06282814592123032, 0.009549378417432308, -0.009192684665322304, -0.01166450884193182, 0.0019821529276669025, 0.02434277907013893, -0.0061607882380485535, 0.0031492295674979687, -0.03281581774353981, -0.07444259524345398, 0.0018648195546120405, 0.004148910753428936, -0.05371681600809097, 0.0263077225536108, 0.041651807725429535, -0.008028736338019371, 0.01381718646734953, 0.03424259275197983, 0.023579329252243042, -0.0173465758562088, -0.03319128602743149, -0.013679515570402145, -0.013829701580107212, -0.013804671354591846, -0.009305324405431747, 0.01677086018025875, 0.006367295049130917, -0.06217733770608902, 0.0313139483332634, -0.034618061035871506, 0.02793474681675434, -0.03914869576692581, -0.045431509613990784, 0.003739025676622987, 0.007678300607949495, 0.0665828213095665, -0.030537985265254974, -0.03857297822833061, 0.01929900422692299, 0.014280262403190136, -0.06032503396272659, 0.01839788444340229, -0.014280262403190136, 0.011933594010770321, -0.016645705327391624, 0.0718393549323082, 0.002787842648103833, 0.02903611585497856, 0.008704577572643757, 0.0014760547783225775, -0.017309030517935753, 0.014843462966382504, -3.881781594827771e-05, -0.04080075025558472, -0.03459302708506584, -0.020337797701358795, -0.002210562117397785, -0.08480548858642578, -0.027659403160214424, -0.03093848191201687, -0.034467872232198715, 0.010463014245033264, 0.049361396580934525, -0.0019195751519873738, -0.006608219817280769, 0.03379203379154205, 0.013541843742132187, 0.024104982614517212, 0.021777087822556496, -0.03241531923413277, -0.010957378894090652, -0.03151419758796692, 0.0030303318053483963, 0.02261563017964363, 0.013391656801104546, 0.013504297472536564, 0.011032472364604473, -0.01710878126323223, -0.0468582846224308, 0.031063638627529144, 0.0034887143410742283, -0.024079952389001846, -0.015319054946303368, -0.020012391731142998, -0.04971183463931084, 0.015932317823171616, -0.028710711747407913, -0.04740896821022034, -0.059473976492881775, -0.03862304240465164, 0.044480327516794205, -0.01436787098646164, 0.011902304366230965, -0.035519178956747055, 0.02327895537018776, -0.03549414873123169, -0.0164830032736063, -0.010882286354899406, 0.06678307056427002, -0.012083780020475388, 0.02931145951151848, -0.03056301549077034, -0.011626962572336197, -0.045631758868694305, -0.012903549708425999, 0.04655791074037552, -0.047984685748815536, 0.0019133173627778888, 0.044380202889442444, -0.020688233897089958, 0.0015707036945968866, 0.015243961475789547, -0.04645778611302376, 0.01449302677065134, 0.002268446609377861, -0.014217684976756573, 0.010794676840305328, -0.03647036477923393, -0.025932256132364273, 0.024492966011166573, -0.03136401250958443, -0.044680576771497726, 0.008341625332832336, -0.02012503333389759, -0.006927366368472576, 0.054868247359991074, 0.02299109660089016, -0.012327834032475948, -0.03601980209350586, 0.019461708143353462, 0.009611955843865871, -0.0370711125433445, 0.0066582816652953625, 0.016069987788796425, -0.05662042647600174, -0.02155180647969246, -0.0641297698020935, -0.037296392023563385, -0.028860898688435555, -0.027183812111616135, 0.0067020864225924015, -0.04483076184988022, -0.013854732736945152, -0.06257783621549606, -0.053066007792949677, -0.004461799748241901, 0.006858530919998884, -0.04375442489981651, -0.015682006254792213, 0.00044899596832692623, -0.07018730044364929, -0.011820953339338303, -0.027133749797940254, -0.02380460873246193, 0.0001490134745836258, 0.04755915701389313, 0.013979888521134853, 0.07904832065105438, 0.022778332233428955, 0.035143714398145676, 0.060775596648454666, 0.05018742382526398, -0.02040037512779236, 0.02883586660027504, 0.03311619162559509, -0.005228378344327211, -0.0038266347255557775, 0.001237476710230112, 0.02231525629758835, 0.007496824953705072, 0.04488082602620125, -0.03196476027369499, 0.03536899387836456, -0.046833254396915436, -0.04550660401582718, -0.009349129162728786, 0.00048497822717763484, -0.02385467104613781, -0.01154561061412096, -0.05226501077413559, 0.000677405099850148, 0.00368896359577775, -0.048885807394981384, 0.020563077181577682, -0.005334760528057814, -0.026082443073391914, -0.005084449425339699, 0.015268992632627487, -0.0036451590713113546, 0.023929765447974205, 0.032790787518024445, -0.03794720023870468, -0.009999938309192657, 0.0014604103052988648, -0.002715878188610077, -0.01523144543170929, -0.01111382432281971, 0.018948569893836975, -0.025268930941820145, -0.005522494204342365, -0.01188353169709444, -0.03281581774353981, 0.019386613741517067, -0.0013360368320718408, 0.04215243086218834, -0.014931071549654007, 0.02214003913104534, -0.013091283850371838, 0.009080043993890285, -0.004959293641149998, -0.00586980115622282, 0.05406725034117699, -0.02573200687766075, 0.01036914810538292, -0.008954888209700584, 0.005632005166262388, 0.01015638280659914, 0.04853536933660507, 0.02212752401828766, -0.03752167150378227, 0.023391595110297203, 0.004527506418526173, -0.022240163758397102, -0.03869813308119774, -0.012490536086261272, 0.04420498386025429, -0.04603225737810135, 0.05311606824398041, 0.05907347798347473, -0.021689478307962418, -0.05667049065232277, 0.046057287603616714, 0.014743338339030743, -0.0024421000853180885, 0.003009994048625231, 0.05371681600809097, 0.03008742444217205, -0.011964882723987103, 0.006276557222008705, -0.005409853998571634, 0.016257721930742264, 0.00792861171066761, 0.0037859592121094465, -0.04525629058480263, 0.015006165020167828, 0.01777210645377636, 0.023028643801808357, -0.025782069191336632, 0.012065007351338863, -0.01030031219124794, 0.04623250663280487, 0.04302852228283882, 0.019762080162763596, 0.03717123717069626, 0.009893556125462055, 0.014305293560028076, 0.008354141376912594, -0.02126394957304001, -0.04470560699701309, 0.003817248158156872, 0.02898605354130268, -0.024180077016353607, 0.0050656758248806, 0.017446700483560562, 0.012352865189313889, -0.03744657710194588, 0.0066582816652953625, 0.02361687645316124, 0.03266563266515732, 0.0006762317498214543, -0.024730760604143143, -0.016833437606692314, -0.00718393549323082, 0.029336489737033844, -0.007227740250527859, -0.007565660402178764, 0.005378565285354853, -0.0050030979327857494, 0.022165069356560707, 0.014255231246352196, -0.003282207529991865, 0.008060025051236153, 0.0011029343586415052, 0.008729608729481697, 0.04067559540271759, 0.01690853200852871, 0.003995595034211874, 0.02903611585497856, 0.06397958099842072, 0.005012484733015299, 0.015932317823171616, -0.023454172536730766, 0.03917372599244118, 0.003570065600797534, -0.015093774534761906, -0.010963637381792068, -0.02961183339357376, -0.01595734804868698, 0.010187671519815922, 0.01104498840868473, -0.0245805736631155, 0.030012330040335655, -0.00891108438372612, 0.021001122891902924, 0.019574347883462906, 0.03324134647846222, 0.005994956940412521, 0.06458032876253128, -0.031163763254880905, -0.016082504764199257, -0.046683065593242645, -0.0654313862323761, -0.03103860653936863, 0.008992435410618782, 0.03874819725751877, 0.023216377943754196, -0.014192653819918633, 0.04810984060168266, -0.003105425275862217, 0.02548169530928135, 0.015031196177005768, 0.0289359912276268, -0.018860960379242897, -0.013203923590481281, 0.03439277783036232, -0.032790787518024445, 0.0018241439247503877, 0.025757037103176117, -0.09461768716573715, 0.020062454044818878, -0.017421670258045197, -0.02710871957242489, -0.024417871609330177, 0.010688294656574726, 0.014693276025354862, -0.0066207353956997395, -0.05421743914484978, -0.0013516813050955534, 0.012296545319259167, 0.033316440880298615, 0.039073601365089417, -0.01653306372463703, -0.03862304240465164, 0.017071234062314034, 0.00023368910478893667, 0.019173849374055862, -0.008879794739186764, -0.011933594010770321, 0.03314122185111046, 0.020725779235363007, 0.007096326909959316, -0.0036013545468449593, 0.02966189570724964, 0.0025469178799539804, 0.007033749017864466, 0.0013055300805717707, -0.0263077225536108, -0.012227709405124187, 0.04135143384337425, -0.012916065752506256, -0.007177677936851978, 0.013241470791399479, -0.00016553793102502823, 0.0007149517768993974, 0.04057547077536583, 0.051514074206352234, 0.045005980879068375, -0.01748424768447876, -0.03927385061979294, 0.020675716921687126, -0.00011801788787124678, -0.02376706339418888, -0.008185180835425854, -0.012509309686720371, 0.03391718864440918, 0.04085081070661545, 0.01381718646734953, 0.06242765113711357, 0.03531892970204353, -0.017321545630693436, 0.016232691705226898, -0.00722148222848773, -0.0014533703215420246, -0.029787050560116768, 0.014004919677972794, 0.03098854422569275, 0.048560403287410736, 0.04665803536772728, -0.03464309126138687, -0.02165193110704422, -0.0014510236214846373, -0.058322545140981674, -0.02088848128914833, 0.004195843823254108, 0.004956164862960577, -0.026958532631397247, -0.0019774597603827715, -0.0289359912276268, -0.013141346164047718, -0.016357846558094025, 0.02011251635849476, -0.016645705327391624, 0.003210243070498109, -0.004630759824067354, -0.007133873645216227, 0.0318896658718586, 0.0446305125951767, -0.02610747329890728, 0.018047448247671127, -0.0353439636528492, 0.03559427335858345, 0.03176451101899147, -0.07914844900369644, -0.013541843742132187, -0.008979919366538525, -0.016745829954743385, 0.06372927129268646, 0.01782216876745224, -0.009205199778079987, 0.05982441082596779, -0.0022168199066072702, 0.04480573162436485, -0.05531880632042885, -0.040550436824560165, 0.04205230623483658, -0.008110087364912033, 0.014054981991648674, -0.037196267396211624, 0.025356540456414223, -0.0020588107872754335, -0.0020353442523628473, -0.016733312979340553, -0.028485432267189026, 0.010644489899277687, -0.024605605751276016, 0.00107164541259408, -0.0022543666418641806, 0.009036240167915821, 0.045681823045015335, -0.004380448721349239, 0.03391718864440918, 0.01576961576938629, -0.01785971410572529, -0.032165009528398514, -0.019286489114165306, 0.012571887113153934, -0.019962329417467117, 0.0026720736641436815, 0.02050049975514412, -0.001507343607954681, 0.0012069700751453638, 0.009730854071676731, -0.05073811113834381, -0.011489290744066238, 0.0034949721302837133, -0.035143714398145676, -0.03324134647846222, -0.024104982614517212, -0.013191408477723598, 0.012797167524695396, 0.053917065262794495, -0.012891034595668316, 0.03259053826332092, 0.0005424716509878635, -0.00047285377513617277, -0.014004919677972794, 0.00037194701144471765, -0.06613225489854813, -0.029386552050709724, -0.017596887424588203, 0.002634526928886771, 0.044154923409223557, 0.01931152120232582, -0.024680698290467262, 0.019699502736330032, -0.017133811488747597, -0.012697042897343636, 0.025506727397441864, -0.07844758033752441, -0.01161444652825594, 0.024079952389001846, 0.046833254396915436, -0.004245906136929989, 0.032740723341703415, 0.0029020472429692745, 0.02078835666179657, 0.00449308892711997, -0.0006969606620259583, 0.030437860637903214, -0.031113700941205025, 0.0012773701455444098, -0.0219898521900177, -0.0020275218412280083, -0.01719638891518116, -0.035994771867990494, 0.021489229053258896, 0.011658251285552979, -0.013979888521134853, -0.029686925932765007, -0.0008080363040789962, -0.010018711909651756, 0.0021839665714651346, -0.02816002629697323, 0.017521794885396957, -0.017947323620319366, -0.010075031779706478, -0.02826015092432499, -0.002969318302348256, 0.028710711747407913, 0.0514640137553215, -0.0004364804190117866, -0.0023529266472905874, -0.003723381320014596, 0.0026360913179814816, 0.051614198833703995, -0.041276343166828156, -0.014555605128407478, -0.024130014702677727, 0.022052429616451263, -0.03466812148690224, 0.02715878188610077, -0.0514640137553215, 0.0016411037649959326, 0.03136401250958443, 0.0031899053137749434, -0.03294097259640694, 0.0306631401181221, -0.03416749835014343, 0.029336489737033844, -0.035243839025497437, 0.02491849474608898, 0.018998632207512856, -0.051564138382673264, 0.020425405353307724, 0.02175205573439598, 0.01958686299622059, -0.003970563877373934, 0.028685681521892548, 0.041551683098077774, -0.0008917342056520283, 0.004552537575364113, -0.032890912145376205, -0.010913575068116188, -0.04375442489981651, 0.016633188351988792, 0.012521824799478054, -0.005118866916745901, -0.012991159223020077, -0.03484334051609039, -0.021777087822556496, 0.0034605544060468674, -0.027859652414917946, -0.04943649098277092, 0.0038673102390021086, -0.03431768715381622, 0.061826903373003006, 0.03559427335858345, 0.005951152183115482, -0.017509279772639275, 0.015431694686412811, 0.021426651626825333, 0.0004302226298023015, -0.026958532631397247, 0.0544176883995533, -0.003917372785508633, -0.006135757081210613, 0.0058259968645870686, 0.009417964145541191, 0.015969863161444664, -0.01166450884193182, -0.027008594945073128, 0.0130287054926157, -0.028910961002111435, 0.029862143099308014, 0.00941170658916235, 0.0044086086563766, -0.01824769750237465, 0.026482941582798958, -0.01394234225153923, -0.04665803536772728, 0.0008119474514387548, -0.01988723687827587, -0.04996214434504509, 0.017922293394804, -0.02300361357629299, 0.021877212449908257, 0.009161395020782948, -0.04755915701389313, 0.018047448247671127, -0.008498070761561394, -0.0020056196954101324, -0.014943587593734264, 0.042177461087703705, 0.010588170029222965, -0.04881071299314499, -0.026382816955447197, 0.025469180196523666, 0.011633220128715038, -0.022502990439534187, 0.023303987458348274, 0.033266376703977585, -0.00651435274630785, -0.013692030683159828, 0.012039976194500923, 0.013629453256726265, 0.009380417875945568, 0.011082534678280354, 0.0051689292304217815, 0.014580636285245419, 0.050813205540180206, 0.04828505963087082, 0.0027768914587795734, 0.0033291408326476812, 0.007252771407365799, -0.010437983088195324, 0.03479327633976936, 0.029136240482330322, -0.01111382432281971, -0.01916133426129818, -0.020588109269738197, 0.04733387753367424, -0.007922354154288769, 0.037196267396211624, 0.006289072800427675, -0.015581881627440453, 0.0014987392351031303, -0.0075093405321240425, 0.017747074365615845, -0.0341925285756588, -0.0027643758803606033, -0.007784682791680098, -0.00655189948156476, 0.03071320243179798, 0.030262641608715057, 0.014555605128407478, 0.01235912274569273, 0.030838359147310257, 0.02347920462489128, -0.03812241926789284, 0.06963662058115005, 0.03717123717069626, 0.03521880507469177, -0.020613139495253563, 0.030012330040335655, 0.0031132474541664124, -0.02851046249270439, -0.02903611585497856, 0.05406725034117699, 0.02040037512779236, -0.01087602786719799, -0.02931145951151848, -0.026457909494638443, 0.014242716133594513, -0.044154923409223557, -0.00960569828748703, -0.007628238294273615, 0.029787050560116768, 0.031213825568556786, -0.011432970874011517, -0.006852273363620043, 0.008210211992263794, -0.044380202889442444, 0.012377896346151829, -0.004877942614257336, 0.028009839355945587, -0.018523039296269417, 0.0017334060976281762, -0.033216316252946854, 0.0053629204630851746, -0.010619458742439747, -0.015081258490681648, -0.01091983262449503, -0.017947323620319366, 0.02615753561258316, -0.023078706115484238, 0.018260212615132332, 0.0022997355554252863, -0.008404203690588474, 0.001502650324255228, 0.013391656801104546, 0.007615722715854645, 0.04753412678837776, -0.04738393798470497, -0.013441719114780426, 0.00259385141544044, -0.0009152008569799364, -0.01111382432281971, -0.010012454353272915, 0.0031492295674979687, 0.008060025051236153, -0.016232691705226898, 0.007453020196408033, -0.010262764990329742, 0.027909714728593826, 0.016983624547719955, 0.04365430027246475, -3.231558730476536e-05, -0.006570673082023859, -0.0228909719735384, 0.036820799112319946, 0.020613139495253563, -0.02337907999753952, -0.015181383118033409, -0.010556881316006184, -0.041751932352781296, 0.024805855005979538, -0.029862143099308014, 0.020225156098604202, -0.015694521367549896, -0.04297845810651779, -0.003842279314994812, 0.008942373096942902, -0.002609495772048831, 0.006889820098876953, 0.00740295834839344, 0.014718307182192802, -0.058172356337308884, 0.0509633906185627, -0.043804485350847244, 0.008304079063236713, 0.0176344346255064, 0.0033385276328772306, 0.023291470482945442, 0.01163947768509388, 0.017309030517935753, -0.0008056896622292697, -0.047358907759189606, 0.005522494204342365, -0.024455418810248375, -0.0075093405321240425, 0.004189586266875267, 0.010569396428763866, 0.001106845447793603, -0.010882286354899406, -0.01849800907075405, -0.027033625170588493, -0.01566949114203453, 0.02017509564757347, -0.05877310410141945, 0.03146413713693619, 0.018272727727890015, -0.004574439954012632, 0.014242716133594513, -0.006777179893106222, -0.006257783621549606, -0.04638269171118736, 0.008779670111835003, -0.01441793330013752, -0.006198334973305464, 0.00039150260272435844, -0.005231507122516632, -0.057271238416433334, 0.012809683568775654, -0.019812142476439476, 0.0035262610763311386, -0.035143714398145676, 0.008510585874319077, -0.010100062936544418, -0.038297634571790695, -0.022252678871154785, 0.006054405588656664, -0.01983717456459999, -0.003152358578518033, 0.02041289024055004, 0.024355294182896614, -0.08851009607315063, -0.003110118443146348, 0.0544176883995533, 0.013354110531508923, 0.030863389372825623, 0.017371607944369316, 0.016971109434962273, -0.012640723027288914, -0.025268930941820145, -0.03103860653936863, 0.01863567903637886, -0.02961183339357376, 0.0026235757395625114, -0.033266376703977585, -9.76800947682932e-05, -0.004918618127703667, -0.0028832738753408194, 0.013454235158860683, 0.04795965552330017, -0.017409155145287514, -0.021902242675423622, 0.01530653890222311, -0.012340349145233631, 0.002133904257789254, -0.011683282442390919, 0.018072480335831642, -0.0005014049238525331, 0.012321576476097107, 0.013491781428456306, -0.019674472510814667, 0.009624470956623554, 0.0015933881513774395, 0.014267747290432453, 0.013854732736945152, -0.017208905890583992, 0.04277820885181427, 0.011877273209393024, 0.01245298981666565, 0.0038798258174210787, -0.010813450440764427, 0.04891083762049675, -0.029912205412983894, 0.03769689053297043, 0.04753412678837776, 0.01839788444340229, 0.007146389223635197, -0.026908470317721367, -0.011608188971877098, -0.001608250429853797, 0.003970563877373934, 0.01480591669678688, -0.011232721619307995, -0.004186457488685846, -0.0059636677615344524, 0.013454235158860683, 0.059524040669202805, -0.028059901669621468, -0.002144855447113514, -0.0003162136417813599, 0.02376706339418888, 0.05036264285445213, -0.00968079175800085, -0.013529328629374504, -0.010012454353272915, -0.005725872237235308, -0.022678207606077194, 0.026407847180962563, -0.03123885579407215, 0.0019774597603827715, 0.013516812585294247, 0.037571731954813004, 0.006833499763160944, -0.01800990104675293, -0.0193615835160017, -0.0002667380322236568, 0.002762811491265893, 0.02821008861064911, 0.022678207606077194, -0.01008128933608532, 0.017133811488747597, 0.06728368997573853, 0.005287827458232641, 0.0007544540567323565, 0.027534248307347298, 0.006057534832507372, 0.0217019934207201, -0.022252678871154785, -0.025706974789500237, -0.026032380759716034, 0.029762020334601402, 0.015268992632627487, 0.006016858853399754, 0.03481831029057503, -0.008704577572643757, -0.027058657258749008, -0.006239010486751795, -0.021238917484879494, 0.006733375135809183, 0.0019023662898689508, -0.00871709268540144, -0.01473082322627306, 0.008247759193181992, -0.004724626895040274, 0.012840972281992435, -0.011007441207766533, 0.04598219320178032, 0.010707068257033825, -0.015744583681225777, -0.007609465159475803, 0.03549414873123169, -0.01173960231244564, -0.0033792031463235617, -0.028660649433732033, 0.08029988408088684, -0.013491781428456306, 0.020613139495253563, -0.016896016895771027, 0.00037898702430538833, -0.023366564884781837, 0.0085481321439147, -0.019148817285895348, 0.03093848191201687, -0.029211334884166718, -0.006345392670482397, -0.014981133863329887, 0.01772204414010048, 0.0023544910363852978, -0.005522494204342365, 0.023679453879594803, -0.0382225438952446, 0.0051595428958535194, 0.050988420844078064, -0.009937360882759094, 0.009906071238219738, -0.0596742257475853, -0.006329748313874006, 0.03113873116672039, -0.03113873116672039, 0.002715878188610077, -0.01533157005906105, -0.01743418537080288, -0.000724338460713625, 0.03779701516032219, -0.0029427227564156055, -0.04130137339234352, 0.03459302708506584, 0.011245237663388252, -0.007290318142622709, -0.01023147627711296, -0.012584403157234192, -0.021326526999473572, 0.0023560556583106518, 0.015156351961195469, 0.007071295753121376, -0.03141407296061516, 0.02941158413887024, 0.012759621255099773, -0.0393739752471447, 0.022202616557478905, 0.003069442929700017, -0.034993525594472885, 0.03579452261328697, 0.027384061366319656, 0.028485432267189026, -0.0009816897800192237, -0.007966158911585808, -0.020613139495253563, -0.004721497651189566, 0.020900998264551163, -0.016983624547719955, 0.006426743697375059, -0.02448044903576374, 0.010212702676653862, 0.030888419598340988, 0.008923599496483803, 0.021576838567852974, 0.012866003438830376, 0.03186463564634323, 0.04022503271698952, -0.0006465073092840612, -0.015932317823171616, 0.017421670258045197, 0.018948569893836975, 0.01624520681798458, 0.041801996529102325, -0.005572556518018246, 0.01958686299622059, 0.030062392354011536, 0.0014064369024708867, 0.02495604194700718, 0.02600734867155552, 0.004033141769468784, 0.014267747290432453, 0.01743418537080288, -0.038297634571790695, 0.011151370592415333, 0.009943618439137936, 0.0058228676207363605, -0.018235182389616966, 0.03439277783036232, 0.013016190379858017, 0.034467872232198715, -0.01478088553994894, -0.016745829954743385, 0.011845984496176243, 0.04355417564511299, -0.027509218081831932, -0.0027612471021711826, -0.0034261366818100214, 0.022027399390935898, -0.029711958020925522, -0.0006410317146219313, -0.033316440880298615, 0.01653306372463703, -0.04911108687520027, -0.008460523560643196, -0.028660649433732033, 0.016257721930742264, 0.001332125742919743, -0.02600734867155552, -0.043429020792245865, 0.01310379896312952, 0.006035632453858852, -0.0036451590713113546, 0.003247789805755019, 0.015519303269684315, 0.004824751056730747, 0.020588109269738197, 0.05111357569694519, 0.01243421621620655, -0.008485554717481136, 0.024017373099923134, -0.04645778611302376, -0.029211334884166718, 0.015682006254792213, -0.002025957452133298, -0.006470548454672098, -0.010050000622868538, -0.011533095501363277, 0.013391656801104546, -0.002213690895587206, 0.016983624547719955, -0.01576961576938629, 0.003948661498725414, 7.70489641581662e-05, 0.00028668472077697515, 0.03003736212849617, 0.04255292937159538, 0.02821008861064911, -0.015093774534761906, 0.021051185205578804, 0.0008275919244624674, 0.003964305855333805, -0.03098854422569275, 0.06463038921356201, 0.006120112258940935, 0.005369178485125303, 0.011195175349712372, 0.00047989378799684346, 0.009180168621242046, 0.023341532796621323, 0.04277820885181427, -0.005960538983345032, 0.037196267396211624, -0.05346650257706642, -0.04440523311495781, -0.0023779578041285276, -0.017997385933995247, 0.024931009858846664, 0.022553052753210068, -0.026482941582798958, 0.007309091277420521, -0.011564384214580059, 0.010888543911278248, -0.013929826207458973, 0.006245268043130636, 0.008541874587535858, -0.030863389372825623, -0.02740909345448017, -0.004602599889039993, -0.007959901355206966, -0.011708313599228859, -0.012703301385045052, -0.026407847180962563, 0.013679515570402145, 0.0007337251445278525, 0.016983624547719955, -0.026883438229560852, 0.013141346164047718, -0.018135057762265205, 0.0029536739457398653, 0.039449069648981094, 0.008629484102129936, 0.02055056206882, 0.016032442450523376, -0.002999042859300971, 0.014155106619000435, -0.009230230934917927, -0.0014173879753798246, -0.010663263499736786, 0.024355294182896614, -0.0003166047390550375, -0.02117634005844593, -0.013704546727240086, 0.017697012051939964, 0.042853303253650665, -0.012340349145233631, 0.010913575068116188, 0.01604495756328106, -0.007909839041531086, -0.020538046956062317, 0.015882255509495735, 0.00864825677126646, -0.00936790183186531, 0.025406602770090103, 0.037671856582164764, -0.030813327059149742, -0.022878456860780716, -0.016996141523122787, 0.00785351824015379, 0.018272727727890015, 0.01604495756328106, 0.018523039296269417, 0.011220206506550312, 0.028134996071457863, -0.004715240094810724, -0.012941096909344196, -0.010450499132275581, -0.016508033499121666, -0.004080074839293957, 0.04020000249147415, -0.0005721960915252566, -0.025168806314468384, -7.401785114780068e-05, -0.038247574120759964, 0.0336168147623539, -0.057221174240112305, -0.012797167524695396, -0.01929900422692299, -0.007672043051570654, 0.028385307639837265, -0.021576838567852974, 0.004774689208716154, -0.0017756461165845394, -0.019173849374055862, 0.002173015382140875, -0.026407847180962563, -0.007728362921625376, -0.002320073312148452, 0.018986115232110023, 0.0897616520524025, 0.013754609040915966, 0.0016989882569760084, 0.019674472510814667, 0.02237783372402191, 0.007058780174702406, 0.02012503333389759, 0.010193930007517338, -0.013304048217833042, -0.022865941748023033, 0.0022230776958167553, 0.046582940965890884, 0.033166252076625824, 0.007672043051570654, 0.0006977429147809744, 0.015131320804357529, 0.025757037103176117, 0.009061270393431187, 0.005635134410113096, 0.016883499920368195, 0.02424265444278717, -0.004981196019798517, -0.016370361670851707, -0.01657061092555523, 0.015444209799170494, -0.0046683065593242645, 0.01599489524960518, -0.003376074368134141, 0.05687073990702629, 0.007815971970558167, 0.012571887113153934, -0.017309030517935753, 0.061676718294620514, 0.020900998264551163, -0.041601747274398804, -0.0190737247467041, 0.0012695478508248925, 0.002867629285901785, 0.004317870829254389, 0.038823291659355164, 0.004183328244835138, 0.012052491307258606, -0.002668944653123617, -0.018961085006594658, -0.028660649433732033, 0.004812235478311777, 0.03346662595868111, -0.015481757000088692, 0.005960538983345032, -0.0018882862059399486, 0.011871015653014183, 0.002822260372340679, 0.013604422099888325, -0.006307845935225487, -0.010669521056115627, 0.01389227993786335, -0.0030835228972136974, 0.05018742382526398, -0.02898605354130268, 0.011795922182500362, -0.06633250415325165, 0.03376699984073639, 0.004621373489499092, 0.020250188186764717, 0.002381086815148592, -0.010475530289113522, -0.011426713317632675, -0.028585556894540787, -0.015456725843250751, 0.03381706401705742, -0.012966128066182137, 0.01633281633257866, 0.0019414774142205715, 0.031013576313853264, -0.01715884357690811, 0.015869740396738052, -0.012584403157234192, -0.024130014702677727, 0.046582940965890884, -0.01724645122885704, 0.004205230623483658, -0.012233966961503029, -0.020100001245737076, 0.01997484639286995, -0.05011233314871788, -0.053917065262794495, 0.009474284946918488, 0.026382816955447197, -0.04465554654598236, 0.013404172845184803, 0.009004950523376465, -0.0010646054288372397, 0.017546825110912323, -0.013466750271618366, 0.005290956236422062, -0.008422977291047573, 0.0065894462168216705, 0.017659464851021767, -0.009780916385352612, -0.006758406292647123, 0.03857297822833061, -0.0032915943302214146, -0.0006292983889579773, 0.07439253479242325, -0.015093774534761906, 0.004342901986092329, 0.011257752776145935, 0.0055068498477339745, -0.023103738203644753, -0.004524377640336752, 0.012953612022101879, -0.01829775981605053, 0.015644459053874016, 0.0020290864631533623, 0.008979919366538525, 0.006858530919998884, -0.00800370518118143, 0.03784707561135292, 0.001921139657497406, -0.03789713978767395, 0.014956102706491947, -0.010519334115087986, 0.009217715822160244, 0.01604495756328106, -0.009881040081381798, 0.01585722342133522, 0.015844708308577538, -0.02841033786535263, -0.01255311444401741, -0.002381086815148592, -0.004026883747428656, -0.003376074368134141, 0.0043616751208901405, -0.014405418187379837, -0.003469940973445773, 0.01032534334808588, 0.0007618851959705353, -0.015118805691599846, -0.019374098628759384, 0.01877335086464882, -0.022014882415533066, 0.024104982614517212, -0.010481787845492363, 0.006345392670482397, -0.00795364286750555, 0.013491781428456306, 0.007133873645216227, -0.0072715445421636105, -0.005478689447045326, 0.018472976982593536, 0.0034730699844658375, -0.029086178168654442, -0.020300250500440598, 0.02673325128853321, 0.007146389223635197, -0.04310361295938492, 0.017847198992967606, -0.0015628815162926912, 0.01099492609500885, 0.011439228430390358, 0.004815364722162485, -0.0053942096419632435, -0.008848506025969982, 0.00948680005967617, 0.04197721183300018, 0.026758283376693726, -0.010162640362977982, -0.018698258325457573, -0.0002419024531263858, -0.036144960671663284, 0.013166377320885658, -0.035143714398145676, 0.014405418187379837, -0.003222758648917079, -0.004133265931159258, -0.007815971970558167, 0.0012124455533921719, 0.005572556518018246, -0.023829640820622444, -0.02993723750114441, -0.0555691197514534, -0.01944919116795063, -0.004561924375593662, 0.024730760604143143, -0.0033166254870593548, -0.027809590101242065, 0.005535009782761335, -0.014317809604108334, -0.007872291840612888, -0.0070775533095002174, 0.015481757000088692, -0.01816008798778057, 0.0017099394463002682, -0.030212579295039177, 0.03702104836702347, 0.001507343607954681, 0.006795953027904034, 0.018911022692918777, 0.003898599185049534, 0.0003072180843446404, -0.008654515258967876, 0.020375343039631844, -0.05221494659781456, -0.00968079175800085, 0.011814695782959461, 0.04105105996131897, 0.014405418187379837, 0.007453020196408033, 0.01958686299622059, -0.00724651338532567, -0.01245298981666565, 0.01934906654059887, 0.008329110220074654, -0.012340349145233631, 0.02931145951151848, 0.019086239859461784, -0.0020588107872754335, 0.025807099416851997, 0.020049938932061195, -0.023441657423973083, 0.03156426176428795, -0.0038610524497926235, 0.006777179893106222, -0.00026595580857247114, 0.030963514000177383, -0.018560586497187614, 0.017797136679291725, 0.026357784867286682, -0.01036914810538292, 0.014205168932676315, 0.05366675183176994, 0.016595643013715744, -0.02078835666179657, -0.0029849628917872906, 0.021051185205578804, -0.02448044903576374, 0.02683337591588497, -0.02543163299560547, 0.02773449756205082, 0.0070775533095002174, 0.011946109123528004, 0.019374098628759384, 0.014818431809544563, -0.006045019254088402, -0.007884807884693146, -0.03229016438126564, 0.02409246750175953, 0.03737148270010948, 0.010256507433950901, 0.02011251635849476, -0.00295836734585464, 0.02011251635849476, -0.0058541567996144295, -0.031213825568556786, 0.027559280395507812, 0.0033197542652487755, -0.014117560349404812, 0.01959937810897827, 0.033842094242572784, 0.017997385933995247, -0.010669521056115627, 0.04805978015065193, -0.0006860095309093595, -0.007941127754747868, 0.0020885353442281485, 0.04861046373844147, -0.02098860591650009, 0.0010458320612087846, -0.03176451101899147, -0.0038798258174210787, -0.009267778135836124, 0.0050156135112047195, -0.02730896882712841, 0.03276575729250908, 0.016608158126473427, 0.008504328317940235, -0.006367295049130917, -0.01733406074345112, 0.018560586497187614, -0.035619303584098816, 0.025807099416851997, 0.022402865812182426, -0.025832131505012512, -0.005469303112477064, -0.0015918237622827291, 0.042803239077329636, -0.005347276106476784, 0.03396724909543991, 0.0346931517124176, 0.006614477373659611, 0.022502990439534187, 0.014004919677972794, -0.01604495756328106, -0.03018754906952381, -0.012102553620934486, 0.008823474869132042, -0.010150125250220299, -0.03622005134820938, -0.03414246812462807, -0.01690853200852871, 0.006670797243714333, -0.029086178168654442, 0.014993649907410145, 0.006019988097250462, -0.015744583681225777, 0.043804485350847244, -0.0042396485805511475, 0.02573200687766075, -0.05642017722129822, 0.03076326474547386, 0.02319134585559368, -0.0034323944710195065, -0.026608096435666084, 0.03166438639163971, -0.007152646780014038, -0.017509279772639275, -0.008973661810159683, -0.047434002161026, 0.001001245342195034, 0.041226278990507126, 0.02165193110704422, 0.02183966524899006, 0.022302741184830666, 0.003081958508118987, -0.018460461869835854, -0.0008768719271756709, -0.007640753872692585, -0.0029896562919020653, 0.016658220440149307, 0.0036138701252639294, 0.006220236886292696, 0.011489290744066238, 0.026883438229560852, -0.0023247667122632265, -0.021964820101857185, 0.03531892970204353, 0.028910961002111435, 0.01743418537080288, 0.02783462218940258, -0.018222665414214134, 0.0013501167995855212, 0.032991036772727966, -0.017083749175071716, -0.030362766236066818, 0.030112454667687416, 0.02356681413948536, 0.01844794675707817, -0.006683312822133303, 0.01106376200914383, 0.020475467666983604, 0.023316502571105957, 0.05571930482983589, 0.008397946134209633, 0.008679546415805817, -0.002316944533959031, -0.00021002686116844416, 0.014568120241165161, -0.025782069191336632, 0.0064642904326319695, -0.02544414810836315, -0.024743277579545975, 0.008723350241780281, 0.010694552212953568, 0.004593213088810444, 0.006264041643589735, 0.02798480913043022, -0.015068743377923965, -0.03319128602743149, -0.0033416564110666513, -0.009148879908025265, 0.027809590101242065, 0.031263887882232666, -0.006871046498417854, 0.0048622977919876575, 0.03894844651222229, 0.01297864317893982, 0.0036389012821018696, -0.02327895537018776, 0.015018681064248085, -0.019148817285895348, 0.015869740396738052, -0.05436762422323227, 0.03957422450184822, 0.0033260120544582605, 0.05371681600809097, -0.0021229530684649944, -0.006188948173075914, 0.009693306870758533, 0.014142591506242752]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:24.999158", "url_path": "/api/usage/", "chunk_size": 4818}
updated_dt: 2025-03-15T11:17:25.000729
---
```
@dataclass
classUsage:
"""LLM usage associated with a request or run.
  Responsibility for calculating usage is on the model; PydanticAI simply sums the usage information across requests.
  You'll need to look up the documentation of the model you're using to convert usage to monetary costs.
  """
  requests: int = 0
"""Number of requests made to the LLM API."""
  request_tokens: int | None = None
"""Tokens used in processing requests."""
  response_tokens: int | None = None
"""Tokens used in generating responses."""
  total_tokens: int | None = None
"""Total tokens used in the whole run, should generally be equal to `request_tokens + response_tokens`."""
  details: dict[str, int] | None = None
"""Any extra details returned by the model."""
  defincr(self, incr_usage: Usage, *, requests: int = 0) -> None:
"""Increment the usage in place.
    Args:
      incr_usage: The usage to increment by.
      requests: The number of requests to increment by in addition to `incr_usage.requests`.
    """
    self.requests += requests
    for f in 'requests', 'request_tokens', 'response_tokens', 'total_tokens':
      self_value = getattr(self, f)
      other_value = getattr(incr_usage, f)
      if self_value is not None or other_value is not None:
        setattr(self, f, (self_value or 0) + (other_value or 0))
    if incr_usage.details:
      self.details = self.details or {}
      for key, value in incr_usage.details.items():
        self.details[key] = self.details.get(key, 0) + value
  def__add__(self, other: Usage) -> Usage:
"""Add two Usages together.
    This is provided so it's trivial to sum usage information from multiple requests and runs.
    """
    new_usage = copy(self)
    new_usage.incr(other)
    return new_usage
  defopentelemetry_attributes(self) -> dict[str, int]:
"""Get the token limits as OpenTelemetry attributes."""
    result = {
      'gen_ai.usage.input_tokens': self.request_tokens,
      'gen_ai.usage.output_tokens': self.response_tokens,
    }
    for key, value in (self.details or {}).items():
      result[f'gen_ai.usage.details.{key}'] = value
    return {k: v for k, v in result.items() if v}

```
  
---|---  
####  requests `class-attribute` `instance-attribute`
```
requests: int[](https://docs.python.org/3/library/functions.html#int) = 0

```

Number of requests made to the LLM API.
####  request_tokens `class-attribute` `instance-attribute`
```
request_tokens: int[](https://docs.python.org/3/library/functions.html#int) | None = None

```

Tokens used in processing requests.
####  response_tokens `class-attribute` `instance-attribute`
```
response_tokens: int[](https://docs.python.org/3/library/functions.html#int) | None = None

```

Tokens used in generating responses.
####  total_tokens `class-attribute` `instance-attribute`
```
total_tokens: int[](https://docs.python.org/3/library/functions.html#int) | None = None

```

Total tokens used in the whole run, should generally be equal to `request_tokens + response_tokens`.
####  details `class-attribute` `instance-attribute`
```
details: dict[](https://docs.python.org/3/library/stdtypes.html#dict)[str[](https://docs.python.org/3/library/stdtypes.html#str), int[](https://docs.python.org/3/library/functions.html#int)] | None = None

```

Any extra details returned by the model.
####  incr
```
incr(incr_usage: Usage[](https://ai.pydantic.dev/api/usage/#pydantic_ai.usage.Usage "pydantic_ai.usage.Usage"), *, requests: int[](https://docs.python.org/3/library/functions.html#int) = 0) -> None

```

Increment the usage in place.
Parameters:
Name | Type | Description | Default  
---|---|---|---  
`incr_usage` |  `Usage[](https://ai.pydantic.dev/api/usage/#pydantic_ai.usage.Usage "pydantic_ai.usage.Usage")` |  The usage to increment by. |  _required_  
`requests` |  `int[](https://docs.python.org/3/library/functions.html#int)` |  The number of requests to increment by in addition to `incr_usage.requests`. |  `0`  
Source code in `pydantic_ai_slim/pydantic_ai/usage.py`
```
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
```
| ```
defincr(self, incr_usage: Usage, *, requests: int = 0) -> None:
"""Increment the usage in place.
  Args:
    incr_usage: The usage to increment by.
    requests: The number of requests to increment by in addition to `incr_usage.requests`.
  """
  self.requests += requests
  for f in 'requests', 'request_tokens', 'response_tokens', 'total_tokens':
    self_value = getattr(self, f)
    other_value = getattr(incr_usage, f)
    if self_value is not None or other_value is not None:
      setattr(self, f, (self_value or 0) + (other_value or 0))
  if incr_usage.details:
    self.details = self.details or {}
    for key, value in incr_usage.details.items():
      self.details[key] = self.details.get(key, 0) + value

```
  
---|---  
####  __add__