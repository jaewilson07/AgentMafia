---
url: https://ai.pydantic.dev/multi-agent-applications/
session_id: pydantic_ai_docs
chunk_number: 1
title: Multi-agent Applications
summary: This document outlines the four levels of complexity in building applications with PydanticAI, starting from single agent workflows up to more complex structures like agent delegation and programmatic agent hand-off. It also highlights the usage of Pydantic Graphs and provides examples.
embedding: [-0.014577939175069332, 0.03026830404996872, 0.025430548936128616, -0.03257076442241669, -0.00981132872402668, 0.03774483501911163, -0.009914809837937355, 0.011602849699556828, -0.022028598934412003, 0.02656884491443634, 0.03399363532662392, -0.04920539632439613, 0.001780203077942133, -0.023994745686650276, 0.011421757750213146, -0.061830125749111176, -0.04545419663190842, 0.0035571723710745573, 0.0038482139352709055, 0.035494115203619, 0.051404375582933426, 0.03862442448735237, 0.04126320034265518, 0.017501289024949074, -0.012081450782716274, -0.013122732751071453, 0.006050426978617907, 0.03474387526512146, 0.00043454093975014985, -0.021136071532964706, 0.02739669568836689, -0.00613450538367033, -0.05458642914891243, -0.010878480039536953, 0.017320195212960243, 0.01897589862346649, 0.021562932059168816, 0.024641504511237144, -0.015832651406526566, 0.06395149230957031, 0.010341670364141464, -0.033010561019182205, -0.0005396392080001533, 0.049412358552217484, -0.01596200279891491, 0.028483249247074127, -0.016220705583691597, 0.011842150241136551, -0.0119779696688056, 0.012191399931907654, -0.03539063036441803, 0.0310702845454216, -0.0035248345229774714, 0.024072356522083282, -0.040875144302845, 0.0002969026390928775, -0.006554898805916309, -0.009138699620962143, -0.015573947690427303, -0.044471122324466705, 0.015651559457182884, -0.012611793354153633, 0.03368318825960159, 0.05127502232789993, -0.03779657557606697, -0.002265272196382284, -0.030138952657580376, 0.02493901178240776, -0.032182708382606506, -0.02272709831595421, -0.00362831586971879, 0.0352095402777195, -0.045324843376874924, -0.007146683055907488, -0.027448436245322227, -0.01857490837574005, 0.0047633773647248745, 0.051430247724056244, -0.00022838663426227868, -0.0033857813104987144, 0.011499368585646152, -0.020696276798844337, 0.015690363943576813, 0.006516093388199806, -0.018536102026700974, -0.05784609168767929, -0.043074123561382294, -0.033217523247003555, -0.04558354988694191, -0.05228396877646446, -0.019053509458899498, 0.0027341721579432487, -0.01801869459450245, 0.018950028344988823, 0.09877298027276993, 0.031406600028276443, 0.006829771213233471, 0.014784902334213257, 0.008815320208668709, 0.009080491028726101, 0.04209105297923088, -0.02840563841164112, -0.05810479447245598, 0.03316578269004822, 0.05318943038582802, 0.016078419983386993, -0.011214794591069221, 0.043074123561382294, -0.033838409930467606, 0.019493304193019867, -0.07564488798379898, -0.031820524483919144, -0.00470516923815012, 0.02778474986553192, -0.053034208714962006, -0.028716083616018295, 0.018135111778974533, -0.0006152291316539049, 0.03329513594508171, -0.026336010545492172, -0.04581638053059578, -0.002401091391220689, 0.015095346607267857, -0.004381789825856686, 0.01900176890194416, 0.03575281798839569, 0.0019952503498643637, -0.023865392431616783, -0.00807801540941, 0.0038805517833679914, 0.005746450275182724, -0.016427669674158096, -0.017902279272675514, -0.02409822680056095, -0.018044564872980118, -0.019920166581869125, -0.012948107905685902, -0.015651559457182884, -0.033812541514635086, 0.028302157297730446, 0.05114567279815674, -0.028483249247074127, -0.01699681766331196, 0.045531805604696274, -0.009804860688745975, 0.06912556290626526, -0.04452286288142204, 0.017048558220267296, -0.014978929422795773, 0.02863847278058529, 0.01860077865421772, -0.0028425040654838085, -0.049800414592027664, -0.019713202491402626, -0.028741953894495964, 0.0044173612259328365, -0.042841292917728424, 0.038779646158218384, 0.03453690931200981, -0.024900207296013832, -0.035468243062496185, 0.021627608686685562, -0.042194534093141556, 0.0005145773175172508, -0.06897033751010895, -0.012359557673335075, -0.0433586984872818, 0.017488352954387665, -0.03088919259607792, -0.0012902835151180625, -0.021575868129730225, -0.06540023535490036, -0.01984255388379097, 0.0003549087850842625, 0.029569804668426514, -0.06260623782873154, -0.06772856414318085, -0.04400545731186867, -0.0041909958235919476, -0.022390782833099365, -0.010076499544084072, -0.008401394821703434, -0.070419080555439, -0.004980041645467281, -0.029750896617770195, -0.01964852772653103, 0.03476974368095398, 0.037512000650167465, -0.003579809097573161, 0.0637962743639946, 0.043669141829013824, 0.025055428966879845, -0.0026096710935235023, 0.03006134182214737, 0.04245323687791824, -0.021420646458864212, 0.06953948736190796, 0.008310847915709019, 0.009183972142636776, -0.004912131931632757, 0.04992976784706116, 0.011292405426502228, 0.026025567203760147, 0.0025935021694749594, -0.009733716957271099, -0.04452286288142204, 0.018497297540307045, -0.03145834058523178, 0.016492344439029694, -0.006668081507086754, 0.018458491191267967, -0.05189591273665428, 0.007689960300922394, -0.03293294832110405, -0.049774542450904846, -0.041392553597688675, -0.04007316380739212, 0.047316860407590866, -0.014073467813432217, 0.07652448117733002, -0.022546006366610527, 0.030992673709988594, 0.0036800566595047712, -0.04084927588701248, 0.0023202465381473303, 0.004362387116998434, -0.015056541189551353, -0.07279915362596512, -0.004721337929368019, 0.045273102819919586, -0.007334243040531874, -0.0007813652628101408, -0.016505280509591103, -0.05789783224463463, 0.029725026339292526, -0.05272376164793968, 0.03513192757964134, -0.03704633563756943, -0.010089434683322906, -0.024227578192949295, 0.00756707601249218, 0.004585518501698971, 0.009475014172494411, -0.007515335455536842, -0.0069526550360023975, 0.02861260250210762, -0.024667374789714813, -0.025818604975938797, 0.04227214306592941, 0.007153150625526905, 0.055724725127220154, -0.011007831431925297, -0.02165347896516323, 0.004782780073583126, -0.006218584254384041, -0.015354049392044544, 0.0004155424248892814, -0.023567885160446167, -0.023800717666745186, 0.02900065667927265, 0.022610681131482124, 0.02061866596341133, -0.039555758237838745, 0.024667374789714813, -0.012314284220337868, 0.03290707990527153, 0.02552109584212303, 0.014642614871263504, -0.007728765718638897, -0.021601738408207893, 0.0187818706035614, 0.03207922726869583, 0.022015662863850594, -0.014138143509626389, -0.038313981145620346, -0.011538174003362656, 0.024421606212854385, 0.011712798848748207, -0.03047526627779007, -0.013633672147989273, -0.014978929422795773, 0.029543934389948845, 0.04661836102604866, 0.020321156829595566, 0.023412661626935005, 0.001759183476679027, -0.01920873112976551, 0.004068111535161734, 0.0027939972933381796, 0.017087362706661224, 0.019583851099014282, 0.06560719758272171, 0.02620665915310383, -0.02721560373902321, 0.04390197619795799, 0.003110908903181553, 0.007825779728591442, 0.006128037814050913, 0.00012975595018360764, -0.044238291680812836, 0.0015004799934104085, -0.010884948074817657, -0.02416290156543255, -0.020282350480556488, 0.014086402952671051, 0.023658430203795433, -0.007502399850636721, -0.005047950893640518, 0.013349098153412342, -0.009863069280982018, -0.025430548936128616, 0.028172805905342102, -0.010451619513332844, -0.004310646094381809, -0.024227578192949295, 0.0045370119623839855, 0.06136445701122284, -0.04229801520705223, 0.04131494089961052, -0.03308816999197006, -0.015509271994233131, -0.056086909025907516, 0.045531805604696274, -0.003356677247211337, -0.04152190312743187, -0.022183820605278015, 0.01777292788028717, 0.0068491739220917225, -0.055103834718465805, 0.007981001399457455, 0.011538174003362656, 0.004634025506675243, -0.0011722500203177333, 0.05629387125372887, 0.020334091037511826, -0.020372897386550903, -0.026879288256168365, 0.042427364736795425, 0.026931028813123703, 0.05738042667508125, -0.055724725127220154, 0.015548077411949635, -0.02350320853292942, -0.05171481892466545, -0.03533888980746269, 0.05872568488121033, 0.010225254110991955, 0.03968510776758194, -0.002536910818889737, 0.007761103566735983, 0.03678762912750244, -0.008582486771047115, -0.014539133757352829, 0.041806478053331375, 0.02674993686378002, -0.014784902334213257, -0.014060532674193382, 0.014539133757352829, -0.023580819368362427, 0.005452175159007311, -0.07942195981740952, 0.01632418856024742, 0.010257591493427753, 0.024913141503930092, -0.0421169213950634, 0.020735081285238266, 0.016091354191303253, -0.0343816876411438, 0.02169228345155716, 0.03738264739513397, 0.04617856442928314, 0.02698276937007904, -0.018536102026700974, -0.014500328339636326, -0.012909302487969398, -0.027267344295978546, -0.01061977632343769, 0.02411116100847721, -0.004798949230462313, 0.001120509346947074, 0.005872568115592003, -0.018561972305178642, -0.030371785163879395, -0.008634227328002453, 0.013239149004220963, 0.038960739970207214, -0.005507149733603001, 0.018885351717472076, -0.014500328339636326, 0.01863958314061165, 0.05872568488121033, -0.0486103780567646, 0.0019903997890651226, 0.007334243040531874, -0.03389015048742294, -0.015638623386621475, 0.014332171529531479, 0.01023818925023079, 0.04289303347468376, 0.007825779728591442, -0.0013727451441809535, 0.012094385921955109, -0.03184639662504196, -0.005313122179359198, -0.034459300339221954, 0.0063996766693890095, 0.06053660809993744, 0.03376080095767975, 0.015561012551188469, 0.02227436751127243, 0.053655095398426056, -0.0030818048398941755, 0.0003716840874403715, -0.006260623689740896, -0.03207922726869583, -0.03846920281648636, -0.04237562417984009, 0.01359486673027277, 0.03417472541332245, 0.07517921924591064, 0.00785811711102724, -0.0687633752822876, 0.02373604103922844, -0.009630235843360424, -0.0506800077855587, 0.030966803431510925, 0.04744621366262436, -0.017514223232865334, 0.011247132904827595, -0.026698196306824684, 0.021795766428112984, 0.04147016257047653, 0.02246839553117752, 0.0018319438677281141, -0.0034213531762361526, -0.028767824172973633, 0.05913960933685303, 0.01095609087496996, -0.014189884066581726, 0.00266141165047884, 0.004355919547379017, -0.028353897854685783, 0.009345661848783493, 0.03805527836084366, -0.037330906838178635, -0.0031577988993376493, -0.05049891397356987, -0.08852832019329071, 0.0368652418255806, -0.04540245607495308, 0.0007801526226103306, -0.009552625007927418, -0.005597695708274841, 0.026051437482237816, -0.025094235315918922, -0.028509119525551796, 0.09980779141187668, 0.01349138468503952, 0.0259608905762434, -0.0009960082825273275, 0.05484513193368912, 0.015897326171398163, -0.02985437773168087, 0.027655398473143578, -0.00018139558960683644, 0.027034509927034378, 0.0474979542195797, -0.018743064254522324, -0.02004951797425747, 0.03169117122888565, 0.042401496320962906, -0.03151008114218712, -0.02148532122373581, -0.04232388362288475, 0.022571876645088196, -0.03026830404996872, 0.07440311461687088, -0.006373806390911341, 0.020191803574562073, -0.010904350318014622, 0.003046233206987381, -0.0019321914296597242, 0.016259511932730675, 0.01841968484222889, 0.003460158593952656, 0.05174069106578827, -0.004181294701993465, -0.011816279962658882, 0.007276034448295832, 0.019958971068263054, 0.01430630125105381, 0.020502248778939247, 0.06674548983573914, -0.014771967194974422, 0.02006245218217373, 0.012644130736589432, -0.002302460605278611, -0.0008771663997322321, -0.012993380427360535, -0.022377848625183105, 0.0058563994243741035, -0.018484361469745636, -0.020127128809690475, 0.03451104089617729, -0.00021929159993305802, -0.0515078566968441, 0.028146935626864433, -0.006008387543261051, 0.009442675858736038, 0.022636551409959793, -0.043850235641002655, -0.025068365037441254, 0.020773887634277344, 0.017100298777222633, -0.02187337726354599, 0.0001337981957476586, -0.010690920054912567, 0.01288989931344986, -0.007004396058619022, -0.0030413824133574963, 0.018342074006795883, -0.019286341965198517, -0.02863847278058529, 0.009597898460924625, 0.025430548936128616, -0.03660653904080391, 0.035468243062496185, -0.04356566071510315, -0.011292405426502228, -0.00019614976190496236, 0.009733716957271099, -0.0007033500005491078, -0.007334243040531874, 0.003722095862030983, -0.04123733192682266, 0.03210509940981865, 0.005804658867418766, 0.013226213864982128, -0.031820524483919144, -0.001691273762844503, -0.018484361469745636, 0.021821636706590652, -0.01720377989113331, -0.012728209607303143, -0.02518478035926819, 0.0017656510462984443, 0.028923045843839645, -0.02414996735751629, 0.01195209939032793, 0.004229801241308451, 0.030371785163879395, -0.005995452404022217, 0.02006245218217373, -0.016841594129800797, -0.008407861925661564, 0.0058337626978755, -0.009242180734872818, 0.0017543327994644642, 0.01135061401873827, -0.015004799701273441, -0.0009951998945325613, -0.027112120762467384, 0.0024269616696983576, -0.016634631901979446, -0.006047192960977554, 0.04361740127205849, 0.011188924312591553, 0.006516093388199806, -0.022546006366610527, 0.008291445672512054, 0.03370906040072441, 0.013051589019596577, -0.004320347681641579, -0.027526047080755234, 0.013245617039501667, -0.024434540420770645, 0.04245323687791824, 0.002724470803514123, -0.025275327265262604, 0.01482370775192976, -0.024253448471426964, -0.016233641654253006, 0.012896367348730564, -0.013452579267323017, 0.013297357596457005, -0.03492496535181999, -0.030397655442357063, 0.010962558910250664, -0.022028598934412003, 0.0025433783885091543, -0.006739224772900343, -0.00981779582798481, -0.018329139798879623, -0.004178060684353113, -0.04030599817633629, 0.009772523306310177, 0.013077459298074245, 0.00839492678642273, -0.03932292386889458, 0.013258552178740501, 0.03800353780388832, -0.02144651673734188, -0.027551917359232903, -0.0015546460635960102, -0.00878944993019104, -0.0009030367364175618, -0.011706330813467503, 0.02431812509894371, -0.0053163557313382626, 0.0069526550360023975, 0.011382951401174068, -0.024395735934376717, -0.01715203933417797, -0.019907230511307716, -0.012288413941860199, -0.003644484793767333, -0.013840634375810623, 0.007088474463671446, 0.05070587620139122, -0.030113082379102707, 0.013045121915638447, 0.020748017355799675, 0.008459602482616901, -0.007385983597487211, -0.001967763062566519, 0.03132898733019829, -0.019739072769880295, -0.0149142537266016, -0.007709363009780645, 0.00725663173943758, -0.04972280189394951, 0.019053509458899498, 0.020334091037511826, 0.012560052797198296, -0.022015662863850594, -0.013155070133507252, -0.035442374646663666, 0.0173978079110384, 0.021756960079073906, -0.0388055182993412, 0.02620665915310383, 0.01695801131427288, -0.007793441414833069, -0.010257591493427753, 0.0035765753127634525, 0.01659582555294037, -0.02046344242990017, -0.00532282330095768, 0.019583851099014282, -0.028043454512953758, -0.003589510452002287, -0.045712899416685104, 0.015522207133471966, -0.004802182782441378, 0.012404830195009708, 0.02026941627264023, -0.0058175940066576, -0.026413623243570328, -0.03683936968445778, 0.031122025102376938, -0.04289303347468376, 0.018471427261829376, -0.004203930962830782, -0.0051514324732124805, 0.0006552473059855402, 0.032829467207193375, 0.02206740528345108, 0.02246839553117752, 0.011628719978034496, -0.01092375349253416, -0.043436311185359955, 0.014720226638019085, 0.03973684832453728, 0.0015457530971616507, -0.018484361469745636, -0.0007344752666540444, -0.008925269357860088, -0.03510605916380882, -0.03210509940981865, 0.03766722232103348, -0.02435692958533764, -0.0100118238478899, -0.032441411167383194, 0.04289303347468376, 0.05153372883796692, -0.046126823872327805, 0.0058175940066576, -0.011932696215808392, 0.026724066585302353, 0.01760477013885975, -0.00263069081120193, 0.012928704731166363, 7.351826934609562e-05, 0.021317163482308388, 0.013245617039501667, 0.008336719125509262, -0.008524279110133648, 0.0238912645727396, -0.0314842090010643, -0.07378222793340683, -0.02089030295610428, 0.0012910919031128287, -0.0103222681209445, -0.004216866102069616, -0.016401799395680428, -0.04599747434258461, -0.00798746943473816, 0.03924531489610672, 0.01451326347887516, -0.004776312503963709, 0.004000202286988497, 0.029957858845591545, -0.020127128809690475, -0.005229043308645487, -0.014668486081063747, 0.0004377747536636889, -0.034019503742456436, -0.006208882667124271, 0.010762063786387444, -0.013672477565705776, -0.020735081285238266, 0.009403870441019535, -0.027137992903590202, -0.021614672616124153, 0.002544995164498687, -0.020398767665028572, -0.03844333440065384, 0.018109241500496864, 0.007916325703263283, -0.030578747391700745, 0.004669597372412682, -0.0044755698181688786, -0.01399585697799921, -0.03497670590877533, -0.03127724677324295, -0.0014657167484983802, -0.048946693539619446, -0.013258552178740501, -0.046514879912137985, -0.006803900934755802, 0.014474458061158657, 0.0030478499829769135, -0.01901470310986042, -0.0006702036480419338, -0.034459300339221954, 0.018768934532999992, 0.042013440281152725, 0.030733969062566757, -0.0077805062755942345, 0.025482289493083954, -0.040823403745889664, 0.009895406663417816, -0.002079328987747431, 0.009261583909392357, -0.008912334218621254, 0.022791774943470955, -0.02819867618381977, -0.03663240745663643, -0.017009751871228218, -0.00660017179325223, 0.015858521685004234, -0.0171908438205719, -0.028560860082507133, 0.043876104056835175, -0.009158101864159107, -0.03965923935174942, 0.014215754345059395, -0.023761911317706108, -0.0030721034854650497, 0.016453539952635765, -0.027474306523799896, 0.008297912776470184, -0.004588752519339323, 0.011965034529566765, 0.017837602645158768, -0.02391713485121727, 0.02246839553117752, -0.011331210844218731, 0.023050477728247643, -0.006043959408998489, 0.029285229742527008, 0.0030753372702747583, -0.008673032745718956, 0.023037541657686234, 0.013607801869511604, -0.011208326555788517, 0.014487393200397491, 0.006642211228609085, -0.014021727256476879, -0.028948916122317314, -0.03370906040072441, -0.01945449970662594, 0.004074579570442438, 0.012236673384904861, 0.025288261473178864, 0.00818796455860138, 0.03357970714569092, -0.09784164279699326, -0.01841968484222889, 0.03316578269004822, -0.03624435514211655, 0.004747208207845688, 0.004546713083982468, 0.038313981145620346, 0.010826739482581615, -0.03233793005347252, 0.00032823000219650567, -0.018911221995949745, -0.025715123862028122, -0.020786821842193604, -0.02288231998682022, 0.03551998361945152, -0.012443635612726212, 0.0029767064843326807, 0.003851447720080614, 0.04659249261021614, -0.006018089130520821, -0.02757778763771057, -0.0013339397264644504, -0.04951583966612816, 0.006085998844355345, -0.0051514324732124805, 0.023878328502178192, -0.010121772065758705, 0.023554949089884758, 0.05024021118879318, -0.017087362706661224, -0.015211762860417366, -0.016220705583691597, 0.019053509458899498, 0.004372088238596916, -0.031380727887153625, 0.04289303347468376, 0.00520640704780817, 0.019532110542058945, 0.014577939175069332, 0.003060785122215748, -0.011104845441877842, -0.005898438859730959, 0.028379768133163452, 0.0027826789300888777, 0.00858895480632782, -0.0012797736562788486, -0.03352796658873558, -0.00685564149171114, -0.011454095132648945, 0.003919357433915138, 0.020722147077322006, -0.00816856138408184, 0.0223002377897501, 0.014409782364964485, 0.032182708382606506, 0.04268607124686241, -0.0404612198472023, 0.00710140960291028, -0.009746652096509933, 0.03758960962295532, 0.00670041935518384, 0.04188408702611923, 0.0017624172614887357, -0.01945449970662594, -0.01420281920582056, -0.018743064254522324, -0.011085443198680878, 0.02534000389277935, -0.015470466576516628, 0.0008496791706420481, 0.017850538715720177, 0.020165933296084404, 0.026465363800525665, -0.012521247379481792, 0.010574503801763058, 0.009268051013350487, 0.008841190487146378, 0.020916173234581947, 0.011175989173352718, 8.877772779669613e-05, 0.007288969587534666, -0.03502844646573067, 0.003078571055084467, 0.03950401768088341, -0.042634326964616776, 0.002679197583347559, 0.022390782833099365, -0.006043959408998489, -0.0006976908771321177, 0.019713202491402626, 0.0075541408732533455, -0.004220100119709969, 0.03409711644053459, -0.008537214249372482, -0.04824819415807724, -0.0016177049838006496, -0.037123944610357285, 0.027681268751621246, 0.01922166720032692, 0.021601738408207893, 0.03743438795208931, 0.042013440281152725, -0.004663129802793264, -0.0014543985016644, -0.03316578269004822, 0.040616441518068314, -0.013103329576551914, -0.021614672616124153, -0.03275185823440552, 0.004954170901328325, 0.013944116421043873, 0.0013056439347565174, -0.03901248052716255, 0.01738487184047699, -0.025236520916223526, -0.012230205349624157, 0.060381386429071426, -0.027319084852933884, -0.051378507167100906, 0.01146703027188778, 3.4738011891022325e-05, 0.028560860082507133, -0.00551685132086277, 0.019144054502248764, -0.0008343186345882714, -0.009339194744825363, -0.02636188082396984, 0.008336719125509262, 0.005520084872841835, 0.02677580714225769, 0.015858521685004234, -0.0032257086131721735, -0.0287936944514513, 0.021588802337646484, -0.03694285452365875, 0.008310847915709019, 0.05437946692109108, -0.032182708382606506, -0.00961083360016346, -0.01574210450053215, 0.002281441120430827, -0.05189591273665428, 0.0318981371819973, -0.009028750471770763, -0.03989207372069359, -0.025262391194701195, 0.02861260250210762, -0.02089030295610428, -0.02227436751127243, -0.00034419685835018754, -0.009772523306310177, 0.006386741530150175, 0.018704259768128395, 0.022778838872909546, -0.007812844589352608, 0.0200236476957798, -0.009882471524178982, -0.04765317589044571, 0.002265272196382284, -0.011583447456359863, -0.038934867829084396, 0.07145389169454575, -0.01738487184047699, 0.004689000081270933, 0.012003839947283268, -0.006972058210521936, -0.011822747997939587, -0.027448436245322227, -0.0034245869610458612, -0.028483249247074127, -0.008892931044101715, -0.026827547699213028, -0.0037706028670072556, 0.01308392733335495, 0.04203931242227554, 0.04824819415807724, 0.03722742572426796, -0.0025304430164396763, -0.002603203523904085, 0.039943814277648926, 0.013297357596457005, 0.026698196306824684, -0.03329513594508171, -0.015379920601844788, 0.019739072769880295, -0.0227141622453928, 0.006325299385935068, 0.008634227328002453, -0.013750088401138783, 0.017643574625253677, 0.026620585471391678, -0.006202415097504854, -0.024369865655899048, 0.015043606050312519, -0.018704259768128395, 0.022972866892814636, 0.021938052028417587, -0.017423678189516068, -0.012592390179634094, 0.011939164251089096, 0.0022377849090844393, 0.036296095699071884, 0.00047253802767954767, -0.007592946290969849, 0.04431590065360069, 0.055724725127220154, -0.0044755698181688786, -0.019764943048357964, -0.019583851099014282, -0.0022442524787038565, 0.0171908438205719, -0.0052452124655246735, -0.0165699552744627, 0.04115971922874451, -0.003340508323162794, -0.008058612234890461, -0.019273407757282257, -0.009074023924767971, -0.0065645999275147915, -0.021097267046570778, -0.014500328339636326, -0.027500176802277565, -0.011758072301745415, 0.00012470314686652273, 0.024654438719153404, 0.014797837473452091, -0.00423950282856822, 0.005668839439749718, 0.02962154522538185, 0.00048143096501007676, -0.02187337726354599, 0.015405790880322456, -0.030009599402546883, -0.00796806626021862, 0.02985437773168087, -0.008569551631808281, 0.010024758987128735, 0.0033631448168307543, -0.004886261653155088, -0.0016217472730204463, 6.8718104557774495e-06, 0.002991258632391691, -0.007049669045954943, 0.00298640807159245, 0.020967913791537285, 0.002161790616810322, 0.030940933153033257, 0.04848102852702141, 0.019105250015854836, -0.022339042276144028, -0.011596382595598698, 0.002918498357757926, 0.02350320853292942, -0.01113071572035551, 0.02145945094525814, -0.03495083749294281, 0.03704633563756943, 0.04948997125029564, -0.022455459460616112, 0.0031917537562549114, -0.007851650007069111, 0.022558940574526787, 0.010962558910250664, -0.012786418199539185, -0.01761770434677601, -0.023231569677591324, -0.0010914051672443748, 0.007243696600198746, 0.01941569335758686, 0.00035268557257950306, -0.005064120050519705, 0.013944116421043873, 0.027060380205512047, 0.029699156060814857, -0.012366024777293205, 0.005830529145896435, -0.036891113966703415, -0.01430630125105381, -0.014953059144318104, -0.019687332212924957, -0.016492344439029694, -0.03065635822713375, -0.02416290156543255, -0.016828659921884537, 0.018678389489650726, -0.014280430041253567, -0.01675104908645153, -0.046928804367780685, 0.008614825084805489, -0.0056947097182273865, 0.05556949973106384, 0.013051589019596577, 0.00972724985331297, -0.014565004035830498, -0.010121772065758705, -0.003699459368363023, 0.006887979339808226, 0.002161790616810322, -0.002674347022548318, -0.028560860082507133, 0.00705613661557436, 0.02637481689453125, -0.032027486711740494, -0.004669597372412682, 0.03334687650203705, 0.021136071532964706, 0.005381031893193722, -0.021355969831347466, 0.022558940574526787, 0.009578495286405087, -0.051611337810754776, 0.002874842146411538, 0.024887271225452423, 7.872265268815681e-05, 0.03746026009321213, 0.022998737171292305, -0.0658658966422081, -0.027939973399043083, -0.04190995916724205, -0.006118336692452431, -0.01695801131427288, 0.02434399537742138, 0.0155351422727108, -0.016013743355870247, -0.0007134556071832776, -0.02925935946404934, -0.009326259605586529, 0.00867950078099966, 0.0010129857109859586, -0.02654297463595867, 0.014267494902014732, 0.01576797477900982, 0.004430296830832958, -0.006913849618285894, -0.04216866195201874, -0.006978525780141354, -0.04338456690311432, 0.004879793617874384, 0.0077675711363554, -0.033864282071590424, 0.003389015095308423, -0.008718306198716164, -0.026284269988536835, -0.010225254110991955, 0.02349027246236801, -0.016453539952635765, 0.00443999795243144, -0.03782244399189949, 0.022649487480521202, 0.0371498167514801, 0.070419080555439, 0.01186155341565609, -0.03841746225953102, 0.043229345232248306, 0.03557172417640686, 0.008582486771047115, 0.007308372296392918, -0.006648678798228502, 0.0010307715274393559, -0.021989792585372925, -0.026129048317670822, 0.017074428498744965, 0.03642544522881508, -0.004517608787864447, 0.009028750471770763, -0.0019661462865769863, 0.01882067695260048, -0.012081450782716274, 0.03704633563756943, 0.008504875935614109, 0.042401496320962906, 0.04563529044389725, -0.02822454646229744, -0.023153958842158318, 0.01061977632343769, -0.007864585146307945, 0.028690213337540627, -0.03541650250554085, 0.013439644128084183, 0.02863847278058529, 0.01980374939739704, -0.05360335484147072, 0.018872417509555817, -0.00808448251336813, -0.043436311185359955, 0.014448587782680988, 0.03782244399189949, 0.011001364327967167, -0.012029710225760937, 0.023593755438923836, 0.011091910302639008, -0.0012854327214881778, 0.005481279455125332, -0.008019806817173958, -0.001891769003123045, 0.02412409707903862, 0.019984841346740723, -0.03277772665023804, 0.019118184223771095, 0.022533070296049118, 0.001980698201805353, 0.0100118238478899, 0.013931181281805038, -0.021174877882003784, -0.009151634760200977, -0.01615603081882, -0.021200748160481453, 0.049619320780038834, 0.025055428966879845, 0.040383607149124146, -0.04410893842577934, 0.0034698599483817816, 0.024473346769809723, 0.02231317199766636, -0.0014665251364931464, -0.04110797867178917, 0.010070031508803368, -0.03497670590877533, 0.0023428830318152905, 0.06177838519215584, -0.014746096916496754, 0.02552109584212303, 0.030190693214535713, 0.013032186776399612, -0.003987267147749662, 0.026478298008441925, 0.004197463393211365, -0.013258552178740501, 0.051016319543123245, 0.036270223557949066, -0.003395482897758484, 0.00721135875210166, -0.017863472923636436, 0.024382799863815308, -0.025456419214606285, -0.026452427729964256, 0.015703300014138222, 0.004798949230462313, -0.0364513173699379, 0.015625689178705215, 0.0025401446036994457, -0.008711839094758034, 0.015160022303462029, 0.024460410699248314, 0.011395887471735477, -0.00867950078099966, 0.01757889986038208, -0.01839381456375122, -0.047549694776535034, 0.02021767385303974, 0.005969582125544548, -0.01738487184047699, -0.015586882829666138, 0.02003658190369606, -0.00399373471736908, 0.012023243121802807, -0.03986620157957077, 0.005736749153584242, 0.0010323884198442101, 0.028095195069909096, -0.012760547921061516, 0.0044173612259328365, -0.005187004338949919, 0.0014455055352300406, -0.013219746761023998, -0.0008238087757490575, -0.03420059755444527, -0.016427669674158096, -0.02597382664680481, -0.020541053265333176, 0.009636703878641129, -0.017048558220267296, -0.0012005456956103444, -0.010393410921096802, 0.020359961315989494, 0.03665827959775925, 0.011408822610974312, -0.0304493959993124, -0.0002483957214280963, -0.022804709151387215, -0.0025094235315918922, 0.01368541270494461, 0.010800869204103947, -0.02535293810069561, -0.012359557673335075, 0.0044788033701479435, -0.0031157596968114376, -0.0029750897083431482, -0.001969380071386695, 0.011848618276417255, -0.017462482675909996, 0.007088474463671446, -0.019066443666815758, -0.032001618295907974, -0.003489262890070677, 0.008931736461818218, 0.03065635822713375, -0.005659137852489948, -0.010044161230325699, 0.0019144054967910051, 0.03420059755444527, -0.011169521138072014, 0.010354605503380299, 0.009119296446442604, -0.013607801869511604, -0.04475569725036621, 0.018367944285273552, -0.0054101357236504555, -0.007974534295499325, 0.0020162700675427914, 0.022351978346705437, -0.011719265952706337, -0.00211975141428411, -0.002845737850293517, 0.03665827959775925, -0.004174827132374048, -0.0007280076970346272, 0.020903239026665688, 0.014125208370387554, -0.03844333440065384, 0.03748612850904465, -0.013122732751071453, 0.028276287019252777, -0.010787934064865112, 0.023166894912719727, -0.0023784548975527287, 0.027914103120565414, -0.01594906859099865, 0.008970541879534721, 0.002103582490235567, -0.0033308069687336683, -0.01720377989113331, 0.022157950326800346, 0.004258905537426472, -0.021524127572774887, -0.009578495286405087, -0.01818685233592987, -0.01277348306030035, -0.02189924754202366, -0.011790409684181213, 0.01001829095184803, -0.008744176477193832, 0.00849840883165598, -0.021744025871157646, 0.019351018592715263, 0.019557980820536613, -0.03515779972076416, -0.017320195212960243, 0.024434540420770645, 0.04992976784706116, -0.01923460140824318, -0.007314839866012335, -0.03572694584727287, 0.016414733603596687, -0.004802182782441378, 0.047084029763936996, 0.0200236476957798, -0.004317113664001226, 0.00352806830778718, -0.011273003183305264, 0.022351978346705437, 0.019519174471497536, -0.003621848300099373, -0.01541872601956129, 0.0210584606975317, -0.02289525605738163, 0.03295882046222687, -0.009552625007927418, 0.020515182986855507, -0.03844333440065384, -0.015470466576516628, 0.0015570713439956307, 0.032208580523729324, -0.04053883254528046, 0.013969986699521542, -0.01959678716957569, 0.026620585471391678, 0.018031630665063858, -0.023412661626935005, -0.0037803042214363813, 0.02881956472992897, -0.006043959408998489, 0.009688444435596466, 0.00858895480632782, 0.006166843697428703, -0.012618260458111763, -0.04990389570593834, -0.005523318890482187, 0.025094235315918922, 0.0051837703213095665, -0.010969026014208794, 0.034433428198099136, -0.023865392431616783, 0.00725663173943758, -0.00360567937605083, -0.006894446909427643, 0.013426708988845348, -0.017475418746471405, -0.0025886513758450747, -0.010826739482581615, 0.0238912645727396, 0.01155110914260149, -0.018445556983351707, -0.0018254761816933751, 0.008239705115556717, -0.0014172098599374294, 0.015561012551188469, -0.023166894912719727, 0.019687332212924957, 0.015664493665099144, -0.031613562256097794, 0.021304229274392128, -0.02191218174993992, 0.007217826321721077, 0.012294881977140903, 0.02026941627264023, -0.04009903594851494, -0.006470819935202599, -0.045092012733221054, -0.017294324934482574, 0.013750088401138783, 0.02288231998682022, -0.01638886332511902, -0.0010234955698251724, 0.008155626244843006, 0.014215754345059395, -0.006862109061330557, 0.002485170029103756, -0.006247688550502062, -0.031794652342796326, -0.001076853135600686, -0.0020486079156398773, -0.01614309474825859, -0.017527159303426743, 0.01986842416226864, -0.004401192534714937, 0.0022491030395030975, 0.006875044200569391, 0.03357970714569092, 0.0023881562519818544, 0.0014406548580154777, -2.482188938301988e-05, 0.03570107743144035, -0.021795766428112984, 0.01862664893269539, 0.01964852772653103, 0.016854530200362206, -0.03254489228129387, 0.005636501591652632, -0.011311808601021767, -0.02047637850046158, -0.029595674946904182, 0.032001618295907974, -0.005982517264783382, -0.0031319286208599806, 0.024421606212854385, 0.003654186148196459, 0.004944469779729843, -0.02021767385303974, 0.017307261005043983, 0.034459300339221954, -0.011758072301745415, 0.003961396403610706, -0.019790813326835632, 0.011169521138072014, 0.04641139879822731, 0.015082411468029022, -0.022403718903660774, -0.02227436751127243, 0.007890455424785614, 0.01041281409561634, -0.005413369741290808, 0.01462967973202467, -0.025223586708307266, 0.05681127682328224, -0.005384265445172787, -0.022145016118884087, 0.007677024696022272, 0.018096307292580605, -0.00919044017791748, 0.014720226638019085, 0.01841968484222889, 0.048351675271987915, -0.02268829196691513, -0.0018885352183133364, 0.03735677897930145, 0.025055428966879845, -0.007470062002539635, 0.027344955131411552, 0.0014398463536053896, -0.03764135390520096, -0.029699156060814857, -0.01616896502673626, 0.013349098153412342, -0.0010154109913855791, 0.011318275704979897, 0.02819867618381977, -0.01318094041198492, -0.06374453008174896, -0.00674569234251976, -0.007418321445584297, 0.02739669568836689, 0.011667525395751, 0.003233793191611767, 0.011628719978034496, -0.008136223070323467, 0.009643170982599258, -0.0029944924172014, -0.016686372458934784, 0.019376888871192932, -0.005542721599340439, -0.029155878350138664, 0.034640390425920486, -0.02514597587287426, -0.002580567030236125, 0.018031630665063858, -0.0011197008425369859, -0.01715203933417797, 0.011201859451830387, 0.0016427668742835522, -0.00023121621052268893, 0.002891011070460081, 0.027681268751621246, -0.028560860082507133, -0.01092375349253416, -0.018316203728318214, -0.04361740127205849, -0.01146056316792965, 0.005710878875106573, -0.0187818706035614, -0.006823303643614054, -0.03639957681298256, 0.009804860688745975, -0.014254559762775898, 0.002557930303737521, -0.0015433278167620301, -0.023063411936163902, 0.005338992457836866, 0.009591430425643921]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-14T10:14:11.566954", "url_path": "/multi-agent-applications/", "chunk_size": 4872}
updated_dt: 2025-03-14T10:14:11.569005
---
tic_graph/state/)
    * [ pydantic_graph.mermaid  ](https://ai.pydantic.dev/api/pydantic_graph/mermaid/)
    * [ pydantic_graph.exceptions  ](https://ai.pydantic.dev/api/pydantic_graph/exceptions/)


Table of contents 
  * [ Agent delegation  ](https://ai.pydantic.dev/multi-agent-applications/#agent-delegation)
    * [ Agent delegation and dependencies  ](https://ai.pydantic.dev/multi-agent-applications/#agent-delegation-and-dependencies)
  * [ Programmatic agent hand-off  ](https://ai.pydantic.dev/multi-agent-applications/#programmatic-agent-hand-off)
  * [ Pydantic Graphs  ](https://ai.pydantic.dev/multi-agent-applications/#pydantic-graphs)
  * [ Examples  ](https://ai.pydantic.dev/multi-agent-applications/#examples)


# Multi-agent Applications
There are roughly four levels of complexity when building applications with PydanticAI:
  1. Single agent workflows — what most of the `pydantic_ai` documentation covers
  2. [Agent delegation](https://ai.pydantic.dev/multi-agent-applications/#agent-delegation) — agents using another agent via tools
  3. [Programmatic agent hand-off](https://ai.pydantic.dev/multi-agent-applications/#programmatic-agent-hand-off) — one agent runs, then application code calls another agent
  4. [Graph based control flow](https://ai.pydantic.dev/graph/) — for the most complex cases, a graph-based state machine can be used to control the execution of multiple agents


Of course, you can combine multiple strategies in a single application.
## Agent delegation
"Agent delegation" refers to the scenario where an agent delegates work to another agent, then takes back control when the delegate agent (the agent called from within a tool) finishes.
Since agents are stateless and designed to be global, you do not need to include the agent itself in agent [dependencies](https://ai.pydantic.dev/dependencies/).
You'll generally want to pass [`ctx.usage`](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext.usage) to the [`usage`](https://ai.pydantic.dev/api/agent/#pydantic_ai.agent.Agent.run) keyword argument of the delegate agent run so usage within that run counts towards the total usage of the parent agent run.
Multiple models
Agent delegation doesn't need to use the same model for each agent. If you choose to use different models within a run, calculating the monetary cost from the final [`result.usage()`](https://ai.pydantic.dev/api/agent/#pydantic_ai.agent.AgentRunResult.usage) of the run will not be possible, but you can still use [`UsageLimits`](https://ai.pydantic.dev/api/usage/#pydantic_ai.usage.UsageLimits) to avoid unexpected costs.
agent_delegation_simple.py```
frompydantic_aiimport Agent, RunContext
frompydantic_ai.usageimport UsageLimits
joke_selection_agent = Agent( 
The "parent" or controlling agent.
[](https://ai.pydantic.dev/multi-agent-applications/#__code_0_annotation_1)
  'openai:gpt-4o',
  system_prompt=(
    'Use the `joke_factory` to generate some jokes, then choose the best. '
    'You must return just a single joke.'
  ),
)
joke_generation_agent = Agent( 
The "delegate" agent, which is called from within a tool of the parent agent.
[](https://ai.pydantic.dev/multi-agent-applications/#__code_0_annotation_2)
  'google-gla:gemini-1.5-flash', result_type=list[str]
)

@joke_selection_agent.tool
async defjoke_factory(ctx: RunContext[None], count: int) -> list[str]:
  r = await joke_generation_agent.run( 
Call the delegate agent from within a tool of the parent agent.
[](https://ai.pydantic.dev/multi-agent-applications/#__code_0_annotation_3)
    f'Please generate {count} jokes.',
    usage=ctx.usage, 
Pass the usage from the parent agent to the delegate agent so the final result.usage()[](https://ai.pydantic.dev/api/agent/#pydantic_ai.agent.AgentRunResult.usage) includes the usage from both agents.
[](https://ai.pydantic.dev/multi-agent-applications/#__code_0_annotation_4)
  )
  return r.data 
Since the function returns list[str], and the result_type of joke_generation_agent is also list[str], we can simply return r.data from the tool.
[](https://ai.pydantic.dev/multi-agent-applications/#__code_0_annotation_5)

result = joke_selection_agent.run_sync(
  'Tell me a joke.',
  usage_limits=UsageLimits(request_limit=5, total_tokens_limit=300),
)
print(result.data)
#> Did you hear about the toothpaste scandal? They called it Colgate.
print(result.usage())
"""
Usage(
  requests=3, request_tokens=204, response_tokens=24, total_tokens=228, details=None
)
"""

```

_(This example is complete, it can be run "as is")_
The control flow for this example is pretty simple and can be summarised as follows:
```
graph TD
 START --> joke_selection_agent
 joke_selection_agent --> joke_factory["joke_factory (tool)"]
 joke_factory --> joke_generation_agent
 joke_generation_agent --> joke_factory
 joke_factory --> joke_selection_agent
 joke_selection_agent --> END