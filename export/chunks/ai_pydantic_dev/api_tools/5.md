---
url: https://ai.pydantic.dev/api/tools/
session_id: pydantic_ai_docs
chunk_number: 5
title: Creating Custom Tools with Pydantic AI
summary: This document outlines how to create custom tools in Pydantic AI using the `Agent` and `Tool` classes. It includes examples of defining a tool function with a context parameter and optionally implementing a custom preparation method to conditionally register the tool based on context dependencies.
embedding: [-0.01370217651128769, 0.04412757232785225, 0.011869185604155064, -0.043878648430109024, -0.03154555708169937, -0.026363395154476166, 0.03206603601574898, 0.029282603412866592, -0.00679451460018754, 0.021837491542100906, 0.023331038653850555, -0.05069013312458992, 0.018058359622955322, -0.05041857808828354, -0.0009228602866642177, 0.0035584927536547184, -0.032858069986104965, 0.0026476543862372637, 0.01238966453820467, 0.057433731853961945, 0.05702640116214752, -0.0026434112805873156, 0.0027226146776229143, 0.013996360823512077, 0.03070826455950737, -0.012842254713177681, -0.0032643089070916176, 0.03586779534816742, -0.021848805248737335, 0.015637001022696495, 0.0057111261412501335, -0.016926884651184082, -0.03303910419344902, 0.020943624898791313, -0.014743135310709476, -0.03170396387577057, 0.04358446225523949, -0.010392609052360058, -0.01618010923266411, 0.02844531275331974, -0.0012934186961501837, -0.026499172672629356, 0.019031429663300514, 0.014188711531460285, -0.013362733647227287, 0.0006817143876105547, -0.03516628220677376, 0.035550981760025024, -0.004019569139927626, -0.03774604573845863, -0.004933236166834831, 0.039420630782842636, -0.013351419009268284, 0.04539482668042183, -0.029486270621418953, -0.02817375771701336, 0.0015656802570447326, 0.038085490465164185, -0.00956663116812706, -0.008169258013367653, -0.0010565159609541297, 0.001476576435379684, 0.0028088896069675684, 0.0572979561984539, -0.041185732930898666, -0.006771885324269533, 0.004223234951496124, -0.011156355030834675, -0.036388274282217026, -0.018103620037436485, -0.00771101051941514, 0.05942513048648834, -0.062231190502643585, -0.00885945837944746, 0.0028103040531277657, -0.0306403748691082, -0.009419539012014866, 0.06440362334251404, 0.009549658745527267, -0.02364785224199295, -0.010551015846431255, -0.013000661507248878, 0.004316581878811121, 0.0213962160050869, -0.021418845281004906, -0.03926222398877144, -0.01857883855700493, -0.04145728796720505, 0.009391252882778645, -0.0054820021614432335, -0.01545596495270729, 0.006330609321594238, 0.004777658265084028, 0.03423846885561943, 0.06336266547441483, 0.05847468972206116, 0.022131673991680145, 0.016904255375266075, -0.0070208096876740456, 0.02244848757982254, 0.035550981760025024, 0.034419506788253784, -0.05571388825774193, 0.017617084085941315, 0.047114670276641846, 0.019891351461410522, -0.008853801526129246, -0.0008090054616332054, -0.026227617636322975, 0.015693575143814087, -0.053179383277893066, -0.0038951069582253695, -0.016960827633738518, 0.02394203655421734, -0.03480421006679535, -0.014890226535499096, -0.014844967983663082, -0.001024693134240806, -0.0170739758759737, -0.033129625022411346, -0.044580161571502686, -0.05322464182972908, 0.014811023138463497, 0.012864884920418262, -0.015965130180120468, 0.009866472333669662, -0.0008924518479034305, -0.03269966319203377, -0.041412029415369034, 0.008050452917814255, 0.01238966453820467, -0.006234433967620134, 0.006998180411756039, 0.0314776673913002, -0.025435585528612137, -0.05019228532910347, -0.02717805840075016, 0.014279229566454887, -0.03856071084737778, 0.0217356588691473, 0.0175718255341053, -0.01433580368757248, -0.014437636360526085, -0.016429034993052483, -0.0009398324182257056, 0.0447838269174099, -0.06843168288469315, -0.00927810464054346, -0.039420630782842636, 0.045145899057388306, 0.01778680644929409, 0.023534705862402916, 0.00014125772577244788, 0.007892046123743057, -0.01164289005100727, 0.030187785625457764, 0.004607936833053827, 0.0314776673913002, 0.07436061650514603, -0.022606894373893738, -0.005790329538285732, 0.0025486501399427652, -0.021713027730584145, -0.0005540697602555156, -0.006415470037609339, -0.022968966513872147, 0.051776349544525146, -0.0023011397570371628, -0.04779355600476265, -0.011314761824905872, 0.015546482987701893, -0.06087341904640198, -0.039918482303619385, 0.04143466055393219, 0.06191437691450119, -0.03220181167125702, -0.05865572765469551, -0.01603301800787449, -0.04969443380832672, -0.0018047045450657606, -0.038515448570251465, -0.005360368639230728, -0.05259101465344429, -0.003366141812875867, -0.053405676037073135, -0.04166095331311226, 0.022606894373893738, -0.043878648430109024, 0.016768477857112885, 0.04901554808020592, 0.02434936724603176, 0.01863541267812252, 0.02647654339671135, -0.04969443380832672, 0.009396909736096859, -0.05480870604515076, 0.05978720262646675, -0.03299384564161301, -0.02844531275331974, -0.04039369896054268, -0.0324733667075634, 0.027268577367067337, -0.0010331792291253805, 0.04856295883655548, 0.03211129456758499, -0.04052947834134102, 0.010743366554379463, -0.02817375771701336, -0.02421359159052372, -0.03376324847340584, -0.005445229355245829, -0.05367723107337952, 0.05892728269100189, 0.013985046185553074, -0.0013238271931186318, -0.02625024877488613, 0.015987759456038475, 0.04136677086353302, 0.021645139902830124, 0.007852445356547832, -0.03120611421763897, 0.00034881290048360825, 0.05847468972206116, 0.010964004322886467, -0.03933011367917061, 0.015354132279753685, -0.03453265503048897, -0.055035002529621124, 0.0039743101224303246, 0.05802210047841072, -0.010635876096785069, 0.024394627660512924, -0.0010261074639856815, -0.050509098917245865, 0.03050459921360016, -0.03973744437098503, 0.021498048678040504, -0.032654404640197754, -0.0075752330012619495, -0.02457566373050213, -0.0326317735016346, -0.017255011945962906, 0.021226493641734123, -0.022210877388715744, 0.009391252882778645, 0.0013054406736046076, 0.011122411116957664, -0.002936180680990219, 0.036456163972616196, 0.012661218643188477, 0.05041857808828354, -0.03552835434675217, 0.033717989921569824, -0.020355256274342537, -0.03376324847340584, -0.024892477318644524, -0.015987759456038475, -0.04270191118121147, -0.07499424368143082, -0.0018697644118219614, 0.02907893806695938, 0.0027438297402113676, -0.014777079224586487, 0.008435155265033245, 0.010601932182908058, 0.020309997722506523, 0.01968768611550331, 0.020242109894752502, 0.017628399655222893, 0.004944550804793835, 0.035121019929647446, 0.025820286944508553, 0.03269966319203377, -0.014301858842372894, -0.039216965436935425, -0.004228892270475626, 0.012661218643188477, 0.037316083908081055, 0.005224591586738825, -0.012446238659322262, -0.026295507326722145, 0.03294858708977699, 0.03659193962812424, 0.02335366979241371, 0.020004499703645706, -0.0008945734007284045, 0.012717792764306068, -0.026929134503006935, -0.0509616881608963, -0.0032190498895943165, -0.009051810018718243, 0.04580215737223625, 0.04715992882847786, 0.013600343838334084, -0.019257724285125732, -0.027766427025198936, 0.02950889989733696, 0.011116753332316875, 0.010681135579943657, -0.026499172672629356, -0.018409118056297302, 0.013362733647227287, 0.006240091286599636, -0.020706014707684517, -0.006992523092776537, 0.012152054347097874, 0.022505061700940132, -0.041479919105768204, 0.0417967326939106, -0.005487659480422735, 0.03779130429029465, 0.0769403800368309, -0.0190653745085001, -0.020423145964741707, 0.0024383312556892633, -0.007688380777835846, 0.000504214083775878, 0.004797459114342928, 0.016700588166713715, -0.015026004053652287, -0.009725037962198257, -0.02993885986506939, 0.024485144764184952, -0.016836365684866905, -0.03317488357424736, 0.008056110702455044, -0.0030861012637615204, 0.015444650314748287, 0.005634751636534929, 0.017594454810023308, -0.025797657668590546, -0.052002646028995514, 0.011467511765658855, 0.04025792330503464, 0.04256613552570343, 0.025073513388633728, 0.01065850630402565, 0.017345530912280083, 0.014403692446649075, 0.033423807471990585, -0.06675709784030914, -0.0018287483835592866, -0.051504798233509064, -0.04410494118928909, 0.0018329914892092347, 0.039284855127334595, 0.021837491542100906, 0.03290332853794098, -0.020445775240659714, 0.00906878150999546, 0.04625474661588669, -0.006143915932625532, 0.012819625437259674, 0.01210679579526186, -0.01602170243859291, -0.03883226215839386, -0.02697439305484295, -0.015840666368603706, -0.04200039803981781, -0.0013719148701056838, -0.005456543993204832, -0.01478839386254549, 0.013023290783166885, -0.009549658745527267, -0.05345093458890915, 0.027766427025198936, 0.025254549458622932, -0.0009978206362575293, -0.02075127325952053, 0.016134850680828094, 0.012502811849117279, 0.02068338543176651, -0.02661232091486454, -0.019857406616210938, 0.008152286522090435, -0.025458214804530144, -0.029735194519162178, 0.025164030492305756, 0.03826652467250824, -0.004766343627125025, 0.058203134685754776, -0.027856944128870964, 0.00633626664057374, 0.026204988360404968, 0.010862171649932861, 0.01052272878587246, 0.022855820134282112, 0.030119895935058594, -0.00450044684112072, -0.03276755288243294, 0.06381525844335556, -0.09748799353837967, -0.02208641543984413, 0.015851981937885284, -0.024032555520534515, 0.008146628737449646, 0.006556904409080744, 0.026204988360404968, 0.0519573874771595, -0.03507576137781143, -0.025322437286376953, 0.018533580005168915, -0.03140978142619133, -0.03679560497403145, -0.005911963060498238, 0.05218368396162987, 0.024190960451960564, -0.003077615285292268, 0.003518891055136919, 0.0023761000484228134, 0.047340963035821915, 0.032428108155727386, 0.007892046123743057, 0.02930523455142975, -0.0018386488081887364, -0.05788632109761238, -0.026069212704896927, 0.002357713645324111, 0.029033679515123367, -0.008814199827611446, -0.021622510626912117, -0.0446254201233387, 0.016711903735995293, 0.017481306567788124, 0.0028796070255339146, 0.028400052338838577, 0.015059947967529297, -0.08250724524259567, 0.040778402239084244, -0.021995898336172104, 0.03337854892015457, 0.002572694094851613, 0.06743597984313965, -0.014811023138463497, -0.023398928344249725, -0.01954059489071369, -0.006098656915128231, 0.02287844941020012, 0.04541745409369469, 0.03125137463212013, -0.04469330981373787, -0.04491960629820824, 0.003617895068600774, 0.012536756694316864, -0.05019228532910347, -0.012627274729311466, -0.006483358796685934, -0.03154555708169937, 0.04435386881232262, -0.005498974584043026, 0.027155429124832153, 0.009708065539598465, -0.024258850142359734, 0.013011976145207882, 0.0799274817109108, -0.029893601313233376, 0.031183484941720963, 0.024258850142359734, 0.01892959699034691, 0.04851770028471947, 0.05670958757400513, -0.002516120206564665, -0.01834123022854328, 0.050735391676425934, -0.01849963515996933, 0.015625687316060066, -0.017605770379304886, 0.0042854659259319305, 0.000979434116743505, -0.015784092247486115, 0.004477817099541426, 0.029350493103265762, 0.01800178736448288, -0.01461867243051529, -0.017311586067080498, -0.031319260597229004, 0.017051346600055695, 0.005459372885525227, 0.007371567655354738, 0.007892046123743057, 0.03401217609643936, -0.050373319536447525, 0.006602163892239332, 0.03946588933467865, 0.00476351473480463, 0.061461787670850754, -0.0013796938583254814, -0.007609177380800247, -0.014675246551632881, 0.009476113133132458, -0.02011764608323574, -0.005102957598865032, 0.023964665830135345, -0.008949976414442062, 0.03419321030378342, 0.028196386992931366, 0.01735684461891651, 0.026589691638946533, -0.03084404207766056, -0.00037586226244457066, -0.024236220866441727, 0.01280831079930067, 0.02661232091486454, 0.01503731869161129, 0.0040025971829891205, 0.0034057432785630226, 0.060963939875364304, -0.005779014900326729, 0.028060609474778175, 0.05272679030895233, -0.06182385981082916, -0.018375173211097717, 0.0061835176311433315, 0.031884998083114624, -0.0015713375760242343, 0.015761462971568108, 0.007841129787266254, -0.028897901996970177, 0.002769287908449769, -0.022821875289082527, 0.010811255313456059, -0.019732944667339325, -0.02548084408044815, 0.04783881455659866, 0.03595831245183945, 0.003185105510056019, 0.009555316530168056, -0.04213617369532585, -0.009362965822219849, -0.028060609474778175, 0.002620781771838665, 0.03156818449497223, 0.016327202320098877, -0.002391657792031765, -0.04743148386478424, 0.011275160126388073, 0.021362271159887314, 0.022833188995718956, -0.00534622510895133, 0.014132137410342693, -0.01920115202665329, 0.024439886212348938, -0.0009730695164762437, -0.01048312708735466, 0.007496030069887638, 0.010630219243466854, 0.03091192990541458, 0.02230139635503292, 0.013011976145207882, -0.015433335676789284, 0.04050684720277786, 0.010539701208472252, 0.015116522088646889, -0.011178985238075256, 0.024869846180081367, -0.010822569951415062, -0.016745848581194878, 0.010420896112918854, 0.001639226102270186, -0.030934559181332588, 0.02328578010201454, -0.011116753332316875, 0.0021681913640350103, 0.0032982530537992716, 0.019042745232582092, 0.04272454231977463, 0.031726591289043427, -0.012299146503210068, 0.007026467472314835, -0.026657579466700554, 0.0037282141856849194, -0.002446817234158516, -0.00885945837944746, 0.008508700877428055, 0.01172209344804287, -0.0072923642583191395, 0.02591080591082573, -0.012763051316142082, -0.02781168557703495, -0.015851981937885284, 0.027426984161138535, -0.024892477318644524, 0.0199818704277277, 0.006658737547695637, -0.0060364254750311375, -0.02357996441423893, 0.012400979176163673, -0.006760570220649242, 0.019823463633656502, -0.02026473917067051, -0.029735194519162178, -0.01164289005100727, -0.006240091286599636, -0.006766227539628744, -0.034419506788253784, -0.013181697577238083, 0.01016065664589405, 0.0027989891823381186, -0.017843380570411682, 0.029599417001008987, 0.03290332853794098, -0.030187785625457764, 0.018861709162592888, 0.027426984161138535, -0.030368821695446968, -0.01595381461083889, 0.024190960451960564, 0.01040958147495985, -0.07200714945793152, 0.005991166457533836, 0.015557797625660896, 0.023466816172003746, -0.03394428640604019, -0.030798781663179398, -0.0008125413442030549, 0.019665056839585304, -0.006624793168157339, 0.021939324215054512, 0.04838192090392113, -0.017277641221880913, 0.009498742409050465, -0.006873717997223139, -0.012197313830256462, -0.004689968656748533, 0.03021041490137577, -0.007897703908383846, 0.0023775144945830107, 0.002183749107643962, -0.002620781771838665, 0.07811711728572845, -0.05476344749331474, 0.019608482718467712, 0.004319410305470228, -0.01210679579526186, -0.01770760305225849, 0.011495797894895077, 0.023138688877224922, -0.04166095331311226, 0.0068058292381465435, -0.02860371768474579, 0.020140277221798897, 0.005657380912452936, 0.010296433232724667, 0.011201614513993263, 0.004933236166834831, 0.02634076587855816, -0.03353695571422577, 0.015704890713095665, 0.027223316952586174, -0.012265201658010483, 0.014596043154597282, -0.007428141310811043, -0.01793389767408371, 0.01372480671852827, -0.0028103040531277657, 0.0043872990645468235, -0.012774365954101086, -0.011914444155991077, -0.012796996161341667, 0.012978032231330872, -0.04145728796720505, -0.02104545757174492, 0.002298311097547412, -0.025028252974152565, 0.021498048678040504, 0.03919433429837227, 0.061461787670850754, -0.006534275133162737, 0.02810586988925934, 0.008684080094099045, -0.02033262699842453, -0.0015699232462793589, -0.025752399116754532, -0.014720505103468895, 0.005377340596169233, -0.008395553566515446, 0.02243717387318611, -0.043177131563425064, -0.038221266120672226, 0.023670481517910957, -0.017560509964823723, -0.024236220866441727, -0.02830953523516655, 0.027268577367067337, 0.062366969883441925, -0.0029814396984875202, 0.03394428640604019, 0.025571363046765327, 0.006076027173548937, 0.024620922282338142, -0.01020025834441185, -0.024100443348288536, -0.004497617948800325, -0.0007474814774468541, 0.03043670952320099, -0.00758654810488224, -0.03050459921360016, 0.02230139635503292, -0.037451863288879395, -0.02300291135907173, -0.00568001065403223, 0.013928472064435482, -0.020954938605427742, -0.020932309329509735, -0.006274035666137934, -0.03933011367917061, 0.01855620928108692, 0.016825051978230476, 0.04955865815281868, 0.005702639929950237, 5.626442361972295e-05, 0.02867160737514496, -0.053405676037073135, -0.012955402955412865, -0.01672321930527687, 0.017945213243365288, 0.03534731641411781, 0.01728895679116249, -0.0034227154683321714, -0.010188943706452847, 0.002045143162831664, -0.0020889879669994116, -0.04376550018787384, -0.007060411386191845, -0.0005558377015404403, -0.019325613975524902, 0.016010388731956482, 0.0175718255341053, 0.055804405361413956, -0.029757823795080185, -0.015082578174769878, 0.017266327515244484, -0.02817375771701336, -0.019235095009207726, -0.004101601429283619, -0.010703764855861664, -0.03288069739937782, 0.00949308555573225, -0.01567094586789608, 0.0033265401143580675, 0.026386024430394173, 0.028490571305155754, -0.020988883450627327, 0.008338979445397854, -0.05571388825774193, 0.009023522958159447, -0.006104314234107733, 0.0391264483332634, -0.030459338799118996, 0.017390789464116096, -0.04623211920261383, 0.006387182977050543, -0.00600248109549284, 0.012819625437259674, 0.0044014425948262215, 0.022199563682079315, -0.02400992438197136, -0.04052947834134102, -0.051776349544525146, -0.018839078024029732, -0.019167207181453705, -0.02464355155825615, -0.006675709504634142, 0.018680673092603683, -0.027856944128870964, 0.004056342411786318, 0.022821875289082527, 0.0008691151742823422, 0.009447826072573662, 0.010188943706452847, 0.02428147941827774, -0.03367273136973381, -0.012287831865251064, -0.009266790002584457, 0.0071961889043450356, -0.06245748698711395, -0.02570713870227337, -0.010477469302713871, -0.0025147057604044676, -0.03706716001033783, 0.013894528150558472, 0.014652617275714874, -0.027970092371106148, 0.013521140441298485, -0.0038498477078974247, 0.0007679894915781915, -0.02371574193239212, 0.000498203095048666, 0.0033887713216245174, -0.0011590559734031558, -0.04240772873163223, -0.0021922350861132145, 0.0203213132917881, 0.011048865504562855, 0.028332164511084557, -0.02076258882880211, 0.0060364254750311375, -0.06938212364912033, -0.021984582766890526, 0.01189181488007307, 0.006409812718629837, -0.03240547701716423, 0.00362638127990067, -0.0018796648364514112, 0.029124198481440544, -0.044715940952301025, -0.0032105636782944202, -0.0001808593951864168, 0.040687885135412216, -0.0014935486251488328, 0.006715311203151941, 0.05105220526456833, -0.03973744437098503, 0.004582478664815426, 0.01400767546147108, 0.00458530755713582, 0.02252769097685814, -0.010403923690319061, 0.015976443886756897, -0.039352741092443466, 0.005705468822270632, -0.0217356588691473, 0.023263150826096535, -0.011801296845078468, 0.017175808548927307, 0.027426984161138535, 0.008780254982411861, -0.025299808010458946, -0.024055184796452522, -0.02907893806695938, -0.0043731555342674255, -0.04738622531294823, 0.02647654339671135, 0.005153873935341835, 0.019891351461410522, 0.033491697162389755, 0.010087110102176666, 0.029757823795080185, -0.021079402416944504, 0.029124198481440544, 0.012118110433220863, 0.005317938048392534, 0.011212929151952267, -0.0184883214533329, 0.02011764608323574, -0.013430622406303883, -0.013566399924457073, 0.010002249851822853, 0.03686349466443062, 0.009872130118310452, 0.00700383773073554, 0.04964917525649071, 0.03634301573038101, -0.018329914659261703, -0.02731383591890335, -0.012989346869289875, 0.04550797492265701, 0.03317488357424736, -0.010041851550340652, -0.002449645893648267, -0.004862518981099129, -0.008667107671499252, -0.019088003784418106, -0.026137100532650948, -0.001956039573997259, -0.012627274729311466, -0.025684509426355362, -0.028784755617380142, 0.009764639660716057, 0.0007177802035585046, 0.013283530250191689, 0.0016929713310673833, -0.010353007353842258, -0.004794630222022533, -0.006958578713238239, 0.024371998384594917, -0.013713492080569267, 0.0472957044839859, -0.014245285652577877, 0.0017523737624287605, 0.06888426840305328, -0.035121019929647446, 0.006274035666137934, -0.026861244812607765, 0.0025260206311941147, -0.023987295106053352, -0.007937305606901646, 0.009860815480351448, -0.009832528419792652, 0.0217356588691473, -0.005951564759016037, -0.034125324338674545, 0.02033262699842453, -0.037655528634786606, 0.02858108840882778, 0.009362965822219849, 0.039986368268728256, 0.0005781135987490416, 0.051142726093530655, -0.019936610013246536, -0.006013796199113131, 0.004953037016093731, 0.021305697038769722, -0.021000199019908905, -0.021565936505794525, -0.037655528634786606, 0.02188275009393692, 0.015965130180120468, -0.02391940727829933, -0.038017600774765015, 0.02867160737514496, -0.029101567342877388, -0.007954278029501438, 0.07304810732603073, -0.006517303176224232, -0.016214054077863693, 0.004110087174922228, -0.0008549717022106051, 0.04964917525649071, 0.011252530850470066, -0.010296433232724667, -0.03919433429837227, -0.011524084955453873, -0.038583338260650635, -0.005216105375438929, -0.03269966319203377, -0.010771653614938259, 0.02860371768474579, 0.01030774787068367, -0.01638377644121647, 0.028988420963287354, -0.008039138279855251, 0.002347813220694661, 0.06453940272331238, -0.07132826000452042, -0.03715767711400986, -0.01842043176293373, 0.011484483256936073, -0.02441725693643093, 0.05059961602091789, -0.02274267189204693, -0.032790180295705795, -0.00335482694208622, -0.0022374941036105156, -0.0005766992690041661, 0.01588592678308487, 0.015139151364564896, -0.04632263630628586, 0.015263614244759083, -0.0026009809225797653, 0.033084362745285034, 0.013204327784478664, -0.022957652807235718, -0.025073513388633728, -0.033785879611968994, -0.024236220866441727, -0.020807847380638123, -0.01842043176293373, 0.017684973776340485, 0.006115628872066736, -0.0017764176009222865, -0.029916230589151382, -0.02597869373857975, 0.006969893351197243, 0.010720737278461456, 0.015659630298614502, -0.0037904453929513693, 0.008831172250211239, 0.014799708500504494, -0.007818500511348248, -0.03326540067791939, 0.015625687316060066, 0.023240521550178528, 0.010375636629760265, -0.0032558226957917213, -0.026318136602640152, 0.04009951651096344, 0.02711017057299614, -0.003934708423912525, 0.004064828157424927, -0.015931185334920883, -0.017775490880012512, 0.003985624760389328, 0.021905379369854927, -0.030391450971364975, 0.015603057108819485, 0.02266346849501133, 0.0176510289311409, -0.011558029800653458, -0.006658737547695637, 0.032654404640197754, -0.019597167149186134, 0.015218354761600494, 0.055668629705905914, -0.011156355030834675, -0.0022728529293090105, 0.0031737908720970154, -0.007903361693024635, 0.05281731113791466, -0.004458016250282526, 0.007303678896278143, 0.038153376430273056, 0.052138425409793854, 0.013521140441298485, -0.05766002833843231, -0.017537880688905716, 0.010811255313456059, 0.006194832269102335, -0.010879144072532654, 0.01983477734029293, -0.02302554063498974, 0.0076770661398768425, -0.003965823911130428, -0.02491510659456253, -0.0029870972502976656, -0.030368821695446968, 0.0012990761315450072, -0.03663719817996025, -0.020592866465449333, -0.003349169623106718, -0.03353695571422577, 0.015557797625660896, -0.004279808606952429, 0.010115397162735462, 0.030052008107304573, 0.033423807471990585, -0.0025500645861029625, -0.026453914120793343, 0.0011901715770363808, 0.009459140710532665, 0.007116985507309437, 0.04059736803174019, -0.016112221404910088, 0.04435386881232262, -0.04919658601284027, -0.01658744178712368, 0.06598769128322601, 0.015591742470860481, 0.022821875289082527, 0.006296664942055941, -0.010641533881425858, 0.005527261178940535, 0.02138490043580532, 0.010862171649932861, 0.05779580399394035, 0.042181432247161865, -0.007614834699779749, 0.023602593690156937, -0.007054754067212343, 0.016825051978230476, -0.041887249797582626, -0.008344637230038643, -0.04788407310843468, 0.03419321030378342, 0.03523416817188263, -0.02514140121638775, -0.005527261178940535, 0.017628399655222893, 0.031522925943136215, 0.025956064462661743, 0.033491697162389755, -0.014200026169419289, -0.0036829551681876183, 0.015625687316060066, 0.019597167149186134, 0.026657579466700554, 0.04186461865901947, -0.003340683411806822, -0.023534705862402916, 0.01949533447623253, 0.03206603601574898, 0.020343942567706108, -0.0212378092110157, -0.014200026169419289, -0.010364321991801262, -0.011654204688966274, -0.019823463633656502, -0.034283727407455444, -0.00455419160425663, 0.01048312708735466, 0.0030068980995565653, 0.014279229566454887, -0.03586779534816742, -0.02471144124865532, -0.03217918425798416, 0.009464798495173454, 0.00041511032031849027, -0.009628862142562866, 0.011410937644541264, 0.014562099240720272, 0.0059402501210570335, 0.04120836406946182, 0.012491497211158276, -0.009266790002584457, -0.007614834699779749, -0.021554620936512947, 0.01433580368757248, 0.012627274729311466, -0.004885148722678423, -0.0008726509986445308, -0.004506104160100222, 0.005190647207200527, -0.007326308637857437, -0.004933236166834831, -0.04009951651096344, 0.038085490465164185, -0.010822569951415062, -0.04150254651904106, -0.011297790333628654, -0.0033237114548683167, 0.044082313776016235, 0.05231945961713791, -0.014267914928495884, -0.026883874088525772, 0.017311586067080498, -0.052138425409793854, 0.023625222966074944, 0.009634519927203655, 0.02987097203731537, 0.01892959699034691, 0.021939324215054512, 0.024304108694195747, -0.0408010333776474, -0.016644015908241272, 0.001784903695806861, 0.018160192295908928, -0.03919433429837227, 0.02337629906833172, 0.059560906141996384, -0.004421243444085121, -0.0022615380585193634, -0.009662806987762451, 0.00458530755713582, -0.031658705323934555, 0.001058637397363782, -0.0008747725514695048, -0.03394428640604019, 0.005493316799402237, 0.014833653345704079, -0.014460265636444092, -0.012683847919106483, 0.027132799848914146, -0.009809899143874645, 0.0016491265268996358, -0.01252544205635786, 0.009136670269072056, -0.0014270743122324347, 0.035550981760025024, 0.013464567251503468, 0.012661218643188477, 0.021430158987641335, 0.014041619375348091, 0.036886125802993774, 0.006551247090101242, -0.0006633279263041914, -0.0010444939834997058, -0.030459338799118996, -0.0023732713889330626, 0.030391450971364975, 0.018544895574450493, 0.025367695838212967, 0.00503224041312933, 0.001342920819297433, -0.04222669079899788, -0.00011686027573887259, 0.015851981937885284, 0.02371574193239212, 0.022550320252776146, 0.015908556059002876, -0.003748015034943819, -0.034985244274139404, 0.0021554622799158096, 0.0024779329542070627, 0.003071957966312766, -0.04227194935083389, 0.012729107402265072, -0.005951564759016037, -0.022210877388715744, -0.0026929134037345648, -0.007976907305419445, -0.03516628220677376, -0.05435611680150032, 0.014743135310709476, 0.05670958757400513, 0.005923278164118528, -0.010590617544949055, 0.0028682921547442675, -0.0003875305992551148, -0.012299146503210068, 0.004571164026856422, 0.006132600829005241, 0.013611658476293087, -0.007903361693024635, -0.008152286522090435, -0.012072850950062275, -0.006551247090101242, 0.04233983904123306, 0.01834123022854328, -0.014663931913673878, 0.02921471558511257, 0.004890806041657925, -0.009487427771091461, -0.04892503097653389, 0.007863759994506836, 0.027698537334799767, 0.03021041490137577, 0.042317211627960205, -0.002152633387595415, -0.018895652145147324, -0.0011505698785185814, 0.024937735870480537, 0.00011668348452076316, 0.0025472359266132116, 0.032586514949798584, -0.03084404207766056, -0.019427446648478508, 0.04575689882040024, 0.024666180834174156, -0.0007743540336377919, -0.008265433833003044, -0.03174922242760658, -0.0035471778828650713, 0.012955402955412865, 0.025526102632284164, -0.025254549458622932, 0.019529279321432114, 0.04783881455659866, 0.01238966453820467, -0.046209488064050674, -0.011880500242114067, 0.005722440779209137, -0.022357970476150513, -0.035890426486730576, 0.005660209804773331, 0.04715992882847786, 0.0014907198492437601, 0.02711017057299614, 0.004203434102237225, -0.0002620074665173888, 0.01616879552602768, 0.0185675248503685, 0.012129425071179867, -0.016768477857112885, -0.006296664942055941, -0.022686097770929337, -0.019642427563667297, 0.03213392570614815, 0.02837742306292057, -0.012570700608193874, 0.02754013054072857, 0.013362733647227287, -0.004237378481775522, 0.01069245021790266, -0.019223781302571297, 0.0024355025961995125, -0.019257724285125732, 0.02238059975206852, -0.005538575816899538, -0.002449645893648267, 0.017119234427809715, -0.032428108155727386, 0.0034962615463882685, -0.01878250576555729, -0.048743996769189835, 0.024598293006420135, -0.03238284960389137, -0.01857883855700493, 0.01793389767408371, -0.025797657668590546, 0.011495797894895077, 0.001927752629853785, -0.009413882158696651, 0.03826652467250824, 0.027494871988892555, -0.04801984876394272, 0.010488784871995449, -0.013951101340353489, -0.015433335676789284, 0.013045920990407467, 0.00758654810488224, -0.03292595595121384, 0.00056255585514009, -0.02428147941827774, 0.020140277221798897, -0.03288069739937782, 0.0033180539030581713, -0.011558029800653458, -0.050735391676425934, 0.02618235908448696, 0.005552719347178936, -0.022957652807235718, 0.003278452204540372, 0.012570700608193874, 0.011077151633799076, 0.00823148898780346, 0.0068058292381465435, 0.023693112656474113, 0.031047707423567772, -0.012944087386131287, 0.02266346849501133, -0.018861709162592888, -0.023670481517910957, -0.03704453259706497, 0.009334678761661053, -0.0030663004145026207, -0.0068793753162026405, -0.007761926855891943, 0.03376324847340584, -0.0025048055686056614, 0.001130061806179583, 0.018895652145147324, 0.024892477318644524, 0.05974194407463074, 0.009091411717236042, 0.021294381469488144, -0.011778667569160461, -0.0024241877254098654, 0.00679451460018754, -0.02202984131872654, 0.008378581143915653, -0.016474293544888496, 0.014596043154597282, -0.006307980045676231, 0.0031737908720970154, -0.012955402955412865, 0.007083041127771139, -0.017662344500422478, -0.03344643861055374, 0.00903483759611845, 0.01309117954224348, 0.014935486018657684, 0.014154767617583275, -0.012378349900245667, -0.030187785625457764, -0.024892477318644524, -0.02076258882880211, -0.015297558158636093, -0.0019602824468165636, 0.006019453518092632, -0.024439886212348938, -0.026091841980814934, -0.011105438694357872, 0.03220181167125702, -0.02252769097685814, -0.01857883855700493, 0.0021554622799158096, 0.03819863498210907, 0.0068793753162026405, -0.010381294414401054, 0.00017290370306000113, 0.006613478530198336, -0.015557797625660896, 0.0024850047193467617, 0.012333090417087078, 0.01317038293927908, 0.008214517496526241, 0.01800178736448288, -0.003394428640604019, 0.011982332915067673, 0.009758981876075268, -0.05720743536949158, 0.027924831956624985, -0.006834116298705339, 0.016429034993052483, 0.012480182573199272, -0.0044693308882415295, -0.039420630782842636, -0.011490141041576862, -0.0007213160861283541, -0.008831172250211239, -0.04046158865094185, -0.017062662169337273, -0.03000674955546856, 0.013385363854467869, 0.01023420225828886, -0.010896115563809872, 0.0056290943175554276, 0.008152286522090435, -0.024892477318644524, -0.010369979776442051, 0.023048169910907745, -0.027223316952586174, -0.03686349466443062, -0.035550981760025024, 0.00012260605581104755, -0.02604658156633377, -0.01955190859735012, -0.032858069986104965, 0.011580659076571465, -0.014528154395520687, -0.005753556732088327, 0.008802885189652443, -0.009572288952767849, 0.019031429663300514, 0.026272878050804138, 0.019257724285125732, -0.013532455079257488, -0.009753325022757053, -0.0023124543949961662, 0.012129425071179867, 0.015207040123641491, 0.00021886992908548564, -0.008910374715924263, 0.004565506707876921, -0.02604658156633377, -0.007778898812830448, 0.045779526233673096, 0.004064828157424927, 0.0199026670306921, -0.014878911897540092, -6.479469448095188e-05, 0.021792231127619743, 0.00427132286131382, -0.022041156888008118, 0.018974855542182922, -0.010104082524776459, 0.02202984131872654, 0.022697413340210915, 0.022505061700940132, -0.01387189794331789, 0.010822569951415062, -0.035324689000844955, 0.035618871450424194, -0.00988910160958767, -0.013985046185553074, -0.002204964170232415, -0.032020777463912964, 0.0034792893566191196, 0.0037734732031822205, -0.012582015246152878, -0.009425196796655655, -0.03337854892015457, -0.0003182276850566268, -0.0203213132917881, 0.027087541297078133, 0.02428147941827774, -0.016395090147852898, 0.01813756301999092, 0.005377340596169233, 0.005151045508682728, -0.015308872796595097, 0.007490372285246849, 0.02224482223391533, 0.03260914608836174, 0.0003447466588113457, -0.021713027730584145, -0.03457791358232498, -0.016338516026735306, -0.00995133351534605, 0.015365446917712688, 0.014969429932534695, 0.0033435123041272163, 0.029192086309194565, -0.0176510289311409, -0.008559617213904858, -0.03521154075860977, 0.03536994755268097, -0.008983921259641647, 0.009708065539598465, 0.010754681192338467, -0.03419321030378342, 0.00033325509866699576, 0.03217918425798416, 0.004274151287972927, -0.03387639671564102, -0.02907893806695938, 0.010324720293283463, 0.005518775433301926, 0.007467743009328842, 0.030595116317272186, -0.010087110102176666, 0.008276748470962048, -0.013770065270364285, -0.00758654810488224, -0.017402105033397675, 0.02316131815314293, 0.0024171159602701664, -0.004653195850551128, 0.04213617369532585, 0.01242360845208168, -0.011880500242114067, -0.005510289222002029, 0.02674809843301773, -0.010336034931242466, 0.008384238928556442, 9.20208403840661e-05, -0.012876199558377266, -0.01023986004292965, -0.008949976414442062, -0.016417719423770905, 0.031387150287628174, 0.0036037517711520195, 0.03211129456758499, -0.00935730803757906, -0.014697875827550888, -0.022210877388715744, 0.028694236651062965, -0.02124912291765213, 0.011388308368623257, 0.0027537301648408175, 4.676179014495574e-05, -0.012717792764306068, -0.03143240883946419, -0.028852643445134163, -0.01433580368757248, -0.034487396478652954, 0.024032555520534515, -0.01006448082625866, 0.020739959552884102, 0.00850304402410984, 0.017492622137069702, -0.014607357792556286, 0.011354363523423672, -0.006313637364655733, -0.01412082277238369, -0.005985509138554335, -0.008412525989115238, -0.013487196527421474, 0.003847019048407674, 0.02527717873454094, -0.04915132746100426, -0.003199249040335417, -0.009204559028148651, -0.02957678772509098, 0.04082366079092026, 0.00617786031216383, -0.004958694335073233, 0.01742473430931568, -0.02259558066725731, 0.03790445253252983, -0.020977569743990898, -0.0030182127375155687, -0.010918745771050453, -0.0031398464925587177, -0.03661457076668739, -0.019800834357738495]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:23.268294", "url_path": "/api/tools/", "chunk_size": 1891}
updated_dt: 2025-03-15T11:17:23.268294
---
```python {noqa="I001"}
    from pydantic_ai import Agent, RunContext, Tool
    async def my_tool(ctx: RunContext[int], x: int, y: int) -> str:
      return f'{ctx.deps} {x} {y}'
    agent = Agent('test', tools=[Tool(my_tool)])
```
    or with a custom prepare method:
```python {noqa="I001"}
    from typing import Union
    from pydantic_ai import Agent, RunContext, Tool
    from pydantic_ai.tools import ToolDefinition
    async def my_tool(ctx: RunContext[int], x: int, y: int) -> str:
      return f'{ctx.deps} {x} {y}'
    async def prep_my_tool(
      ctx: RunContext[int], tool_def: ToolDefinition
    ) -> Union[ToolDefinition, None]:
      # only register the tool if `deps == 42`
      if ctx.deps == 42:
        return tool_def
    agent = Agent('test', tools=[Tool(my_tool, prepare=prep_my_tool)])
```

    Args:
      function: The Python function to call as the tool.
      takes_ctx: Whether the function takes a [`RunContext`][pydantic_ai.tools.RunContext] first argument,
        this is inferred if unset.
      max_retries: Maximum number of retries allowed for this tool, set to the agent default if `None`.
      name: Name of the tool, inferred from the function if `None`.
      description: Description of the tool, inferred from the function if `None`.
      prepare: custom method to prepare the tool definition for each step, return `None` to omit this
        tool from a given step. This is useful if you want to customise a tool at call time,
        or omit it completely from a step. See [`ToolPrepareFunc`][pydantic_ai.tools.ToolPrepareFunc].
      docstring_format: The format of the docstring, see [`DocstringFormat`][pydantic_ai.tools.DocstringFormat].
        Defaults to `'auto'`, such that the format is inferred from the structure of the docstring.
      require_parameter_descriptions: If True, raise an error if a parameter description is missing.