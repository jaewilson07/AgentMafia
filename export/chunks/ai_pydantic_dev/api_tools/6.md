---
url: https://ai.pydantic.dev/api/tools/
session_id: pydantic_ai_docs
chunk_number: 6
title: Tool Definition Preparation in Pydantic
summary: This section discusses the initialization of a tool definition in Pydantic, detailing attributes such as function handling, maximum retries, contextual requirements, and JSON schema generation. It covers aspects like async function checking, parameter descriptions, and the preparation of tool definitions.
embedding: [0.0027346983551979065, 0.07027807831764221, 0.03167952969670296, -0.04436439648270607, -0.005088633392006159, -0.03842448443174362, 0.011727518402040005, 0.0018276652554050088, -0.00038042361848056316, 0.029264401644468307, 0.01777621917426586, 0.004936327692121267, 0.06401179730892181, -0.06509969383478165, 0.05831122398376465, 0.005153906997293234, -0.022171320393681526, 0.005493874661624432, 0.032397542148828506, 0.03250633180141449, 0.07188816368579865, 0.0017555920640006661, -0.010509074665606022, -0.00033163829357363284, 0.03135316073894501, -0.018548626452684402, 0.0038701898884028196, 0.03646627441048622, -0.008403996005654335, 0.02495633251965046, -0.015393727459013462, -0.027240915223956108, -0.036705609411001205, -0.028372326865792274, 0.011738397181034088, -0.009399421513080597, 0.04773687571287155, 0.018254894763231277, -0.024738753214478493, 0.01569833792746067, -0.026501145213842392, -0.03746713697910309, -0.03927304595708847, 0.014240558259189129, 0.04112246632575989, -0.030243508517742157, -0.014349347911775112, 0.03607463091611862, 0.03933831676840782, -0.03231050819158554, -0.026305323466658592, 0.013337604701519012, 0.0074357688426971436, 0.03633572533726692, -0.033441923558712006, 0.013370241038501263, -0.028437599539756775, 0.02800244279205799, -0.01721051335334778, 0.014164404943585396, -0.010509074665606022, 0.02436886914074421, -0.020365413278341293, 0.030830971896648407, -0.04221036285161972, 0.020550355315208435, 0.012304103001952171, 0.03385532274842262, -0.04229739308357239, -0.015937676653265953, -0.011368513107299805, 0.05313283950090408, -0.014349347911775112, -0.04229739308357239, -0.003693406702950597, 0.004792181774973869, -0.0024681638460606337, 0.043994512408971786, 0.005480275955051184, -0.021986376494169235, -0.03176656365394592, -0.029155611991882324, -0.018787963315844536, 0.03263687714934349, -0.02234538272023201, -0.07972101867198944, -0.011901581659913063, -0.03881612792611122, 0.01540460716933012, -0.018733568489551544, 0.021736161783337593, -0.025761377066373825, 0.0008954743389040232, 0.04630085080862045, 0.05291526019573212, 0.009062173776328564, 0.014001221396028996, 0.024738753214478493, -0.016253165900707245, -0.009111128747463226, 0.008866352029144764, 0.061400849372148514, -0.009290631860494614, -0.03355071321129799, 0.04560459777712822, -0.009595242328941822, -0.07188816368579865, -0.029264401644468307, -0.028307052329182625, 0.023694373667240143, -0.07184465229511261, -0.029351433739066124, 0.017536882311105728, 0.018646536394953728, -0.04495185986161232, -0.027414977550506592, -0.031244371086359024, 0.01915784738957882, -0.0005381685332395136, -0.0011334515875205398, -0.04560459777712822, -0.007588074542582035, 0.008561741560697556, 0.003549260552972555, -0.004517488181591034, 0.014229679480195045, -0.013304967433214188, -0.015502517111599445, -0.08489940315485, 0.026653451845049858, 0.051696814596652985, 0.04677952453494072, -0.002366173779591918, -0.007441208232194185, -0.015665702521800995, -0.013576941564679146, -0.06462101638317108, -0.01189070288091898, -0.02597895637154579, -0.010661380365490913, -0.009937929920852184, -0.02904682233929634, 0.01055259071290493, 0.015393727459013462, -0.02358558401465416, 0.03409465774893761, -0.013555184006690979, -0.0037178844213485718, -0.052610646933317184, 0.06314148008823395, 0.03361598402261734, -0.03883788734674454, 0.007870927453041077, -0.03661857917904854, 0.040491487830877304, 0.01123796496540308, -0.02012607455253601, 0.017634794116020203, 0.037162527441978455, 0.0019051778363063931, -0.035204313695430756, 0.012043008580803871, -0.013533425517380238, 0.020485080778598785, -0.018613899126648903, -0.005126709584146738, 0.020963754504919052, -0.019255759194493294, -0.03668384999036789, -0.02643587253987789, 0.030069444328546524, 0.0004242794238962233, -0.018874995410442352, 0.059573180973529816, 0.06044349819421768, -0.02924264408648014, -0.0033561589661985636, -0.006146612111479044, -0.02436886914074421, -0.03413817659020424, -0.01023166161030531, -0.03207117319107056, -0.007865487597882748, -0.007082202471792698, -0.04586569219827652, -0.04982563480734825, 0.018548626452684402, -0.02930791676044464, 0.026153018698096275, 0.019495096057653427, 0.006989731453359127, 0.006309796590358019, -0.001550251734443009, -0.025108639150857925, -0.02656641975045204, -0.018537746742367744, 0.04201454296708107, -0.027523767203092575, 0.04190575331449509, 0.021518582478165627, -0.027980683371424675, 0.02776310406625271, 0.03822866454720497, 0.04499537870287895, 0.05295877531170845, -0.01338112074881792, 0.01758039928972721, 0.042319152504205704, -0.00017049368761945516, -0.05535214766860008, -0.027567284181714058, -0.030374055728316307, 0.027197398245334625, 0.010275177657604218, 0.016068223863840103, 0.00594535144045949, 0.021529460325837135, 0.05282822623848915, -0.005749530158936977, 0.04695358872413635, 0.0036226934753358364, 0.005591785069555044, 0.03348543867468834, 0.036509789526462555, 0.014512532390654087, 0.05178384855389595, -0.01328320987522602, -0.026044229045510292, 0.0035275027621537447, 0.016514260321855545, 0.003473107935860753, -5.89099909120705e-06, 0.025587312877178192, -0.06483859568834305, 0.04599624127149582, -0.06053053215146065, 0.010661380365490913, -0.005608103703707457, 0.030395813286304474, -0.05304580554366112, 0.0017161559080705047, -0.029677800834178925, -0.028307052329182625, -0.005678816698491573, 0.0027115806005895138, -0.001800467842258513, 0.017558639869093895, -0.0017814296297729015, 0.043798692524433136, -0.008578059263527393, 0.04799797013401985, -0.04499537870287895, 0.03442102670669556, 0.01488241646438837, -0.026283565908670425, 0.0019446139922365546, 0.020550355315208435, -0.06340257823467255, -0.05230603739619255, -0.008219053968787193, 0.018874995410442352, -0.028959790244698524, -0.04194926843047142, 0.00824081152677536, -0.014740990474820137, 0.032419297844171524, 0.04756281152367592, -0.005559148266911507, 0.01954949088394642, 0.02911209501326084, 0.03407290205359459, 0.05874638259410858, 0.038272179663181305, 0.01935366913676262, -0.014022978954017162, -0.02228011004626751, 0.004653474781662226, 0.01790676824748516, 0.0059507908299565315, -0.03359422832727432, 0.006668802350759506, 0.051174625754356384, -0.002455925103276968, 0.02684927172958851, 0.007125718519091606, 0.00046575546730309725, 0.02404250018298626, 0.016699202358722687, -0.024194806814193726, 0.001165408524684608, -0.03439927101135254, -0.016459865495562553, 0.049085866659879684, 0.00833872240036726, 0.009388541802763939, -4.797791189048439e-05, 0.016122618690133095, -0.026370598003268242, 0.003312643151730299, -0.03659681975841522, 0.012075644917786121, 0.03207117319107056, 0.025565555319190025, -0.012848051264882088, -0.005412282422184944, -0.007000610698014498, 0.02787189371883869, -0.019625643268227577, 0.020039044320583344, 0.019723553210496902, 0.06623110920190811, 0.03224523738026619, -0.020408928394317627, -0.0064784204587340355, 0.009823700413107872, 0.030199991539120674, 0.004106807056814432, 0.00331536284647882, 0.008180977776646614, -0.02587016671895981, 0.014740990474820137, -0.03909898176789284, 0.024716995656490326, 0.044908344745635986, 0.03146195039153099, -0.00742489006370306, -0.03407290205359459, -0.005695135332643986, -0.03144019469618797, 0.03927304595708847, 0.038011085242033005, -0.033572468906641006, -0.011314118281006813, -0.023933710530400276, 0.04338528960943222, 0.04168817400932312, 0.016242286190390587, 0.0017855092883110046, 0.06105272099375725, 0.03313731029629707, -0.027393219992518425, 0.009840019047260284, -0.04083961248397827, -0.04730171710252762, 0.03300676494836807, 0.03220171853899956, 0.004862894769757986, 0.008066748268902302, 0.015622185543179512, 0.029917139559984207, 0.04773687571287155, -0.030961519107222557, 0.010269737802445889, 0.024325354024767876, -0.02135539799928665, -0.036640334874391556, -0.019255759194493294, 0.01705820858478546, -0.009040415287017822, -0.02325921505689621, -0.03233226761221886, -0.022247472777962685, 0.04038269817829132, -0.010204464197158813, -0.051305174827575684, 0.03679263964295387, -0.020104316994547844, -0.0003396275278646499, -0.0027523767203092575, -0.014740990474820137, 0.02423832193017006, 0.06962534040212631, -0.03067866526544094, -0.015317575074732304, -0.006315235979855061, -0.05952966585755348, 0.024651722982525826, 0.012815413996577263, 0.06836338341236115, 0.0033887960016727448, 0.04384220764040947, -0.005238219164311886, 0.0027455773670226336, -0.025304460898041725, 0.03881612792611122, 0.024586448445916176, 0.024869302287697792, -0.008692288771271706, -0.01934278942644596, -0.02214956097304821, 0.01895114779472351, -0.10809334367513657, 0.005809364374727011, -0.03346367925405502, -0.04965157061815262, 0.024455901235342026, -0.022323625162243843, 0.03738010674715042, 0.051044076681137085, -0.027197398245334625, 0.017351940274238586, 0.028872758150100708, 0.0036226934753358364, 0.016568655148148537, -0.0027741347439587116, 0.02858990617096424, -0.0008043630514293909, -0.008153780363500118, 0.01961476355791092, 0.018211377784609795, 0.051827363669872284, 0.001977250911295414, 0.012586955912411213, -0.01335936225950718, 0.009720350615680218, -0.011390270665287971, 0.05648355931043625, 0.031810078769922256, 0.008257130160927773, 0.009345026686787605, 0.0015108154620975256, -0.048433128744363785, -0.011912460438907146, 0.0005731851560994983, 0.024804027751088142, 0.05896396189928055, -0.005512912757694721, -0.08446424454450607, 0.04277607053518295, -0.03289797529578209, 0.05369854345917702, -0.017797978594899178, 0.06227116286754608, 0.007087642326951027, -0.05935560166835785, -0.014229679480195045, -0.00018749207083601505, -0.021660009399056435, 0.03548716753721237, 0.019756190478801727, 0.011955976486206055, -0.024020742624998093, 0.007767577189952135, -0.0046942709013819695, -0.04392923787236214, 0.024216564372181892, -0.02260647714138031, -0.04695358872413635, 0.027414977550506592, -0.004832977894693613, -0.003375197295099497, 0.007348737213760614, -0.010715775191783905, -0.036183420568704605, 0.004898251499980688, -0.0021880308631807566, 0.021540340036153793, -0.0015284938272088766, 0.05348096415400505, 0.009437497705221176, -0.006043261848390102, 0.003579177660867572, -0.03437751159071922, 0.06396828591823578, -0.0020003686659038067, 0.006978852674365044, 0.0016943980008363724, 0.023172184824943542, 0.002847567666321993, -0.027088608592748642, 0.0022845815401524305, 0.05252361670136452, -0.011042144149541855, -0.008871791884303093, -0.0009743468253873289, -0.013892431743443012, -0.0015040161088109016, 0.0027809340972453356, 0.015981191769242287, 0.048563674092292786, -0.008349601179361343, -0.015926796942949295, -0.007365055847913027, 0.02267175167798996, 0.0061139753088355064, 0.07080026715993881, -0.010024961084127426, 0.021159576252102852, 0.019299274310469627, -0.007533679716289043, -0.01046011969447136, 0.010166388005018234, 0.02188846655189991, -0.008871791884303093, 0.013294088654220104, 0.04188399389386177, 0.0010654580546543002, -0.003946342505514622, 0.0009695873013697565, 0.009067612700164318, -0.02319394238293171, 0.03666209429502487, 0.02338976226747036, 0.03452981635928154, -0.013772762380540371, 0.004283590242266655, 0.028176505118608475, 0.011934218928217888, 0.002106438623741269, 0.026871029287576675, -0.06266281008720398, 0.037815265357494354, 0.012184434570372105, 0.04188399389386177, 0.008996899239718914, 0.01488241646438837, 0.00843119341880083, -0.019527733325958252, 0.017689188942313194, -0.028350569307804108, -0.026479387655854225, -0.061792489141225815, -0.01396858412772417, 0.03724955767393112, 0.04551756754517555, -0.008142901584506035, 0.02064826525747776, 0.002609590534120798, -0.04177520424127579, 0.008137461729347706, 0.02449941635131836, 0.01921224221587181, 0.0012633191654458642, 0.006538254674524069, -0.04066555202007294, 0.0049934424459934235, -0.01143378671258688, 0.013979462906718254, -0.015121754258871078, 0.007321539800614119, 0.004076890181750059, 0.031897109001874924, 0.005480275955051184, -0.03868557885289192, -0.010307813994586468, 0.02228011004626751, 0.005646179895848036, 0.033115554600954056, 0.036183420568704605, -0.007724061142653227, 0.03289797529578209, -0.00843119341880083, 0.027001578360795975, -0.01455604750663042, 0.03927304595708847, -0.025043364614248276, -0.005983427632600069, -0.008746683597564697, -0.0009117927984334528, -0.04717116802930832, 0.025195671245455742, 0.014381984248757362, 0.023803163319826126, 0.030374055728316307, 0.00908937118947506, 0.03862030804157257, 0.016829749569296837, -0.020757054910063744, 0.019386306405067444, -0.024934574961662292, 0.016818871721625328, -0.028437599539756775, 0.0012612793361768126, 0.013707488775253296, -0.010873519815504551, -0.01888587325811386, 0.030656907707452774, -0.03942535072565079, -0.0068918210454285145, 0.022432414814829826, -0.003462228924036026, 0.008229932747781277, -0.023607341572642326, -0.010998628102242947, 0.012086523696780205, 0.04097016155719757, -0.017558639869093895, 0.0025293580256402493, -0.011716639623045921, -0.05913802608847618, -0.031875353306531906, 0.010296935215592384, -0.0009913451503962278, 0.0046861120499670506, -0.03901194781064987, -0.014534289948642254, 0.013479030691087246, -0.0003872229717671871, -0.045299988240003586, 0.012086523696780205, 0.012184434570372105, -0.004161201883107424, 0.027240915223956108, -0.003611814696341753, -0.02924264408648014, -0.01837456226348877, 0.04123125597834587, -0.004988003056496382, -0.053306903690099716, 0.015469880774617195, 0.00392186501994729, 0.01507823821157217, -0.04782390594482422, -0.028045957908034325, 0.030112959444522858, 0.03022174909710884, 0.022193077951669693, -0.0020615628454834223, 0.05443831533193588, -0.005727772135287523, -0.027110368013381958, -0.028307052329182625, 0.021921103820204735, -0.0015339333331212401, 0.04939047619700432, -0.01543724350631237, -0.019821465015411377, 0.00742489006370306, 0.0026966221630573273, 0.06013888865709305, -0.01961476355791092, 0.03324609994888306, 0.023563826456665993, 0.001283717225305736, -0.023607341572642326, 0.031048551201820374, 0.01280453521758318, -0.025522038340568542, -0.0018399039981886744, -0.011999492533504963, 0.041274771094322205, 0.026348840445280075, -0.03152722492814064, -0.002313138684257865, -0.01647074520587921, 0.019233999773859978, -0.004373341798782349, 0.019495096057653427, 0.0031249811872839928, -0.0021880308631807566, -0.00043277861550450325, 0.006380509585142136, 0.016557777300477028, 0.024086017161607742, 0.013239693827927113, -0.02689278870820999, -0.022432414814829826, 0.008142901584506035, 0.0017977480310946703, 0.018004678189754486, -0.02606598660349846, 0.008474709466099739, -0.048172034323215485, -0.014730111695826054, 0.008023233152925968, 0.03746713697910309, 0.03724955767393112, 0.006190128158777952, 0.005376925691962242, 0.012586955912411213, -0.047649841755628586, 0.008561741560697556, -0.003992578014731407, -0.022497689351439476, -0.005088633392006159, 0.00986721646040678, 0.043167710304260254, -0.04708413779735565, -0.005077754613012075, 0.05583082139492035, -0.015872402116656303, -0.021855829283595085, -0.042232122272253036, 0.013729247264564037, 0.07650084048509598, -0.013294088654220104, 0.05030430853366852, 0.032484572380781174, 0.029068579897284508, 0.005901835393160582, 0.01863565854728222, -0.038663823157548904, 0.02767607383430004, -0.010204464197158813, -0.006059580482542515, 0.009535407647490501, 0.0068863811902701855, 0.03137492015957832, -0.042232122272253036, 0.0045365262776613235, -0.008507346734404564, 0.004041533451527357, -0.02852463163435459, -0.010427482426166534, -0.027066851034760475, 0.006494739092886448, 0.02728443033993244, -0.000978426425717771, 0.07824147492647171, -0.03313731029629707, -0.01889675296843052, 0.006021504290401936, -0.053002290427684784, -0.015556911937892437, -0.018722688779234886, 0.01966915838420391, 0.04236266762018204, 0.010302375070750713, 0.03577001765370369, 0.00650017848238349, -0.0027183799538761377, -0.0019486936507746577, -0.05439479649066925, 0.0034785473253577948, 0.016264043748378754, -0.02312866784632206, 0.011074780486524105, 0.031157340854406357, 0.06422937661409378, -0.02989538013935089, -0.03128788620233536, -0.013598699122667313, -0.02188846655189991, -0.03113558143377304, -0.006750394590198994, -0.008817397058010101, -0.009812821634113789, 0.009704031981527805, 0.0005415682098828256, 0.009279752150177956, 0.04756281152367592, 0.007408571429550648, 0.014697474427521229, 0.018461594358086586, -0.025565555319190025, 0.008447512052953243, -0.009981445036828518, -0.0013721088180318475, -0.01772182434797287, 0.04943399131298065, -0.03981699049472809, 0.004082329571247101, -0.020615627989172935, 0.023302732035517693, 0.011422907933592796, -0.0048139397986233234, -0.028241779655218124, -0.010982309468090534, -0.06327202916145325, 0.011194449849426746, -0.004332545679062605, -0.01718875579535961, 0.0054721166379749775, 0.01452341116964817, -0.022116925567388535, 0.010291495360434055, -0.015600427985191345, 0.01455604750663042, 0.002098279306665063, -0.028633421286940575, 0.025456765666604042, -0.011858065612614155, -0.009812821634113789, 0.019527733325958252, -0.0069570946507155895, 0.0013619097881019115, 0.015861522406339645, 0.001838544150814414, 0.001397946267388761, -0.03492145985364914, 0.002189390594139695, -0.002869325689971447, -0.028350569307804108, -0.011912460438907146, 0.0031168218702077866, 0.023237457498908043, -0.037488896399736404, -0.001331992563791573, 0.012608714401721954, 0.03920777142047882, -0.0417969636619091, -0.021344518288969994, 0.02338976226747036, 0.015752732753753662, 0.0026667050551623106, -0.034812670201063156, -0.01986498013138771, -0.06396828591823578, 0.0050641559064388275, -0.028872758150100708, 0.021670887246727943, 0.004155762493610382, -0.011640486307442188, 0.011912460438907146, -0.004726908169686794, -0.009801942855119705, 0.013250572606921196, -0.008257130160927773, 0.016644807532429695, 0.012597835622727871, 0.008235372602939606, 0.021029029041528702, 0.022171320393681526, -0.0052790152840316296, -0.0075499978847801685, 0.024151289835572243, -0.007887246087193489, -0.01902730017900467, 0.00447669206187129, -0.05282822623848915, 0.004588201176375151, -0.022584719583392143, -0.019386306405067444, 0.00011788372648879886, 0.021736161783337593, 0.006967973429709673, 0.00167264009360224, -0.013827157206833363, 0.014697474427521229, -0.02241065725684166, 0.008333283476531506, -0.04214508831501007, 0.01863565854728222, 0.005793046206235886, 0.017101723700761795, 0.011575212702155113, 0.014218799769878387, 0.03962117061018944, -0.056570589542388916, 0.02436886914074421, 0.01764567196369171, 0.02260647714138031, 0.01994113251566887, 0.0004973724135197699, 0.02273702621459961, -0.014175284653902054, 0.04070906713604927, 0.013250572606921196, 0.0072508263401687145, -0.0015516115818172693, -0.001997648971155286, 0.03864206373691559, -0.004710589535534382, 0.011814550496637821, -0.024869302287697792, 0.01791764609515667, 0.04242794215679169, 0.054481830447912216, -0.009007778950035572, 0.0221386831253767, 0.00165768142323941, 0.001616885419934988, -0.010351330041885376, -0.021660009399056435, -0.02793716825544834, -0.030461085960268974, -0.010068477131426334, -0.0009403500589542091, 0.016111738979816437, -0.021126938983798027, -0.020757054910063744, 0.018407199531793594, 0.023106910288333893, -0.0025415970012545586, -0.03400762751698494, 0.023933710530400276, -0.0020207667257636786, 0.011227086186408997, -0.012989478185772896, -0.003603655379265547, 0.030199991539120674, -0.009616999886929989, -0.03250633180141449, -0.03672736883163452, 0.026240050792694092, -0.004487570840865374, -0.028568148612976074, -0.022171320393681526, 0.02528270147740841, 0.03135316073894501, -0.026153018698096275, -0.03679263964295387, -0.010291495360434055, -0.03368125855922699, 0.007800213992595673, 0.01679711416363716, -0.008801078423857689, -0.001561130746267736, 0.04656194522976875, 0.016394592821598053, 0.007441208232194185, -0.027414977550506592, 0.016068223863840103, 0.0053578875958919525, -0.028742210939526558, -0.04303716495633125, 0.03204941377043724, 0.009731229394674301, 0.01751512475311756, -0.017177877947688103, 0.033050280064344406, -0.03015647642314434, 0.03285445645451546, 0.07680545747280121, -0.01517614908516407, -0.03457333520054817, 0.009056733921170235, 0.0003562859201338142, 0.05100056156516075, 0.003935463726520538, -0.016644807532429695, -0.04334177449345589, -0.026609934866428375, -0.008594377897679806, -0.012586955912411213, -0.023433279246091843, -0.007685984950512648, -0.0006996531155891716, 0.02748025208711624, 0.010634182952344418, 0.06170545890927315, -0.009791064076125622, 0.009970566257834435, 0.01713436096906662, -0.020234864205121994, -0.015905039384961128, -0.00830064620822668, -0.01429495308548212, -0.008251691237092018, 0.032158203423023224, -0.0004110206791665405, -0.012663109228014946, -0.0065436940640211105, -0.011640486307442188, -0.020300138741731644, 0.005417721811681986, 0.007060444913804531, -0.03418169170618057, 0.00380219635553658, -0.0033915156964212656, 0.038011085242033005, -0.01358782034367323, 0.001397946267388761, -0.00099270511418581, -0.024978091940283775, -0.023172184824943542, 0.000996104790829122, 0.004000737331807613, 0.01857038401067257, -0.0033316814806312323, 0.00742489006370306, -0.03672736883163452, -0.033441923558712006, -0.009453816339373589, 0.0006129613611847162, -0.01198861375451088, -0.0063641914166510105, -0.009524528868496418, 0.021442430093884468, -0.005314371548593044, -0.019571248441934586, 0.038533274084329605, -0.025717860087752342, -0.021529460325837135, -0.0006843545706942677, -0.017536882311105728, 0.07528240233659744, 0.040295667946338654, 0.010786488652229309, 0.02410777471959591, -0.022649994120001793, -0.010900717228651047, -0.015502517111599445, 0.014588684774935246, 0.012227950617671013, 0.03439927101135254, -0.0055863456800580025, 0.03972996026277542, 0.02528270147740841, -0.014077373780310154, 0.023759648203849792, -0.0064294650219380856, 0.04669249430298805, -0.00888810958713293, -0.009878095239400864, -0.0034295921213924885, 0.014120889827609062, 0.012608714401721954, 0.055917851626873016, -0.0036689292173832655, 0.00023729731037747115, 0.04332001879811287, 0.008387678302824497, -6.467881757998839e-05, -0.022116925567388535, -0.04425560683012009, 0.011346754617989063, -0.03107030875980854, -0.031810078769922256, 0.00190109817776829, -0.023803163319826126, -0.03322434425354004, -0.023106910288333893, -0.02761079929769039, -0.03202765807509422, -0.01816786266863346, -0.041340045630931854, -0.000894794415216893, -0.022911088541150093, 0.031048551201820374, 0.014240558259189129, -0.03792405128479004, 0.010177266784012318, 0.01648162305355072, 0.03927304595708847, 0.07088729739189148, -0.02528270147740841, -0.01603558659553528, 0.0009614280425012112, -0.0036417318042367697, 0.008937065489590168, 0.05204494297504425, -0.004142163787037134, 0.04956454038619995, -0.023803163319826126, -0.043494079262018204, 0.03224523738026619, 0.014904174953699112, 0.01511087454855442, 0.011640486307442188, 0.0019337350968271494, -0.0022465051151812077, 0.04899883270263672, 0.01022622175514698, 0.04018687829375267, 0.04064379259943962, 0.006761273369193077, 0.01961476355791092, 0.013533425517380238, -0.015622185543179512, 0.0017215952975675464, 0.007669666316360235, -0.032158203423023224, 0.012130039744079113, 0.04070906713604927, -0.024542933329939842, -0.012619593180716038, -0.00039810192538425326, 0.012380256317555904, -0.01179279200732708, 0.02430359646677971, -0.028089473024010658, -0.014697474427521229, 0.025717860087752342, -0.006195567548274994, 0.011412028223276138, 0.020408928394317627, 0.014218799769878387, -0.01439286395907402, -0.03929480165243149, 0.025630827993154526, 0.028676938265562057, -0.03333313390612602, -0.005134868901222944, -0.022780541330575943, -0.016720961779356003, 0.009986884891986847, -0.011705760844051838, 0.0007622070843353868, 0.008219053968787193, 0.015578670427203178, -0.012565198354423046, -0.038467999547719955, -0.013370241038501263, -0.01360957883298397, -0.011401149444282055, -0.034877944737672806, -0.005325250793248415, 0.03537837788462639, 0.010144629515707493, -0.0025687944144010544, 0.019049057736992836, 0.0031304205767810345, 0.009557166136801243, -0.008621575310826302, -0.03674912452697754, 0.022562962025403976, 0.007397692650556564, 0.0012775978539139032, -0.010313253849744797, -0.05974724516272545, 0.01156433392316103, -0.004599079955369234, -0.0026857431512326, -0.005629861727356911, -0.029938897117972374, 0.03041757084429264, -0.017819736152887344, -0.022715266793966293, -0.0022641834802925587, 0.018156982958316803, 0.02845935896039009, 0.03864206373691559, -0.005246378481388092, 0.001397946267388761, -0.027893653139472008, 0.04170992970466614, 0.005545549560338259, -0.005167505703866482, 0.03909898176789284, -0.014773626811802387, -0.008197296410799026, -0.024064257740974426, -0.011270602233707905, -0.0004793541447725147, 0.00041612019413150847, -0.017808856442570686, 0.018537746742367744, 0.028568148612976074, -0.011836308054625988, -0.004618118517100811, 0.008333283476531506, -0.01862477883696556, -0.046736009418964386, -0.01614437624812126, 0.0018426238093525171, -0.009888974018394947, -0.002393371192738414, 0.013500789180397987, -0.006320675369352102, -0.015850644558668137, -0.009176402352750301, -0.010373087599873543, 0.01533933263272047, 0.00017525324074085802, -0.01387067325413227, 0.001997648971155286, 0.05765848606824875, 0.024455901235342026, 0.043733417987823486, 0.019843222573399544, 0.00394090311601758, -0.01019358541816473, 0.004634436685591936, -0.022649994120001793, -0.018613899126648903, -0.006701439153403044, -0.03054811805486679, 0.03196238353848457, 0.0016767196357250214, 0.01688414439558983, 0.01589415967464447, -0.02241065725684166, 0.005869198590517044, 0.008044990710914135, -0.01231498271226883, 0.026370598003268242, 0.017623914405703545, 0.03622693568468094, 0.009170962497591972, -0.00074928835965693, 0.00011669383820844814, 0.01540460716933012, 0.0053225308656692505, -0.02169264480471611, 0.01948421634733677, 0.0013517107581719756, -0.022203955799341202, 0.0107429726049304, -0.026153018698096275, -0.023215699940919876, -0.01257607713341713, -0.006647044327110052, 0.006527375895529985, -0.0006455982802435756, -0.013479030691087246, 0.006788470782339573, 0.00045317664626054466, -0.0014768188120797276, 0.018124347552657127, 0.013761883601546288, -0.003451349912211299, 0.018222257494926453, -0.007495603058487177, -0.002071081893518567, -0.004017055965960026, 0.0035954960621893406, 0.023498551920056343, 0.0036471711937338114, -0.004283590242266655, -0.01257607713341713, -0.0005157307023182511, -0.025848407298326492, 0.004011616576462984, 0.029068579897284508, -0.001654961728490889, 0.028611663728952408, 0.004762264434248209, -0.04925993084907532, -0.01614437624812126, 0.019070815294981003, -0.010498195886611938, 0.0006619166815653443, 0.03320258483290672, -0.028176505118608475, -0.02345503680408001, 0.03668384999036789, -0.031179098412394524, 0.004533806350082159, -0.034747395664453506, -0.03080921433866024, 0.00817009899765253, 0.009595242328941822, 0.013337604701519012, -0.04460373520851135, 0.02072441764175892, 0.020865844562649727, 0.007495603058487177, -0.019560368731617928, -0.03505200892686844, -0.011422907933592796, -0.015578670427203178, -0.03376828879117966, -0.009840019047260284, -0.0016767196357250214, 0.03128788620233536, 0.01000320352613926, 0.019005542621016502, 0.04070906713604927, 0.013109146617352962, 0.0025375173427164555, -0.008284327574074268, -0.012108282186090946, 0.0026857431512326, -0.04129653051495552, -0.01387067325413227, 0.028763968497514725, 0.04086137190461159, 0.005450358614325523, 0.045691631734371185, -0.012521682307124138, -0.01015550922602415, 0.007647908758372068, -0.009176402352750301, -0.020604750141501427, -0.03294149041175842, -0.005385085009038448, 0.012869808822870255, -0.0024477660190314054, -0.017308425158262253, -0.012173555791378021, -0.007707742974162102, -0.01439286395907402, -0.01570921763777733, 0.010694017633795738, -0.005352448206394911, -0.034486301243305206, 0.030004169791936874, -0.006973413284868002, 0.009660515934228897, 0.006037822458893061, -0.017471609637141228, 0.0031440192833542824, 0.0030189112294465303, -0.04234091192483902, 0.011085660196840763, 0.0007288902997970581, -0.0064131468534469604, 0.0003214392636436969, -0.008648772723972797, -0.009992324747145176, -0.017047328874468803, -0.007011489477008581, 0.00488465279340744, -0.031092066317796707, -0.008023233152925968, 3.756640580832027e-05, -0.008409435860812664, 0.00421831663697958, -0.03920777142047882, -0.03283270075917244, -0.011368513107299805, -0.011134615167975426, 0.006560012698173523, 0.003339840564876795, 0.016177013516426086, 0.021290123462677002, -0.0032800063490867615, -0.011422907933592796, 0.013011235743761063, -0.028959790244698524, -0.017678309231996536, -0.05887692794203758, -0.010797367431223392, 0.005284454673528671, -0.005608103703707457, -0.016133496537804604, 0.001172887859866023, 0.0008070828043855727, 0.015730975195765495, 0.020735297352075577, 0.01752600446343422, 0.04162289947271347, -0.011847186833620071, 0.02247592993080616, -0.008121143095195293, 0.007125718519091606, -0.016329318284988403, -0.011499060317873955, 0.015448122285306454, -0.011781913228332996, 0.016971176490187645, 0.012260587885975838, -0.009823700413107872, -0.01360957883298397, 0.0052436585538089275, -0.028763968497514725, -0.025065122172236443, -0.009818261489272118, 0.024064257740974426, 0.028089473024010658, 0.022116925567388535, 0.019201364368200302, -0.05043485760688782, -0.012086523696780205, -0.028894517570734024, -0.009268873371183872, 0.01348990947008133, 0.01543724350631237, -0.015154390595853329, -0.029286159202456474, -0.003475827630609274, 0.01849423162639141, -0.010188145563006401, -0.050260793417692184, -0.007968838326632977, 0.030004169791936874, 0.04560459777712822, -0.025652587413787842, -0.012499924749135971, 0.004936327692121267, -0.002091479953378439, 0.0026463069953024387, 0.013272331096231937, 0.04717116802930832, 0.0007900844211690128, 0.022171320393681526, -0.026044229045510292, -0.005684256553649902, -0.011129175312817097, -0.03217996284365654, 0.04577866196632385, 0.017678309231996536, 0.025260943919420242, -0.009758426807820797, 0.03714076802134514, -0.04969508573412895, -0.017297545447945595, -0.009268873371183872, -0.004174800589680672, -0.01817874237895012, 0.0009457895648665726, -0.002980835037305951, 0.010481877252459526, -0.0008016433566808701, -0.02547852322459221, 0.011014946736395359, -0.015023843385279179, -0.014817142859101295, -0.011596971191465855, 0.02689278870820999, -0.02950373850762844, -0.023433279246091843, -0.05069595202803612, -0.022584719583392143, -0.00682110758498311, 0.0016848788363859057, -0.029264401644468307, 0.00999776367098093, -0.02209516614675522, 0.004871054086834192, -0.02567434497177601, 0.0017705506179481745, 0.03276742622256279, 0.00599430687725544, 0.01234761904925108, 0.011542576365172863, -0.006967973429709673, 0.009470134042203426, 0.01803731545805931, 0.015099995769560337, 0.007968838326632977, 0.0066579231061041355, 0.024325354024767876, -0.024390626698732376, 0.017993798479437828, 0.03550892323255539, 0.009045855142176151, 0.004555564373731613, -0.004930888302624226, -0.017863251268863678, 0.011509939096868038, -0.00830608606338501, 0.0022981802467256784, 0.05452534556388855, -0.001002224162220955, 0.03955589607357979, 0.012586955912411213, -0.013663973659276962, 0.0021907505579292774, 0.01654689759016037, 0.012750140391290188, 0.03816339001059532, -0.02704509347677231, -0.034682124853134155, 0.001852142857387662, -0.01863565854728222, -0.01765655167400837, -0.01387067325413227, 0.013979462906718254, 0.008186416700482368, -0.014697474427521229, 0.014893295243382454, -0.003220172133296728, 0.0034785473253577948, 0.011379391886293888, -0.013217936269938946, 0.02554379776120186, -0.022715266793966293, -0.0012653589947149158, -0.007609832100570202, 0.02143155038356781, -0.003837553085759282, 0.049477506428956985, 0.001002224162220955, -0.03557419776916504, -0.050391342490911484, -0.011520817875862122, -0.031548984348773956, 0.007718621753156185, -0.00788180623203516, -0.022693509235978127, 0.014730111695826054, -0.004620837979018688, -0.008485588245093822, -0.019005542621016502, 0.012761019170284271, -0.0022152280434966087, -0.018200499936938286, 0.006228204350918531, -0.008219053968787193, -0.005072314757853746, -0.006206446327269077, 0.0025456766597926617, -0.013979462906718254, 0.018918510526418686, 0.017797978594899178, -0.012227950617671013, -0.0052735754288733006, 0.024412386119365692, -0.01811346784234047, 0.027893653139472008, -0.024325354024767876, -0.018211377784609795, 0.0006551173282787204, 0.03888140246272087, -0.01889675296843052, -0.004925448913127184, 0.03509552404284477, 0.02371613122522831, 0.004971684422343969, 0.021290123462677002, -0.005874637980014086, -0.011520817875862122, 0.008121143095195293, -0.0068918210454285145, 0.00019701116252690554, 0.008093945682048798, 0.025891924276947975, -0.016568655148148537, 0.026414113119244576, 0.01674271933734417, 0.024281837046146393, -0.010606985539197922, -0.008692288771271706, -0.05256713181734085, -0.01267398800700903, -0.03844624385237694, -0.02560907043516636, -0.005336129572242498, 0.010585227981209755, 0.00444677472114563, -0.0023716131690889597, -0.03385532274842262, -0.009372224099934101, -0.014490773901343346, 0.02839408442378044, -0.013500789180397987, 0.03200589865446091, 0.008442072197794914, 0.03727131709456444, 0.0039517818950116634, 0.019690915942192078, -0.006570891477167606, 0.015872402116656303, 0.021529460325837135, 0.0001707486662780866, 0.00011125436139991507, -0.0062934779562056065, 0.012260587885975838, -0.006331554614007473, -0.010389406234025955, -0.02077881246805191, 0.00690813921391964, 0.01231498271226883, 0.024999849498271942, 0.011738397181034088, 0.016514260321855545, -0.015654822811484337, 0.04599624127149582, -0.01635107584297657, 0.02273702621459961, -0.008099385537207127, 0.03848975896835327, -0.034029386937618256, -0.012880688533186913]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-14T10:14:34.341821", "url_path": "/api/tools/", "chunk_size": 3942}
updated_dt: 2025-03-14T10:14:34.341821
---
Defaults to False.
    """
    if takes_ctx is None:
      takes_ctx = _pydantic.takes_ctx(function)
    f = _pydantic.function_schema(function, takes_ctx, docstring_format, require_parameter_descriptions)
    self.function = function
    self.takes_ctx = takes_ctx
    self.max_retries = max_retries
    self.name = name or function.__name__
    self.description = description or f['description']
    self.prepare = prepare
    self.docstring_format = docstring_format
    self.require_parameter_descriptions = require_parameter_descriptions
    self._is_async = inspect.iscoroutinefunction(self.function)
    self._single_arg_name = f['single_arg_name']
    self._positional_fields = f['positional_fields']
    self._var_positional_field = f['var_positional_field']
    self._validator = f['validator']
    self._parameters_json_schema = f['json_schema']
  async defprepare_tool_def(self, ctx: RunContext[AgentDepsT]) -> ToolDefinition | None:
"""Get the tool definition.
    By default, this method creates a tool definition, then either returns it, or calls `self.prepare`
    if it's set.
    Returns:
      return a `ToolDefinition` or `None` if the tools should not be registered for this run.
    """
    tool_def = ToolDefinition(
      name=self.name,
      description=self.description,
      parameters_json_schema=self._parameters_json_schema,
    )
    if self.prepare is not None:
      return await self.prepare(ctx, tool_def)
    else:
      return tool_def
  async defrun(
    self, message: _messages.ToolCallPart, run_context: RunContext[AgentDepsT]
  ) -> _messages.ToolReturnPart | _messages.RetryPromptPart:
"""Run the tool function asynchronously."""
    try:
      if isinstance(message.args, str):
        args_dict = self._validator.validate_json(message.args)
      else:
        args_dict = self._validator.validate_python(message.args)
    except ValidationError as e:
      return self._on_error(e, message)
    args, kwargs = self._call_args(args_dict, message, run_context)
    try:
      if self._is_async:
        function = cast(Callable[[Any], Awaitable[str]], self.function)
        response_content = await function(*args, **kwargs)
      else:
        function = cast(Callable[[Any], str], self.function)
        response_content = await _utils.run_in_executor(function, *args, **kwargs)
    except ModelRetry as e:
      return self._on_error(e, message)
    self.current_retry = 0
    return _messages.ToolReturnPart(
      tool_name=message.tool_name,
      content=response_content,
      tool_call_id=message.tool_call_id,
    )
  def_call_args(
    self,
    args_dict: dict[str, Any],
    message: _messages.ToolCallPart,
    run_context: RunContext[AgentDepsT],
  ) -> tuple[list[Any], dict[str, Any]]:
    if self._single_arg_name:
      args_dict = {self._single_arg_name: args_dict}
    ctx = dataclasses.replace(
      run_context,
      retry=self.current_retry,
      tool_name=message.tool_name,
      tool_call_id=message.tool_call_id,
    )
    args = [ctx] if self.takes_ctx else []
    for positional_field in self._positional_fields:
      args.append(args_dict.pop(positional_field))
    if self._var_positional_field:
      args.extend(args_dict.pop(self._var_positional_field))
    return args, args_dict
  def_on_error(
    self, exc: ValidationError | ModelRetry, call_message: _messages.ToolCallPart
  ) -> _messages.RetryPromptPart:
    self.current_retry += 1
    if self.max_retries is None or self.current_retry > self.max_retries:
      raise UnexpectedModelBehavior(f'Tool exceeded max retries count of {self.max_retries}') fromexc
    else:
      if isinstance(exc, ValidationError):
        content = exc.errors(include_url=False)
      else:
        content = exc.message
      return _messages.RetryPromptPart(
        tool_name=call_message.tool_name,
        content=content,
        tool_call_id=call_message.tool_call_id,
      )

```
  
---|---  
####  __init__