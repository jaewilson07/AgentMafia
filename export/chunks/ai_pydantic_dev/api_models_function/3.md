---
url: https://ai.pydantic.dev/api/models/function/
session_id: pydantic_ai_docs
chunk_number: 3
title: FunctionModel Class Overview
summary: The FunctionModel class is a dataclass that represents a model controlled by a local function. It requires either a function or a stream function for initialization, and all methods except for __init__ are private or inherited from the base class.
embedding: [-0.000506932265125215, 0.02965439110994339, -0.007297378033399582, -0.04416351020336151, 0.013824035413563251, 0.0005134313832968473, -0.014778261072933674, -0.05324088782072067, -0.004413292743265629, 0.0264491718262434, -0.0023458043579012156, -0.03951472043991089, -0.0023993265349417925, -0.053094085305929184, -0.02879803441464901, -0.027745939791202545, -0.02510347031056881, 0.021445605903863907, 0.02363543026149273, 0.04377203434705734, 0.056910984218120575, -0.009340398944914341, -0.04002853482961655, 0.0011514932848513126, 0.021506773307919502, -0.018668564036488533, -0.0393434502184391, 0.02359873056411743, -0.0491793118417263, -0.038584962487220764, 0.06611070036888123, -0.01377510093152523, -0.06337035447359085, -0.04259760305285454, -0.012349879369139671, -0.007181158289313316, 0.01883983612060547, 0.03508613631129265, -0.02397797256708145, 0.05103882774710655, -0.018056882545351982, -0.08201445639133453, 0.0062942178919911385, 0.01586705632507801, -0.003144050482660532, 0.0021255984902381897, 0.004563155118376017, 0.022045055404305458, 0.012025687843561172, 0.02151900716125965, -0.008630846627056599, -0.008159850724041462, 0.020246706902980804, -0.030119270086288452, 0.00226169778034091, 0.015438878908753395, -0.03124476782977581, 0.006850849371403456, -0.021555708721280098, 0.036480773240327835, 0.026498107239603996, -0.017298394814133644, -0.02806401625275612, 0.012527267448604107, -0.00041670905193313956, -0.02487103082239628, -0.04294014722108841, -0.03347129374742508, -0.02372106723487377, 0.027378931641578674, -0.06077682226896286, 0.012759706936776638, -0.011524107307195663, -0.024173712357878685, -0.05020694062113762, -0.012074622325599194, 0.009731876663863659, 0.02274237386882305, -0.0014535117661580443, -0.005508205387741327, 0.02926291525363922, 0.00042053204379044473, 0.025299208238720894, 0.018032414838671684, -0.0073830136097967625, -0.011267201043665409, -0.05558975040912628, -0.003449892159551382, -0.010906307958066463, -0.05930878221988678, -0.00800081342458725, -0.022583335638046265, -0.06439798325300217, 0.0009075846173800528, 0.09248647093772888, 0.016050562262535095, -4.7954992623999715e-05, -0.012576201930642128, 0.018374957144260406, 0.00352023565210402, 0.024161478504538536, -0.014191045425832272, -0.02757466956973076, -0.024149244651198387, 0.02532367594540119, -0.005046384874731302, -0.018546229228377342, 0.015671318396925926, -0.019904164597392082, 0.02916504442691803, 0.004284839145839214, 0.004260371904820204, 0.049154844135046005, -0.030559683218598366, -0.08431438356637955, -0.0006961717153899372, -0.05852583050727844, -0.002339687431231141, -0.04744213446974754, -0.020454678684473038, 0.005792637821286917, 0.03281067684292793, 0.022191859781742096, 0.0045753889717161655, -0.008233252912759781, -0.01650320738554001, 0.004795594606548548, -0.024198180064558983, -0.06674684584140778, -0.04651237651705742, 0.029703326523303986, -0.01230094488710165, -0.02177591435611248, -0.05128350108861923, -0.035746753215789795, -0.011389537714421749, -0.0553450770676136, -0.010551531799137592, -0.03334895521402359, 0.017286160960793495, 0.010160054080188274, -0.01427668146789074, -0.0016408396186307073, 0.012453865259885788, 0.011065345257520676, 0.0332266204059124, 0.0062636337243020535, 0.00446222722530365, -0.033642563968896866, -0.015695786103606224, 0.006165764760226011, 0.024687524884939194, 0.029067175462841988, 0.0010765620972961187, 0.009872563183307648, -0.01857069507241249, 0.012869809754192829, 0.025250274688005447, 0.0713467076420784, 0.015402177348732948, 0.018803134560585022, 0.002841267501935363, -0.029801195487380028, -0.011077579110860825, -0.05387703701853752, 0.021249867975711823, -0.05348556116223335, -0.01684574969112873, -0.047907013446092606, -0.05368129909038544, 0.01101029384881258, 0.040909357368946075, -0.002674583811312914, 0.03645630553364754, 0.01310224924236536, -0.028259754180908203, -0.09126310050487518, -0.05250686779618263, -0.010673868469893932, -0.01612396351993084, 0.02424711361527443, -0.010062185116112232, -0.05519827455282211, -0.009578955359756947, -0.056030161678791046, 0.03310428187251091, 0.004740543197840452, 0.010863490402698517, 0.05563868582248688, 0.044970933347940445, -0.02904270775616169, 0.036725446581840515, 0.027599137276411057, 0.010129470378160477, -0.009481086395680904, -0.005991434678435326, 0.05015800520777702, -0.038438159972429276, 0.0504516139626503, 0.021678045392036438, 0.00513813691213727, 0.00658782571554184, 0.003810785012319684, -0.05128350108861923, 0.002353450283408165, -0.01612396351993084, -0.06562135368585587, 0.04949738830327988, -0.05402384325861931, 0.01585482247173786, 0.010233456268906593, -0.049521856009960175, 0.002541542751714587, -0.016038328409194946, -0.016772348433732986, 0.029727794229984283, -0.046683646738529205, -0.038927506655454636, -0.010306858457624912, 0.007028237450867891, 0.024638591334223747, 0.028112949803471565, 0.04665917903184891, 0.005560198333114386, 0.015463345684111118, 0.05392597243189812, -0.01346925925463438, -0.05079415440559387, -0.03026607446372509, 0.01027015782892704, 0.02742786519229412, -0.011340602301061153, 0.03038841113448143, -0.03100009448826313, -0.031097963452339172, -0.0652788057923317, 0.004171677865087986, -0.0022509933914989233, 0.05338769033551216, -0.0454847477376461, -0.01624630019068718, 0.0009756343788467348, -0.01426444761455059, 0.018656332045793533, 0.03295747935771942, 0.017543068155646324, 0.011053111404180527, -0.02117646485567093, -0.0007546638953499496, 0.04846975952386856, 0.06664898246526718, -0.05069628730416298, 0.0264736395329237, 0.018032414838671684, -0.04352736100554466, 0.037704139947891235, -0.004193087108433247, -0.006887550465762615, -0.07217859476804733, -0.006113771349191666, -0.03498826548457146, -0.01945151947438717, -0.01981852948665619, 0.014350082725286484, -0.01426444761455059, -0.014582522213459015, -0.02779487520456314, -0.02325618825852871, 0.04961972311139107, -0.01427668146789074, 0.049399517476558685, -0.003367314813658595, -0.0033397891093045473, 0.012563969008624554, -0.024051375687122345, 0.00037866999628022313, 0.012215309776365757, 0.05818328633904457, 0.029580989852547646, -0.03503720089793205, 0.019708426669239998, 0.007309611886739731, 0.06361503154039383, -0.004893464036285877, -0.0246018897742033, 0.056519508361816406, -0.011267201043665409, 0.010900191031396389, -0.02299928106367588, -0.011891117319464684, -0.018680797889828682, 0.0022112340666353703, -0.018913237378001213, -0.046561308205127716, 0.011414004489779472, 0.0010673868237063289, -0.015659084543585777, -0.009101842530071735, 0.008117033168673515, 0.0276970062404871, 0.015145271085202694, 0.0029269030783325434, -0.05686205253005028, 0.018644098192453384, -0.03645630553364754, 0.014778261072933674, 0.019011108204722404, 0.012209192849695683, 0.06914464384317398, 0.0003020184813067317, 0.0381200835108757, 0.02507900260388851, -0.051136698573827744, -0.006593942642211914, -0.012472216039896011, -0.008117033168673515, 0.03276174142956734, 0.028259754180908203, 0.004034049343317747, 0.03153837472200394, -0.02840655855834484, -0.02720765955746174, -0.014594756066799164, -0.01625853404402733, 0.020479146391153336, 0.03848709538578987, 0.01353042759001255, -0.017273927107453346, -0.018619630485773087, 0.008514626882970333, -0.03396064043045044, -0.0021668870467692614, -0.04969312623143196, -0.048274021595716476, 0.042401865124702454, -0.01992863230407238, -0.02940971776843071, 0.011591392569243908, 0.029091643169522285, 0.07071055471897125, -0.031660713255405426, -0.0038230186328291893, -0.05030480772256851, 0.029874596744775772, -0.02803954854607582, -0.02977672778069973, 0.01624630019068718, 0.02154347486793995, -0.054806794971227646, 0.021323269233107567, 0.02019777148962021, -0.0032021603547036648, -0.003670098027214408, 0.03310428187251091, -0.02989906445145607, -0.030828822404146194, 0.04076255485415459, 0.008441225625574589, 0.0026699963491410017, -0.00034426283673383296, -0.043625231832265854, 0.03381383419036865, -0.022974813356995583, -0.037581801414489746, -0.04864102974534035, 0.021837083622813225, -0.018754201009869576, -0.024687524884939194, -0.06992760300636292, -0.010863490402698517, -0.0009060554439201951, 0.022057289257645607, -0.010306858457624912, -0.0038169019389897585, -0.027599137276411057, -0.0640554428100586, 0.003590579144656658, 0.0067835645750164986, 0.031073495745658875, 0.005031092558056116, 0.07594656199216843, -0.015512281097471714, 0.03547761216759682, -0.04000406712293625, 0.03259047120809555, 0.006288100965321064, 0.004058516584336758, 0.01039249449968338, -0.026253433898091316, 0.0356978178024292, 0.030951159074902534, -0.027648070827126503, -0.016576608642935753, 0.011982869356870651, 0.03422978147864342, 0.030461812391877174, 0.03897644206881523, 0.020968493074178696, 0.04712405800819397, -0.026865117251873016, 0.02571515366435051, 0.024185946211218834, 0.0005501324194483459, -0.012551735155284405, -0.003498826641589403, 0.0024864913430064917, 0.03652970865368843, 0.019855229184031487, 0.009566722437739372, 0.029091643169522285, 0.020356809720396996, -0.05397490784525871, 0.026424705982208252, 0.01957385614514351, -0.004128860309720039, -0.05108776316046715, 0.01896217279136181, 0.019953100010752678, 0.027966147288680077, 0.05245793238282204, -0.0010903249494731426, -0.07486999779939651, 0.0001588464219821617, -0.02142113819718361, -0.03682331740856171, 0.054072774946689606, 0.03829135373234749, -0.07883370667695999, 0.025641750544309616, -0.04807828366756439, -0.012245893478393555, -0.023305121809244156, 0.037116922438144684, 0.02040574513375759, 0.03726372867822647, -0.00018216684111393988, -0.04489753022789955, -0.030315009877085686, 0.02435721643269062, 0.0032235693652182817, 0.033177684992551804, 0.007578752469271421, -0.012343762442469597, 0.020980726927518845, -0.02040574513375759, 0.015304308384656906, -0.013126716949045658, -0.010863490402698517, -0.024785395711660385, 0.010349676012992859, 0.005171779543161392, 0.0319543182849884, 0.014533587731420994, 0.004924048203974962, 0.04575388878583908, -0.025250274688005447, 0.05221325904130936, 0.010484246537089348, 0.052849411964416504, -0.026424705982208252, 0.012661837972700596, 0.02559281699359417, 0.019341416656970978, 0.028333155438303947, -0.03479252755641937, -0.008575795218348503, 0.01119379885494709, -0.007168924901634455, -0.019720660522580147, -0.023158317431807518, 0.04130083695054054, 0.007156691048294306, 0.04108063131570816, 0.013004380278289318, 0.024406151846051216, -0.020344575867056847, 0.014484653249382973, 0.020099902525544167, -0.0048842886462807655, 0.030339475721120834, 0.028504427522420883, -0.007854009978473186, 0.010129470378160477, 0.007786724716424942, -0.05003567039966583, 0.07305941730737686, -0.04837189242243767, -0.02693851850926876, 0.012882043607532978, 0.013310221955180168, -0.004419409669935703, 0.007242326624691486, 0.011854416690766811, -0.0135426614433527, 0.012398813851177692, -0.03765520453453064, -0.02101742848753929, -0.00415332755073905, -0.01609949581325054, -0.03263940289616585, 0.023525327444076538, -0.020466912537813187, 0.012857576832175255, 0.012111322954297066, 0.010741153731942177, -0.006844732910394669, 0.005988376680761576, 0.017408497631549835, -0.009554488584399223, 0.018607396632432938, -0.053338758647441864, 0.05436638370156288, 0.04514220356941223, 0.023818936198949814, 0.021800382062792778, 0.02953205443918705, 0.036358438432216644, 0.017310628667473793, -0.007970229722559452, -0.014594756066799164, 0.015365476720035076, -0.005710060708224773, 0.003954530693590641, 0.004737484734505415, -0.016344169154763222, -0.0011232028482481837, -0.016955852508544922, -0.008165967650711536, -0.022167392075061798, -0.027843810617923737, 0.05495360121130943, 0.018497293815016747, 0.013860736973583698, -0.012245893478393555, 0.002205117139965296, -0.04044447839260101, 0.008777651004493237, -0.007841776125133038, 0.004168619401752949, 0.00713834073394537, 0.002015495439991355, 0.028259754180908203, -0.015218673273921013, -0.007854009978473186, -0.0036945652682334185, 0.06498520076274872, -0.0144479526206851, 0.007725556381046772, 0.002871851669624448, 0.014166577719151974, 0.05275154113769531, 0.01305331476032734, -0.02089509181678295, -0.08583135902881622, 0.00023263068578671664, 0.031807515770196915, -0.040542349219322205, 0.01573248580098152, -0.023941272869706154, -0.010624933987855911, -0.003020184813067317, 0.013995306566357613, 0.009627889841794968, -0.0017677638679742813, -0.008936688303947449, 0.03151390701532364, 0.02742786519229412, 0.007542051374912262, -0.02818635292351246, 0.002391680609434843, 0.01647873967885971, -0.010735036805272102, 0.010967476293444633, 0.021996119990944862, -0.014191045425832272, -0.017053721472620964, 0.019842997193336487, 0.007560401689261198, -0.014227746054530144, -0.02189825102686882, -0.010019367560744286, -0.0381200835108757, -0.017298394814133644, -0.019475987181067467, -0.02745233289897442, -0.008006930351257324, -0.012943211942911148, 0.028357623144984245, 0.005343051161617041, -0.01822815276682377, 0.008208786137402058, 0.0046365573070943356, 0.021714746952056885, 0.04868996515870094, -0.007964112795889378, -0.01650320738554001, -0.0025170755106955767, -0.013334689661860466, -0.021567942574620247, -0.007431948557496071, 0.016209598630666733, -0.0048842886462807655, -0.008692014962434769, 0.02855336293578148, -0.0008028339361771941, 0.006126005202531815, 0.03310428187251091, 0.012429398484528065, -0.03557548299431801, -0.004529512487351894, 0.025176871567964554, -0.00305994413793087, 0.0056641846895217896, -0.011854416690766811, 0.008814351633191109, -0.012123556807637215, -0.022730140015482903, 0.002147007267922163, 0.06297887861728668, -0.013995306566357613, -0.04908144474029541, -0.0013135892804712057, 0.0393923856317997, 0.022350896149873734, 0.01795901358127594, -0.007682738360017538, 0.0037618502974510193, 0.01810581609606743, 0.014692625030875206, 0.029874596744775772, 0.010374143719673157, 0.011334486305713654, 0.019280247390270233, 0.0002658909361343831, -0.017530834302306175, 0.00011688879749272019, 0.028626764193177223, -0.01954938843846321, 0.012943211942911148, -0.05461105704307556, 0.006887550465762615, 0.022326428443193436, 0.010637166909873486, -0.0215312410145998, 0.009768577292561531, -0.013322455808520317, -0.026180032640695572, 0.05064735189080238, 0.01236211322247982, -0.014105409383773804, 0.013554895296692848, -0.03310428187251091, -0.01710265688598156, 0.0332021526992321, 0.018656332045793533, 0.0052665905095636845, -0.004428585059940815, 0.004501986782997847, -0.013872969895601273, 0.01991639845073223, -0.014288914389908314, 0.0159771591424942, -0.039906200021505356, 0.01822815276682377, 0.007468649186193943, 0.03136710450053215, 0.01954938843846321, 0.007725556381046772, 0.008869403041899204, 0.0009725759737193584, -0.029189512133598328, 0.006257516797631979, 0.0056641846895217896, 0.020344575867056847, 0.00010599319648463279, 0.0039484137669205666, -0.01795901358127594, -0.036970119923353195, -0.023794468492269516, 0.0738423690199852, 0.02461412362754345, 0.004235904663801193, -0.026253433898091316, -0.0012447749031707644, 0.030363943427801132, -0.020956259220838547, 0.02032010816037655, -0.009982666000723839, -0.004737484734505415, -0.0038903038948774338, 0.009627889841794968, -0.04739319905638695, -0.003780200844630599, -0.011383420787751675, 0.008753183297812939, -0.0005944793811067939, -0.004107451066374779, 0.006135180592536926, -0.013261287473142147, -0.01317565143108368, 0.011566925793886185, -0.008679782040417194, -0.021506773307919502, 0.004046283196657896, -0.026302369311451912, -0.012294827960431576, -0.02139667049050331, 0.034254249185323715, 0.03589355945587158, -0.044970933347940445, -0.020271174609661102, 0.0144479526206851, -0.0003725531860254705, 0.0541217103600502, -0.023574262857437134, 0.003841369180008769, 0.02302374690771103, 0.037116922438144684, 0.0032816792372614145, 0.023072682321071625, -0.02755020186305046, 0.01020898949354887, -0.009211946278810501, 0.011218265630304813, 0.0029483120888471603, -0.004954632371664047, 0.0037832593079656363, 0.0749678686261177, -0.010233456268906593, 0.005887448787689209, -0.022950345650315285, 0.03170964494347572, 0.008532977662980556, 0.018301555886864662, -0.014252213761210442, -0.01609949581325054, -0.022057289257645607, -0.011585275642573833, -0.004095217678695917, 0.03665204346179962, 0.029311848804354668, 0.021237634122371674, -0.013554895296692848, 0.018803134560585022, -0.007884593680500984, -0.006850849371403456, -0.000777984329033643, 0.03799774870276451, -0.05622589960694313, 0.021592410281300545, -0.01317565143108368, 0.007456415798515081, 0.0006954070995561779, -0.0132245859131217, 0.0035324692726135254, -0.0010215105721727014, 0.030828822404146194, 0.003927004989236593, -0.05989599972963333, 0.037948813289403915, -0.013432558625936508, -0.01733509637415409, 0.0031058203894644976, 0.032003253698349, -0.04494646564126015, -0.045851755887269974, -0.006349269300699234, 0.009187478572130203, 0.023219486698508263, -0.0034040159080177546, -0.0032021603547036648, -0.02422264590859413, -0.012092973105609417, 0.018374957144260406, 0.03435211628675461, 0.001450453302823007, 0.03797328099608421, -0.004046283196657896, -0.019586089998483658, 0.003832194022834301, 0.018852069973945618, 0.01299214642494917, 0.02017330564558506, 0.009994899854063988, 0.021983886137604713, 0.02532367594540119, -0.021494539454579353, -0.020601483061909676, -0.009065141901373863, -0.03723926097154617, 0.01647873967885971, 0.006300334818661213, -0.00898562278598547, 0.012612903490662575, 0.01859516277909279, -0.04406564310193062, -0.004401059355586767, -0.09904371201992035, -0.019023340195417404, -0.009052908048033714, 0.012539501301944256, 0.02287694439291954, 0.0075359344482421875, 0.020246706902980804, -0.018656332045793533, 0.04888570308685303, -0.05201752111315727, -0.0023656839039176702, 0.006306451745331287, 0.011034761555492878, -0.011218265630304813, 0.055785488337278366, -0.03670097887516022, 0.010453661903738976, -0.05143030732870102, -0.0026975220534950495, -0.004171677865087986, -0.01033132616430521, -0.0008158321725204587, -0.042255062609910965, 0.011181565001606941, 0.0059730843640863895, -0.0178366769105196, 0.003982056397944689, -0.014521353878080845, -0.0026883466634899378, -0.007003770209848881, 0.007370780222117901, 0.014668158255517483, -0.0017096539959311485, 0.0030003050342202187, -0.02189825102686882, 0.06841062754392624, 0.019170144572854042, -0.00250637112185359, 0.02032010816037655, -0.03670097887516022, -0.010374143719673157, -0.05030480772256851, -0.011273317970335484, 0.0036272802390158176, 0.019867463037371635, 0.0073830136097967625, 0.00017920399841386825, -0.0017509425524622202, -0.023586496710777283, -0.029923532158136368, -0.0027862160932272673, 0.009279230609536171, -0.03826688975095749, 0.03528187423944473, 0.005933324806392193, 0.0479804128408432, -0.06704045832157135, -0.018497293815016747, -0.0015139153692871332, 0.022950345650315285, -0.0015192676801234484, 0.0443103164434433, 0.005098377820104361, 0.026400238275527954, -0.024259347468614578, -0.02412477694451809, 0.026865117251873016, -0.01427668146789074, -0.04475072771310806, -0.005618308205157518, 0.003679273184388876, -0.009450502693653107, -0.03714139014482498, -9.242147643817589e-05, 0.013505960814654827, 0.0009328165906481445, -0.01601386070251465, 0.02867569960653782, 0.003205218818038702, 0.01759200356900692, -0.008508509956300259, 0.003774084150791168, -0.007376896683126688, 0.005551022943109274, -0.025372611358761787, -0.026057695969939232, -0.015487813390791416, -0.0026761130429804325, 0.018301555886864662, 0.007401364389806986, 0.03630950301885605, 0.03533080965280533, -0.01039249449968338, -0.017078189179301262, -0.007199508603662252, 0.022925877943634987, -0.038951974362134933, 0.004541746340692043, 0.0032174524385482073, -0.00290549430064857, 0.0032480366062372923, 0.004315423313528299, -0.0022097048349678516, 0.0119951032102108, 0.009591189213097095, 0.0381690189242363, 0.020369043573737144, 0.007187275215983391, 0.009401567280292511, 0.0031715764198452234, 0.030339475721120834, 0.019378116354346275, -0.025666218250989914, -0.0021148938685655594, -0.07110203057527542, -0.016050562262535095, 0.04971759393811226, -0.008740950375795364, -0.022558867931365967, 0.02032010816037655, -0.03978386148810387, 0.030437346547842026, 0.029336316511034966, -0.013921905308961868, -0.02495666593313217, 0.0016117846826091409, -0.003266387153416872, 0.031097963452339172, 0.0016836574068292975, -0.03750840201973915, 0.00885717011988163, 0.0008838819339871407, -0.014362316578626633, 0.02598429284989834, -0.008135383948683739, -0.03398510813713074, -0.03405850753188133, -0.02101742848753929, -0.03902537375688553, -0.030412878841161728, 0.015475579537451267, 0.006924251560121775, 0.02681618183851242, -0.039074309170246124, 0.008159850724041462, 0.02176368050277233, 0.012600669637322426, -0.022424299269914627, -0.0004235904780216515, 0.026865117251873016, 0.001457334728911519, -0.007964112795889378, 0.00047749505029059947, 0.00804974790662527, -0.02730552852153778, -0.03026607446372509, -0.03471912816166878, -0.03310428187251091, 0.006239166483283043, -0.016650011762976646, -0.00935263279825449, 0.03958812355995178, -0.005089202430099249, -0.04492199793457985, 0.03212559223175049, -0.02730552852153778, -0.02067488431930542, 0.012398813851177692, -0.016283001750707626, 0.02446731925010681, -0.01721275970339775, 0.007272910792380571, 0.048787835985422134, 0.0072912611067295074, 0.025886423885822296, -0.005783462896943092, -0.00793964508920908, -0.05226219445466995, -0.004933223128318787, 0.029385250061750412, 0.012539501301944256, 0.03129370138049126, 0.04291567951440811, 0.017420731484889984, 0.0035355277359485626, 0.005220714490860701, 0.005557139869779348, -0.023782234638929367, -0.004752777051180601, -0.0029161986894905567, 0.012686305679380894, 0.05196858569979668, -0.033520229160785675, 0.0032908543944358826, -0.00018971730605699122, -0.0035324692726135254, 0.05808541551232338, -0.007217859383672476, -0.009071258828043938, 0.013261287473142147, 0.014558055438101292, 0.04700171947479248, -0.015377710573375225, -0.01612396351993084, -0.0016194307245314121, 0.021567942574620247, 0.010606583207845688, 0.033422358334064484, -0.014056474901735783, 0.028944838792085648, -0.025299208238720894, 0.005336934234946966, 0.014313382096588612, 0.0021087771747261286, -0.025764087215065956, -0.0017555301310494542, -0.01721275970339775, -0.005162604618817568, -0.02176368050277233, -0.01401977427303791, -0.028088482096791267, -0.01622183248400688, -0.025543881580233574, 0.005884390324354172, -0.039661526679992676, 0.0107656205072999, -0.030608616769313812, 0.052360065281391144, -0.00048399416846223176, 0.0066918120719492435, -0.01372616644948721, -0.02298704721033573, -0.02659597620368004, 0.01636863686144352, 0.03158731013536453, -0.026253433898091316, 0.025813022628426552, -0.01761646941304207, -0.011279433965682983, 0.02843102626502514, -0.005300233140587807, 0.044726260006427765, 0.0013411149848252535, -0.016931384801864624, 0.012478332966566086, 0.03126923367381096, 0.010869606398046017, 0.021103063598275185, 0.02264450490474701, 0.024051375687122345, 0.0031318168621510267, 0.021213166415691376, -0.00716280797496438, -0.011670911684632301, 0.0011904879938811064, -0.003777142381295562, 0.03533080965280533, 0.0159771591424942, -0.010056068189442158, 0.023072682321071625, 0.0356733538210392, 0.03826688975095749, 0.033153217285871506, 0.015047401189804077, -0.015218673273921013, -0.05368129909038544, -0.008716482669115067, 0.04007747024297714, -0.005526555702090263, 0.005034151021391153, -0.011065345257520676, 0.026302369311451912, -0.0026027110870927572, 0.04602302983403206, 0.019953100010752678, -0.020760521292686462, 0.022534402087330818, -0.02080945484340191, 0.015035168267786503, 0.012502800673246384, -0.012472216039896011, 0.007327962201088667, 0.009897030889987946, -0.01624630019068718, 0.03797328099608421, -0.032688338309526443, -0.0024115601554512978, 0.001734121236950159, -0.0048659383319318295, 0.008325005881488323, 0.0011583747109398246, 0.021959420293569565, 0.006924251560121775, -0.0079885795712471, 0.042010389268398285, 0.013738400302827358, 0.02684064954519272, -0.0043001314625144005, 0.019096743315458298, 0.00941380113363266, -0.020210005342960358, 0.004664083011448383, -0.022852476686239243, 0.012386580929160118, -0.017934545874595642, 0.01920684613287449, -0.008398407138884068, -0.0418391153216362, 0.027036387473344803, -0.0034101326018571854, -0.03789987787604332, 0.016148431226611137, -0.0026715255808085203, -0.0052665905095636845, -0.007621570024639368, 0.02757466956973076, -0.015377710573375225, 0.005413394421339035, 0.0015246198745444417, -0.007236209698021412, -0.02522580698132515, 0.007823425345122814, 0.025910891592502594, -0.008086449466645718, 0.030241606757044792, -0.0393434502184391, -0.005076969042420387, -0.008398407138884068, -0.0288959052413702, 0.02916504442691803, 0.012882043607532978, -0.007486999966204166, 0.04110509529709816, 0.023794468492269516, -0.001764705404639244, -0.013885203748941422, -0.0725700706243515, 0.01896217279136181, 0.015512281097471714, -0.010037718340754509, 0.010698335245251656, -0.012637370266020298, -0.039661526679992676, 0.007982462644577026, -0.03748393431305885, 0.008973389863967896, 0.012674071826040745, -0.01052094716578722, 0.02067488431930542, -0.011530224233865738, 0.06792128086090088, -0.011628094129264355, 0.0038658364210277796, -0.0036150463856756687, 0.013860736973583698, 0.019769594073295593, -0.0016897742170840502, 0.007529817521572113, 0.015181971713900566, -0.03408297523856163, -0.022595569491386414, 0.01761646941304207, 0.0172249935567379, 0.02684064954519272, 0.046096429228782654, 0.00030068043270148337, 0.004333774093538523, -0.020393511280417442, 0.007841776125133038, 0.029483120888471603, 0.02532367594540119, 0.03170964494347572, -0.0012615962186828256, -0.007646037265658379, 0.011206032708287239, -0.014129877090454102, 0.015108569525182247, 0.010056068189442158, 0.013701698742806911, 0.04372309893369675, -0.04445711895823479, 0.0138362692669034, 0.01749413274228573, 0.00609542103484273, -0.022668972611427307, -0.003841369180008769, -0.011615860275924206, -0.019108977168798447, -0.01782444305717945, 0.022473232820630074, 0.010123353451490402, -0.009939848445355892, 0.010722802951931953, -0.02263227105140686, -0.016882451251149178, -0.003838310716673732, -0.0184605922549963, -0.008257720619440079, 0.01844835840165615, 0.02177591435611248, 0.012759706936776638, -0.019011108204722404, -0.005486796610057354, -0.02350085973739624, -0.017261693254113197, -0.024895498529076576, -0.008759300224483013, -0.000458762253401801, 0.015622383914887905, -0.003746558213606477, -0.01746966689825058, -0.02032010816037655, 0.016686711460351944, 0.006869200151413679, 0.012111322954297066, -0.012111322954297066, 0.028088482096791267, -0.018399424850940704, 0.006704045459628105, 0.048053815960884094, -0.00495157390832901, 0.0023993265349417925, 0.014619223773479462, -0.0075665186159312725, -0.035135071724653244, -0.0074441819451749325, -0.04499540105462074, -0.03865836560726166, 0.012215309776365757, 0.04653684049844742, 0.0270608551800251, -0.025152403861284256, -0.0430869497358799, -0.003055356442928314, 0.003407074371352792, -0.01365276426076889, 0.03183198347687721, -0.015842588618397713, 0.009095726534724236, -0.007921294309198856, 0.020846156403422356, 0.0430624820291996, -0.003489651484414935, -0.0089244544506073, 0.012227542698383331, 0.015328776091337204, 0.000990161788649857, -0.006343152839690447, 0.02892037108540535, 0.0282842218875885, 0.02446731925010681, 0.025152403861284256, 0.024393917992711067, 0.033667031675577164, -0.026644911617040634, 0.024907730519771576, -0.011738196946680546, -0.03100009448826313, -0.014117643237113953, -0.006196348927915096, 0.03670097887516022, 0.008043630979955196, 0.008104799315333366, 0.0021271274890750647, 0.01359159592539072, 0.003954530693590641, -0.02335405722260475, 0.04108063131570816, 0.008685898035764694, -0.03731266409158707, 0.027648070827126503, -0.013811801560223103, 0.010943008586764336, -0.01673564687371254, 0.0056641846895217896, 0.015133037231862545, -0.0009970433311536908, -0.004346007481217384, -0.02434498257935047, -0.0066612279042601585, -0.037092458456754684, 0.02438168413937092, -0.017384029924869537, -0.030853290110826492, 0.0010329796932637691, -0.006746863480657339, 0.031073495745658875, -0.03665204346179962, -0.037116922438144684, 0.026155564934015274, -0.01660107634961605, 0.012527267448604107, -0.011817715130746365, 6.675946497125551e-05, -0.0019222138216719031, 0.02359873056411743, 0.0075971027836203575, 0.013983073644340038, -0.01585482247173786, 0.057400330901145935, 0.01786114275455475, -0.011144864372909069, 0.007652154192328453, 0.006489956751465797, -0.015928225591778755, -0.05010906979441643, -0.0017234168481081724, -0.026155564934015274, -3.464610563241877e-05, -0.030045868828892708, 0.019830763339996338, 0.006789681036025286, -0.0033489642664790154, -0.028333155438303947, -0.006985419895499945, 0.037948813289403915, 0.0032510950695723295, 0.0196839589625597, -0.007517584133893251, -0.022901412099599838, -0.023916805163025856, -0.015341009013354778, -0.013872969895601273, 0.024528488516807556, 0.03383830189704895, -0.014545821584761143, -0.004954632371664047, -0.008808234706521034, 0.005612191278487444, -0.010312975384294987, -0.01360382977873087, 0.0015812005149200559, -0.013505960814654827, -0.014166577719151974, -0.005606074817478657, 0.00519930524751544, 0.004612089600414038, 0.006269750650972128, -0.004333774093538523, -0.03178304806351662, -0.0062330495566129684, 0.008484043180942535, -0.02250993438065052, 0.03100009448826313, -0.01421551313251257, -0.0028687932062894106, -0.007211742457002401, 0.02288917824625969, 0.043013546615839005, -0.011946168728172779, -0.007279027719050646, -0.026253433898091316, 0.010300741530954838, -0.004960749298334122, -0.009615656919777393, 0.00704047130420804, -0.01365276426076889, 0.03716585785150528, 0.012845342978835106, -0.004648790694773197, -0.029923532158136368, -0.00677133072167635, 0.004113567993044853, 0.009701292030513287, 0.023647664114832878, -0.002163828583434224, 0.03479252755641937, 0.03616269677877426, 0.020002033561468124, -0.016882451251149178, 0.006226932629942894, 0.0016515441238880157, 0.02324395440518856, -0.0031807515770196915, 0.021249867975711823, 0.014643690548837185, -0.022473232820630074, -0.026008760556578636, 0.007034354377537966, 0.013077782467007637, 0.02559281699359417, 0.019953100010752678, -0.0070771723985672, 0.017873376607894897, -0.007584868930280209, -0.0045784469693899155, 0.005914974492043257, 0.02323172055184841, 0.009444385766983032, -0.010753386653959751, 0.0072606769390404224, 0.033422358334064484, 0.005076969042420387, -0.005606074817478657, -0.016307469457387924, -0.009835862554609776, 0.02745233289897442, 0.021983886137604713, -0.029556522145867348, 0.04364969953894615, 0.04037107899785042, 0.025568349286913872, 0.006428788416087627, -0.029752260074019432, -0.007957995869219303, -0.04700171947479248, -0.0037924344651401043, 0.02030787616968155, -0.0017050663009285927, 0.02028340846300125, -0.008153734728693962, 0.007175041362643242, 0.011566925793886185, 0.007034354377537966, 0.012392697855830193, 0.01746966689825058, -0.009059024974703789, -0.006205523852258921, -0.0075665186159312725, 0.0031318168621510267, 0.040053002536296844, -0.0021959419827908278, -0.0135426614433527, -0.026400238275527954, 0.0008097153622657061, -0.01395860593765974, -0.005615249741822481, -0.020369043573737144, 0.021470073610544205, -0.036872249096632004, 0.011511873453855515, -0.027036387473344803, 0.010679985396564007, -0.009676825255155563, -0.021445605903863907, 0.056764181703329086, -0.01806911639869213, 0.023831170052289963, -0.030559683218598366, -0.0018686915282160044, 0.045582614839076996, -0.01625853404402733, -0.018374957144260406, -0.025519413873553276, 0.005306350067257881, 0.0020430211443454027, 0.006373737007379532, -0.004511162173002958, -0.013677231967449188, -0.0239902064204216, -0.023818936198949814, -0.02534814365208149, 0.01711489073932171, -0.018790900707244873, -0.005508205387741327, -0.004171677865087986, 0.022412065416574478, 0.011102045886218548, -0.04132530465722084, 0.028357623144984245, 0.017127124592661858, -0.016955852508544922, -0.008899987675249577, 0.005590782500803471, -0.013126716949045658, -0.0018778668018057942, -0.02065041847527027, 0.0067529804073274136, -0.0006109183887019753, 0.008325005881488323, 0.014411251060664654, 0.017127124592661858, -0.0005245181382633746, 0.005049442872405052, 0.03361809626221657, -0.004520337097346783, -0.02595982700586319, 0.011285550892353058, 0.017432965338230133, 0.012820875272154808, 0.0020430211443454027, 0.0043001314625144005, 0.020882857963442802, 0.02583749033510685, 0.026767248287796974, -0.0029437243938446045, -0.03310428187251091, 0.02522580698132515, 0.030608616769313812, 0.01622183248400688, 0.012784174643456936, -0.01563461683690548, -0.018546229228377342, -0.011860533617436886, -0.016209598630666733, 0.04232846200466156, -0.009915381669998169, -0.003394840518012643, -0.0067223962396383286, -0.04032214358448982, -0.020613716915249825, 0.00800081342458725, 0.028259754180908203, -0.038805168122053146, -0.010741153731942177, 0.01366499811410904, -0.018142517656087875, 0.027990613132715225, -0.00655112462118268, 0.008496277034282684, -0.02066265232861042, 0.022925877943634987, -0.005642775446176529, 0.023537561297416687, -0.012882043607532978, -0.001738708931952715, -0.022314196452498436, -0.023537561297416687, 0.012502800673246384, -0.0018151692347601056, -0.021384436637163162, 0.01943928562104702, 0.039294514805078506, -0.017029253765940666, -0.0166133102029562, -0.02117646485567093, -0.0033826068975031376, -0.01310224924236536, 0.016576608642935753, 0.023048214614391327, 0.014582522213459015, 0.009120193310081959, 0.023439692333340645, 0.010924657806754112, -0.023219486698508263, 0.027011921629309654, -0.003095116000622511, -0.01070445217192173, -0.008869403041899204]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:35.779733", "url_path": "/api/models/function/", "chunk_size": 4882}
updated_dt: 2025-03-15T11:17:35.779733
---
```
@dataclass(init=False)
classFunctionModel(Model):
"""A model controlled by a local function.
  Apart from `__init__`, all methods are private or match those of the base class.
  """
  function: FunctionDef | None = None
  stream_function: StreamFunctionDef | None = None
  _model_name: str = field(repr=False)
  _system: str | None = field(default=None, repr=False)
  @overload
  def__init__(self, function: FunctionDef, *, model_name: str | None = None) -> None: ...
  @overload
  def__init__(self, *, stream_function: StreamFunctionDef, model_name: str | None = None) -> None: ...
  @overload
  def__init__(
    self, function: FunctionDef, *, stream_function: StreamFunctionDef, model_name: str | None = None
  ) -> None: ...
  def__init__(
    self,
    function: FunctionDef | None = None,
    *,
    stream_function: StreamFunctionDef | None = None,
    model_name: str | None = None,
  ):
"""Initialize a `FunctionModel`.
    Either `function` or `stream_function` must be provided, providing both is allowed.
    Args:
      function: The function to call for non-streamed requests.
      stream_function: The function to call for streamed requests.
      model_name: The name of the model. If not provided, a name is generated from the function names.
    """
    if function is None and stream_function is None:
      raise TypeError('Either `function` or `stream_function` must be provided')
    self.function = function
    self.stream_function = stream_function
    function_name = self.function.__name__ if self.function is not None else ''
    stream_function_name = self.stream_function.__name__ if self.stream_function is not None else ''
    self._model_name = model_name or f'function:{function_name}:{stream_function_name}'
  async defrequest(
    self,
    messages: list[ModelMessage],
    model_settings: ModelSettings | None,
    model_request_parameters: ModelRequestParameters,
  ) -> tuple[ModelResponse, usage.Usage]:
    agent_info = AgentInfo(
      model_request_parameters.function_tools,
      model_request_parameters.allow_text_result,
      model_request_parameters.result_tools,
      model_settings,
    )
    assert self.function is not None, 'FunctionModel must receive a `function` to support non-streamed requests'
    if inspect.iscoroutinefunction(self.function):
      response = await self.function(messages, agent_info)
    else:
      response_ = await _utils.run_in_executor(self.function, messages, agent_info)
      assert isinstance(response_, ModelResponse), response_
      response = response_
    response.model_name = self._model_name
    # TODO is `messages` right here? Should it just be new messages?
    return response, _estimate_usage(chain(messages, [response]))
  @asynccontextmanager
  async defrequest_stream(
    self,
    messages: list[ModelMessage],
    model_settings: ModelSettings | None,
    model_request_parameters: ModelRequestParameters,
  ) -> AsyncIterator[StreamedResponse]:
    agent_info = AgentInfo(
      model_request_parameters.function_tools,
      model_request_parameters.allow_text_result,
      model_request_parameters.result_tools,
      model_settings,
    )
    assert self.stream_function is not None, (
      'FunctionModel must receive a `stream_function` to support streamed requests'
    )
    response_stream = PeekableAsyncStream(self.stream_function(messages, agent_info))
    first = await response_stream.peek()
    if isinstance(first, _utils.Unset):
      raise ValueError('Stream function must return at least one item')
    yield FunctionStreamedResponse(_model_name=self._model_name, _iter=response_stream)
  @property
  defmodel_name(self) -> str:
"""The model name."""
    return self._model_name
  @property
  defsystem(self) -> str | None:
"""The system / model provider."""
    return self._system

```
  
---|---  
####  __init__
```
__init__(
  function: FunctionDef[](https://ai.pydantic.dev/api/models/function/#pydantic_ai.models.function.FunctionDef "pydantic_ai.models.function.FunctionDef"), *, model_name: str[](https://docs.python.org/3/library/stdtypes.html#str) | None = None
) -> None

```

```
__init__(
  *,
  stream_function: StreamFunctionDef[](https://ai.pydantic.dev/api/models/function/#pydantic_ai.models.function.StreamFunctionDef "pydantic_ai.models.function.StreamFunctionDef"),
  model_name: str[](https://docs.python.org/3/library/stdtypes.html#str) | None = None
) -> None

```

```
__init__(
  function: FunctionDef[](https://ai.pydantic.dev/api/models/function/#pydantic_ai.models.function.FunctionDef "pydantic_ai.models.function.FunctionDef"),
  *,
  stream_function: StreamFunctionDef[](https://ai.pydantic.dev/api/models/function/#pydantic_ai.models.function.StreamFunctionDef "pydantic_ai.models.function.StreamFunctionDef"),
  model_name: str[](https://docs.python.org/3/library/stdtypes.html#str) | None = None
) -> None

```