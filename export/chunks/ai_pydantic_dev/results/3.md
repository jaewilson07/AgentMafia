---
url: https://ai.pydantic.dev/results/
session_id: pydantic_ai_docs
chunk_number: 3
title: Extracting User Profiles with Pydantic AI
summary: This code snippet demonstrates how to use the Pydantic AI Agent to extract user profile information, such as name, date of birth, and bio, from input text. It defines a UserProfile TypedDict and processes user input asynchronously to retrieve and display structured data.
embedding: [-0.0031784779857844114, 0.003607036778703332, 0.033349666744470596, -0.034596383571624756, 0.01337622944265604, -0.006668635178357363, 0.024181107059121132, 0.041790977120399475, -0.002068120986223221, 0.04651811346411705, 0.02516809105873108, -0.01435022708028555, 0.024830438196659088, -0.04189487174153328, -0.022077271714806557, 0.0198435727506876, -0.05251793563365936, 0.030986100435256958, -0.024233052507042885, 0.06124494969844818, 0.049245305359363556, 0.018557894974946976, 0.015090464614331722, 0.02750568464398384, -0.009337387979030609, 0.003055104985833168, -0.047738853842020035, 0.06337475776672363, -0.017103392630815506, -0.013713882304728031, -0.016609901562333107, -0.018830614164471626, -0.014259320683777332, -0.009389334358274937, 0.007947818376123905, -0.04734925553202629, 0.032180871814489365, 0.0083633903414011, 0.018830614164471626, -0.027349844574928284, 0.013252857141196728, -0.06721880286931992, 0.025401849299669266, 0.0048634931445121765, -0.03890794515609741, 0.041375406086444855, -0.0025989494752138853, 0.05521915480494499, 0.037427470088005066, 0.04142735153436661, -0.03927157074213028, -0.004574540536850691, -0.019479947164654732, -0.0008563059964217246, -0.007928337901830673, -0.034388598054647446, -0.020999381318688393, 0.009980225935578346, -0.023168150335550308, -0.03366134688258171, 0.005438151769340038, -0.011278889141976833, -0.0025664828717708588, 0.05366075783967972, -0.050569940358400345, -0.01977863907814026, -0.04467400908470154, 0.011324342340230942, -0.025531716644763947, 0.020505890250205994, 0.03368731960654259, 0.0073309531435370445, -0.040959835052490234, -0.0033895105589181185, -0.022090259939432144, -0.043661054223775864, 0.018635815009474754, 0.0814521461725235, -0.009038695134222507, -0.04389481246471405, -0.00014954917423892766, 0.006490068975836039, -0.022272072732448578, 0.043790917843580246, -0.022285059094429016, -0.021622739732265472, -0.05275169387459755, -0.009389334358274937, -0.00809067115187645, -0.03844042867422104, -0.012434698641300201, 0.024583691731095314, -0.04623240604996681, 0.006503055337816477, 0.08565981686115265, 0.01189575344324112, -0.003408990567550063, -0.029713410884141922, 0.00434078136458993, -0.0004594020720105618, 0.026142088696360588, -0.028051123023033142, -0.053193241357803345, 0.02480446547269821, 0.02115522138774395, -0.01596056856215, 0.025752488523721695, -0.00031533162109553814, -0.038050826638936996, -0.028466694056987762, -0.0866987481713295, 0.020376024767756462, 0.013187923468649387, -0.004068062175065279, -0.03472625091671944, 0.005561524536460638, -9.034839604282752e-05, -0.028518641367554665, -0.005740090738981962, -0.024999264627695084, -0.05973850190639496, 0.0287004541605711, -0.00480180699378252, 0.020168237388134003, -0.01520734466612339, -0.012746377848088741, 0.0032677610870450735, -0.06103716418147087, -0.07480299472808838, -0.029064079746603966, -0.005954370368272066, -0.01220093946903944, 0.03277825564146042, -0.026181047782301903, -0.02446681261062622, -0.0036167767830193043, -0.01796051114797592, -0.008558189496397972, -0.010921756736934185, -0.004051828756928444, -0.013142470270395279, -0.043297428637742996, -0.025271983817219734, 0.021479887887835503, -0.021038342267274857, 0.0025713529903441668, -0.04521944746375084, 0.05932293087244034, -0.029401732608675957, 0.0022320770658552647, 0.008804935961961746, 0.04758301377296448, -0.06436174362897873, 0.001614400534890592, -0.01894749514758587, -0.019389040768146515, 0.03306396305561066, 0.03308993577957153, -0.004087542183697224, -0.06290724128484726, -0.027012191712856293, 0.002983678365126252, -0.04797261580824852, -0.0005292051937431097, -0.008727015927433968, -0.04127151146531105, -0.011356808245182037, -0.015103451907634735, -0.050777725875377655, -0.04342729225754738, -0.01012307871133089, -0.0027271925937384367, -0.021726634353399277, 0.014090494252741337, 0.04051828756928444, -0.040336474776268005, -0.06649155169725418, -0.02233700454235077, -0.03275228291749954, -0.07137452065944672, -0.005973850376904011, 0.009746466763317585, -0.04259615018963814, -0.03960922360420227, -0.03794693574309349, -0.048777785152196884, 0.027323871850967407, -0.010726956650614738, 1.7628336763664265e-06, 0.04968684911727905, 0.048492081463336945, 0.062387775629758835, 0.01748000457882881, -0.022440897300839424, -0.02675245888531208, -0.03807680308818817, 0.06924471259117126, 0.0023099968675523996, 0.012084060348570347, -0.011395768262445927, 0.016570940613746643, 0.029557572677731514, -0.026856353506445885, -0.012837284244596958, 0.011480181477963924, -0.059011250734329224, -0.007447832729667425, -0.0025859628804028034, -0.07750421017408371, -0.03075234219431877, 0.032934095710515976, -0.03111596778035164, 0.022843483835458755, -0.020726662129163742, -0.02005135826766491, -0.014298280701041222, -0.06342670321464539, -0.0071881003677845, -0.01192822027951479, -0.0025486263912171125, -0.039167679846286774, 0.06602402776479721, 0.05046604573726654, -0.044544145464897156, -0.01379180233925581, -0.014480093494057655, -4.796429493580945e-05, -0.013571029528975487, 0.009175054728984833, 0.02149287424981594, 0.027401791885495186, -0.030466636642813683, 0.0004849694960284978, -0.029895223677158356, 0.0292458925396204, -0.042751990258693695, 0.027973202988505363, 0.003457690356299281, 0.0069543407298624516, 0.009389334358274937, -0.02425902709364891, -0.003733656369149685, 0.03244060277938843, 0.042959775775671005, 0.0036524899769574404, 0.01610342226922512, -0.016363155096769333, -0.041842926293611526, 0.03828458860516548, 0.04301172122359276, 0.02605118229985237, -0.054232168942689896, -0.01748000457882881, -0.0055582779459655285, -0.018674775958061218, -0.006506301928311586, -0.016622887924313545, -0.010707477107644081, -0.008876361884176731, 0.013187923468649387, 0.016363155096769333, 0.036258675158023834, -0.026142088696360588, 0.02633688785135746, 0.024596678093075752, -0.040752049535512924, 0.0318172462284565, 0.024635639041662216, 0.051323164254426956, -0.04934919625520706, 0.004743366967886686, 0.04667394980788231, -0.02890823967754841, 0.017999470233917236, -0.06321892142295837, 0.0012410349445417523, 0.016467047855257988, 0.016285235062241554, -0.056933388113975525, 0.008408843539655209, -0.008155603893101215, 0.009103627875447273, 0.03534960746765137, 0.0010072755394503474, 0.014986571855843067, 0.024648625403642654, 0.03283020108938217, -0.030596502125263214, -0.010947729460895061, 0.00312977796420455, 0.012973643839359283, 0.018713735044002533, 0.0009634456946514547, -0.024038253352046013, 0.0700758621096611, -0.02683037891983986, 0.05563472583889961, 0.047998588532209396, -0.012415219098329544, 0.0034966503735631704, 0.028726426884531975, -0.038752105087041855, -0.006490068975836039, -0.0010275671957060695, -0.02446681261062622, 0.03589504957199097, -0.005743337329477072, 0.013934655115008354, 0.028648506850004196, -0.018505949527025223, -0.01410348154604435, 0.03379121422767639, -0.014986571855843067, -0.032596442848443985, -0.021479887887835503, -0.04714147001504898, 0.035557396709918976, -0.018064403906464577, 0.018830614164471626, -0.020960422232747078, -0.048362214118242264, 0.015259291045367718, 0.026648566126823425, -0.019479947164654732, -0.04197278991341591, -0.0028960187919437885, -0.0010170155437663198, -0.028648506850004196, -0.004516100976616144, 0.006727074738591909, -0.023246068507432938, -0.04036244750022888, -0.02433694712817669, 0.04501166194677353, 0.014116467908024788, 0.0023635667748749256, -0.025401849299669266, 0.025388862937688828, 0.008343910798430443, 0.0792703926563263, -0.049115438014268875, -0.0099217863753438, -0.07719253748655319, 0.0011363301891833544, -0.026700513437390327, 0.005866710562258959, 0.05563472583889961, 0.03960922360420227, -0.049245305359363556, -0.0035680767614394426, -0.0018652048893272877, 0.04612851142883301, 0.022700630128383636, 0.04314158856868744, 0.006649155169725418, -0.020921463146805763, -0.019324107095599174, 0.021830527111887932, -0.018285175785422325, 0.0020096811931580305, -0.04111567512154579, -0.004629733972251415, -0.024934330955147743, 0.007350433152168989, -0.03599894046783447, 0.020168237388134003, -0.005889437161386013, -0.04968684911727905, -0.045660994946956635, 0.009941265918314457, 0.027401791885495186, 0.0010235088411718607, -0.0011817833874374628, -0.011136036366224289, -0.04041439667344093, -0.00812313798815012, -0.028882266953587532, 0.007869898341596127, -0.011532127857208252, 0.022856470197439194, -0.0002954458468593657, 0.03610283508896828, 0.016506006941199303, -0.035557396709918976, 0.014506067149341106, 0.03794693574309349, -0.010662023909389973, -0.0020600042771548033, -0.02245388552546501, 0.02420707978308201, 0.06617987155914307, -0.035219743847846985, 0.008265990763902664, 0.02412915974855423, -0.008590656332671642, -0.015454091131687164, 0.010058145970106125, 0.01596056856215, 0.04623240604996681, -0.0449337437748909, 0.010415278375148773, 0.022168178111314774, 0.0015624540392309427, 0.01589563675224781, 0.015467077493667603, 0.03394705429673195, 0.021038342267274857, -0.00275641237385571, -0.005363478325307369, 0.006830967962741852, 0.024388892576098442, -0.04789469391107559, 0.017648831009864807, -0.03592102229595184, -0.006811487954109907, -0.013843748718500137, -0.047790803015232086, 0.012752871960401535, 0.041842926293611526, 0.05579056590795517, -0.053401026874780655, -0.0909583643078804, 0.0028245921712368727, -0.004740120377391577, -0.01624627597630024, 0.044959716498851776, 0.030154956504702568, -0.05890735611319542, 0.007493285927921534, 0.009629586711525917, -0.006162156350910664, 0.0008400726947002113, 0.017090406268835068, -0.00922700110822916, -0.014635932631790638, -0.015428117476403713, 0.0011387652484700084, 0.02358372136950493, -0.009389334358274937, 0.01851893588900566, 0.011512648314237595, -0.011590568348765373, -0.02585638128221035, 0.026453766971826553, -0.049193356186151505, -0.008032231591641903, -0.03049260936677456, 0.0031541278585791588, 0.025336917489767075, -0.007162126712501049, 0.03186919167637825, 0.02337593585252762, -0.009473747573792934, -0.006519288755953312, -0.004811546765267849, -0.03347953408956528, 0.050569940358400345, 0.011168502271175385, 0.04485582187771797, -0.018207255750894547, 0.01050618477165699, 0.018687762320041656, -0.03740149736404419, 0.021609753370285034, 0.0032450344879180193, -0.007006287574768066, 0.01410348154604435, 0.036959949880838394, -0.007902365177869797, -0.02683037891983986, 0.03864821419119835, 0.025882355868816376, 0.011817834340035915, 0.000599008344579488, -0.06082937866449356, -0.030518582090735435, 0.03589504957199097, 0.025466782972216606, -0.01797349750995636, -0.009058174677193165, 0.018142323940992355, -0.01955786533653736, -0.014973585493862629, 0.037089817225933075, -0.027349844574928284, 0.021103275939822197, 0.004327794536948204, -0.034882090985774994, 0.010259438306093216, 0.016687821596860886, -0.01009710505604744, 0.007642632350325584, 0.059686556458473206, -0.014817745424807072, -0.007960804738104343, -0.023960333317518234, -0.010889289900660515, -0.013077537529170513, 0.003986895550042391, -0.027609577402472496, -0.011778874322772026, -0.00520114554092288, -0.017921550199389458, 0.05646587163209915, 0.005551784764975309, -0.018986454233527184, 0.010882796719670296, -0.028258908540010452, 0.019194239750504494, 0.03945338353514671, -0.01880464144051075, -0.027817362919449806, 0.023142175748944283, 0.018674775958061218, 0.01888256147503853, 0.013142470270395279, 0.0008920191903598607, 0.011129542253911495, -0.030856234952807426, 0.018843600526452065, 0.02958354540169239, -0.004986866377294064, -0.026349874213337898, 0.006149169523268938, 0.01645406149327755, -0.020350050181150436, -0.002589209470897913, -0.04706355184316635, 0.016713794320821762, -0.04381689429283142, 0.01632419414818287, 0.0027060892898589373, 0.028856294229626656, 0.01583070307970047, -0.06306307762861252, 0.011584075167775154, -0.03851834684610367, -0.01909034699201584, -0.003691449761390686, -0.003535610157996416, -0.021544819697737694, -0.009285440668463707, -0.0003195928584318608, -0.01596056856215, 0.004253121558576822, -0.010584103874862194, 0.023207109421491623, 0.0026525193825364113, -0.012421712279319763, -0.008902335539460182, 0.04360910505056381, -0.011480181477963924, 0.005811517126858234, -0.016817687079310417, 0.010856823064386845, 0.022349990904331207, 0.004357014782726765, 0.013006110675632954, 0.01664886064827442, -0.03340161591768265, -0.001120096887461841, -0.023414894938468933, 0.032310739159584045, 0.0020226677879691124, 0.015233318321406841, 0.02799917571246624, 0.05303740128874779, -0.007811458315700293, -0.03963519632816315, 0.030025091022253036, 0.012032113038003445, -0.0008887725416570902, -0.02481745183467865, 0.009051681496202946, 0.012103539891541004, -0.010071132332086563, -0.016506006941199303, -0.0011590567883104086, -0.04833624139428139, 0.025739502161741257, -0.01859685592353344, -0.02080458216369152, 0.010311384685337543, 0.027064139023423195, -0.0067920079454779625, 0.0021866238676011562, 0.03020690381526947, 0.013700895942747593, -0.023999294266104698, 0.007753018755465746, 0.03075234219431877, 0.015181371942162514, -0.00230675027705729, -0.0036946965847164392, -0.01673976704478264, 0.012006140314042568, 0.011765887960791588, 0.008428323082625866, -0.06945250183343887, 0.013765828683972359, 0.04376494511961937, -0.028518641367554665, -0.057556748390197754, 0.01631120778620243, 0.01590862311422825, 0.021752607077360153, 0.02750568464398384, 0.014454119838774204, -0.021674687042832375, 0.0009139341418631375, -0.0167267806828022, -0.018960481509566307, 0.00328237097710371, -0.02729789726436138, -0.013363243080675602, 0.011967180296778679, -0.05106343328952789, 0.05207638815045357, 0.04436233267188072, 0.0004837519954890013, -0.034050945192575455, 0.002714205766096711, 0.01368790864944458, 0.023674627766013145, 0.020713675767183304, -0.0035453501623123884, -0.04893362522125244, 0.0030713381711393595, -0.04789469391107559, 0.01364894863218069, -0.0004415454459376633, 0.015415131114423275, 0.029557572677731514, 0.036258675158023834, 0.02024615742266178, -0.021596767008304596, 0.02280452288687229, -0.01289572473615408, -0.022648684680461884, -0.0366223007440567, 0.012460672296583652, 0.025817422196269035, 0.01699949987232685, 0.014752812683582306, 0.009188041090965271, -0.014181400649249554, -0.037011899054050446, 0.0008128819172270596, 0.023336974903941154, -0.028518641367554665, -0.02841474860906601, -0.024908358231186867, 0.0360768623650074, -0.003331070765852928, 0.015493050217628479, -0.021337034180760384, -0.005850477144122124, -0.028934214264154434, -0.03319382667541504, 0.01624627597630024, -0.014506067149341106, 0.00836988352239132, 0.01783064380288124, 0.004736873786896467, -0.01524630468338728, 0.03776512295007706, 0.021453913301229477, 0.0066946083679795265, 0.017609871923923492, 0.012902217917144299, -0.027064139023423195, 0.00902570877224207, 0.019817598164081573, -0.0002684580103959888, -0.0034447037614881992, -0.039011839777231216, 0.040829967707395554, -0.04218057543039322, -0.01666184701025486, 0.041998762637376785, -0.017921550199389458, 0.01172043476253748, -0.04433635622262955, 0.029064079746603966, 0.02171364612877369, -0.04166111350059509, 0.025051210075616837, -6.701304664602503e-05, -0.003996635787189007, 0.04168708622455597, 0.006577728316187859, -0.030882207676768303, -0.007499779108911753, 0.01797349750995636, 0.04373897239565849, 0.01638912782073021, -0.034180812537670135, 0.026284940540790558, 0.0047660935670137405, -0.05984239652752876, -0.01624627597630024, -0.021895458921790123, -0.02238895185291767, 0.011077595874667168, -0.011772381141781807, -0.014739826321601868, -0.004938166588544846, 0.0025859628804028034, 0.029843278229236603, -0.03592102229595184, -0.014817745424807072, 0.012272366322577, -0.0028083589859306812, 0.03927157074213028, -0.04706355184316635, -0.044544145464897156, -0.022025326266884804, 0.0011160385329276323, 0.00314438808709383, 0.01161654107272625, 0.017389098182320595, 0.009038695134222507, 0.008421829901635647, -0.01220743265002966, -0.005106992553919554, -0.05469968914985657, -0.0034414571709930897, 0.01846698857843876, 0.013155456632375717, 0.00925946794450283, -0.015609930269420147, -0.02896018698811531, 0.006707594729959965, -0.02647973969578743, 0.007499779108911753, -0.013142470270395279, -0.0355314202606678, 0.037167739123106, -0.030804287642240524, -0.00629202276468277, -0.008830908685922623, -0.022661671042442322, -0.02420707978308201, -0.0018083883915096521, -0.00829845666885376, 0.01632419414818287, 0.00365573656745255, 0.05563472583889961, -0.03810277581214905, 0.007934831082820892, -0.037297602742910385, 0.010071132332086563, 0.0037498895544558764, -0.016090435907244682, 0.02516809105873108, -0.0026525193825364113, 0.024388892576098442, 0.03719371184706688, -0.06747853755950928, -0.008830908685922623, -0.002053511096164584, 0.0007739220163784921, -0.005600484553724527, 0.003085948061197996, -0.025843394920229912, -0.009973732754588127, 0.03732357546687126, 0.02296036295592785, 0.020518876612186432, -0.012772351503372192, -0.02641480788588524, -0.0297913309186697, -0.007454325910657644, 0.049816716462373734, 0.03872613236308098, -0.013161950744688511, 0.00013412754924502224, 0.013869721442461014, 0.04194681718945503, -0.008467283099889755, 0.0065225353464484215, 0.002834332175552845, 0.01673976704478264, -0.025804435834288597, 0.02986925095319748, 0.005658924579620361, -0.0005892683984711766, -0.0057206107303500175, 0.004714147187769413, -0.0318172462284565, -0.04729731008410454, -0.0037920961622148752, -0.0004484445962589234, 0.006006316747516394, 0.02427201345562935, -0.020713675767183304, 0.015869662165641785, -0.08555592596530914, -0.007499779108911753, 0.012337299063801765, -0.04376494511961937, 0.009739973582327366, -0.02786931023001671, 0.014285294339060783, 0.015142411924898624, -0.024544732645154, -0.04459609091281891, 0.021791566163301468, 0.0008733509457670152, -0.02688232623040676, -0.03927157074213028, 0.011012663133442402, -0.011824327521026134, 0.019817598164081573, -0.028986159712076187, 0.04976477101445198, -0.017999470233917236, -0.04251822829246521, -0.029843278229236603, -0.07391989976167679, 0.02081756852567196, 0.017051447182893753, -0.011512648314237595, 0.0030762082897126675, 0.02999911643564701, 0.01399958785623312, -0.015596943907439709, -0.035972967743873596, -0.03940143808722496, 0.026025207713246346, -0.023168150335550308, -0.01230483315885067, 0.03942741081118584, 0.0037726161535829306, 0.03745344281196594, 0.012356779538094997, -0.018402056768536568, -0.011603554710745811, -0.014609959907829762, 0.020583810284733772, 0.016557954251766205, 0.0370638445019722, 0.00860364269465208, -0.033427588641643524, 0.006681621540337801, -0.023947346955537796, 0.018908534198999405, -0.006740061566233635, 0.0125191118568182, -0.025414837524294853, 0.003973909188061953, 0.013090523891150951, 0.026934271678328514, -0.06560845673084259, -0.006454355549067259, 0.0002708930114749819, 0.01496059913188219, -0.002540509682148695, -0.0011485051363706589, 0.003697943175211549, -0.02259673736989498, 0.013934655115008354, 0.009246481582522392, -0.008188070729374886, 0.006960834376513958, 0.011876273900270462, -0.03641451150178909, -0.013506095856428146, 0.004675187170505524, 0.014415159821510315, -0.029219919815659523, 0.017921550199389458, 0.014025561511516571, 0.0063666957430541515, 0.041167620569467545, -0.01901242695748806, -0.0009520823950879276, 0.037349551916122437, -0.0209344495087862, 0.020856529474258423, 0.027479710057377815, -0.031687378883361816, 0.009791919961571693, -0.004058321937918663, -0.05350491777062416, 0.009045188315212727, 0.022687643766403198, 0.02157079428434372, -0.0062595559284091, -0.015882650390267372, -0.01040878426283598, -0.055063314735889435, -0.018973467871546745, -0.03264838829636574, 0.018479974940419197, 0.030804287642240524, -0.01312948390841484, 0.0323626846075058, -0.0030453649815171957, -0.015194358304142952, 0.02171364612877369, 0.0031021814793348312, 0.0054608783684670925, -0.02441486530005932, -0.015726810321211815, -0.022155191749334335, 0.013389216735959053, 0.022246098145842552, -0.03638853877782822, 0.0004650837217923254, -0.022298045456409454, -0.035972967743873596, 0.012110033072531223, 0.07397185266017914, -0.0018132583936676383, -0.019246187061071396, 0.0022970102727413177, -0.009136094711720943, 0.03288215026259422, -0.01603848859667778, 0.010863317176699638, -0.011713940650224686, 0.0008088236209005117, -0.037297602742910385, -0.038466401398181915, -0.015947582200169563, -0.011155515909194946, 0.016557954251766205, 0.02371358871459961, -0.035557396709918976, 0.023194123059511185, 0.00040664387051947415, -0.005188159178942442, 0.003678463166579604, -0.02425902709364891, -0.021337034180760384, -0.014012575149536133, 0.009252974763512611, -0.011486674658954144, -0.0008400726947002113, -0.027817362919449806, -0.02688232623040676, -0.008467283099889755, 0.03054455667734146, -0.001590050640515983, -0.013032084330916405, 0.008428323082625866, 0.019440986216068268, 0.005535551346838474, -0.01161654107272625, 0.021401967853307724, -0.005775804165750742, 0.024596678093075752, -0.020440956577658653, -0.03862224146723747, -0.010181518271565437, -0.010908770374953747, 0.03864821419119835, 0.015142411924898624, 0.010142558254301548, -0.005373218562453985, 0.011460701934993267, -0.01714235357940197, -0.026492726057767868, 0.005428411532193422, -0.02958354540169239, 0.03428470715880394, -0.02384345419704914, -0.0014877809444442391, 0.05459579452872276, -8.984110900200903e-05, 0.028570588678121567, 0.043998707085847855, 0.03789499029517174, -0.008772469125688076, -0.030336769297719002, 0.04797261580824852, 0.000738208822440356, 0.03493403643369675, 0.023661641404032707, -0.015817716717720032, 0.0387001596391201, 0.013804788701236248, -0.01288923155516386, 0.0026752459816634655, -0.03849237412214279, 0.006392668932676315, 0.022843483835458755, -0.0030956880655139685, -0.004892713390290737, 0.02620702050626278, -0.025207050144672394, 0.007220566738396883, 0.06243972107768059, 0.014441133476793766, -0.0027369323652237654, -0.011272395960986614, 0.02176559343934059, 0.02155780792236328, -0.0073309531435370445, 0.011434728279709816, -0.009103627875447273, 0.06664738804101944, -0.011226942762732506, 0.015648890286684036, -0.025531716644763947, 0.018363095819950104, -0.03470027819275856, -0.0033667839597910643, 0.02177857980132103, -0.0016484904335811734, -0.019687732681632042, 0.02163572795689106, 0.0024853164795786142, 0.005253092385828495, -0.03462235629558563, -0.011129542253911495, -0.0060485233552753925, 0.012765858322381973, -0.032051004469394684, 0.029012134298682213, 0.0069543407298624516, -0.002558366395533085, 0.005600484553724527, 0.03677813708782196, 0.03337564319372177, -0.0021135741844773293, 0.011707447469234467, 0.021817540749907494, -0.007337446324527264, -0.0035615835804492235, 0.04114164784550667, -0.03379121422767639, 0.023349963128566742, -0.002284023677930236, 0.01879165507853031, 0.010324371978640556, -0.005688144359737635, 0.02405123971402645, -0.009090641513466835, -0.055063314735889435, -0.0016931319842115045, 0.007856911979615688, 0.003253150964155793, 0.014804759062826633, 0.0001283444435102865, -0.017116378992795944, -0.019869545474648476, 0.03768720105290413, 0.013402203097939491, -0.0015730056911706924, 0.022648684680461884, -0.0038180695846676826, -0.008752989582717419, 0.012291845865547657, -0.02916797250509262, 0.02433694712817669, 0.008149110712110996, 0.030388716608285904, 0.02667454071342945, 0.01838906854391098, -0.007395886350423098, -0.02667454071342945, -0.03366134688258171, 0.012610018253326416, 0.03319382667541504, 0.0412195660173893, -0.04347924143075943, 0.02185649983584881, 0.012798325158655643, 0.008376376703381538, -0.02812904305756092, -0.0014812875306233764, -0.01790856383740902, 0.01157758105546236, 0.0017905316781252623, -0.019453972578048706, -0.041037753224372864, 0.0019561112858355045, -0.01935007981956005, -0.007279006764292717, 0.02190844714641571, -0.03054455667734146, -0.006152416579425335, -0.04457011818885803, -0.015493050217628479, 0.007142647169530392, 0.017454031854867935, -0.010265931487083435, -0.02011629194021225, -0.032466575503349304, 0.0008790325955487788, -0.007843924686312675, 0.010324371978640556, 0.01337622944265604, -0.0008266802178695798, -0.029012134298682213, -0.007830938324332237, -0.01992149092257023, 0.01576576940715313, 0.01997343823313713, 0.03428470715880394, 0.006804994773119688, 0.008493256755173206, -0.04521944746375084, 0.03028482384979725, 0.017233259975910187, -0.017752723768353462, -0.04618046060204506, 0.03911573067307472, 0.011460701934993267, 0.010278918780386448, -0.007123167160898447, -0.026778433471918106, 0.0008619876462034881, -0.005535551346838474, 0.007571205962449312, -0.00039304851088672876, 0.02315516211092472, -0.00209247088059783, 0.044206492602825165, 0.031635433435440063, -0.023116203024983406, 0.004944659769535065, -0.00449012778699398, -0.0013116496847942472, 0.0012986630899831653, 0.01983058452606201, 0.0026395327877253294, 0.007253033574670553, 0.0035972967743873596, -0.05745285376906395, -0.029323812574148178, -0.029739385470747948, -0.002949588466435671, -0.018583869561553, -0.034804169088602066, -0.007116673514246941, -0.03506390377879143, -0.01172043476253748, -0.0020957174710929394, 0.0019366312772035599, 0.009012721478939056, -0.00511673279106617, 0.013071044348180294, 0.008499749936163425, 0.02003837190568447, 0.06628376245498657, 0.009713999927043915, -0.003003158373758197, 0.02109028771519661, 0.024155134335160255, -0.012921697460114956, 0.013493109494447708, -0.0026330393739044666, -0.02854461409151554, 0.0010933119338005781, 0.0003402903093956411, 0.031557511538267136, -0.009480240754783154, 0.007382899522781372, 0.002834332175552845, 0.01755792461335659, 0.007051740773022175, 0.028986159712076187, 0.02529795654118061, -0.016856646165251732, 0.007538739126175642, 0.04202473908662796, -0.0009090641397051513, -0.0365184061229229, -0.005321272183209658, -0.006470588967204094, -0.0014601843431591988, -0.012369765900075436, 0.030154956504702568, 0.015337211079895496, -0.0006529840175062418, -0.04540126025676727, -0.014389187097549438, -0.0021898706909269094, -0.02854461409151554, 0.020687703043222427, -0.0030291315633803606, -0.013045070692896843, -0.0043342881835997105, 0.02302529662847519, 0.010486704297363758, 0.02260972373187542, -0.01596056856215, -0.0011785367969423532, -0.004941413179039955, 0.02059679664671421, 0.007246539928019047, -0.010765916667878628, -0.005597237963229418, -0.020207198336720467, -0.01406452152878046, 0.04519347473978996, 0.03366134688258171, -0.013921668753027916, 0.006262802518904209, -0.033973027020692825, 0.010220478288829327, 0.032466575503349304, -0.00418494176119566, 0.022713616490364075, -0.010941236279904842, 0.034544438123703, 0.005629704333841801, 0.021960392594337463, 0.03475222364068031, -0.040466342121362686, -0.017739737406373024, -0.019272159785032272, -0.01748000457882881, 0.03277825564146042, -0.0010324371978640556, 0.0012304832926020026, -0.010726956650614738, -0.014986571855843067, 0.011103569529950619, 0.019661759957671165, 0.012376259081065655, -0.024103187024593353, 0.018622828647494316, 0.029817303642630577, -0.024233052507042885, -0.03766122832894325, -0.012155486270785332, 0.0016062839422374964, -0.007473805919289589, -0.014674892649054527, 0.034466519951820374, 0.008272483944892883, -0.03470027819275856, 0.01762285828590393, 0.02184351347386837, 0.02440187893807888, 0.03747941553592682, 0.03267436474561691, 0.011798353865742683, 0.01879165507853031, -0.005483604967594147, -0.0008952658390626311, -0.025220036506652832, 0.022038312628865242, 0.004155721981078386, -0.007298486772924662, -0.03319382667541504, 0.014856705442070961, -0.01811634935438633, 0.00808417797088623, -0.0033895105589181185, 0.005908917170017958, -0.00446090754121542, 0.030440662056207657, -6.386784662026912e-05, 0.006993300747126341, 0.024388892576098442, 0.005464124958962202, -0.008830908685922623, -0.012603525072336197, -0.025765474885702133, 0.041167620569467545, -0.016778727993369102, -0.0370638445019722, 0.009733479470014572, 0.0282069630920887, 0.0017548184841871262, 0.00985035952180624, 0.030726369470357895, 0.030882207676768303, 0.025596650317311287, -0.026570646092295647, -0.017934536561369896, -0.03470027819275856, 0.008688055910170078, 0.023401908576488495, 0.006934860721230507, -0.014947611838579178, -0.014337240718305111, 0.01886957511305809, -0.00445766095072031, -0.024700572714209557, -0.015506037510931492, 0.004785573575645685, -0.008116643875837326, 0.01368790864944458, 0.021051328629255295, -0.03649243339896202, 0.01223340630531311, -0.018064403906464577, -0.0019317613914608955, -0.0032791243866086006, 0.012454179115593433, 0.03714176267385483, 0.02807709574699402, -0.0018798147793859243, 0.01099318265914917, 0.009317907504737377, -0.007655618712306023, -0.03319382667541504, 0.02453174628317356, -0.010330865159630775, -0.048569999635219574, -0.006077743135392666, 0.02384345419704914, -0.0031427645590156317, -0.01990850456058979, 0.00644786236807704, 0.010428264737129211, 0.017986483871936798, 0.01879165507853031, -0.01893450692296028, 0.01310351025313139, 0.011765887960791588, -0.0007507895934395492, -0.027895282953977585, -0.003704436356201768, 0.03285617753863335, 0.030180929228663445, -0.009181547909975052, 0.003883002558723092, 0.027687497437000275, 0.006483575329184532, 0.01901242695748806, 0.00171910529024899, -0.002038900973275304, -0.008207550272345543, -0.01659691333770752, -0.0009025708422996104, -0.004691420588642359, 0.0028132288716733456, -0.00023274477280210704, 0.01970071904361248, -0.025271983817219734, -0.003331070765852928, 0.01686963438987732, -0.003941442351788282, 0.012441192753612995, 0.01637614145874977, 0.01078539714217186, -0.005892683751881123, -0.012350286357104778, 0.018843600526452065, 0.02411617338657379, -0.009688026271760464, -0.007116673514246941, -0.03724565729498863, 0.009415307082235813, -0.01762285828590393, 0.02067471668124199, -0.011564594693481922, -0.011103569529950619, -0.003668723162263632, -0.0035583367571234703, -0.015233318321406841, 0.021350020542740822, 0.023142175748944283, -0.011986659839749336, 0.04820637404918671, -0.00216876738704741, -0.0015153775457292795, 0.01805141754448414, 0.02688232623040676, -0.02059679664671421, 0.012272366322577, 0.0053375051356852055, 0.008278977125883102, -0.03257047012448311, 0.001340057933703065, -0.002295386977493763, 0.00957114715129137, -0.00047441787319257855, -0.005243352148681879, 0.015739796683192253, 0.0004236888198647648, -0.011116555891931057, 0.013246363028883934, -0.028466694056987762, 0.022025326266884804, -0.0073309531435370445, -0.005522564984858036, -0.014973585493862629, 0.05875151976943016, -0.018428029492497444, -0.002079484285786748, 0.03893391788005829, 0.005428411532193422, 0.021466901525855064, -0.0022564271930605173, -0.007843924686312675, 0.029323812574148178, -0.008532216772437096, -0.0032401643693447113, 0.04342729225754738, 0.0543360635638237, 0.03049260936677456, -0.001852218178100884, -0.03124583326280117, 0.010668517090380192, -0.041375406086444855, -0.020583810284733772, 0.013032084330916405, -0.0030762082897126675, 0.017921550199389458, -0.033843159675598145, 0.007019273936748505, -0.007701071910560131, -0.0015032024821266532, 0.019817598164081573, 0.003691449761390686, -0.024843424558639526, -0.030596502125263214, -0.04558307304978371, 0.006561495363712311, 0.031479593366384506, -0.011480181477963924, 0.02544081024825573, -0.012460672296583652, -0.024090200662612915, 0.011636021547019482, 0.006392668932676315, -0.01133732870221138, 0.029427705332636833, -0.026986218988895416, -0.013051563873887062, -0.02515510469675064, -0.024505771696567535, 0.006915380712598562, 0.02019421011209488, -0.004902453161776066, -0.011733421124517918, 0.02080458216369152, 0.023609694093465805, 0.009129601530730724, 0.015194358304142952, 0.011623034253716469, 0.013635962270200253, -0.004503114148974419, 0.03189516440033913, 0.0028424488846212626, 0.023142175748944283, 0.001309214741922915, -0.027557630091905594, -0.015259291045367718, -0.003542103571817279, -0.01707741990685463, 0.02966146543622017, -0.02206428535282612, -0.014116467908024788, 0.03903781250119209, -0.002558366395533085, 0.013765828683972359, -0.0564139261841774, 0.013973615132272243, 0.014077507890760899, -0.0033537973649799824, 0.0010105222463607788, -0.008337416686117649, 0.015635903924703598, 0.0370638445019722, 0.006512795574963093, -0.013428176753222942, -0.001636315486393869, 0.010350344702601433, 0.002396033378317952, 0.03311590850353241, 0.02510315738618374, 0.004194681998342276, 0.004467401187866926, 0.020207198336720467, -0.0071686203591525555, 0.02419409342110157, 0.0004898394690826535, -0.008350403979420662, 0.01770077832043171, 0.02599923498928547, 0.025869369506835938, 0.00981789268553257, 0.03698592633008957, -0.013148963451385498, -0.021882472559809685, 0.007967297919094563, 0.003535610157996416, -0.0033473041839897633, -0.02032407745718956, -0.019181253388524055, -0.010136065073311329, -0.005480358377099037, -0.028934214264154434, 0.033973027020692825, -0.005314778536558151, -0.017791684716939926, -0.020973408594727516, 0.014116467908024788, -0.012623005546629429, 0.04236238822340965, 0.018207255750894547, -0.006993300747126341, -0.026427794247865677, 0.004973879549652338, -0.007597179152071476, 0.014233347028493881, -0.042492255568504333, 0.04802456125617027, -0.03012898378074169, 0.003980402369052172, -0.015363184735178947, 0.0012150616385042667, -0.04534931480884552, 0.019440986216068268, 0.015986543148756027, -0.027531657367944717, 0.0061946227215230465, 0.029012134298682213, -0.01496059913188219, 0.012324312701821327, 0.02696024626493454, -0.037297602742910385, -0.005629704333841801, -0.04257017746567726, -0.009993212297558784, 0.011941206641495228, -0.0020275376737117767, -0.03973909094929695, 0.011804847046732903, -0.012772351503372192, 0.0020356543827801943, 0.008551696315407753, 0.03124583326280117, -0.0023148669861257076, 0.004197928588837385, 0.008506243117153645, -0.010058145970106125]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:25:02.397348", "url_path": "/results/", "chunk_size": 3020}
updated_dt: 2025-03-15T11:25:02.397348
---
```
fromdatetimeimport date
fromtyping_extensionsimport TypedDict
frompydantic_aiimport Agent

classUserProfile(TypedDict, total=False):
  name: str
  dob: date
  bio: str

agent = Agent(
  'openai:gpt-4o',
  result_type=UserProfile,
  system_prompt='Extract a user profile from the input',
)

async defmain():
  user_input = 'My name is Ben, I was born on January 28th 1990, I like the chain the dog and the pyramid.'
  async with agent.run_stream(user_input) as result:
    async for profile in result.stream():
      print(profile)
      #> {'name': 'Ben'}
      #> {'name': 'Ben'}
      #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes'}
      #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the '}
      #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyr'}
      #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyramid'}
      #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyramid'}

```

_(This example is complete, it can be run "as is" — you'll need to add`asyncio.run(main())` to run `main`)_
If you want fine-grained control of validation, particularly catching validation errors, you can use the following pattern:
streamed_user_profile.py```
fromdatetimeimport date
frompydanticimport ValidationError
fromtyping_extensionsimport TypedDict
frompydantic_aiimport Agent

classUserProfile(TypedDict, total=False):
  name: str
  dob: date
  bio: str

agent = Agent('openai:gpt-4o', result_type=UserProfile)

async defmain():
  user_input = 'My name is Ben, I was born on January 28th 1990, I like the chain the dog and the pyramid.'
  async with agent.run_stream(user_input) as result:
    async for message, last in result.stream_structured(debounce_by=0.01): [](https://ai.pydantic.dev/results/#__code_7_annotation_1)
      try:
        profile = await result.validate_structured_result( [](https://ai.pydantic.dev/results/#__code_7_annotation_2)
          message,
          allow_partial=not last,
        )
      except ValidationError:
        continue
      print(profile)
      #> {'name': 'Ben'}
      #> {'name': 'Ben'}
      #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes'}
      #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the '}
      #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyr'}
      #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyramid'}
      #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyramid'}

```

_(This example is complete, it can be run "as is" — you'll need to add`asyncio.run(main())` to run `main`)_
## Examples
The following examples demonstrate how to use streamed responses in PydanticAI:
  * [Stream markdown](https://ai.pydantic.dev/examples/stream-markdown/)
  * [Stream Whales](https://ai.pydantic.dev/examples/stream-whales/)


© Pydantic Services Inc. 2024 to present