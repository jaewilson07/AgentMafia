---
url: https://ai.pydantic.dev/dependencies/
session_id: pydantic_ai_docs
chunk_number: 1
title: Introduction to Dependencies in PydanticAI
summary: This section introduces the dependency injection system in PydanticAI, detailing how it supplies data and services for agents' system prompts, tools, and results. It also outlines the table of contents covering defining dependencies, accessing them, handling both asynchronous and synchronous dependencies, overriding, and providing examples.
embedding: [-0.04884262755513191, 0.04695355147123337, 0.06522292643785477, -0.012254155240952969, 0.043349385261535645, 0.044095076620578766, 0.0016343017341569066, 0.012117446400225163, -0.030772099271416664, 0.0064067114144563675, -0.002613018499687314, -0.05498213320970535, 0.01756097562611103, -0.05224794149398804, 0.015671897679567337, -0.04677955433726311, -0.010744135826826096, 0.024819014593958855, 0.017697684466838837, 0.07973901182413101, 0.08913469314575195, 0.03472425043582916, 0.035469938069581985, 0.021525556221604347, -0.02639739029109478, -0.010924343951046467, 0.031169800087809563, 0.028733883053064346, 0.022097250446677208, 0.010421003215014935, 0.030647817999124527, -0.009395681321620941, -0.0194003414362669, 0.047177255153656006, 0.03437626361846924, 0.008600279688835144, 0.001363989431411028, 0.0039490447379648685, -0.02619853988289833, 0.02756563574075699, 0.027018796652555466, -0.021624980494379997, 0.023476775735616684, 0.010539070703089237, -0.07914245873689651, 0.02544042281806469, -0.0230542179197073, 0.016666149720549583, -0.001598570728674531, -0.0007814199198037386, -0.07193413376808167, 0.019798042252659798, -0.0035606648307293653, -0.002299207728356123, -0.02504272200167179, 0.010874630883336067, -0.018356377258896828, 0.01469007320702076, -0.04444306343793869, -0.05885971710085869, 0.0205313041806221, 0.018865931779146194, -0.02102842926979065, 0.05746776610612869, -0.0461084358394146, -0.01844337396323681, -0.03785614296793938, -0.0025959298945963383, -0.06691315770149231, 0.012223085388541222, 0.046506136655807495, 0.058611154556274414, -0.056672364473342896, -0.031542643904685974, -0.03812956437468529, -0.03653876110911369, 0.035171665251255035, 0.08297032862901688, 0.006760913413017988, -0.03957122936844826, 0.0034022058825939894, 0.019313344731926918, -0.046232715249061584, -0.008389000780880451, -0.0386018343269825, -0.05135311558842659, -0.045561596751213074, -0.022731086239218712, 0.009060121141374111, -0.024831444025039673, -0.0276402048766613, -0.021276991814374924, -0.0702936127781868, 0.03678732365369797, 0.036812178790569305, 0.03962093964219093, 0.020469162613153458, -0.005372067913413048, -0.04576044902205467, 0.02995184063911438, 0.011123194359242916, -0.005468385759741068, -0.09877893328666687, -0.03072238713502884, 0.035668790340423584, 0.017685256898403168, -0.010147584602236748, -0.004166537430137396, -0.023750193417072296, 0.00705297477543354, -0.06895137578248978, 0.005589560139924288, 0.024259747937321663, 0.03196519985795021, -0.047276683151721954, -0.006092900410294533, -0.022619232535362244, -0.010644710622727871, 0.02044430561363697, -0.03390399366617203, -0.01814509928226471, 0.019263632595539093, 0.017399409785866737, 0.03380456566810608, 0.03832841292023659, 0.015236911363899708, -0.017623117193579674, -0.021761689335107803, -0.026422247290611267, -0.014255087822675705, 0.023377349600195885, -0.005107969511300325, 0.006972191855311394, -0.02793848142027855, -0.023650769144296646, -0.012645642273128033, -0.02054373174905777, -0.026447102427482605, -0.02562684565782547, 0.01680285856127739, 0.054485008120536804, -0.017697684466838837, 0.0016063383081927896, 0.05048314481973648, -0.006375640630722046, 0.07223240286111832, -0.0029501321259886026, 0.019711045548319817, -0.04374708607792854, -0.007090259343385696, 0.008041013032197952, 0.026819948107004166, -0.026745378971099854, -0.0386018343269825, 0.0007441354682669044, -0.001517011085525155, 0.00897312443703413, 0.016740716993808746, 0.08008699864149094, -0.02689451538026333, -0.0029703278560191393, 0.03753301128745079, -0.0004971259622834623, -0.0194003414362669, -0.037110455334186554, 0.0015939101576805115, -0.029529284685850143, 0.01918906345963478, -0.02151312679052353, -0.02860959991812706, -0.004722696729004383, -0.045835018157958984, -0.015187199227511883, 0.01502563338726759, 0.07551343739032745, -0.02007146179676056, -0.02677023410797119, -0.014279943890869617, -0.03544508293271065, -0.0783967673778534, 0.005337890237569809, -0.020295169204473495, -0.02599968947470188, 0.014391797594726086, -0.021239707246422768, -0.024458598345518112, -0.009725026786327362, 0.04329967498779297, -0.005772875621914864, 0.055727824568748474, 0.04168401286005974, 0.029032157734036446, 0.0007969550788402557, 0.0017927605658769608, 0.02312878705561161, 0.01314898207783699, 0.048047225922346115, 0.005048935767263174, 0.024520739912986755, -0.014851639047265053, -0.0006245145341381431, 0.01976075768470764, 0.02197296917438507, 0.018667081370949745, -0.002945471554994583, -0.05329190567135811, -0.02314121462404728, -0.03032468631863594, -0.019325772300362587, -0.007904303260147572, -0.016840143129229546, -0.06711200624704361, 0.0027761380188167095, 0.03293459862470627, -0.033456578850746155, -0.017871679738163948, -0.014267516322433949, 0.030399253591895103, 0.013322976417839527, 0.02639739029109478, -0.008065869100391865, 0.017585832625627518, 0.040739476680755615, -0.041609443724155426, -0.02238309755921364, -0.00643156748265028, -0.024930868297815323, -0.03646419197320938, -0.01271399762481451, 0.02908186987042427, 0.028634456917643547, -0.029405001550912857, -0.00994251947849989, 0.010184869170188904, 0.002749728038907051, -0.04021749272942543, 0.031343795359134674, -0.006030759774148464, -0.01851794309914112, -0.006866552866995335, -0.026919372379779816, -0.024210035800933838, -0.0384029820561409, 0.02746621146798134, -0.027764486148953438, 0.015386049635708332, -0.012247941456735134, -0.02928072027862072, 0.028137331828475, 0.012216871604323387, 0.017299983650445938, 0.001620320021174848, 0.034599967300891876, 0.0006497591966763139, -0.018505515530705452, -0.06755942106246948, 0.006064936984330416, -0.02466987818479538, -0.03798042610287666, 0.03099580481648445, -0.008022370748221874, 0.048917196691036224, -0.002342706313356757, 0.003644554875791073, 0.0022665837313979864, -9.602687350707129e-05, 0.006903836969286203, -0.005977939814329147, -0.01565946824848652, -0.0168774276971817, 0.02888301946222782, 0.02110299840569496, 0.07258039712905884, -0.028187043964862823, -0.05846201628446579, 0.008078297600150108, -0.01660400815308094, 0.01415566261857748, -0.02534099668264389, -0.0018890787614509463, -0.0021329813171178102, 0.00930868461728096, 0.039496660232543945, 0.054584432393312454, -0.021836258471012115, 0.031144943088293076, -0.020407021045684814, 0.019064782187342644, -0.007369892671704292, 0.03621562942862511, 0.028957588598132133, 0.04518875107169151, 0.028733883053064346, -0.03159235790371895, 0.021339133381843567, -0.03012583591043949, 0.014603075571358204, 0.028162186965346336, 0.010389933362603188, -0.01708870567381382, -0.02189840003848076, 0.006040080916136503, -0.014789498411118984, 0.004331210162490606, -0.00083423953037709, 0.014267516322433949, 0.010980269871652126, 0.004275283310562372, 0.01469007320702076, -0.027391642332077026, -0.01968618854880333, 0.01899021305143833, 0.0023194034583866596, 0.014540934935212135, -0.0343514047563076, 0.0060525089502334595, 0.051601678133010864, -0.025800839066505432, 0.05970483273267746, -0.024060897529125214, -0.04854435473680496, -0.005263321567326784, 0.04702811688184738, -0.019363056868314743, -0.06189218536019325, -0.023352492600679398, -0.004489669110625982, -0.002219978254288435, -0.022780798375606537, 0.02821189910173416, 0.006512350402772427, -0.00935218296945095, 0.029355289414525032, 0.045362748205661774, 0.01161410566419363, -0.030747242271900177, -0.028162186965346336, 0.042777691036462784, 0.021289421245455742, 0.04742581769824028, -0.05239707976579666, -0.017933819442987442, -0.012707782909274101, -0.018107814714312553, 0.006176790222525597, 0.04466677084565163, -0.025552276521921158, 0.02399875782430172, -0.007854590192437172, -0.004812800791114569, 0.007133758161216974, -0.025651700794696808, 0.0043249959126114845, 0.00935218296945095, -0.020767439156770706, -0.02409818209707737, -0.010309150442481041, -0.0016529439017176628, -0.022320957854390144, 0.0031318936962634325, -0.07292838394641876, 0.01620630733668804, -0.04732639342546463, 0.005052042659372091, -0.048320647329092026, -0.0012746620923280716, 0.002631660783663392, -0.017784683033823967, 0.010557712987065315, 0.0044927760027348995, 0.040739476680755615, 0.0408637560904026, -0.0408637560904026, -0.02025788463652134, -0.01881621964275837, -0.018952928483486176, -0.03972036764025688, -0.0015146808000281453, 0.021811403334140778, 0.024744445458054543, 0.009240329265594482, -0.008065869100391865, 0.03283517062664032, 0.021326705813407898, 0.04486561939120293, 0.028584744781255722, -0.024632593616843224, -0.01444150973111391, -0.01108590979129076, 0.019176635891199112, 0.06447724252939224, -0.061494484543800354, -0.011029982939362526, 0.008233649656176567, -0.036339908838272095, -0.008904769085347652, -0.01747397892177105, -0.011446326039731503, 0.04136088117957115, -0.00902905035763979, -0.00859406590461731, 0.010669566690921783, -0.03199005872011185, -0.021550411358475685, -0.02342706173658371, 0.017983533442020416, 0.06020195782184601, -0.024036042392253876, 0.016069598495960236, 0.009861736558377743, 0.05018486827611923, -0.011688674800097942, -0.007935374043881893, -0.019064782187342644, -0.029902128502726555, -0.04859406501054764, -0.013596395961940289, 0.008183936588466167, 0.05890943109989166, 0.034699395298957825, 0.0029951841570436954, -0.03243746981024742, -0.014615504071116447, -0.02315364219248295, -0.00801615696400404, 0.0389995351433754, 0.03318316116929054, -0.013248407281935215, -0.005114183761179447, -0.03686189278960228, -0.006549634970724583, 0.02967842109501362, 0.05771632865071297, 0.0038589404430240393, 0.012689140625298023, -0.0037346589379012585, 0.02679509110748768, 0.027590492740273476, 0.00277147744782269, -0.018890786916017532, 0.00910983420908451, -0.042777691036462784, 0.0001768098445609212, 0.052546218037605286, -0.03765729442238808, -0.0006711200694553554, -0.037185024470090866, -0.06800683587789536, 0.02947957068681717, -0.008693491108715534, -0.003249961184337735, 0.03109523095190525, -0.03241261467337608, 0.009631816297769547, -0.01843094639480114, -0.0021391953341662884, 0.012154730036854744, 0.009501320309937, 0.04039148613810539, -0.02696908451616764, 0.052446793764829636, 0.00840764306485653, -0.01623116433620453, 0.04352337867021561, -0.014901351183652878, 0.013509398326277733, 0.03271089121699333, -0.004091968294233084, -0.0140686659142375, 0.02033245377242565, 0.0044834548607468605, -0.015137486159801483, -0.0044741337187588215, -0.031144943088293076, 0.00834550242871046, -0.024446170777082443, 0.005838123150169849, 0.013633680529892445, -0.014230231754481792, 0.02275594137609005, 0.013509398326277733, -0.0011464968556538224, 0.003995649982243776, 0.008364144712686539, 0.018878359347581863, 0.04588472843170166, 0.006223395932465792, -0.03283517062664032, -0.013223551213741302, 0.007537672761827707, -0.01075034961104393, 0.0157464649528265, 0.09420537203550339, -0.012875563465058804, 0.05080627650022507, 0.028460463508963585, -0.027242504060268402, -0.00968774314969778, -0.02198539674282074, -0.02756563574075699, 0.04337424412369728, 0.006649060174822807, -0.025179430842399597, 0.06407953798770905, 0.010222152806818485, -0.05378903076052666, 0.023750193417072296, -0.005583346355706453, -0.010806276462972164, 0.046903837472200394, -0.030970949679613113, 0.014242659322917461, 0.006145719904452562, 0.032586608082056046, -0.01748640649020672, 0.009488892741501331, 0.013944383710622787, -0.026322821155190468, -0.007189684547483921, -0.0017026565037667751, 0.023762622848153114, -0.035643935203552246, -0.0016016778536140919, -0.003684946335852146, 0.0055864532478153706, -0.02171197719871998, -0.005406245123594999, -0.008065869100391865, 0.0048562996089458466, 0.022594375535845757, 0.0013235979713499546, 0.0018626688979566097, -0.0017865465488284826, 0.0277396310120821, -0.05214851722121239, 0.03770700469613075, 0.006748485378921032, -0.010936771519482136, -0.022159390151500702, -0.006481280084699392, -0.017237843945622444, 0.010737921111285686, -0.04019263759255409, -0.019822899252176285, -0.02312878705561161, 0.027043653652071953, 0.01881621964275837, 0.004178965464234352, 0.000843560672365129, 0.002884884364902973, 0.041609443724155426, 0.024396458640694618, -0.001002019620500505, -0.013708248734474182, 0.014540934935212135, 0.005325462203472853, -0.008581637404859066, -0.01511263009160757, 0.008929625153541565, -0.002087929053232074, -0.011844026856124401, -0.03427683562040329, 0.016007456928491592, 0.02110299840569496, 0.0026363213546574116, 0.04404536262154579, 0.02324064075946808, -0.04051576927304268, -0.03012583591043949, 0.0015201180940493941, -0.004020506516098976, -0.007090259343385696, -0.024259747937321663, -0.009072549641132355, 0.027590492740273476, 0.0176728293299675, 0.010352648794651031, 0.0018005281453952193, -0.028733883053064346, -0.007599813397973776, -0.007891874760389328, -0.014677644707262516, 0.02908186987042427, 0.01559732761234045, -0.022519808262586594, -0.009439179673790932, 0.002911294111981988, -0.018977785483002663, -0.005962404888123274, 0.019325772300362587, 0.00792294554412365, -0.014168091118335724, -0.019934752956032753, 0.015038060955703259, -0.03420226648449898, -0.0021189996041357517, 0.007867018692195415, 0.01601988449692726, -0.062339600175619125, 0.029827559366822243, 0.004704054910689592, -0.027590492740273476, -0.009358396753668785, -0.0005934441578574479, -0.0059313345700502396, 0.00026002019876614213, 0.023762622848153114, 0.011943452060222626, -0.03477396443486214, 0.042777691036462784, -0.025775982066988945, -0.0020723938941955566, 0.017498834058642387, -0.0276402048766613, -0.045636165887117386, -0.00212521362118423, -0.038054995238780975, 0.03793071210384369, 0.03924809768795967, -0.028013048693537712, 0.033456578850746155, 0.031144943088293076, -0.016951996833086014, -0.005601988639682531, 0.006736057344824076, -0.01306198537349701, 0.013981668278574944, -0.008159080520272255, -0.01671586185693741, 0.006990834139287472, -0.03658847138285637, 0.01430479995906353, 0.027814198285341263, 0.0011806741822510958, -0.020419450476765633, 0.0012513593537732959, -0.016951996833086014, 0.008910983800888062, -0.00974366907030344, -0.03330744057893753, 0.009314898401498795, 0.01205530483275652, -0.0212272796779871, -0.012738853693008423, 0.008196365088224411, 0.012080161832273006, -0.0071275439113378525, 0.024930868297815323, 0.04096318036317825, -0.036712754517793655, 0.0035606648307293653, -0.002847599796950817, 0.015970172360539436, -0.009053907357156277, 0.014702500775456429, 0.005434208549559116, -0.01611931063234806, -0.01233493909239769, -0.020953860133886337, 0.015696752816438675, -0.04446791857481003, 0.022867795079946518, 0.0495634600520134, -0.023290352895855904, -0.003846512408927083, 0.021525556221604347, 0.047177255153656006, 0.015000776387751102, 0.019922323524951935, 0.005990368314087391, -0.03944694623351097, 0.03907410427927971, 0.027018796652555466, 0.03589249774813652, -0.017933819442987442, -0.032387759536504745, 0.01688985526561737, -0.0034519184846431017, -0.02686966024339199, 0.024545595049858093, -0.02542799524962902, 0.0007052975124679506, -0.04339909926056862, 0.018207238987088203, 0.06467609107494354, -0.055330123752355576, -0.0076308841817080975, 0.022594375535845757, 0.008413857780396938, 0.03231319040060043, -0.009296256117522717, 0.007761379703879356, 0.004014292266219854, -0.001257573370821774, 0.020220600068569183, -0.01272642519325018, 0.00020234580733813345, -0.004840764217078686, -0.01444150973111391, -0.03703588619828224, -0.02878359518945217, 0.012626999989151955, 0.00263010710477829, 0.030076121911406517, -0.023538915440440178, -0.04078918695449829, 0.0030278079211711884, 0.025577131658792496, 0.03962093964219093, -0.02485629916191101, -0.018406089395284653, 0.031542643904685974, -0.02599968947470188, 0.02245766669511795, -0.013596395961940289, -0.02235824055969715, 0.007525244727730751, 0.01003573089838028, 0.028858164325356483, -0.02686966024339199, -0.01623116433620453, -0.0008544353186152875, -0.02362591214478016, -0.007208326831459999, -0.008768059313297272, -0.04096318036317825, -0.03099580481648445, 0.01551033090800047, -0.010389933362603188, 0.01661643572151661, -0.0030744136311113834, -0.008699704892933369, -0.02823675610125065, 0.004147895146161318, 0.013074413873255253, -0.021960539743304253, -0.052745066583156586, 0.034997668117284775, -0.032785460352897644, 0.007021904457360506, -0.027764486148953438, -0.01257728785276413, -0.015870748087763786, -0.011135621927678585, 0.013919527642428875, 0.0015480814035981894, 0.01738698221743107, 0.039993785321712494, -0.007059189025312662, 0.021252136677503586, -0.051104553043842316, 0.008991766721010208, -0.008233649656176567, -0.003066645935177803, 0.03072238713502884, 0.015410905703902245, -0.009476464241743088, -0.009265185333788395, -0.03636476770043373, 0.006984620355069637, -0.002244834555312991, 0.000561985420063138, -0.021562838926911354, 0.024309460073709488, 0.0028942052740603685, -0.025601988658308983, 0.017623117193579674, -0.04578530415892601, 0.005605095531791449, 0.02458287961781025, -0.00582880200818181, -0.006260680500417948, 0.012117446400225163, 0.012887991033494473, 0.024508310481905937, -0.0085878511890769, -0.013099269941449165, -0.02341463416814804, -0.002923722146078944, -0.018294235691428185, 0.0038869038689881563, 0.020233027637004852, -0.006217182148247957, 0.03263632208108902, 0.02121485210955143, 0.002886437810957432, -0.004430635366588831, -0.02967842109501362, -0.03213919699192047, -0.037483301013708115, -0.05741805210709572, -0.002561752451583743, -0.0006416032556444407, -0.007202112581580877, 0.005036507733166218, 0.01373310573399067, 0.011210191063582897, -0.09132204204797745, -0.019909895956516266, 0.023551343008875847, -0.0034208481665700674, 0.0556781105697155, -0.000340997357852757, 0.039695508778095245, 0.027789343148469925, -0.0008785148384049535, -0.013173839077353477, -0.022581947967410088, 0.000708016159478575, -0.022818082943558693, -0.007245611399412155, 0.03452540189027786, 0.0008637564023956656, 0.018555227667093277, -0.00941432360559702, 0.05761690065264702, -0.009818238206207752, -0.019437626004219055, 0.010582569055259228, -0.03131893649697304, 0.012366008944809437, 0.0019605406560003757, -0.022296100854873657, -0.010911915451288223, 0.042777691036462784, 0.01825695112347603, 0.031617213040590286, -0.016293304041028023, -0.05249650403857231, -0.02362591214478016, 0.04705297574400902, -0.013223551213741302, 0.04991145059466362, 0.01861736923456192, 0.02686966024339199, 0.02534099668264389, -0.0019714152440428734, 0.024458598345518112, 0.0029252758249640465, 0.010104085318744183, 0.011893738992512226, 0.04561131075024605, 0.017585832625627518, -0.012266583740711212, -8.762816287344322e-05, -0.007177256513386965, -0.0006116980221122503, -0.008444927632808685, 0.021910827606916428, 0.012962560169398785, 0.0019108280539512634, 0.02696908451616764, -0.0072766817174851894, -0.028137331828475, 0.015249339863657951, -0.0014385583344846964, 0.038825538009405136, -0.0037315520457923412, -0.0036569831427186728, 0.02437160164117813, -0.004020506516098976, -0.020692870020866394, -0.0047910516150295734, 0.01804567314684391, -0.022146962583065033, -0.011123194359242916, 0.02054373174905777, -0.014764642342925072, 0.012682926841080189, 0.008121795952320099, -0.007394749205559492, -0.00945782195776701, 0.039123814553022385, 0.0011200869921594858, -0.008668634109199047, -0.00897312443703413, -0.016653720289468765, 0.04476619511842728, -0.02938014641404152, 0.009339754469692707, 0.04548702761530876, -0.02754078060388565, 0.0028677955269813538, -0.014230231754481792, 0.007084045559167862, -0.019698617979884148, 0.036339908838272095, -0.002010253258049488, 0.00599968945607543, 0.0006742271361872554, 0.009712599217891693, -0.04625757411122322, 0.013372689485549927, -0.032984308898448944, 0.01997203752398491, 0.018679508939385414, 0.0003712909820023924, 0.028261613100767136, 0.032860029488801956, 0.007400962989777327, -0.0037439800798892975, -0.02247009426355362, 0.03877582773566246, -0.02314121462404728, -0.030846668407320976, -0.03156749904155731, 0.006636632140725851, -0.023439491167664528, 0.002505825599655509, -0.019412769004702568, 0.03012583591043949, -0.012800994329154491, -0.005443529691547155, 0.04625757411122322, -0.0027512817177921534, -0.043051112443208694, 0.005107969511300325, 0.009892807342112064, 0.035743359476327896, -0.02726736105978489, 0.026173682883381844, 0.008525710552930832, -0.018269380554556847, 0.011322044767439365, -0.01531148049980402, -0.02111542597413063, -0.012254155240952969, 0.025403138250112534, 0.005943762604147196, -0.04290197417140007, 0.00645642401650548, -0.011228833347558975, 0.02045673504471779, 0.044691625982522964, -0.004138574004173279, -0.01085598859935999, -0.018194811418652534, 0.027615347877144814, -0.019909895956516266, 0.0007041323697194457, 0.00810315366834402, -0.012887991033494473, 0.011029982939362526, 0.014391797594726086, -0.010110300034284592, -0.011545751243829727, -0.0012086376082152128, 0.0273419301956892, 0.017722541466355324, -0.008562995120882988, 0.012776138260960579, 0.003127233125269413, 0.05885971710085869, 0.011837813071906567, -0.03025011718273163, -0.0024498989805579185, -0.029429858550429344, -0.05652322620153427, 0.025378281250596046, 0.0036569831427186728, -0.030448967590928078, 0.01551033090800047, 0.00410439632833004, 0.0004334317345637828, -0.010930557735264301, -0.01531148049980402, -0.033357154577970505, 0.007618455681949854, -0.0065558492206037045, 0.012838278897106647, 0.011216404847800732, 0.03591735288500786, 0.08063383400440216, 0.043622806668281555, -0.014429082162678242, -0.007904303260147572, 0.022880224511027336, 0.01766039989888668, -0.0018704365938901901, 0.011962094344198704, -0.012887991033494473, 0.03196519985795021, -0.026546528562903404, 0.02171197719871998, 0.028336182236671448, 0.006102221552282572, 0.01382010243833065, 0.014963492751121521, -0.007711667101830244, -0.01784682273864746, 0.011023769155144691, -0.0031940345652401447, -0.003945937380194664, 0.023004505783319473, -0.009644243866205215, 0.02938014641404152, -0.0034115270245820284, 0.021276991814374924, 0.031492929905653, 0.003172285156324506, -0.027093365788459778, 0.00883641466498375, 0.040739476680755615, -0.011682461015880108, -0.01834394969046116, 0.015236911363899708, 0.03263632208108902, -0.0072953240014612675, -0.010675780475139618, 0.00941432360559702, 0.017908964306116104, -0.03370514139533043, 0.02274351380765438, -0.01844337396323681, 0.005104862619191408, -0.007376106921583414, 0.003945937380194664, -0.019835326820611954, -0.04039148613810539, -0.010439645498991013, 0.019450053572654724, 0.0046791983768343925, 0.004862513393163681, 0.03400341793894768, -0.008482212200760841, 0.02754078060388565, 0.006686344742774963, 0.0001196209414047189, 0.04213142767548561, -0.021823830902576447, 0.000436927133705467, -0.0140189528465271, -0.029926985502243042, 0.003408420132473111, 0.02254466339945793, 0.02120242267847061, -0.00501786544919014, -0.0034239552915096283, -0.013099269941449165, -0.010862203314900398, -0.03656361624598503, 0.008308217860758305, 0.0071275439113378525, 0.010383719578385353, 0.033829424530267715, 0.008239863440394402, -0.020953860133886337, 0.006111542694270611, 0.01565946824848652, 0.013472114689648151, -0.014627932570874691, 0.033730000257492065, -0.02736678533256054, 0.0337548553943634, 0.014913779683411121, -0.011844026856124401, -0.0076308841817080975, 0.0008249184465967119, 0.0316917821764946, -0.009557247161865234, -0.005844337400048971, -0.04426907002925873, -0.026993941515684128, 0.010222152806818485, 0.010234581306576729, 0.02562684565782547, 0.0208295788615942, -0.029429858550429344, 0.0230542179197073, 0.0010012427810579538, 0.022681374102830887, -0.018306665122509003, 0.0018378125969320536, -0.03032468631863594, 0.010576355271041393, -0.01651701144874096, -0.043051112443208694, -0.047376107424497604, -0.008687276393175125, -3.517263394314796e-05, 0.000889389484655112, 0.004514525178819895, -0.01997203752398491, -0.018393661826848984, -0.027963336557149887, 0.003809227840974927, 0.014652788639068604, 0.01785925030708313, -0.00787323247641325, 0.010445860214531422, -0.03062296099960804, -0.003486095927655697, -0.029032157734036446, -0.0026021439116448164, -0.004067112226039171, -0.003821656107902527, -0.03885039687156677, -0.013248407281935215, 0.01804567314684391, -0.02179897390305996, 0.035942208021879196, 0.02504272200167179, 0.004840764217078686, -0.012639428488910198, -0.025291284546256065, 0.03206462785601616, 0.017051421105861664, -0.011514680460095406, -0.017598260194063187, 0.004766195546835661, -0.03763243928551674, 0.023004505783319473, 0.03420226648449898, -0.046506136655807495, -0.031070373952388763, -0.020494019612669945, -0.0017523691058158875, -0.00935218296945095, 0.034599967300891876, 0.01698928140103817, -0.000184577438631095, 0.020891720429062843, -0.03290973976254463, 0.004275283310562372, 0.007407177239656448, 0.008190150372684002, -0.03929780796170235, 0.0045114182867109776, 0.009482678025960922, 6.932577525731176e-05, -0.004110610578209162, -0.014578219503164291, 0.012105017900466919, -0.047376107424497604, -0.013223551213741302, 0.011266117915511131, -0.008736989460885525, 0.01444150973111391, -0.03283517062664032, -0.001412925310432911, -0.03688674792647362, 0.008556781336665154, -0.0386018343269825, 0.013509398326277733, -0.020904147997498512, 0.00013146652781870216, 0.015497902408242226, 0.06517321616411209, 0.03251203894615173, -0.04178344085812569, 0.044592201709747314, 0.025378281250596046, 0.004728910978883505, 0.02880845032632351, -0.0021096784621477127, -0.008811558596789837, -0.052745066583156586, -0.0057449121959507465, 0.03706074133515358, 0.03658847138285637, -0.00585365854203701, -0.036613330245018005, -0.017250271514058113, 0.009569675661623478, -0.0036165916826575994, 0.018095385283231735, 0.0008264719508588314, 0.02995184063911438, 0.04772409424185753, -0.022830510511994362, -0.009314898401498795, -0.00014282662596087903, 0.005925120320171118, 0.02005903422832489, -0.03507223725318909, -0.0077178808860480785, 0.021152710542082787, 0.0229547917842865, -0.006990834139287472, -0.0019698617979884148, 0.02005903422832489, -0.052745066583156586, 0.010980269871652126, -0.004657449200749397, -0.035569366067647934, -0.02361348457634449, 0.018853502348065376, 0.04444306343793869, 0.009954947978258133, 0.0015053596580401063, -0.03934752196073532, 0.0001951607846422121, 0.022532235831022263, 0.019735902547836304, -0.008389000780880451, 0.01671586185693741, 0.020593443885445595, -0.0009367718012072146, 0.01851794309914112, 0.003970793914049864, -0.025800839066505432, -0.02073015458881855, -0.02506757713854313, -0.00645642401650548, 0.021065713837742805, 0.01070063654333353, 0.007183470763266087, -0.028535032644867897, 0.02545285038650036, -0.0039397235959768295, 0.012160944752395153, -0.0035699859727174044, 0.0046885195188224316, 0.03464968129992485, -0.023762622848153114, 0.006928693503141403, 0.04523846507072449, -0.013037129305303097, -0.0154481902718544, 0.019810469821095467, 0.007512816693633795, 0.0016016778536140919, 0.03807985037565231, 0.0016405157512053847, -0.0154481902718544, 0.028286468237638474, 0.020220600068569183, 0.004231784958392382, -0.024520739912986755, -0.029728135094046593, 0.012987416237592697, -0.031045518815517426, -0.03621562942862511, 0.017784683033823967, 0.027665061876177788, -0.020108746364712715, 0.0104645024985075, 0.001915488624945283, 0.009252757765352726, -0.012676713056862354, 0.027789343148469925, 0.03251203894615173, 0.003476774785667658, 0.008954482153058052, 0.014279943890869617, -0.0273419301956892, 0.02111542597413063, 0.016765573993325233, -0.014317228458821774, -0.024222463369369507, -0.004244212992489338, -0.00988037884235382, 0.020792294293642044, -0.020220600068569183, -0.0037253377959132195, 0.008693491108715534, 0.01613173820078373, -0.0020351095590740442, -8.092861389741302e-05, -0.007624669931828976, -0.007202112581580877, 0.02025788463652134, -0.005710734985768795, -0.03400341793894768, -0.01604474149644375, -0.03350629284977913, -0.015547615475952625, -0.0071275439113378525, 0.0003916808927897364, -0.031716637313365936, -0.021339133381843567, 0.008364144712686539, 0.014888923615217209, 0.022196674719452858, -0.04054062440991402, -0.0020786081440746784, -0.015858318656682968, -0.029156439006328583, 0.01348454225808382, -0.008643778041005135, -0.005757340230047703, -0.020991144701838493, 0.009047692641615868, -0.002619232516735792, -0.009693956933915615, -0.0239863283932209, -0.03385427966713905, -0.016479726880788803, 0.011937238276004791, -0.014168091118335724, -0.008475998416543007, 0.0001693335361778736, -0.005319247953593731, 0.007506602443754673, 0.006711200810968876, -0.009401895105838776, 0.023016933351755142, -0.007904303260147572, 0.004759981296956539, 0.008420071564614773, 0.00845114141702652, -0.0019481125054880977, -0.04983688145875931, 0.051303401589393616, -0.011850240640342236, -0.015547615475952625, -0.03937237709760666, 0.0230542179197073, 0.02506757713854313, -0.026223396882414818, -0.008109367452561855, 0.04568587988615036, 0.025800839066505432, -0.0015636165626347065, 0.0060897935181856155, -0.008575423620641232, -0.025167003273963928, 0.01746154949069023, -0.044492777436971664, 0.05816373974084854, 0.009650458581745625, 0.008215007372200489, -0.003032468492165208, 0.027863912284374237, -0.03136865049600601, 0.028187043964862823, -0.007307752035558224, -0.02084200643002987, -0.0316917821764946, 0.03370514139533043, -0.006151934154331684, -0.03276060149073601, -0.007823520340025425, -0.047550100833177567, -0.017163274809718132, 0.004564237780869007, -0.04011806845664978, -0.00959453172981739, -0.02034488134086132, -0.01410594955086708, -0.006568277254700661, 0.01918906345963478, 0.01551033090800047, -0.025502562522888184, -0.007786235772073269, 0.03062296099960804, 0.02427217736840248, -0.022146962583065033, -0.010594997555017471, -0.012459220364689827, 0.0008637564023956656, -0.015572471544146538, 0.008047226816415787, 0.006922479253262281, 0.015858318656682968, 0.012216871604323387, -0.019624048843979836, -0.01546061784029007, -0.01348454225808382, 0.014416653662919998, -0.041236601769924164, 0.029728135094046593, 0.02841074950993061, 0.031070373952388763, 0.02332763746380806, 0.029429858550429344, -0.03502252697944641, -0.005536740645766258, -0.02649681456387043, 0.025601988658308983, -0.00597483292222023, -0.011893738992512226, -0.04464191570878029, 0.03897467628121376, 0.008196365088224411, -0.031169800087809563, 0.011160478927195072, 0.027714774012565613, -0.01697685196995735, -0.006649060174822807, -0.03226347640156746, -0.00032915177871473134, -0.025850551202893257, -0.025651700794696808, 0.007767593488097191, 0.02552741952240467, -7.015108167252038e-06, -0.008730774745345116, 0.03196519985795021, -0.012030448764562607, -0.016392730176448822, -0.0172751285135746, 0.01152710895985365, 0.045661021023988724, 0.014391797594726086, -0.0015030293725430965, -0.014714929275214672, 0.010153798386454582, -0.011732173152267933, -0.0037781575229018927, -0.003837191266939044, -0.004138574004173279, -0.04961317405104637, 0.01161410566419363, 0.017995961010456085, -0.0001567112049087882, 0.012453005649149418, -0.018480658531188965, 0.0039210813120007515, 0.00379369268193841, -0.005201180465519428, 0.0374087318778038, 0.013049556873738766, -0.03952151536941528, 0.02524157240986824, -0.07342550903558731, -0.008314432576298714, 0.016082026064395905, 0.03962093964219093, -0.006419139448553324, 0.004101289436221123, -0.020705297589302063, 0.02399875782430172, 0.012651856057345867, 0.020904147997498512, 0.016865000128746033, -0.023277925327420235, 0.0345502570271492, -0.0009911449160426855, 0.006823054049164057, -0.03340686485171318, -0.0074817463755607605, 0.005685878451913595, -0.005723163019865751, 0.012310082092881203, 0.02104085683822632, -0.004039148800075054, 0.022681374102830887, 0.019425198435783386, 0.019276060163974762, -0.0027404071297496557, -0.0016638186061754823, 0.0011798974592238665, 0.05781575292348862, -0.014752213843166828, -0.01700170896947384, -0.01613173820078373, 0.025167003273963928, -0.014168091118335724, 0.050060588866472244, 0.007357464637607336, 0.0026611776556819677, 0.023364922031760216, 0.03636476770043373, 0.017884107306599617, -0.04118688777089119, -0.015535186976194382, 0.005583346355706453, 0.016740716993808746, 0.021078141406178474, -0.03333229944109917, 0.002397079486399889, 0.05721919983625412, 0.012434364296495914, 0.007606027647852898, 0.011539537459611893, 0.03646419197320938, 0.026993941515684128, 0.005869193933904171, 0.0161441657692194, -0.04091347008943558, 0.06164362281560898, 0.003346279263496399, -0.018406089395284653, -0.008177722804248333, 0.018393661826848984, 0.01737455278635025, 0.018356377258896828, 0.04235513508319855, 0.04436849430203438, -0.01449122279882431, 0.002283672569319606, 0.001610998879186809, 0.02199782431125641, -0.005648593883961439, 0.000949976674746722, 0.0031784994062036276, -0.029529284685850143, -0.0012164051877334714, -0.007419605273753405, 0.012297654524445534, 0.029703278094530106, -0.0017430479638278484, 0.013621252030134201, 0.0019838435109704733, -0.043821655213832855, 0.00825850572437048, -0.0059220134280622005, 0.015013204887509346, 0.001558955991640687, -0.036339908838272095, -0.0008264719508588314, -0.000683936639688909, -0.011067267507314682, -0.017113562673330307, -0.038353271782398224, 0.0018626688979566097, -0.008190150372684002, -0.013012273237109184, -0.02716793492436409, -0.003784371539950371, -0.007208326831459999, 0.018592512235045433, 0.011322044767439365, -0.0391983836889267, 0.014279943890869617, 0.014553363434970379, 0.018107814714312553, -0.011732173152267933, 0.0349479578435421, -0.029504427686333656, -0.01299984473735094, -0.025900263339281082, -0.04426907002925873, -0.005592667497694492, 0.028957588598132133, -0.03102066181600094, -0.020133603364229202, -0.02821189910173416, 0.014180518686771393, -0.018691936507821083, -0.0001891409046947956, -0.003712909761816263, 0.005800839047878981, -0.015224483795464039, -0.00532856909558177]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-16T00:34:54.265253", "url_path": "/dependencies/", "chunk_size": 3409}
updated_dt: 2025-03-16T00:34:54.265253
---
ntic_graph/state/)
    * [ pydantic_graph.mermaid  ](https://ai.pydantic.dev/api/pydantic_graph/mermaid/)
    * [ pydantic_graph.exceptions  ](https://ai.pydantic.dev/api/pydantic_graph/exceptions/)


Table of contents 
  * [ Defining Dependencies  ](https://ai.pydantic.dev/dependencies/#defining-dependencies)
  * [ Accessing Dependencies  ](https://ai.pydantic.dev/dependencies/#accessing-dependencies)
    * [ Asynchronous vs. Synchronous dependencies  ](https://ai.pydantic.dev/dependencies/#asynchronous-vs-synchronous-dependencies)
  * [ Full Example  ](https://ai.pydantic.dev/dependencies/#full-example)
  * [ Overriding Dependencies  ](https://ai.pydantic.dev/dependencies/#overriding-dependencies)
  * [ Examples  ](https://ai.pydantic.dev/dependencies/#examples)


# Dependencies
PydanticAI uses a dependency injection system to provide data and services to your agent's [system prompts](https://ai.pydantic.dev/agents/#system-prompts), [tools](https://ai.pydantic.dev/tools/) and [result validators](https://ai.pydantic.dev/results/#result-validators-functions).
Matching PydanticAI's design philosophy, our dependency system tries to use existing best practice in Python development rather than inventing esoteric "magic", this should make dependencies type-safe, understandable easier to test and ultimately easier to deploy in production.
## Defining Dependencies
Dependencies can be any python type. While in simple cases you might be able to pass a single object as a dependency (e.g. an HTTP connection), [dataclasses](https://docs.python.org/3/library/dataclasses.html#module-dataclasses) are generally a convenient container when your dependencies included multiple objects.
Here's an example of defining an agent that requires dependencies.
(**Note:** dependencies aren't actually used in this example, see [Accessing Dependencies](https://ai.pydantic.dev/dependencies/#accessing-dependencies) below)
unused_dependencies.py```
fromdataclassesimport dataclass
importhttpx
frompydantic_aiimport Agent

@dataclass
classMyDeps: 
Define a dataclass to hold dependencies.
[](https://ai.pydantic.dev/dependencies/#__code_0_annotation_1)
  api_key: str
  http_client: httpx.AsyncClient

agent = Agent(
  'openai:gpt-4o',
  deps_type=MyDeps, 
Pass the dataclass type to the deps_type argument of the Agent constructor[](https://ai.pydantic.dev/api/agent/#pydantic_ai.agent.Agent.__init__). **Note**: we're passing the type here, NOT an instance, this parameter is not actually used at runtime, it's here so we can get full type checking of the agent.
[](https://ai.pydantic.dev/dependencies/#__code_0_annotation_2)
)

async defmain():
  async with httpx.AsyncClient() as client:
    deps = MyDeps('foobar', client)
    result = await agent.run(
      'Tell me a joke.',
      deps=deps, 
When running the agent, pass an instance of the dataclass to the deps parameter.
[](https://ai.pydantic.dev/dependencies/#__code_0_annotation_3)
    )
    print(result.data)
    #> Did you hear about the toothpaste scandal? They called it Colgate.

```

_(This example is complete, it can be run "as is" â€” you'll need to add`asyncio.run(main())` to run `main`)_
## Accessing Dependencies
Dependencies are accessed through the [`RunContext`](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext) type, this should be the first parameter of system prompt functions etc.
system_prompt_dependencies.py