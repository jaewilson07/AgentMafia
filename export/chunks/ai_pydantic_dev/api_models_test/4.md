---
url: https://ai.pydantic.dev/api/models/test/
session_id: pydantic_ai_docs
chunk_number: 4
title: TestStreamedResponse Class Definition
summary: The TestStreamedResponse class extends StreamedResponse to provide a structured response for streaming test data, including model name, structured response, and message handling. It initializes timestamps and estimates usage based on input messages, featuring an asynchronous method to yield event data from the structured response parts.
embedding: [-0.007739673834294081, 0.016204942017793655, 0.0048688435927033424, -0.027278143912553787, 0.00653035007417202, 0.010410702787339687, -0.03846701979637146, -0.052032481878995895, -0.0026368522085249424, -0.03131623566150665, 0.019391248002648354, -0.011493836529552937, 0.028056317940354347, -0.01629958488047123, -0.0025172343011945486, 0.010447508655488491, -0.006430449429899454, 0.03659519925713539, 0.031063854694366455, 0.0471951849758625, 0.05220073461532593, -0.00377519428730011, 0.0007959192735143006, -0.009758719243109226, 0.0258269552141428, 0.028981713578104973, -0.06902611255645752, 0.07255944609642029, -0.031190045177936554, -0.017466844990849495, 0.02511187642812729, -0.01857101172208786, -0.0018613074207678437, -0.02193608693778515, -0.008339078165590763, -0.004461354110389948, -0.01851843111217022, 0.010505345650017262, -0.003275690833106637, -0.003225740510970354, 0.0012960799504071474, -0.022440848872065544, 0.015878951177001, 0.03283051773905754, 0.014638079330325127, 0.0034833790268749, -0.035501547157764435, 0.011451773345470428, 0.03240988403558731, 0.07735467702150345, -0.04446106031537056, 0.013334112241864204, -0.002886603819206357, -0.04875153303146362, 0.021347198635339737, -0.028666237369179726, -0.015668632462620735, 0.05182216316461563, 0.0048688435927033424, -0.013323596678674221, 0.017224980518221855, 0.0034150260034948587, -0.016625577583909035, -0.017834899947047234, -0.018655138090252876, -0.027614651247859, -0.03129520267248154, 0.025869019329547882, 0.0036647776141762733, 0.0036227141972631216, 0.0020992287900298834, 0.009532628580927849, -0.0216206107288599, 0.0199591051787138, -0.040233686566352844, -0.005625986028462648, -0.014753753319382668, 0.0023936729412525892, -0.022756323218345642, -0.024670211598277092, -0.039749957621097565, -0.0077712214551866055, 0.002513290848582983, -0.0007643716526217759, -0.0006296372157521546, 0.01260851789265871, -0.0318840928375721, -0.017035694792866707, -0.009627271443605423, -0.009169830940663815, -0.028497984632849693, 0.007907927967607975, -0.03293567895889282, 0.015616053715348244, 0.03924519568681717, -0.015721213072538376, -6.675107579212636e-05, -0.05333644896745682, 0.003940818831324577, -0.0031258398666977882, 0.03632178530097008, -0.008186598308384418, -0.05543962121009827, -0.02708885818719864, 0.012703160755336285, 0.010431734845042229, 0.05636501684784889, 0.014911491423845291, -0.022272594273090363, -0.02912893518805504, -0.046942804008722305, 0.011641058139503002, 0.058384060859680176, -0.010883916169404984, -0.038908686488866806, 0.0078132851049304, -0.06397850066423416, -0.03314599394798279, -0.02462814748287201, -0.001967780524864793, 0.018886486068367958, 0.031084885820746422, 0.01126248762011528, 0.010799789801239967, -0.027215048670768738, -0.02492259070277214, 0.014680142514407635, -0.08534672856330872, -0.05388327315449715, -0.015552958473563194, 0.014690658077597618, -0.020947596058249474, 0.011535899713635445, -0.03745749965310097, -0.026878541335463524, 0.02605830505490303, -0.06158088520169258, -0.013197406195104122, -0.02151545137166977, 0.001750890864059329, 0.0025290646590292454, -0.050896767526865005, 0.00013144826516509056, 0.024586083367466927, 0.0056417593732476234, 0.008880645036697388, -0.0049161650240421295, -0.0014222702011466026, -0.020211486145853996, 0.013512881472706795, 0.006929952651262283, 0.048919785767793655, -0.020569024607539177, 0.040654320269823074, 0.011493836529552937, -0.016320616006851196, -0.003433428704738617, 0.02803528681397438, 0.005515569355338812, -0.03373488411307335, -0.0023069169837981462, 0.01869720220565796, -0.0355856753885746, 0.05842612683773041, -0.049634866416454315, -0.006798504386097193, -0.019338669255375862, -0.006477770395576954, -0.034071389585733414, -0.030390840023756027, 0.047111060470342636, 0.03194718807935715, -0.009427469223737717, 0.017508909106254578, 0.004253665916621685, -0.02294560894370079, -0.10524273663759232, -0.05623882636427879, -0.0007321668672375381, -0.037625752389431, -0.04366185516119003, -0.029276158660650253, -0.09035228192806244, -0.0471951849758625, -0.013144826516509056, 0.0007098206551745534, 0.002786703174933791, 0.02437576651573181, -0.006919436622411013, 0.04061225801706314, -0.01725652813911438, 0.028119413182139397, 0.003754162462428212, -0.008607232943177223, -0.07037214189767838, 0.006362095940858126, 0.013018636032938957, 0.007224396802484989, -0.012829351238906384, 0.04086463898420334, 0.03613249957561493, 0.03243091702461243, 0.006325290538370609, -0.059225331991910934, -0.0003077532455790788, -0.033167026937007904, -0.06490389257669449, 0.04547058418393135, -0.06166500970721245, 0.009096220135688782, 0.031126949936151505, -0.029759887605905533, 0.018718233332037926, 0.0030075362883508205, -0.01312379539012909, 0.0019204592099413276, -0.030538061633706093, -0.015952561050653458, 0.016194425523281097, 0.002797219203785062, -0.019570017233490944, 0.04542852193117142, 0.030517028644680977, -0.03773090988397598, -0.03331425040960312, 0.01458549965173006, -0.003196821780875325, -0.018707716837525368, -0.013113278895616531, -0.02910790406167507, -0.018770812079310417, -0.02342933975160122, 0.016015656292438507, -0.0336717888712883, -0.013260501436889172, -0.0748729333281517, -0.017351171001791954, 0.0008162937592715025, 0.02641584351658821, -0.03402932733297348, -0.034050360321998596, -0.011788280680775642, 0.015405736863613129, 0.022020213305950165, 0.032515041530132294, 0.019801367074251175, 0.021178944036364555, -0.07075071334838867, 0.03369281813502312, 0.051317404955625534, 0.07209674268960953, -0.10271893441677094, -0.03440789878368378, -0.029381316155195236, -0.030348775908350945, -0.03432377055287361, -0.014333118684589863, 0.0021242040675133467, -0.017330139875411987, -0.008854355663061142, -0.0025395804550498724, 0.034723374992609024, -0.07243325561285019, 0.0021662674844264984, -0.023576561361551285, -0.027888063341379166, 0.020022200420498848, -0.05363089218735695, 0.036279723048210144, -0.034597184509038925, 0.018665654584765434, 0.010678857564926147, -0.010489571839571, 0.019864462316036224, -0.06624992936849594, 0.03091663308441639, 0.005578664597123861, -0.007760705891996622, 0.052873749285936356, -0.015584506094455719, 0.0471951849758625, -0.00485569890588522, 0.023387275636196136, 0.014617047272622585, -0.05737454071640968, 0.020716246217489243, 0.028308698907494545, -0.011903954669833183, 0.015163872390985489, 0.006646024528890848, 0.03632178530097008, -0.0009944061748683453, -0.010063678957521915, -0.05333644896745682, 0.020390255376696587, -0.03062218800187111, 0.030937664210796356, 0.02342933975160122, -0.011409709230065346, -0.03062218800187111, 0.001172518590465188, -0.006267453543841839, -0.027846001088619232, 0.03127417340874672, 5.7179997384082526e-05, 0.024459892883896828, -0.0036332299932837486, -0.010126774199306965, 0.0033493018709123135, -0.017119823023676872, 0.030411871150135994, 0.014858911745250225, -0.011556931771337986, -0.04080154374241829, 0.0005954606458544731, -0.025511479005217552, 0.044671379029750824, 0.004753169137984514, 0.0025947887916117907, 0.004892504308372736, -0.013407723046839237, 0.030453935265541077, 0.027824969962239265, -0.037541624158620834, 0.004966115579009056, 0.01450137235224247, 0.011872407048940659, 0.01132558286190033, -0.0007762020104564726, 0.020979143679142, -0.04942454770207405, -0.048625342547893524, -0.024354735389351845, 0.007539872545748949, 0.039813049137592316, 0.016983116045594215, -0.0320102833211422, 0.016941051930189133, 0.015458316542208195, 0.07928959280252457, 0.022083308547735214, 0.0005169202922843397, -0.0832856222987175, -0.012923993170261383, -0.012682128697633743, -0.021410293877124786, 0.031778931617736816, 0.021178944036364555, -0.048499152064323425, 0.00048668720410205424, 0.035627737641334534, -0.014312087558209896, -0.005920429714024067, -0.001614184700883925, -0.007702868431806564, -0.03285155072808266, 0.023744814097881317, 0.032746393233537674, -0.011609510518610477, -0.010841852985322475, -0.009096220135688782, 8.823465032037348e-05, -0.0049424548633396626, -0.00932231079787016, -0.015395221300423145, 0.03876146301627159, -0.028771396726369858, -0.014911491423845291, -0.056112635880708694, -0.02870830148458481, 0.026331717148423195, 0.018728749826550484, 0.0033203831408172846, -0.030811473727226257, -0.028561079874634743, -0.00774493208155036, 0.00563124381005764, 0.03377694636583328, 0.015321609564125538, 0.020979143679142, 0.03682654723525047, 0.024775369092822075, 0.006130747031420469, -0.02317695878446102, 0.026226557791233063, 0.03804638609290123, -0.025784891098737717, 0.027824969962239265, -0.032073378562927246, 0.007534614764153957, 0.012366652488708496, -0.02300870418548584, 0.008233919739723206, 0.009317053481936455, 0.027067827060818672, 0.050602324306964874, -0.011620027013123035, 0.01564760133624077, 0.05493485927581787, -0.019391248002648354, 0.042021382600069046, 0.0053052520379424095, -0.002970730885863304, 0.005810013506561518, 0.029549570754170418, -0.015300578437745571, -0.0036200853064656258, -0.023681718856096268, 0.05350470170378685, 0.003273061942309141, -0.0018836536910384893, -0.041979316622018814, 0.022903546690940857, -0.019380731508135796, -0.0139335161074996, -0.03590115159749985, -0.008470525965094566, 0.005857334937900305, 0.020453350618481636, 0.045680902898311615, -0.007340071257203817, -0.07319039851427078, 0.00158395164180547, -0.0005514255026355386, -0.02948647551238537, 0.06982532143592834, 0.04416661709547043, -0.07323245704174042, -0.005562890786677599, 0.0003874437534250319, 0.00390927167609334, -0.02210433967411518, 0.05144359543919563, -0.0008445550920441747, 0.02959163300693035, 0.0413273349404335, -0.005431442521512508, -0.021315651014447212, 0.00774493208155036, -0.030769409611821175, 0.014301571063697338, 0.04231582581996918, -0.027067827060818672, 0.01850791648030281, -0.029044808819890022, -0.0168989896774292, 0.027782905846834183, 0.024838464334607124, 0.00396973779425025, -0.025805924087762833, 0.054430097341537476, 0.035438451915979385, -0.036763451993465424, -0.045512646436691284, -0.0018468481721356511, -0.02359759248793125, 0.015521411783993244, 0.020116843283176422, 0.017593035474419594, -0.055986445397138596, -0.03278845548629761, -0.010442250408232212, -0.004098556935787201, -0.00024202912754844874, -0.0829070508480072, -0.06566103547811508, 0.014122801832854748, -0.026163462549448013, -0.007366360630840063, 0.007834316231310368, 0.012419232167303562, 0.03091663308441639, 0.0005123196169734001, -0.013439270667731762, 0.013607524335384369, -0.013113278895616531, 0.027362270280718803, 0.009301279671490192, 0.01594204641878605, -0.009159315377473831, 0.026331717148423195, -0.030411871150135994, -0.04296781122684479, -0.003323012264445424, -0.027782905846834183, 0.023261085152626038, -0.016909504309296608, -0.032683297991752625, 0.001955950167030096, -0.024459892883896828, -0.016047203913331032, 0.014522404409945011, 0.028918618336319923, -0.007755447644740343, 0.003296722425147891, -0.01510077714920044, -0.05337851122021675, 0.006740666925907135, 0.04067535325884819, -0.006982531864196062, -0.031421393156051636, -0.015006134286522865, 0.011840859428048134, 0.05220073461532593, 0.03678448125720024, 0.02647893875837326, -0.003344043856486678, 0.039097972214221954, 0.0079394755885005, 0.03808844834566116, 0.0016838522860780358, 0.03020155429840088, 0.011851375922560692, 0.041432492434978485, -0.005562890786677599, -0.0036621487233787775, 0.002183355623856187, -0.017813868820667267, -0.029276158660650253, 0.010463282465934753, 0.0059046559035778046, -1.5825138689251617e-05, 0.01009522657841444, -0.0034597183112055063, -0.04984518140554428, -0.005741660483181477, -0.0035438453778624535, -0.01706724241375923, 0.0005057472153566778, -0.015889465808868408, 0.019780335947871208, 0.003491265932098031, 0.0026092480402439833, 0.03611146658658981, -0.005767949856817722, -0.01348133385181427, 0.013428755104541779, -0.011041654273867607, -0.009148799814283848, 8.260701724793762e-05, -0.014070222154259682, -0.0029891335871070623, -0.025616638362407684, 0.0029602148570120335, 0.01641525886952877, 0.02492259070277214, -0.0034676052164286375, -0.02858211100101471, 0.016572996973991394, -0.0033466729801148176, 0.031673774123191833, -0.018171409144997597, 0.037352338433265686, -0.053168196231126785, -0.011010106652975082, 0.024775369092822075, -0.018360693007707596, 0.03455511853098869, -0.02384997345507145, -0.00138940813485533, -0.0007262516883201897, -0.009238184429705143, 0.035207103937864304, 0.021431325003504753, -0.03236782178282738, 0.05342057719826698, 0.013165858574211597, 0.019391248002648354, 0.014606531709432602, 0.01510077714920044, -0.009506338275969028, -0.009737687185406685, -0.005092306062579155, 8.585215255152434e-05, -0.0034492025151848793, -0.00555763253942132, 0.027888063341379166, -0.005799497477710247, -0.013754746876657009, -0.0006723578553646803, 0.010011100210249424, -0.04294677823781967, -3.3005839213728905e-05, -0.0025987322442233562, -0.0353332944214344, 0.01821347139775753, 0.01941227912902832, -0.006309516727924347, -0.015447800047695637, -0.009185604751110077, 0.05013962835073471, -0.014480341225862503, -0.01252439059317112, 0.029381316155195236, 0.013723199255764484, -0.055986445397138596, 0.0237868782132864, -0.01774025894701481, -0.030580123886466026, -0.02078985795378685, 0.04875153303146362, 0.027215048670768738, -0.05821580812335014, 0.02433370240032673, -0.024039259180426598, 0.020095810294151306, 0.008260209113359451, 0.01785593293607235, -0.05098089575767517, 0.023197989910840988, 0.008791260421276093, -0.01239820010960102, 0.000332564115524292, -0.03836186230182648, 0.004240521229803562, 0.015142840333282948, -0.0438721738755703, -0.029549570754170418, 0.00010154378833249211, -8.549272024538368e-06, -0.045260265469551086, -0.0006874744431115687, 0.02258807048201561, 0.00709820631891489, 0.011378161609172821, 0.020695215091109276, 0.007145527750253677, 0.012093240395188332, -0.028056317940354347, 0.03709995746612549, 0.01695156842470169, -0.017161885276436806, 0.018287083134055138, 0.032262664288282394, -0.022251563146710396, -9.431413491256535e-05, 0.05325232073664665, 0.02677338384091854, -0.023976163938641548, -0.02433370240032673, 0.004924051929265261, 0.06511421501636505, 0.023408306762576103, 0.01628906838595867, 0.003501781728118658, -0.027951158583164215, -0.02936028502881527, 0.0372471809387207, -0.006093941628932953, 0.0028813460376113653, 0.01851843111217022, -0.03480749949812889, -0.012503359466791153, 0.005983524955809116, 0.011924986727535725, -0.026857510209083557, -0.02372378297150135, 0.0016089268028736115, -0.0018994275014847517, 0.024544021114706993, 0.006866857409477234, 0.012871414422988892, -0.01917041465640068, 0.0236606877297163, -0.03461821377277374, 0.04200034961104393, -0.018707716837525368, -0.014227960258722305, -0.001311853644438088, 0.009574691765010357, -0.020779341459274292, -0.010768242180347443, 0.032914645969867706, -0.01737220212817192, 0.005234269890934229, -0.017340654507279396, 0.002715721260756254, -0.04300987347960472, -0.05236899107694626, 0.04626978933811188, -0.007902669720351696, 0.028476951643824577, -0.04147455841302872, -0.025322193279862404, 0.014627562835812569, -0.029738856479525566, 0.019780335947871208, 0.008964771404862404, -0.013891452923417091, 0.04002336785197258, -0.02923409454524517, -0.04643804207444191, -0.015321609564125538, -0.004527078475803137, 0.05144359543919563, -0.03539638966321945, -0.028413856402039528, 0.027341239154338837, 0.00428521353751421, -0.020032715052366257, 0.012892445549368858, -0.020684698596596718, -0.010684114880859852, -0.004395630210638046, 0.011693637818098068, -0.0004344365152064711, -0.0011823771055787802, -0.014900975860655308, 0.049508675932884216, 0.008985803462564945, -0.03133726492524147, 0.00486621493473649, 0.009274989366531372, 0.07243325561285019, -0.03335631266236305, -0.009301279671490192, 0.0057153706438839436, 0.001035155146382749, 0.009874394163489342, 0.02235672064125538, 0.0054735057055950165, 0.005620727781206369, -0.02546941675245762, 0.005725886672735214, 0.0138073256239295, -0.01432260312139988, 0.02204124443233013, 0.031021790578961372, 0.005292107351124287, 0.02197815105319023, -0.006004557013511658, -0.003393994178622961, -0.006235905922949314, -0.0025566688273102045, -0.0006118916790001094, -0.011598994955420494, -0.042210668325424194, 0.0077922530472278595, -0.017456330358982086, 0.030958695337176323, -0.028413856402039528, 0.023871004581451416, 0.011336098425090313, -0.0027525266632437706, 0.0009753461345098913, -0.023345211520791054, -0.036279723048210144, 0.04122217744588852, -0.04437693580985069, -0.03198925033211708, 0.030769409611821175, 0.0028708302415907383, -0.004377227276563644, -0.010263480246067047, -0.002720979042351246, -0.009816556237637997, 0.03672138601541519, -0.002070310292765498, -0.03312496468424797, -0.003551732050254941, -0.0438721738755703, -0.019023193046450615, 0.0028813460376113653, 0.013071215711534023, -0.03505988046526909, -0.02994917333126068, 0.002915522549301386, 0.04048606753349304, 0.0004893161822110415, -0.038130514323711395, -0.01323946937918663, -0.0031416136771440506, -0.033293217420578, 0.02864520624279976, 0.04349360242486, -0.014511888846755028, 0.009059414267539978, 0.03653210401535034, 0.004984518047422171, 0.004240521229803562, 0.013281532563269138, 0.0005057472153566778, 0.02427060715854168, -0.02037973888218403, -0.0003177761973347515, 0.03594321385025978, -0.007786995265632868, -0.00416428130120039, -0.006367354188114405, -0.024586083367466927, 0.024123385548591614, 0.024102354422211647, -0.033461470156908035, 0.02246187999844551, 0.032136473804712296, -0.07226499915122986, 0.025322193279862404, -0.06469357758760452, 0.0026762867346405983, 0.023871004581451416, 0.004745282232761383, 0.030348775908350945, -0.027004731819033623, -0.0013972950400784612, -0.02019045315682888, -0.0024041887372732162, -0.05649120733141899, 0.0008465268183499575, 0.0012881930451840162, -0.01696208491921425, -0.07100309431552887, 0.03293567895889282, -0.01839224062860012, 0.004826780408620834, -0.03701583296060562, -0.018528947606682777, -0.019570017233490944, -0.004287842661142349, -0.004529707133769989, -0.02139977738261223, 0.03129520267248154, -0.0018994275014847517, -0.022630132734775543, 0.008612490259110928, -0.01928609050810337, 0.040107496082782745, -0.022756323218345642, -0.015447800047695637, 0.01267161313444376, 0.028434889391064644, 0.00811824481934309, -0.01840275712311268, 0.018371209502220154, -0.006740666925907135, 0.03146345540881157, 0.033755913376808167, -0.01918093115091324, 0.006162294652312994, -0.042568206787109375, -0.019738271832466125, 0.02540632151067257, 0.07718642055988312, -0.012377168983221054, -0.036342818289995193, -0.014459309168159962, -0.03272536024451256, -0.008023601956665516, -0.016341648995876312, -0.003002278506755829, -0.06868960708379745, 0.05144359543919563, 0.01024244911968708, 0.03834082931280136, -0.06730151176452637, -0.04618566110730171, -0.010615762323141098, 0.005389378871768713, -0.02020096965134144, 0.003938190173357725, 0.02725711278617382, -6.0507281887112185e-05, 0.010820820927619934, -0.004327276721596718, -0.006866857409477234, 0.015384704805910587, 0.012534907087683678, 0.01756148785352707, 0.03684757649898529, 0.008097212761640549, -0.018003154546022415, -0.04233685880899429, 0.009038383141160011, 0.01701466366648674, -0.012513875029981136, 0.024522988125681877, -0.02307179942727089, 0.04212654009461403, 0.03337734565138817, -0.009264473803341389, 0.018981128931045532, 0.0026158206164836884, -0.03234678879380226, 0.011577962897717953, 0.006483028642833233, 0.01144125685095787, 0.02875036559998989, 0.04858328029513359, 0.015889465808868408, 0.024060290306806564, -0.014795816503465176, -0.006546123884618282, -0.050181690603494644, 0.022861482575535774, -0.01521645113825798, -0.04237892106175423, 0.020158905535936356, -0.02031664364039898, 0.01857101172208786, 0.008307530544698238, 0.015353157185018063, 0.024186480790376663, 0.004327276721596718, 0.0022766839247196913, -0.02019045315682888, 0.035144008696079254, 0.005810013506561518, -0.007077174726873636, -0.00690366281196475, -0.007035111077129841, 0.02540632151067257, -0.004106443841010332, -0.030769409611821175, -0.029339253902435303, 0.08122451603412628, -0.016562482342123985, -0.009616754949092865, 0.010342349298298359, -0.019612081348896027, 0.03560670465230942, -0.014227960258722305, -0.03554361313581467, -0.02456505224108696, -0.0012533592525869608, -0.005468247924000025, 0.003020681207999587, -0.02139977738261223, -0.020516445860266685, 0.018949581310153008, 0.03798329085111618, -0.0016365309711545706, 0.014448793604969978, -0.017771806567907333, -0.011167844757437706, -0.016331132501363754, 0.0008425833657383919, -0.05098089575767517, -0.037541624158620834, 0.03463924676179886, -0.025301162153482437, 0.0554816834628582, -0.002962843980640173, -0.023345211520791054, -0.020232517272233963, 0.010873400606215, 0.02605830505490303, 0.0088333236053586, 0.011251972056925297, 0.023828942328691483, -0.0032704328186810017, -0.019212478771805763, 0.01171466987580061, -0.0064199334010481834, -0.01003213133662939, -0.04315709322690964, -0.03642694279551506, -0.01659402996301651, -0.0031915639992803335, -0.03474440425634384, 0.00021409636246971786, -0.021368229761719704, 0.0148273641243577, 0.013670619577169418, -0.026563065126538277, 0.018497399985790253, 0.00518169067800045, -0.037352338433265686, 0.047068994492292404, -0.02126307226717472, -0.02180989645421505, 0.02462814748287201, 0.0015116550493985415, -0.011294035241007805, 0.005741660483181477, 0.007056143134832382, -0.015542442910373211, 0.0127872871235013, 0.04006543010473251, -0.005678565241396427, 0.020232517272233963, 0.008786002174019814, 0.022777356207370758, 0.02114739641547203, 0.03808844834566116, -0.015552958473563194, 0.020947596058249474, -0.020873984321951866, 0.0038093707989901304, -0.0397920198738575, 0.013838873244822025, -0.004695332143455744, 0.01387042086571455, -0.022440848872065544, 0.005894140340387821, 0.04206344485282898, 0.023871004581451416, 0.0025474673602730036, 0.014112286269664764, 0.029570601880550385, 0.026521002873778343, 0.009301279671490192, -0.013901968486607075, -0.00755038857460022, 0.025953145697712898, 0.013186889700591564, 0.022777356207370758, -0.01611029915511608, 0.012587485834956169, 0.04420867934823036, -0.01928609050810337, 0.009806040674448013, 0.027698779478669167, -0.04239995405077934, -0.03926622495055199, 0.014848396182060242, -0.014143833890557289, 0.003743646666407585, 0.0025855873245745897, -0.00767132081091404, 0.001799526740796864, -0.04875153303146362, 0.012892445549368858, -0.018045218661427498, -0.020821405574679375, -0.024754337966442108, 0.03577496111392975, 0.011609510518610477, -0.002239878522232175, 0.006151779089123011, -0.01964362896978855, -0.021000174805521965, 0.020222000777721405, 0.02971782349050045, -0.04237892106175423, 0.006950984243303537, 0.011230939999222755, 0.02095811255276203, 0.0029970204923301935, -0.0027551555540412664, 0.030811473727226257, -0.008039375767111778, -0.01338669192045927, -0.006072910036891699, 0.012976572848856449, 0.021830927580595016, -0.010389670729637146, 0.017813868820667267, 0.034239646047353745, -0.021915055811405182, 0.035375356674194336, -0.009821814484894276, 0.00907518807798624, -0.005852076690644026, -0.029528537765145302, -0.016047203913331032, 0.019517438486218452, -0.0009760033572092652, 0.020569024607539177, 0.011967049911618233, 0.02229362539947033, 0.032451946288347244, 0.030474966391921043, 0.003943447954952717, -0.0316317118704319, -0.030243616551160812, 0.013344627805054188, -0.01356546115130186, 0.017519425600767136, -0.03691067174077034, 0.007313781417906284, -0.008975287899374962, 0.0312531404197216, 0.018602559342980385, 0.009948004968464375, 0.0052184960804879665, -0.021999182179570198, 0.012713676318526268, 0.038130514323711395, -0.023261085152626038, 0.010394928976893425, -0.0047005899250507355, -0.02887655608355999, 0.04660629853606224, -0.051906291395425797, 0.009821814484894276, 0.0008478413219563663, 0.010552667081356049, 0.008549395017325878, -0.009558917954564095, 0.010342349298298359, -0.022020213305950165, -0.015500379726290703, -0.0033387860748916864, 0.022440848872065544, 0.028666237369179726, -0.025742828845977783, 0.0516539104282856, 0.015616053715348244, -0.03838289529085159, -0.002494888147339225, 0.007003563456237316, -0.002394987503066659, -0.0032020797953009605, 0.03552258014678955, -0.012692644260823727, -0.06094993278384209, -0.021830927580595016, -0.019748788326978683, -0.036931704729795456, -0.002327948808670044, 0.011462288908660412, 0.024838464334607124, -0.019927557557821274, 0.022146403789520264, 0.04614359885454178, -0.0099795525893569, 0.0022267336025834084, 0.0012954226695001125, -0.009033124893903732, 0.020705731585621834, 0.0031337267719209194, -0.008134018629789352, 0.03865630552172661, -0.015195420011878014, -0.0022214758209884167, -0.04727931320667267, -0.03684757649898529, 0.02725711278617382, 0.0052789621986448765, -0.011220424436032772, 0.03667932376265526, 0.014911491423845291, -0.0008176082046702504, -0.011315066367387772, -0.026920605450868607, -0.022125372663140297, -0.015878951177001, -0.018055733293294907, -0.011420225724577904, -0.017267044633626938, -0.02605830505490303, -0.017298592254519463, -0.02822457253932953, 0.016152363270521164, 0.012860898859798908, -0.000180905670276843, -0.0197067242115736, 0.03674241900444031, 0.05762692168354988, 0.014511888846755028, 0.03257813677191734, -0.00395659264177084, 0.009437985718250275, -0.018245019018650055, -0.01105216983705759, 0.012745223939418793, -0.0053262836299836636, 0.00952211208641529, 0.017645616084337234, 0.01864462159574032, -0.005115966312587261, 0.024607116356492043, 0.017961090430617332, 0.019517438486218452, 0.03230472654104233, 0.004198457580059767, 0.01982239820063114, 0.023828942328691483, 0.017897995188832283, 0.014680142514407635, 0.005202722270041704, -0.01521645113825798, 0.005578664597123861, 0.0019612081814557314, 0.017340654507279396, 0.01432260312139988, 0.04279955476522446, 0.02180989645421505, 0.008375883102416992, -0.009785008616745472, -0.006509318016469479, -0.00217152526602149, -0.004450838081538677, -0.007014079485088587, -0.009054156951606274, -0.005899398121982813, -0.008349593728780746, 0.010610504075884819, 0.02868727035820484, -0.012492842972278595, 0.001544517115689814, 0.02359759248793125, 0.005066016223281622, -2.3044523913995363e-05, -0.032262664288282394, -0.031778931617736816, 0.002105801133438945, 0.00422211829572916, -0.027236081659793854, -0.006157036870718002, -0.010584214702248573, -0.016509901732206345, 0.017708711326122284, -0.022419815883040428, 0.02534322626888752, -0.014469824731349945, -0.0016785943880677223, 0.0040144301019608974, 0.01432260312139988, 0.011620027013123035, -0.014659110456705093, 0.011872407048940659, 0.0009175089071504772, -0.03970789164304733, -0.008538879454135895, -0.006114973220974207, -0.0022964011877775192, -0.012650581076741219, 0.039560671895742416, 0.01221943087875843, -0.004458724986761808, -0.022987673059105873, -0.02563766948878765, 0.00928550586104393, 0.001693053636699915, -0.01060524582862854, 0.018707716837525368, 0.007361102849245071, 0.004582286346703768, -0.01720394939184189, -0.02157854661345482, 0.00760822556912899, -0.019275574013590813, 0.020695215091109276, -0.0014709060778841376, -0.04420867934823036, 0.010337091982364655, -0.019012676551938057, 0.04248407855629921, 0.010531635023653507, 0.015616053715348244, -0.012923993170261383, -0.005336799658834934, 0.01204066164791584, 0.010116258636116982, -0.009895425289869308, 0.027635684236884117, -0.024754337966442108, 0.04235788807272911, 0.02528013102710247, 0.008260209113359451, 0.03646900877356529, -0.04517614096403122, -0.010005841962993145, -0.046648360788822174, -0.015910498797893524, -0.02336624450981617, 0.014995617792010307, -0.01267161313444376, -0.0070193372666835785, -0.008828065358102322, 0.009238184429705143, -0.005389378871768713, 0.014385698363184929, -0.03036980703473091, 0.021178944036364555, -0.025069814175367355, -0.02984401397407055, 0.006398901809006929, 0.005515569355338812, 0.0296547282487154, 0.014743237756192684, 0.015847403556108475, -0.0015602909261360765, 0.004369340371340513, 0.005494537763297558, -0.013092247769236565, -0.010489571839571, 0.026016240939497948, 0.02265116572380066, 0.009127767756581306, 0.0011679178569465876, -0.011514868587255478, -0.003961850889027119, -0.014122801832854748, -0.014553952030837536, -0.03901384398341179, 0.019159900024533272, 0.014469824731349945, 0.03287258371710777, -0.029192030429840088, -0.033040836453437805, 0.02115791290998459, 0.028855523094534874, -0.029023777693510056, -0.02589005045592785, 0.01599462516605854, 0.03217853605747223, -0.00768183683976531, 0.0046190922148525715, -0.010068937204778194, -0.005799497477710247, 0.02845592051744461, -0.0008623006287962198, -0.005573406349867582, 0.0005054185749031603, -0.020821405574679375, -0.013197406195104122, 0.02246187999844551, -0.003911900334060192, -0.041958287358284, -0.022798387333750725, 0.017351171001791954, 0.01940176449716091, 0.0019809254445135593, 0.018497399985790253, 0.0016168137080967426, 0.012124788016080856, -0.02031664364039898, 0.006914178840816021, 0.017025180160999298, 0.036511071026325226, 0.02288251370191574, 0.021073786541819572, 0.007702868431806564, -0.002828766591846943, 0.017887480556964874, 0.019391248002648354, -0.018066249787807465, 0.008065666072070599, 0.0028524273075163364, -0.011967049911618233, 0.022482911124825478, 0.016551965847611427, 0.008233919739723206, -0.02715195342898369, 0.006546123884618282, -0.02317695878446102, 0.0412011444568634, -0.02631068415939808, -0.04147455841302872, 0.03270432725548744, -0.004771572072058916, 0.011861891485750675, 0.004474498797208071, 0.05093883350491524, 0.01612081564962864, -0.0189390666782856, -0.014175381511449814, -0.0026526260189712048, -0.010142548009753227, 0.00800257083028555, -0.005055500194430351, -0.011220424436032772, -0.028413856402039528, 0.023092830553650856, 0.0006302944384515285, -0.002033504657447338, -0.035207103937864304, -0.011462288908660412, -0.00869135931134224, -0.006125489249825478, 0.01737220212817192, -0.019517438486218452, -0.006540865637362003, 0.023219021037220955, 0.0015116550493985415, -0.015205935575067997, 0.013744230382144451, -0.004837296437472105, 0.02414441853761673, -0.0060308463871479034, 0.023534497246146202, -0.0009214523597620428, 0.020053748041391373, -0.017834899947047234, -0.014932523481547832, 0.035627737641334534, -0.003825144609436393, 0.00037692789919674397, 0.02036922425031662, -0.009169830940663815, -0.0026854882016777992, -0.0006802447605878115, -0.0054735057055950165, -0.04942454770207405, 0.02223053015768528, -0.00934860110282898, -0.010978559032082558, 0.047826137393713, -0.009175089187920094, 0.027236081659793854, 0.0059099141508340836, 0.011094233952462673, 0.012871414422988892, 0.03781503811478615, 0.0020847695413976908, 0.030222585424780846, 0.032073378562927246, 0.04200034961104393, -0.028140444308519363, -0.03259916976094246, -0.004371969494968653, 0.0010443564970046282, 0.005160659085959196, 0.021725770086050034, 0.02732020802795887, 0.00485569890588522, -0.028413856402039528, 0.005378862842917442, 0.012377168983221054, -0.027614651247859, -0.004952970892190933, -0.010831337422132492, -0.022672196850180626, -0.023513466119766235, -0.02281941846013069, 0.04084360599517822, 0.03085353784263134, -0.031421393156051636, 0.005815271288156509, -0.02229362539947033, 0.005457731895148754, 0.0029891335871070623, -0.0016010398976504803, -0.03173686936497688, 0.022272594273090363, -0.0037410177756100893, -0.010589472018182278, -0.013975579291582108, -0.03369281813502312, -0.010862885043025017, -0.006567155476659536, 0.0417059063911438, -0.005510311108082533, 0.023261085152626038, 0.005415668711066246, -0.0007972337189130485, 0.022546006366610527, -0.0047347666695714, 0.015510895289480686, -0.01784541644155979, 0.00826546736061573, 0.0014498743694275618, 0.022188467904925346, -0.04048606753349304, -0.01820295676589012, -0.04563883692026138, -0.022335689514875412, -0.03158964589238167, 0.009480048902332783, -0.016078751534223557, -0.0006099199526943266, 0.0056890808045864105, 0.020148390904068947, 0.011924986727535725, -0.06700706481933594, 0.003294093534350395, 0.0030864053405821323, 0.007666063029319048, -0.010831337422132492, -0.015794822946190834, 0.013901968486607075, 0.025511479005217552, -0.011336098425090313, -0.025006718933582306, 0.04677455127239227, -0.002483057789504528, 0.0004400230827741325, -0.003638488007709384, -0.007902669720351696, -0.0017061985563486814, 0.02336624450981617, 0.008412688970565796, -0.014490856789052486, 0.005547116976231337, -0.004519191570580006, -0.012114272452890873, 0.008859612978994846, -0.019454343244433403, -0.007077174726873636, 0.022966641932725906, 0.03426067531108856, 0.008885903283953667, 0.00281562190502882, 0.0359642468392849, -0.01611029915511608, 0.0013473447179421782, 0.010799789801239967, -0.022440848872065544, -0.0029207805637270212, -0.007692352402955294, -0.009753460995852947, 0.04212654009461403, -0.008412688970565796, -0.01317637413740158, -0.0016457323217764497, -0.034660279750823975, -0.02139977738261223, 0.024670211598277092, 0.010258222930133343, -0.026878541335463524, -0.01105216983705759, -0.012829351238906384, -0.001329599181190133, 0.02300870418548584, -0.01928609050810337, 0.012492842972278595, 0.04048606753349304, 0.03415551781654358, -0.014427761547267437, 0.03619559481739998, -0.04006543010473251, 0.015542442910373211, -0.024396797642111778, 0.0315055213868618, 0.00364111689850688, 0.022440848872065544, -0.017887480556964874, 0.014091254211962223, 0.034723374992609024, 0.008128760382533073, -0.014396213926374912, -0.026521002873778343, -0.037962257862091064, -0.02589005045592785, 0.01356546115130186, 0.0019769819919019938, 0.02647893875837326, -0.007897411473095417, 0.0032546590082347393, 0.039686862379312515, 0.0022464508656412363, 0.0197067242115736, 0.03770987689495087, 0.017098790034651756, -0.007539872545748949]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:50.282652", "url_path": "/api/models/test/", "chunk_size": 1926}
updated_dt: 2025-03-15T11:17:50.283211
---
```
@dataclass
classTestStreamedResponse(StreamedResponse):
"""A structured response that streams test data."""
  _model_name: str
  _structured_response: ModelResponse
  _messages: InitVar[Iterable[ModelMessage]]
  _timestamp: datetime = field(default_factory=_utils.now_utc, init=False)
  def__post_init__(self, _messages: Iterable[ModelMessage]):
    self._usage = _estimate_usage(_messages)
  async def_get_event_iterator(self) -> AsyncIterator[ModelResponseStreamEvent]:
    for i, part in enumerate(self._structured_response.parts):
      if isinstance(part, TextPart):
        text = part.content
        *words, last_word = text.split(' ')
        words = [f'{word} ' for word in words]
        words.append(last_word)
        if len(words) == 1 and len(text) > 2:
          mid = len(text) // 2
          words = [text[:mid], text[mid:]]
        self._usage += _get_string_usage('')
        yield self._parts_manager.handle_text_delta(vendor_part_id=i, content='')
        for word in words:
          self._usage += _get_string_usage(word)
          yield self._parts_manager.handle_text_delta(vendor_part_id=i, content=word)
      else:
        yield self._parts_manager.handle_tool_call_part(
          vendor_part_id=i, tool_name=part.tool_name, args=part.args, tool_call_id=part.tool_call_id
        )
  @property
  defmodel_name(self) -> str:
"""Get the model name of the response."""
    return self._model_name
  @property
  deftimestamp(self) -> datetime:
"""Get the timestamp of the response."""
    return self._timestamp

```
  
---|---  
####  model_name `property`
```
model_name: str[](https://docs.python.org/3/library/stdtypes.html#str)

```

Get the model name of the response.
####  timestamp `property`
```
timestamp: datetime[](https://docs.python.org/3/library/datetime.html#datetime.datetime "datetime.datetime")

```

Get the timestamp of the response.
Â© Pydantic Services Inc. 2024 to present