---
url: https://ai.pydantic.dev/api/models/cohere/
session_id: pydantic_ai_docs
chunk_number: 2
title: CohereModel Class Documentation
summary: The CohereModel class facilitates interaction with the Cohere API using the Cohere Python client. It includes an initializer that requires the model name and optionally an API key and client instances. Key methods are private or inherited from the base class.
embedding: [0.008877878077328205, -0.0012049785582348704, -0.021045997738838196, 0.008837471716105938, 0.0183214470744133, 0.01669364422559738, 0.01622031070291996, -0.005752149038016796, 0.005945523269474506, -0.012837711721658707, 0.005414466839283705, -0.014326978474855423, -0.011042510159313679, 0.000825446390081197, -0.03401070088148117, -0.03939053416252136, -0.0003205459506716579, 0.02169250138103962, 0.026945341378450394, 0.039598338305950165, 0.014823401346802711, 0.021450061351060867, 0.007936984300613403, 0.03463411331176758, 0.03835150972008705, 0.011608201079070568, -0.034195415675640106, 0.06968384236097336, 0.012930069118738174, -0.038028258830308914, 0.027776559814810753, -0.005844506900757551, -0.039298176765441895, -0.001920750248245895, -0.034957367926836014, -0.04495508223772049, -0.014500149525702, 0.03842077776789665, 0.0011797245824709535, 0.07060741633176804, -0.01705152913928032, -0.02703769877552986, 0.04156093671917915, 0.03160940110683441, -0.03941362351179123, -0.0004852383863180876, -0.02990078553557396, 0.048441581428050995, 0.012756898999214172, 0.030962899327278137, -0.026321927085518837, -0.013507304713129997, -0.005633816123008728, -0.008219829760491848, -0.02366664446890354, -0.03752028942108154, 0.0070769041776657104, 0.024590222164988518, -0.05389068275690079, 0.019706811755895615, 0.0028818470891565084, -0.021542418748140335, -0.005296133458614349, -0.03040875308215618, -0.027522576972842216, -0.02486729435622692, -0.034865010529756546, -0.00385015900246799, 0.0018716852646321058, 0.04788743704557419, -0.012468281202018261, 0.018898682668805122, -0.05864709988236427, 0.010269015096127987, -0.05467572435736656, -0.004597678780555725, -0.026091033592820168, 0.04015248268842697, -0.0002193494001403451, 0.014846490696072578, 0.00044880041969008744, -0.01911803148686886, 0.043708253651857376, -0.013426491990685463, -0.02823834866285324, -0.03456484526395798, -0.05310564115643501, 0.006401538848876953, -0.05666141211986542, -0.031147614121437073, -0.014973482117056847, 0.020237868651747704, -0.05573783442378044, 0.0035730861127376556, 0.08247537165880203, -0.04130695387721062, 0.009183812886476517, -0.041330043226480484, 0.027845827862620354, -0.003737598191946745, 0.03130923956632614, -0.01972990110516548, -0.02652973122894764, 0.0335027351975441, 0.037058502435684204, -0.0242900587618351, 0.009922673925757408, -0.012502915225923061, -0.024451686069369316, 0.02033022604882717, -0.033595092594623566, -0.0018283926183357835, 0.03837459906935692, -0.07130009680986404, -0.06067897006869316, -0.036458179354667664, -0.009460886009037495, 0.03842077776789665, -0.061925798654556274, -0.013057061471045017, -0.014477060176432133, -0.003827069653198123, 0.02405916526913643, 0.0106961689889431, 0.005567433778196573, -0.02749948762357235, 0.013957547955214977, 0.0008593589882366359, -0.06174108386039734, -0.03537297621369362, 0.00807552132755518, -0.021911850199103355, -0.004779507871717215, 0.003682760987430811, -0.013657386414706707, -0.006297636777162552, -0.03895183280110359, -0.019868437200784683, -0.016012506559491158, -0.023943718522787094, 0.03334110975265503, -0.02809981256723404, 0.03948289155960083, -0.015527628362178802, 0.012976248748600483, 0.03865167126059532, -0.027776559814810753, -0.008918284438550472, -0.0397137850522995, 0.006522758398205042, 0.0021920509170740843, 0.0035557691007852554, 0.01658974029123783, 0.029346639290452003, 0.021738680079579353, 0.024220790714025497, -0.019649088382720947, 0.03638891130685806, 0.009437796659767628, -0.042969390749931335, -0.0011183932656422257, 0.0007792675751261413, -0.019972339272499084, 0.004023329820483923, -0.05139702558517456, -0.04968841001391411, -0.066866934299469, 0.010892429389059544, -0.05980157107114792, -0.03638891130685806, -0.015943236649036407, 0.030824361369013786, -0.029000299051404, 0.01635884679853916, 0.0144655155017972, -0.04830304533243179, -0.04474727809429169, -0.05624580383300781, -0.004124345723539591, 0.010638445615768433, 0.03257915750145912, -0.008785520680248737, -0.040868256241083145, 0.010592266917228699, -0.06668221950531006, 0.04066045209765434, -0.008416090160608292, 0.039136551320552826, 0.01906030811369419, 0.006205278914421797, -0.033364199101924896, 0.0011003547115251422, 0.043338824063539505, 0.04301556944847107, 0.018136732280254364, -0.034426309168338776, 0.03271769359707832, -0.02816908061504364, 0.012560638599097729, 0.020445672795176506, -0.0013160964008420706, 1.531026282464154e-05, 0.024382416158914566, -0.009691779501736164, 0.042207442224025726, -0.0008961576968431473, -0.00531345047056675, 0.02966989204287529, -0.05689230561256409, 0.008450724184513092, 0.021172989159822464, -0.036896876990795135, 0.014800311997532845, 0.007244302425533533, -0.01705152913928032, -0.01516974251717329, -0.09249617904424667, -0.02562924474477768, -0.02816908061504364, 0.052182067185640335, -0.04569394141435623, 0.07116156071424484, 0.03220972791314125, 0.026506641879677773, 0.016774456948041916, 0.010950152762234211, -0.05056580901145935, -0.030824361369013786, -0.005922433454543352, 0.025744691491127014, 0.04315410554409027, -0.0054519870318472385, -0.01323023159056902, -0.005576092284172773, 0.0024979854933917522, -0.020768923684954643, 0.0048574344255030155, -0.006078287027776241, 0.037566471844911575, -0.004718898329883814, -0.03821297362446785, 0.000575431389734149, -0.009022186510264874, 0.02756875567138195, 0.04287703335285187, 0.03444939851760864, 0.0004650351474992931, -0.061094578355550766, 0.005192230921238661, 0.015342912636697292, 0.06405002623796463, -0.030085500329732895, 0.01114641223102808, 0.019683722406625748, -0.02096518501639366, 0.007348204497247934, -0.03528061881661415, -0.02155396342277527, -0.06030954048037529, -0.052412960678339005, -0.019279656931757927, 0.013541938737034798, -0.041237685829401016, -0.006822920870035887, 0.0042138174176216125, -0.005128735210746527, -0.010869340039789677, -0.0427154079079628, -0.003171907737851143, -0.012491370551288128, 0.018413804471492767, 0.00010435331205371767, -0.0002873549237847328, 0.0008384342072531581, -0.0017028439324349165, 0.010857795365154743, -0.030616557225584984, 0.0429924800992012, 0.033017855137586594, -0.023354938253760338, -0.00792543962597847, -0.0001991461613215506, 0.03980614244937897, 0.02779964916408062, -0.017709577456116676, 0.04368516430258751, -0.0046871500089764595, 0.03504972532391548, -0.031286150217056274, -0.03276387229561806, 0.037866633385419846, 0.02726859226822853, -0.002697131596505642, -0.04421621933579445, 0.005861823912709951, -0.011810232885181904, -0.010453729890286922, -0.01126185990869999, 0.02255835384130478, 0.03207119181752205, -0.0017980878474190831, 0.02586013823747635, -0.0010808729566633701, 0.011994948610663414, -0.013819011859595776, 0.0068517825566232204, 0.002295953221619129, -0.01662437431514263, 0.066866934299469, -0.005379832349717617, 0.02019168809056282, 0.01761722005903721, -0.024382416158914566, -0.02853851020336151, -0.02282388135790825, -0.031886473298072815, 0.02405916526913643, 0.011994948610663414, 0.020734289661049843, 0.029854606837034225, -0.06608188897371292, -0.018506161868572235, -0.04151475802063942, -0.030224038287997246, 0.01389982458204031, 0.022004207596182823, -0.01625494472682476, -0.028677046298980713, -0.030593467876315117, -0.0037693462800234556, -0.00941470731049776, -0.0488571897149086, 0.013080150820314884, -0.003691419493407011, 0.06151018664240837, -0.027753470465540886, 0.008225602097809315, 0.00638999417424202, 0.08025878667831421, 0.0430617481470108, -0.010771209374070168, -0.014176897704601288, -0.021819492802023888, 0.02269688993692398, -0.05204353109002113, 0.002274306956678629, -0.00683446554467082, 0.02082664705812931, -0.026645179837942123, 0.014788767322897911, 0.01969526708126068, -0.02509818784892559, 0.024590222164988518, 0.005607840605080128, -0.03144777566194534, 0.010072754696011543, 0.02616030164062977, -0.02839997410774231, 0.04107606038451195, 0.02456713281571865, -0.034865010529756546, 0.0031603630632162094, 0.012318200431764126, 0.012918524444103241, -0.009062593802809715, 0.05176645889878273, -0.011250315234065056, 0.0026307497173547745, -0.030062410980463028, -0.004427394364029169, -0.021253801882267, 0.015423726290464401, -0.038166794925928116, 0.0031834524124860764, -0.016462748870253563, -0.045971013605594635, 0.022304369136691093, -0.0005527027533389628, -0.013992181979119778, 0.005873368587344885, 0.06534302979707718, -0.035696227103471756, 0.017363235354423523, -0.01855234056711197, 0.03144777566194534, -0.005694425664842129, -0.014396247453987598, 0.02763802371919155, -0.055414583534002304, 0.03618110716342926, 0.04061427339911461, -0.005867596250027418, 0.009270397946238518, -0.0038905655965209007, 0.04096061363816261, 0.029716070741415024, 0.030985988676548004, -0.01540063600987196, 0.05116613209247589, 0.02326258085668087, 0.0029467858839780092, -0.008139017038047314, 0.02089591510593891, 0.03777427598834038, 0.003714508842676878, -0.0036221512127667665, 0.055553119629621506, 0.023135589435696602, 0.0365043580532074, 0.042830854654312134, 0.046132642775774, -0.04121459648013115, 0.019649088382720947, 0.019233478233218193, -0.050242554396390915, -0.01895640604197979, 0.007065359503030777, 0.014892669394612312, 0.0522744245827198, 0.027684202417731285, -0.014996571466326714, -0.09314268082380295, -0.009154951199889183, -0.0033797123469412327, -0.022408273071050644, 0.00215308740735054, -0.013207142241299152, -0.06996091455221176, -0.025675423443317413, 0.0038588177412748337, -0.04301556944847107, -0.0033479644916951656, 0.05282856896519661, 0.03186338394880295, 0.04096061363816261, 0.015700798481702805, -0.021669412031769753, 0.005385604687035084, -0.02236209437251091, -0.010476820170879364, 0.0183907151222229, 0.0024979854933917522, 0.00621682358905673, -0.01669364422559738, -0.0031257288064807653, 0.0007175755454227328, -0.015112019143998623, -0.017028439790010452, -0.04802597314119339, -0.013426491990685463, -0.01705152913928032, -0.01491575874388218, 0.03179411590099335, 0.03149395436048508, 0.0367121621966362, -0.028261438012123108, 0.03373362869024277, 0.03156322240829468, 0.05703084170818329, -0.020468762144446373, -0.003122842637822032, 0.02853851020336151, -0.004176297225058079, 0.04950369521975517, -0.006205278914421797, -0.007469424046576023, -0.005717515014111996, -0.006707473658025265, -0.008133244700729847, -0.034865010529756546, 0.045809388160705566, -0.007746497169137001, 0.017501773312687874, -0.02222355641424656, 0.02363201044499874, -0.06007864326238632, -0.004773735534399748, 0.027083877474069595, -0.018575429916381836, 0.007088448852300644, 0.003010281827300787, -0.04691768065094948, 0.01945282705128193, 0.02342420630156994, -0.012791533023118973, 0.07250075042247772, -0.03828224167227745, -0.06294173002243042, 0.03782045468688011, 0.007094221189618111, 0.01775575615465641, 0.03186338394880295, -0.003284468548372388, -0.011100233532488346, -7.382297917502001e-05, -0.05767734721302986, -0.02876940555870533, -0.019141120836138725, -0.007377066649496555, -0.040060125291347504, 0.003544224426150322, 0.01705152913928032, 0.03043184243142605, 0.0290695670992136, -0.02833070605993271, 0.035026635974645615, -0.007654139306396246, 0.017305511981248856, -0.03844386711716652, 0.04908808693289757, -0.04472418874502182, 0.020745834335684776, -0.01009584404528141, 0.03130923956632614, 0.022235101088881493, 0.0032671515364199877, -0.004612109623849392, 0.037127770483493805, -0.03394143283367157, -0.01782502420246601, 0.029185013845562935, 0.0015816246159374714, -0.00033660029293969274, -0.006857554893940687, 0.010182430036365986, -0.0017490227473899722, -0.03334110975265503, -0.03574240580201149, -0.034865010529756546, 0.0032180864363908768, 0.00595706794410944, 0.018944861367344856, -0.03207119181752205, -0.03057037852704525, -0.021565508097410202, 0.025583066046237946, -0.032394442707300186, 0.012468281202018261, -0.020572664216160774, -0.03313330188393593, -0.03581167384982109, 0.03613492473959923, -0.012029582634568214, -0.03027021698653698, 0.022881604731082916, 0.04541686922311783, -0.013172508217394352, 0.0033710538409650326, 0.02960062399506569, 0.035927120596170425, 0.026922252029180527, -0.0010505681857466698, 0.01004389300942421, -0.0369892343878746, -0.003907882608473301, 0.05296710506081581, -0.0489957295358181, 0.005053694825619459, 0.02363201044499874, 0.0007341710734181106, 0.024036075919866562, 0.016162587329745293, 0.00968023482710123, 0.031078346073627472, -0.028861762955784798, 0.0637267678976059, -0.006003246642649174, 0.018817869946360588, -0.0397830531001091, -0.0145347835496068, 0.02479802630841732, -0.03560386970639229, -0.031955745071172714, 0.022373639047145844, 0.022339005023241043, -0.012491370551288128, 0.016312668099999428, 0.0036856471560895443, -0.00850844755768776, -0.031147614121437073, -0.0019092055736109614, -0.004848775919526815, -0.00430617481470108, -0.011758281849324703, -0.015192831866443157, 0.024474775418639183, -0.013565028086304665, 0.056522876024246216, 0.022650711238384247, 0.013391857966780663, -0.0030651192646473646, -0.0030160541646182537, 0.026945341378450394, 0.016508927568793297, -0.0487186536192894, -0.011844866909086704, 0.016936082392930984, 0.0038155249785631895, -0.018563885241746902, 0.02990078553557396, 0.041768740862607956, 0.008820154704153538, -0.006447717547416687, 0.029046477749943733, -0.021738680079579353, -0.01510047446936369, 0.02960062399506569, 0.007977391593158245, -0.05116613209247589, -0.01638193614780903, 0.04412386193871498, 0.012514459900557995, 0.008900967426598072, -0.050242554396390915, -0.006228368263691664, 0.006257229950278997, -0.024105343967676163, -0.014038361608982086, 0.06331115961074829, -0.0015946123749017715, 0.02299705147743225, -0.015042750164866447, 0.019868437200784683, 0.02396680787205696, -0.012860801070928574, -0.016936082392930984, -0.015931691974401474, -0.007452107034623623, -0.01134844496846199, 0.01133112795650959, -0.0063495878130197525, 0.003137273481115699, -0.025352172553539276, -0.008606577292084694, -0.04038337618112564, 0.0369892343878746, 0.02405916526913643, -0.010817389003932476, -0.014546328224241734, -0.03553460165858269, 0.003971378318965435, 0.044239308685064316, -0.029623713344335556, 0.0050565809942781925, 0.03888256475329399, 0.0012583727948367596, 0.023989897221326828, 0.05333653837442398, -0.0033854846842586994, -0.028145991265773773, 0.0021660751663148403, -0.0458555668592453, -0.0063726771622896194, -0.011267632246017456, 0.03334110975265503, -0.021103721112012863, -0.0029583305586129427, 0.0032960132230073214, 0.009876495227217674, 0.038259152323007584, -0.01678600162267685, 0.004744873847812414, -0.010118934325873852, 0.013080150820314884, 0.007769586518406868, 0.007786903530359268, 0.03481883183121681, 0.014811856672167778, 0.002438819035887718, 0.009853405877947807, 0.005861823912709951, 0.013160963542759418, 0.012514459900557995, 0.01745559461414814, 0.013438036665320396, 0.0261372122913599, -0.0010844806674867868, -0.01712079718708992, -0.004441825207322836, 0.029462087899446487, -0.016370391473174095, -0.009564788080751896, -0.039367444813251495, 0.020907459780573845, 0.03156322240829468, -0.017571041360497475, -0.020999819040298462, 0.003567313775420189, 0.0021285549737513065, -0.00536540150642395, 0.00916072353720665, -0.03975996375083923, -0.0006194455781951547, -0.004623654298484325, 0.002310384064912796, -0.017940470948815346, -0.005137393716722727, 0.00532210897654295, 0.009235763922333717, 0.012387468479573727, 0.00320365559309721, -0.034726470708847046, 0.003552882932126522, 0.0062110512517392635, 0.010234381072223186, -0.021103721112012863, -0.030547289177775383, 0.01888713799417019, 0.015273644588887691, -0.016393480822443962, -0.029692981392145157, -0.018598519265651703, -0.0070538148283958435, 0.026091033592820168, -0.03070891462266445, 0.013137874193489552, 0.02026095800101757, 0.02973916009068489, 0.002324814908206463, 0.00512296287342906, -0.021611686795949936, 2.872083541660686e-06, -0.022639166563749313, 0.011302266269922256, 0.0029641028959304094, -0.058416206389665604, 0.019106486812233925, 0.05379832535982132, -0.022719979286193848, 0.009518609382212162, -0.00901064183562994, -0.008283325470983982, 0.0037924356292933226, -0.011960314586758614, -0.022281279787421227, 0.008254463784396648, -0.03962142765522003, -0.031078346073627472, -0.0021689613349735737, 0.01578161120414734, -0.0182521790266037, 0.0020073356572538614, 0.022846970707178116, 0.0243593268096447, 0.005163369234651327, -0.0012186879757791758, 0.01082893367856741, 0.040868256241083145, -0.02209656499326229, 0.04347736015915871, -0.03211737051606178, 0.00593975093215704, -0.021577052772045135, 0.011637062765657902, -0.008566170930862427, -0.019741445779800415, 0.005570319946855307, 0.0035499967634677887, -0.058092955499887466, 0.011562022380530834, -0.009166495874524117, 0.006060970015823841, -0.03782045468688011, 0.037427932024002075, -0.02509818784892559, -0.00789080560207367, 0.02419770136475563, 0.008531536906957626, 0.0005837291246280074, -0.028792494907975197, 0.005899344105273485, 0.027476398274302483, -0.029392817988991737, 0.0397137850522995, 0.044170040637254715, -0.034195415675640106, 0.014257710427045822, 0.011573567055165768, 0.01682063564658165, -0.04084516689181328, -0.022373639047145844, 0.013622751459479332, 0.0029756478033959866, 0.014453970827162266, 0.021773314103484154, 0.01243364717811346, -0.009807227179408073, -0.030778182670474052, 0.018563885241746902, -0.030062410980463028, -0.01952209696173668, -0.005789669696241617, 0.013357223942875862, 0.013784377835690975, 0.024982741102576256, -0.010834706015884876, -0.005922433454543352, -0.06335733830928802, -0.023989897221326828, 0.012087306007742882, -0.0023796523455530405, 0.02382827177643776, -0.004903613589704037, -0.03925199806690216, 0.00030882086139172316, 0.033525824546813965, -0.058092955499887466, -0.04756418615579605, 0.005376946181058884, 0.009737958200275898, 0.0006750044412910938, 0.029046477749943733, -0.01019397471100092, -0.04707930609583855, 0.005094101186841726, 0.02673753723502159, 0.0144655155017972, 0.003985809162259102, 0.011515842750668526, 0.008987552486360073, 0.014269255101680756, -0.025421440601348877, -0.01708616316318512, -0.024220790714025497, -0.0012396126985549927, -0.009888039901852608, -0.04038337618112564, 0.00038819070323370397, 0.003544224426150322, -0.014742588624358177, 0.005206661764532328, -0.02646046318113804, 0.03830533102154732, 0.005039263516664505, -0.004554386250674725, -0.000328663329128176, -0.03334110975265503, -0.0011667367070913315, -0.022800792008638382, -0.01471949927508831, 0.009455113671720028, 0.012526004575192928, 0.02980842813849449, -0.001925079501233995, 0.013795922510325909, -0.036227285861968994, -0.007498285733163357, -0.015631530433893204, -0.0029179241973906755, 0.027407130226492882, 0.060217179358005524, 0.01759413070976734, 0.052551496773958206, -0.0914340615272522, 0.013715109787881374, -0.03932126611471176, -0.005867596250027418, 0.00013005830987822264, -0.006320726126432419, 0.05047345161437988, 0.02192339487373829, -0.017039984464645386, -0.010257470421493053, 0.012976248748600483, 0.014731043949723244, -0.04059118404984474, 0.025190547108650208, -0.0016451204428449273, 0.024844205006957054, -0.0014632913516834378, -0.032186638563871384, -0.02863086760044098, 0.020884370431303978, 0.0037116226740181446, 0.03830533102154732, -0.009022186510264874, -0.001538331969641149, -0.015758521854877472, -0.011585111729800701, 0.01888713799417019, 0.039367444813251495, -0.049411337822675705, 0.014881124719977379, -0.03057037852704525, -0.005853165406733751, 0.007469424046576023, -0.005033491179347038, 0.007994708605110645, 0.0011984846787527204, -0.00027617099112831056, -0.02199266292154789, -0.003552882932126522, 0.015643075108528137, -0.02936972863972187, -0.00029691538657061756, 0.005792555864900351, -0.009022186510264874, 0.007400155998766422, 0.016405025497078896, 0.03932126611471176, 0.03945980221033096, 0.009218446910381317, 0.006545847747474909, -0.011140639893710613, 0.000863688241224736, 0.023285670205950737, 0.046040281653404236, -2.9425469620036893e-05, -0.015977872535586357, -0.04680223390460014, -0.0062341406010091305, -0.029716070741415024, -0.01715543121099472, 0.025375261902809143, -0.019845347851514816, -0.030154770240187645, -0.002723107347264886, 0.0009416150278411806, 0.02165786735713482, 0.010719258338212967, -0.013657386414706707, -0.006805603392422199, 0.007804220542311668, -0.006355360150337219, 0.050750523805618286, -0.008895195089280605, -0.0046640606597065926, -0.0022136971820145845, 0.027360951527953148, -0.018240634351968765, 0.03634273260831833, -0.03190956637263298, -0.02943899855017662, 0.008427634835243225, -0.022639166563749313, -0.014938848093152046, -0.03807443752884865, 0.01435006782412529, -0.011694786138832569, 0.030385663732886314, -0.032694604247808456, -0.019198844209313393, 0.015008116140961647, -0.017063073813915253, 0.009305031970143318, -0.0042051589116454124, 0.008375683799386024, -0.004386988002806902, -0.03334110975265503, 0.005844506900757551, -0.019683722406625748, -0.021611686795949936, -0.015804700553417206, -0.020203234627842903, -0.028376884758472443, -0.015458360314369202, -0.026483552530407906, -0.043638985604047775, 0.05476808175444603, -0.021115265786647797, -0.03514208272099495, 0.02950826659798622, -0.01759413070976734, -0.014061450958251953, -0.011181047186255455, -0.015539173036813736, 0.0012006493052467704, -0.021611686795949936, 0.005195117089897394, -0.00010507485421840101, -0.004692922346293926, 0.01303397212177515, 0.05509133264422417, -0.011054054833948612, -0.019106486812233925, 0.008519992232322693, 0.021380793303251266, 0.01592014729976654, 0.036896876990795135, -0.014223076403141022, 0.005030605010688305, -0.01909494213759899, -0.012121940031647682, -0.003835728159174323, -0.0011818892089650035, 0.00902795884758234, -0.01540063600987196, 0.03493427857756615, 0.031055256724357605, -0.04624808952212334, 0.039967767894268036, 0.007983163930475712, -0.026691358536481857, 0.02093055099248886, 0.003316216403618455, -0.029000299051404, -0.004075280856341124, 0.023505019024014473, 0.02726859226822853, 0.010823161341249943, -0.021819492802023888, 0.026945341378450394, 0.034357041120529175, -0.03373362869024277, -0.008398773148655891, -0.017409415915608406, -0.010447957552969456, -0.0015527628129348159, -0.016162587329745293, -0.0047477600164711475, -0.008548853918910027, -0.011804460547864437, -0.01996079459786415, -0.009801454842090607, 0.002004449488595128, -0.012930069118738174, -0.022212011739611626, 0.02465949021279812, -0.00493247527629137, -0.03241753205657005, 0.02079201303422451, -0.04389296844601631, 0.03324874863028526, 0.007255847100168467, 0.022454451769590378, -0.007792675867676735, 0.024982741102576256, 0.017374781891703606, -0.014407792128622532, 0.017905836924910545, -0.008872105740010738, 0.0517202764749527, -0.026183390989899635, 0.00042282481444999576, -0.01745559461414814, 0.005301905795931816, 0.0050565809942781925, 0.0029352412093430758, 0.04721784219145775, -0.034795742481946945, -0.016370391473174095, 0.002857314422726631, 0.0034143466036766768, 0.01738632656633854, 0.06682075560092926, 0.034056879580020905, -0.010551860556006432, 0.0261372122913599, 0.00256148143671453, 0.012237387709319592, -0.056291982531547546, 0.027614934369921684, 0.023447295650839806, 0.016739822924137115, 0.025975586846470833, 0.005832962226122618, -0.004173411056399345, 0.004638085141777992, 0.058185312896966934, -0.008219829760491848, -0.016393480822443962, 0.0003853045345749706, -0.026114122942090034, -0.018506161868572235, 0.047010038048028946, 0.016208766028285027, 0.02093055099248886, 0.018379170447587967, 0.022419817745685577, 0.0018789006862789392, 0.029946964234113693, 0.01471949927508831, -0.003189224749803543, -0.0259294081479311, -0.011608201079070568, 0.014846490696072578, 0.01536600198596716, -0.011700558476150036, 0.0037751186173409224, -0.04421621933579445, 3.8895734178368e-05, 0.0367121621966362, 0.01393445860594511, 0.001542661222629249, -0.011891046538949013, 0.005108532030135393, 0.0022281280253082514, -0.017397871240973473, 0.028954120352864265, -0.006742107681930065, -0.0018067463533952832, 0.030224038287997246, -0.008416090160608292, 0.001374541432596743, 0.010049665346741676, 0.0024460344575345516, 0.0016537789488211274, -0.005316336639225483, 0.004083939362317324, -0.01408454030752182, 0.0009502735338173807, 0.006505441386252642, 0.010586494579911232, -0.0052499547600746155, -0.038928743451833725, 0.014523238874971867, -0.04853393882513046, -0.07351668179035187, 0.019268112257122993, 0.04848776012659073, -0.015192831866443157, -0.003567313775420189, 0.0034922731574624777, -0.005125849042087793, -0.0014921531546860933, -0.015342912636697292, -0.02796127460896969, -0.012768443673849106, 0.07711862772703171, 0.028076723217964172, 0.019545186311006546, -0.008531536906957626, -0.032786961644887924, -0.02703769877552986, 0.011273404583334923, -0.012375923804938793, -0.024890383705496788, 0.00034399612923152745, 0.02696843072772026, 0.00941470731049776, 0.023389572277665138, -0.04548613727092743, 0.02546761929988861, -0.07009945064783096, 0.017536407336592674, 0.011856411583721638, 0.010303649120032787, 0.033017855137586594, 0.018009738996624947, -0.05536840483546257, 0.002212254097685218, -0.014477060176432133, -0.005293247289955616, 0.029946964234113693, -0.024036075919866562, 0.01131381094455719, -0.03488809987902641, 0.053382717072963715, -0.001561421318911016, -0.047010038048028946, 0.0042917439714074135, 0.01765185408294201, -0.0003472430689726025, 0.005238410085439682, 0.029161924496293068, -0.019637543708086014, -0.05781588330864906, -0.004358126316219568, 0.00510564586147666, -0.0016768684145063162, 0.01009584404528141, 0.019337380304932594, 0.01652047224342823, 0.01136576198041439, -0.023712823167443275, 0.00852576456964016, 0.004208045080304146, 0.02923119254410267, -0.016543561592698097, -0.024890383705496788, -0.005757921375334263, -0.0050565809942781925, 0.010020803660154343, 0.024174612015485764, -0.024151522666215897, 0.01194876991212368, 0.04931898042559624, 0.011660152114927769, 0.02465949021279812, -0.0051114181987941265, -0.02052648551762104, -0.03100907802581787, 0.024012986570596695, -0.028122901916503906, -0.0005433227051980793, 0.004398532677441835, -0.01788274757564068, 0.020942095667123795, -0.015077385120093822, -0.001159521285444498, -0.021034453064203262, 0.0009495519916526973, 0.012306655757129192, -0.02546761929988861, -0.013946003280580044, 0.0033710538409650326, 0.012699175626039505, -0.008450724184513092, -0.00015666524996049702, 0.03250988945364952, -0.008173651061952114, -0.018136732280254364, 0.012041127309203148, 0.018667787313461304, 0.0670054703950882, 0.026321927085518837, 0.013010882772505283, -0.012121940031647682, 0.01495039276778698, 0.030062410980463028, 0.02576778084039688, -0.006655522622168064, -0.007128855213522911, 0.004851662088185549, -0.0013875291915610433, -0.006736335344612598, 0.027291683480143547, -0.022269735112786293, 0.012629907578229904, 0.018402259796857834, -0.008999097160995007, -0.018910227343440056, 0.002575912280008197, -0.06238758563995361, -0.016093319281935692, 0.02539835125207901, 0.0004019000334665179, 0.005607840605080128, -0.00857771560549736, -0.007717635482549667, 0.0007518489146605134, -0.023920629173517227, -0.006112921517342329, 0.03969069570302963, 0.008225602097809315, 0.016566650941967964, -0.008658528327941895, 0.024774936959147453, 0.035788584500551224, -0.005527027416974306, -0.012052671983838081, 0.024590222164988518, 0.023447295650839806, 0.005861823912709951, -0.023054776713252068, -0.015839334577322006, 0.036896876990795135, 0.0039280857890844345, 0.039436712861061096, 0.004320605657994747, -0.004799711052328348, -0.06211051344871521, -0.021253801882267, -0.015966327860951424, 0.013634296134114265, -0.006817148067057133, 0.024520954117178917, 0.030962899327278137, -0.003226744942367077, 0.004568817093968391, 0.01341494731605053, 0.011475436389446259, -0.022846970707178116, 0.018563885241746902, -0.0010606697760522366, 0.015031205490231514, -0.04788743704557419, 0.03237135335803032, -0.03541915491223335, -0.0006897961138747633, -0.0032354036811739206, -0.030616557225584984, -0.011573567055165768, -0.006557392422109842, -0.02472875826060772, -0.018806325271725655, -0.007590643595904112, -0.028792494907975197, 0.022812336683273315, 0.01948746107518673, -0.03110143542289734, -0.0021704044193029404, 0.005980157293379307, -0.004975767806172371, -0.020434128120541573, -0.04276158660650253, -0.0051662554033100605, -0.02356274239718914, 0.014777222648262978, 0.010719258338212967, 0.02846924215555191, 0.003148818388581276, 0.013438036665320396, 0.0107481200248003, -0.012018037959933281, -0.01768648810684681, 0.03137850761413574, 0.038166794925928116, -0.05190499499440193, 0.018379170447587967, -0.03387216478586197, -0.024082254618406296, -0.005137393716722727, 0.0040983702056109905, -0.003561541438102722, 0.004242679104208946, 0.009968852624297142, 0.009674462489783764, -0.00010011423728428781, -0.025144366547465324, -0.026691358536481857, 5.9617577790049836e-05, 0.007365521974861622, 0.015423726290464401, 0.007636822294443846, 0.003082436276599765, -0.009905356913805008, 0.01578161120414734, -0.011232998222112656, -0.009980397298932076, 0.008698935620486736, 0.024243880063295364, -0.033364199101924896, -0.03488809987902641, 0.00796007364988327, 0.012168118730187416, -0.028053633868694305, 0.0007698875269852579, 0.005630929954349995, 0.0242900587618351, -0.000978413736447692, -0.012906979769468307, -0.025375261902809143, 0.001668209908530116, 0.004300402477383614, -0.01174673717468977, -0.0008759545162320137, -0.028677046298980713, 0.03063964657485485, -0.009345438331365585, 0.015042750164866447, -0.0014726713998243213, -0.007261619437485933, 0.007954301312565804, -0.0039829229936003685, 0.015596896409988403, 0.005397149361670017, 0.00593975093215704, 0.0034980454947799444, 0.03860549256205559, -0.018506161868572235, -0.010234381072223186, 0.010459503158926964, -0.006753652356564999, 0.0014640128938481212, -0.010344055481255054, 0.012502915225923061, 0.009714868851006031, -0.006060970015823841, -0.005301905795931816, -0.008756658993661404, 0.00804088730365038, 0.027291683480143547, 0.011388851329684258, 0.02319331280887127, 0.04396223649382591, -0.04075280949473381, -0.011215681210160255, 0.026506641879677773, 0.0231009554117918, -0.04287703335285187, 0.021946484223008156, 0.023782093077898026, 0.005431783851236105, -0.0337105393409729, -0.017709577456116676, 0.022708434611558914, 0.023204857483506203, 0.0010224279249086976, 0.004652515985071659, 0.03373362869024277, -0.02199266292154789, -0.027476398274302483, -0.046178821474313736, -0.016878359019756317, 0.021704046055674553, 0.031955745071172714, -0.010701941326260567, 0.012953159399330616, 0.028584688901901245, 0.0020203234162181616, -0.03027021698653698, -0.030685825273394585, 0.027892006561160088, 0.02839997410774231, 0.012110395357012749, 0.042369067668914795, 0.03710468113422394, 0.034495577216148376, -0.014881124719977379, -0.015273644588887691, -0.015539173036813736, -0.022073475643992424, -0.01725933328270912, -0.01802128367125988, -0.007434790022671223, 0.029277371242642403, 0.0030218265019357204, 0.03063964657485485, 0.0056771086528897285, -0.006366904824972153, 0.020572664216160774, 0.005656905472278595, -0.017928926274180412, -0.0145347835496068, 0.002306054811924696, -0.013692020438611507, 0.025444529950618744, 0.012375923804938793, -0.004358126316219568, -0.03133232891559601, 0.003691419493407011, 0.005879140924662352, -0.029716070741415024, 0.00749251339584589, 0.016093319281935692, -0.04204581677913666, 0.00448800390586257, -0.014765677973628044, 0.012041127309203148, -0.022269735112786293, 0.020953640341758728, 0.02930046059191227, 0.017674943432211876, -0.011792915873229504, -0.010955925099551678, 0.015239010564982891, 0.05606108903884888, -0.012064216658473015, 0.029623713344335556, -0.024821115657687187, -0.01187950186431408, 0.021507784724235535, 0.003954061307013035, -0.019533641636371613, 0.016000961884856224, -0.00021520051814150065, -0.005030605010688305, -0.04495508223772049, 0.006107148714363575, -0.02449786476790905, 0.0335720032453537, 0.001521014841273427, 0.009807227179408073, 0.014615596272051334, -0.05753881111741066, 0.015008116140961647, 0.005962840281426907, -0.01296470407396555, -0.008514219895005226, -0.01243364717811346, -0.011198364198207855, -0.018748600035905838, -0.004860320594161749, -0.012860801070928574, -0.003293127054348588, -0.013207142241299152, 0.014869580045342445, -0.017571041360497475, 0.004208045080304146, 0.016231855377554893, 0.02165786735713482, 0.012422102503478527, -0.018102098256349564, 0.00069556845119223, 0.0705612376332283, 0.03170175850391388, 0.006655522622168064, -0.005258613266050816, 0.009720641188323498, -0.00018155852740164846, 0.007105765864253044, -0.012202752754092216, -0.011544705368578434, 0.00969755183905363, 0.010892429389059544, 0.00879706535488367, -0.0005628043436445296, 0.02773038111627102, -0.007717635482549667, -0.013276410289108753, 0.011152184568345547, 0.023735912516713142, 0.006592026446014643, 0.023585831746459007, -0.01396909262984991, -0.00025849314988590777, 0.014061450958251953, 0.016301123425364494, 0.03410305827856064, 0.0033710538409650326, -0.03177102655172348, -0.00805820431560278, -0.03752028942108154, 0.0010484035592526197, -0.007203896064311266, 0.012445191852748394, 0.0025643676053732634, -0.012075761333107948, -0.01348421536386013, 0.003870362415909767, -0.03417232632637024, 0.032856229692697525, -0.03003932163119316, -0.030593467876315117, 0.029000299051404, 0.01475413329899311, -0.01126185990869999, 0.022950872778892517, 0.0243593268096447, 0.0012230172287672758, -0.010528771206736565, -0.010892429389059544, 0.014107629656791687, -0.0036943056620657444, -0.0018774576019495726, 0.021265346556901932, 0.0261372122913599, -0.02158859744668007, 0.009345438331365585, 0.03216354921460152, -0.019845347851514816, -0.0038010941352695227, 0.007371294312179089, -0.03341037780046463, -0.03768191859126091]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-14T10:14:40.224737", "url_path": "/api/models/cohere/", "chunk_size": 4999}
updated_dt: 2025-03-14T10:14:40.224737
---
```
@dataclass(init=False)
classCohereModel(Model):
"""A model that uses the Cohere API.
  Internally, this uses the [Cohere Python client](
  https://github.com/cohere-ai/cohere-python) to interact with the API.
  Apart from `__init__`, all methods are private or match those of the base class.
  """
  client: AsyncClientV2 = field(repr=False)
  _model_name: CohereModelName = field(repr=False)
  _system: str | None = field(default='cohere', repr=False)
  def__init__(
    self,
    model_name: CohereModelName,
    *,
    api_key: str | None = None,
    cohere_client: AsyncClientV2 | None = None,
    http_client: AsyncHTTPClient | None = None,
  ):
"""Initialize an Cohere model.
    Args:
      model_name: The name of the Cohere model to use. List of model names
        available [here](https://docs.cohere.com/docs/models#command).
      api_key: The API key to use for authentication, if not provided, the
        `CO_API_KEY` environment variable will be used if available.
      cohere_client: An existing Cohere async client to use. If provided,
        `api_key` and `http_client` must be `None`.
      http_client: An existing `httpx.AsyncClient` to use for making HTTP requests.
    """
    self._model_name: CohereModelName = model_name
    if cohere_client is not None:
      assert http_client is None, 'Cannot provide both `cohere_client` and `http_client`'
      assert api_key is None, 'Cannot provide both `cohere_client` and `api_key`'
      self.client = cohere_client
    else:
      self.client = AsyncClientV2(api_key=api_key, httpx_client=http_client)
  @property
  defbase_url(self) -> str:
    client_wrapper = self.client._client_wrapper # type: ignore
    return str(client_wrapper.get_base_url())
  async defrequest(
    self,
    messages: list[ModelMessage],
    model_settings: ModelSettings | None,
    model_request_parameters: ModelRequestParameters,
  ) -> tuple[ModelResponse, result.Usage]:
    check_allow_model_requests()
    response = await self._chat(messages, cast(CohereModelSettings, model_settings or {}), model_request_parameters)
    return self._process_response(response), _map_usage(response)
  @property
  defmodel_name(self) -> CohereModelName:
"""The model name."""
    return self._model_name
  @property
  defsystem(self) -> str | None:
"""The system / model provider."""
    return self._system
  async def_chat(
    self,
    messages: list[ModelMessage],
    model_settings: CohereModelSettings,
    model_request_parameters: ModelRequestParameters,
  ) -> ChatResponse:
    tools = self._get_tools(model_request_parameters)
    cohere_messages = list(chain(*(self._map_message(m) for m in messages)))
    try:
      return await self.client.chat(
        model=self._model_name,
        messages=cohere_messages,
        tools=tools or OMIT,
        max_tokens=model_settings.get('max_tokens', OMIT),
        temperature=model_settings.get('temperature', OMIT),
        p=model_settings.get('top_p', OMIT),
        seed=model_settings.get('seed', OMIT),
        presence_penalty=model_settings.get('presence_penalty', OMIT),
        frequency_penalty=model_settings.get('frequency_penalty', OMIT),
      )
    except ApiError as e:
      if (status_code := e.status_code) and status_code >= 400:
        raise ModelHTTPError(status_code=status_code, model_name=self.model_name, body=e.body) frome
      raise
  def_process_response(self, response: ChatResponse) -> ModelResponse:
"""Process a non-streamed response, and prepare a message to return."""
    parts: list[ModelResponsePart] = []
    if response.message.content is not None and len(response.message.content) > 0:
      # While Cohere's API returns a list, it only does that for future proofing
      # and currently only one item is being returned.
      choice = response.message.content[0]
      parts.append(TextPart(choice.text))
    for c in response.message.tool_calls or []:
      if c.function and c.function.name and c.function.arguments:
        parts.append(
          ToolCallPart(
            tool_name=c.function.name,
            args=c.function.arguments,
            tool_call_id=c.id,
          )
        )
    return ModelResponse(parts=parts, model_name=self._model_name)
  def_map_message(self, message: ModelMessage) -> Iterable[ChatMessageV2]:
"""Just maps a `pydantic_ai.Message` to a `cohere.ChatMessageV2`."""
    if isinstance(message, ModelRequest):
      yield from self._map_user_message(message)
    elif isinstance(message, ModelResponse):
      texts: list[str] = []
      tool_calls: list[ToolCallV2] = []
      for item in message.parts:
        if isinstance(item, TextPart):
          texts.append(item.content)
        elif isinstance(item, ToolCallPart):
          tool_calls.append(self._map_tool_call(item))
        else:
          assert_never(item)
      message_param = AssistantChatMessageV2(role='assistant')
      if texts:
        message_param.content = [TextAssistantMessageContentItem(text='\n\n'.join(texts))]
      if