---
url: https://ai.pydantic.dev/api/messages/
session_id: pydantic_ai_docs
chunk_number: 15
title: Applying JSON and Dict Deltas in Tool Calls
summary: This section discusses the application of JSON and dictionary deltas to tool arguments, highlighting the requirements for valid types and conditions for updates. It also addresses the management of `tool_call_id` during these operations.
embedding: [-0.005301238968968391, 0.012703373096883297, 0.015974154695868492, -0.016941914334893227, 0.018938684836030006, 0.003139093052595854, -0.03856337442994118, -0.019379688426852226, -0.013609882444143295, 0.02162146009504795, -0.004060914274305105, -0.04503143951296806, 0.028346775099635124, -0.039665885269641876, 0.002736370312049985, 0.009775594808161259, -0.038048870861530304, 0.002630713162943721, -0.01501864567399025, 0.06948267668485641, -0.0048142969608306885, -0.02793027088046074, 0.04571744427084923, 0.0057177431881427765, 0.010816855356097221, -0.03351632505655289, 0.02316497452557087, 0.013340380042791367, -0.028787780553102493, -0.03469233587384224, 0.028003772720694542, -0.016206907108426094, -0.022576969116926193, -0.004563169553875923, 0.006725315470248461, 0.011649862863123417, -0.01684391312301159, 0.024794241413474083, -0.0022861785255372524, 0.015925154089927673, 0.006694689858704805, -0.02827327512204647, -0.01917143724858761, 0.03689735755324364, -0.052577510476112366, 0.036333851516246796, -0.031066302210092545, 0.0011231828248128295, -0.026582758873701096, 0.009738844819366932, -0.003295282134786248, 0.013707883656024933, 0.009781720116734505, -0.003647472942247987, 0.0038250996731221676, -0.011478361673653126, -0.04517843946814537, -0.02000444382429123, 0.03829387202858925, -0.02173171192407608, -0.02299347333610058, -0.02423073537647724, 0.007748200558125973, 0.02770976908504963, -0.03829387202858925, 0.02832227572798729, -0.021792961284518242, 0.03260981664061546, -0.026631759479641914, -0.014663392677903175, 0.018926434218883514, 0.030061792582273483, -0.05997658148407936, -0.02012694627046585, 0.009922596625983715, -0.020469948649406433, -0.015729153528809547, 0.019440939649939537, 0.013646632432937622, -0.012378745712339878, -0.0030242481734603643, 0.013867135159671307, 0.012035742402076721, 0.0394698828458786, -0.03542734310030937, -0.03719136118888855, -0.030282294377684593, -0.031899310648441315, -0.006523188203573227, -0.024316485971212387, -0.030086291953921318, -0.026533758267760277, -0.007870701141655445, -0.01047997735440731, 0.044933438301086426, -0.002840496366843581, -0.013511881232261658, 0.0090038375928998, -0.02000444382429123, -0.0036076600663363934, 0.019195936620235443, -0.010100223124027252, 0.009824595414102077, 0.037436362355947495, 0.056742552667856216, -0.008685334585607052, 0.01321787852793932, -0.008495457470417023, -0.03981288522481918, -0.0035739722661674023, -0.04755496233701706, -0.015459650196135044, 0.009444842115044594, 0.024916741997003555, -0.018828433007001877, -0.011784614995121956, -0.027562767267227173, 0.06036858633160591, -0.018914183601737022, -0.06923767179250717, -0.056399546563625336, -0.07031568139791489, 0.02316497452557087, -0.024304237216711044, -0.017370669171214104, 0.021315207704901695, 0.004112977534532547, -0.014761393889784813, -0.030772298574447632, -0.01635390892624855, -0.00018777135119307786, 0.03701985999941826, -0.03684835880994797, 0.0008230548701249063, -0.0010604009730741382, -0.030625298619270325, -0.049637481570243835, 0.07256970554590225, -0.0372648611664772, 0.014663392677903175, -0.0013000438921153545, 0.0005355598987080157, -0.025651749223470688, -0.012243993580341339, -0.018362928181886673, 0.036995358765125275, -0.016611160710453987, 0.01756667159497738, -0.07379471510648727, 0.007337821181863546, 0.0057208058424293995, 0.015876153483986855, 0.014614392071962357, -0.004253854043781757, -0.004875547252595425, 0.01852218061685562, 0.017529919743537903, 0.04855947196483612, 0.03871037811040878, -0.007711450103670359, -0.03920038044452667, -0.013205628842115402, -0.04130740091204643, 0.01835067756474018, -0.03305082023143768, -0.033222321420907974, 0.012250118888914585, -0.022809721529483795, -0.07085468620061874, -0.0473344586789608, -0.01811792701482773, -0.06972768157720566, -0.027783270925283432, -0.01695416495203972, 0.019195936620235443, -0.022870972752571106, -0.03741186484694481, -0.054194528609514236, -0.0394698828458786, -0.004743858706206083, -0.0035800973419100046, 0.014700142666697502, -0.0970209464430809, -8.790417632553726e-05, -0.0654156357049942, -0.048314470797777176, 0.0027103389147669077, 0.040596894919872284, 0.002002894412726164, 0.025798751041293144, 0.017505420371890068, 0.017529919743537903, 0.043316420167684555, -0.0031207178253680468, -0.013426130637526512, -0.028959281742572784, 0.07482372969388962, 0.008654708974063396, 0.06134859472513199, 0.017199167981743813, 0.04596244543790817, 0.04615844786167145, 0.051352500915527344, -0.007772700395435095, 0.02189096249639988, 0.003684223396703601, -0.025676250457763672, -0.001711954129859805, -0.009009962901473045, -0.05821256712079048, -0.02300572395324707, -0.061446595937013626, -0.00950609240680933, 0.027464767917990685, 0.008740459568798542, -0.026264255866408348, -0.032462816685438156, 0.010283974930644035, 0.002111614216119051, 0.04378192499279976, -0.007509322836995125, 0.027072763070464134, 0.029718788340687752, -0.004474355839192867, -0.0225647184997797, -0.002483711577951908, 0.021266207098960876, -0.08227179944515228, 0.010369725525379181, 0.03170330822467804, -0.03562334552407265, -0.0236672293394804, -0.004146665334701538, -0.029228784143924713, 0.009971597231924534, -0.0691886693239212, -0.0093162152916193, -0.03787736967206001, 0.029571788385510445, 0.011453861370682716, -0.051695503294467926, -0.0021131455432623625, -0.013536381535232067, 0.02976778894662857, 0.020249446853995323, 0.011668238788843155, 0.02560274861752987, -0.03692185878753662, -0.002408679574728012, 0.02171946130692959, 0.04980898275971413, -0.010455477051436901, 0.026680760085582733, -0.01956344023346901, -0.040596894919872284, 0.015435149893164635, 0.012580872513353825, -0.001835986622609198, -0.056301549077034, 0.03621135279536247, 0.021364208310842514, -0.0053318641148507595, -0.028910281136631966, -0.0067743160761892796, -0.00817082915455103, 0.011815239675343037, 0.019771691411733627, 0.02954728715121746, 0.038269370794296265, 0.003108467673882842, 0.016476409509778023, 0.03177680820226669, 0.00986747071146965, -0.005778993479907513, -0.027195263653993607, -0.01338937971740961, 0.0375833660364151, 0.05747755989432335, 0.033614326268434525, -0.03285481780767441, 0.013597631826996803, -0.003647472942247987, 0.04081739857792854, -0.009610217995941639, -0.00605768384411931, -0.0042814165353775024, 0.0055646165274083614, -0.02328747697174549, -0.03525584191083908, -0.021266207098960876, -0.0032799693290144205, -0.01039422582834959, 0.025921251624822617, -0.059780582785606384, -0.022932222113013268, 0.0006086778012104332, 0.016059905290603638, -0.04334092140197754, -0.007858451455831528, -0.0462319478392601, -0.016219157725572586, 0.02360597997903824, -0.01211536768823862, 0.033565327525138855, -0.00022260763216763735, 0.01951443962752819, 0.0031222491525113583, -0.057281557470560074, 0.0006683971150778234, -0.04069489613175392, 0.033173322677612305, 0.05821256712079048, -0.03434933349490166, -0.0630636140704155, -0.0285427775233984, 0.0004639732651412487, 0.01369563303887844, 0.004403918050229549, 0.007699199952185154, -0.009101838804781437, 0.02937578596174717, -0.04873097315430641, 0.001275543705560267, 0.010706604458391666, -0.0027241201605647802, 0.052136506885290146, -0.027979271486401558, -0.011104732751846313, 0.014124386943876743, 0.010002221912145615, -0.03635835275053978, -0.015337148681282997, -0.025075994431972504, 0.016451910138130188, -0.002396429656073451, 0.04196890816092491, -0.008581208065152168, -0.007441947236657143, -0.026754260063171387, 0.03579484671354294, -0.07286370545625687, -0.021315207704901695, -0.03684835880994797, -0.03479033708572388, 0.009597968310117722, 0.015533151105046272, 0.0071173193864524364, 0.03750986605882645, -0.012096992693841457, 0.04640345275402069, -0.01668466255068779, -0.005163425114005804, 0.006866191979497671, 0.030845800414681435, -0.014945145696401596, 0.007546073291450739, 0.007595073897391558, -0.03327132388949394, -0.010087973438203335, -0.010192099027335644, -0.02078845165669918, 0.03897988051176071, 0.016941914334893227, -0.018191426992416382, -0.041552405804395676, 0.020139195024967194, -0.022417718544602394, -0.06134859472513199, -0.02168271131813526, -0.02278522215783596, 0.049465980380773544, 0.035549845546483994, -0.02295672334730625, 0.033785827457904816, -0.0495394803583622, -0.02412048541009426, 0.0156066520139575, -0.010424851439893246, 0.015949655324220657, 0.005803493782877922, 0.045423440635204315, 0.041772905737161636, -0.052675511687994, 0.008850711397826672, -0.0005535522359423339, 0.01341388002038002, 0.027685269713401794, -0.006455812603235245, -0.0006997880409471691, 0.0059811207465827465, 0.04743245989084244, -0.0616425983607769, -0.0018206739332526922, 0.00869758427143097, -0.005344114266335964, 0.0338103286921978, 0.028787780553102493, 0.029620787128806114, 0.02682776004076004, -0.012378745712339878, -0.00131688779219985, 0.028126273304224014, 0.002284647198393941, -0.056791551411151886, -0.001185199012979865, 0.053900524973869324, 0.04912297800183296, 0.009842970408499241, 0.03420233353972435, 0.019024435430765152, 0.06242660805583, -0.011521236971020699, 0.042213909327983856, -0.010614728555083275, 0.06943367421627045, -0.040155891329050064, 0.017431920394301414, 0.038783878087997437, 0.033295825123786926, -0.019036684185266495, -0.03991088643670082, -0.004737733397632837, -0.05311651527881622, -0.06203460320830345, -0.023311976343393326, 0.06595464050769806, 0.013646632432937622, -0.015974154695868492, 0.03907788172364235, -0.03341832384467125, 0.031899310648441315, 0.014369389973580837, 0.04557044431567192, -0.029302284121513367, 0.018926434218883514, -0.017211416736245155, -0.031237803399562836, 0.06134859472513199, -0.0026169316843152046, 0.03662785515189171, 0.015569901093840599, -0.02160920947790146, -0.014896145090460777, 0.037338364869356155, -0.06575863808393478, 0.04236091300845146, 0.004707108251750469, -0.025431247428059578, 0.020543450489640236, -0.01696641556918621, 0.0027271828148514032, 0.0195021890103817, 0.008372955955564976, -0.02133970707654953, -0.0004735436523333192, -0.05015198886394501, 0.05821256712079048, -0.012654373422265053, 0.06732665747404099, 2.2813454052084126e-05, 0.04895147681236267, 0.006210810504853725, -0.0005646539502777159, 0.013132127933204174, -0.03351632505655289, -0.035059839487075806, 0.0030625297222286463, -0.0022601468954235315, -0.02234421670436859, 0.011092483066022396, 0.0014646548079326749, 0.0729617103934288, 0.037117861211299896, 0.025455746799707413, -0.027856770902872086, -0.0071111940778791904, 0.04777546599507332, -0.009267214685678482, 0.010706604458391666, 0.01712566614151001, -0.016537660732865334, -0.04677095636725426, -0.0013015751028433442, -0.0009042118908837438, 0.0028175273910164833, 0.07256970554590225, -0.04319392144680023, 0.022846471518278122, -0.005922932643443346, -0.03814687207341194, -0.004158915486186743, -5.928866085014306e-05, -0.002900215797126293, -0.013254628516733646, 0.035280343145132065, 0.05968258157372475, -0.02116820588707924, 0.012556372210383415, 0.02162146009504795, -0.017591170966625214, -0.014834893867373466, -0.016758162528276443, 0.004722421057522297, -0.00023026396229397506, 0.03817136958241463, 0.009622468613088131, 0.03797537088394165, 0.023691730573773384, -0.030674297362565994, 0.04711395874619484, -0.058114565908908844, -0.009432591497898102, 0.025406746193766594, -0.007656324654817581, 0.007729825098067522, 0.02898378111422062, -0.034667838364839554, -0.0034116581082344055, 0.02655825763940811, 0.004664232954382896, -0.013891635462641716, -0.0011545737506821752, -0.029400285333395004, -0.01100673247128725, -0.002054957440122962, 0.004410042893141508, -0.012017366476356983, -0.014896145090460777, -0.0402538925409317, -0.0018712057499215007, 0.05649754777550697, 0.024291986599564552, 0.016537660732865334, 0.0012502777390182018, -0.009052838198840618, -0.009114088490605354, 0.01532489899545908, -0.0032156561501324177, -0.0014960458502173424, -0.0004057851911056787, 0.00618018489331007, 0.00468260794878006, 0.01477364357560873, 0.007282695733010769, 0.00922433938831091, 0.01873043179512024, 0.016010906547307968, -0.0076440745033323765, 0.002427054801955819, 0.0028542778454720974, -0.001023650635033846, -0.023703981190919876, 0.03535384312272072, -0.026509257033467293, 0.014087636955082417, 0.007999327965080738, 0.006780440919101238, 0.025896752253174782, -0.007815576158463955, -0.032021813094615936, 0.02050669863820076, 0.008317830972373486, 0.03498633950948715, 0.015055396594107151, -0.01873043179512024, 0.012133742682635784, 0.04956398159265518, -0.0034759712871164083, 0.003586222417652607, -0.008403581567108631, -0.01663566194474697, 0.01374463364481926, 0.0019584877882152796, -0.03060079738497734, -0.014822644181549549, -0.020212696865200996, 0.0059749954380095005, -0.021082455292344093, -0.03574584797024727, -0.02621525526046753, -0.01817917637526989, -0.02122945711016655, -0.0031222491525113583, -0.0142713887616992, -0.017431920394301414, 0.025896752253174782, -0.014589891768991947, -0.03420233353972435, 0.0036444105207920074, -0.027905771508812904, -0.026509257033467293, 0.0033350950106978416, 0.0016078280750662088, 0.011184358969330788, -0.026901261880993843, -0.01906118541955948, 0.026901261880993843, -0.0037730366457253695, 0.0001154190904344432, 0.022197214886546135, 0.000511825317516923, -0.05958458036184311, 0.0011829021386802197, 0.0372648611664772, -0.0285427775233984, -0.01828942820429802, 0.007209195289760828, 0.0009470873046666384, -0.03452083468437195, 0.01405088696628809, 0.01552090048789978, 0.0032524066045880318, -0.0026582758873701096, -0.008519957773387432, 0.004866359755396843, -0.0034116581082344055, -0.028812279924750328, 0.010345225222408772, 0.03787736967206001, -0.031164303421974182, -0.005405365023761988, -0.014283638447523117, 0.0028741841670125723, 0.008495457470417023, 0.04373292624950409, 0.008415832184255123, 0.02167046070098877, -0.010081848129630089, 0.003515784163028002, 0.02655825763940811, -0.015827154740691185, 0.02993929199874401, 0.03817136958241463, -0.008385206572711468, -0.0008552114595659077, 0.047309961169958115, 0.029473787173628807, -0.019036684185266495, 0.02146220952272415, -0.007846200838685036, -0.026043754070997238, 0.04258141294121742, 0.031678806990385056, -0.038612376898527145, 0.005769805982708931, 0.0270482636988163, -0.004933735355734825, 0.03991088643670082, -0.009677594527602196, -0.0012724811676889658, 0.030674297362565994, -0.05066649243235588, 0.006023996043950319, 0.012047992087900639, 0.014234638772904873, -0.008918086998164654, -0.020702701061964035, -0.02682776004076004, -0.04101339727640152, 0.005922932643443346, -0.02533324621617794, -0.015275898389518261, -0.01341388002038002, -0.00806670356541872, 0.01510439720004797, 0.039763886481523514, 0.04610944911837578, -0.010069597512483597, 0.026092752814292908, 0.008348456583917141, -0.020910954102873802, 0.04588894546031952, 0.02528424561023712, 0.0038710376247763634, 0.01817917637526989, 0.004305916838347912, 0.00730107119306922, -0.02211146429181099, 0.015263648703694344, 0.0327078178524971, -0.021253956481814384, -0.009561218321323395, -0.04650145396590233, -0.0011698863236233592, 0.01568015292286873, -0.02748926728963852, 0.0116376131772995, -0.02766076847910881, 0.004327354487031698, -0.01319337822496891, -0.008703709580004215, -0.037779368460178375, -0.019612440839409828, -0.03981288522481918, 0.05796756222844124, 0.04610944911837578, 0.014810393564403057, 0.004933735355734825, -0.020592451095581055, -0.05664455145597458, 0.003531096735969186, -0.01912243664264679, -0.03493734076619148, -0.003518846817314625, -0.04030289128422737, -0.0027516831178218126, 0.027685269713401794, 0.026043754070997238, 0.02399798296391964, -0.03158080577850342, 0.0048142969608306885, -0.007723700255155563, -0.010927106253802776, -0.012764624319970608, 0.00739907193928957, 0.012838125228881836, 0.03155630826950073, 0.029253283515572548, 0.009022212587296963, -0.023703981190919876, 0.017150167375802994, -0.03750986605882645, 0.000366929336450994, -0.012678873725235462, 0.005886182188987732, -0.03520684316754341, -0.032462816685438156, 0.04003338888287544, 0.021817462518811226, -0.015594401396811008, -0.00981234572827816, 0.027097264304757118, 0.02129070647060871, -0.016047656536102295, 0.009873596020042896, -0.007735950406640768, -0.018877433612942696, 0.021192705258727074, -0.010590228252112865, 0.024598238989710808, 0.015704652294516563, -0.024034732952713966, -0.0005378567730076611, -0.014565391466021538, -0.035059839487075806, -0.007319446187466383, -0.032511815428733826, 0.027513766661286354, -0.018166925758123398, 0.03358982503414154, -0.000609826238360256, 0.007478697691112757, 0.0032125937286764383, -0.0015412181382998824, 0.0025985564570873976, 0.026337755843997, -0.03897988051176071, -0.023030223324894905, -0.03398182988166809, 0.012194993905723095, 0.016451910138130188, 0.0019554253667593002, 0.0060974969528615475, 0.03180130943655968, -0.01850992999970913, -0.028199773281812668, 0.007435822393745184, 0.0004448324616532773, -0.0012303713010624051, -0.001046619494445622, 0.0017318605678156018, 0.017934175208210945, -0.03241381421685219, -0.0003590816049836576, 0.040204890072345734, -0.006792691070586443, 0.005962745286524296, -0.0049612983129918575, 0.0003246281703468412, -0.01372013334184885, 0.00014728853420820087, 0.01778717339038849, -0.03577034920454025, -0.00687231682240963, 0.030968300998210907, 0.025529248639941216, -0.03770586475729942, -0.022870972752571106, 0.0032646567560732365, 0.006363936699926853, -0.017542170360684395, 0.0221727155148983, 0.04091539606451988, 0.03158080577850342, 0.0028588715940713882, -0.030282294377684593, 0.013315879739820957, -0.09143488854169846, -0.01885293237864971, 0.08261480182409286, -0.015753652900457382, 0.037436362355947495, -0.01111085806041956, -0.028395775705575943, 0.028689779341220856, -0.017137916758656502, -0.029645288363099098, 0.025480248034000397, -0.009156963787972927, -0.016255907714366913, 0.009738844819366932, 0.036554355174303055, 0.01945318840444088, 0.00010737995035015047, -0.004792859312146902, 0.012341994792222977, -0.02190321311354637, -0.011025107465684414, 0.03780386596918106, 0.015569901093840599, -0.005007236264646053, -0.03064979799091816, 0.008403581567108631, -0.0029752475675195456, 0.009634718298912048, 0.030404794961214066, 0.025088243186473846, 0.018644681200385094, 0.011453861370682716, -0.011643738485872746, -0.01746867038309574, -0.02660725824534893, 0.030233293771743774, 0.011968366801738739, 0.011349735781550407, 0.048755474388599396, -0.017113415524363518, 0.03768136724829674, -0.03513334318995476, 0.04035189375281334, 0.03834287449717522, 0.020139195024967194, 0.004030289128422737, -0.020531199872493744, 0.0032799693290144205, 0.030135292559862137, 0.034006331115961075, -0.018705932423472404, -0.008330080658197403, -0.025137243792414665, -0.024818740785121918, 0.06076059117913246, 0.022589219734072685, -0.0432429201900959, -0.025259746238589287, 0.028910281136631966, 0.03187480941414833, 0.027758769690990448, -0.0032340313773602247, -0.005001110956072807, -0.0023336478043347597, -0.007889077067375183, -0.022687220945954323, -0.007319446187466383, 0.015876153483986855, -0.025210745632648468, -0.01078010443598032, -0.011619238182902336, 0.0031023425981402397, -0.0049612983129918575, -0.01756667159497738, -0.03513334318995476, 0.0014194825198501348, -0.011337485164403915, -0.012268493883311749, -0.01846092939376831, -0.006743690464645624, 0.04067039489746094, -0.007601198740303516, -0.010051222518086433, 0.018081175163388252, -0.017137916758656502, -0.005729993339627981, 0.017934175208210945, 0.0032370940316468477, 0.007558323442935944, 0.01641516014933586, 0.028591778129339218, 0.030674297362565994, 0.04289991781115532, -0.06080958992242813, -0.05497853457927704, -0.010602477937936783, -0.018987685441970825, 0.013426130637526512, -0.002984435297548771, -0.008660834282636642, -0.03973938524723053, 0.03131130337715149, -0.0225647184997797, -0.03657885640859604, -0.033344823867082596, -0.006333311554044485, 0.00875883549451828, 0.01830167882144451, -0.006915192119777203, 0.04289991781115532, 0.022099215537309647, 0.02156020887196064, 0.007307196035981178, 0.028591778129339218, -0.018705932423472404, -0.006186310201883316, 0.06639564782381058, -0.009169214405119419, -0.013205628842115402, -0.00022011932742316276, -0.02748926728963852, 0.013352629728615284, 0.022037964314222336, 0.015814904123544693, -0.026680760085582733, 0.04757946357131004, -0.004119102377444506, 0.02378973178565502, -0.0017992362845689058, -0.02050669863820076, 0.04346342384815216, 0.009720469824969769, -0.034226831048727036, 0.03498633950948715, -0.0008781804353930056, 0.025431247428059578, 0.037607867270708084, -0.006327186711132526, -0.0030150606762617826, -0.0036780983209609985, -0.020714951679110527, -0.0052216132171452045, 0.046697452664375305, -0.01596190594136715, -0.013021877035498619, 0.004474355839192867, 0.011827490292489529, -0.021939963102340698, 0.009328465908765793, -0.02783227153122425, -0.016010906547307968, 0.01806892640888691, -0.003782224375754595, 0.008924211375415325, -0.01343838032335043, 0.01656216010451317, -0.008085078559815884, -0.038048870861530304, -0.009555093012750149, 0.005809619091451168, -0.006455812603235245, 0.036725856363773346, -0.016317158937454224, -0.028959281742572784, -0.01108635775744915, -0.013805883936583996, -0.006106684450060129, -0.009187589399516582, -0.015067646279931068, 0.019857443869113922, -0.003067123470827937, 0.04211590811610222, 0.006284310948103666, -0.02084970287978649, 0.003984351176768541, 0.022086964920163155, 3.3197343327628914e-06, 0.012813624925911427, 0.016880664974451065, 0.04983348399400711, -0.04206690937280655, 0.01989419385790825, 0.013989635743200779, -0.00590149499475956, 0.019661441445350647, -0.03770586475729942, 0.009040587581694126, 0.026754260063171387, 0.012495121918618679, -0.016696913167834282, 0.04539894312620163, 0.03652985394001007, -0.024867741391062737, 0.021253956481814384, -0.009352966211736202, 0.020163696259260178, 0.04463943466544151, 0.015998655930161476, 0.012458370998501778, 0.01460214238613844, -0.032462816685438156, 0.08016478270292282, -0.00042607446084730327, 0.0022264590952545404, 0.0379018671810627, 0.026582758873701096, -0.009022212587296963, -0.024414487183094025, -0.0013352630194276571, 0.028297774493694305, 0.006177122704684734, -0.009659218601882458, -0.003534159390255809, -0.0025924313813447952, -0.017836173996329308, -0.02555374801158905, -0.01460214238613844, 0.010143098421394825, -0.006804941222071648, -0.029008282348513603, -0.018999934196472168, -0.022687220945954323, 0.0323893167078495, -0.022246215492486954, -0.008630208671092987, 0.035672347992658615, -0.018779432401061058, 0.0699726790189743, 0.03474133834242821, -0.012740124017000198, -0.03430033475160599, 0.004275291692465544, -0.052675511687994, 0.003635222790762782, 0.03515784069895744, -0.03393283113837242, 0.006841691676527262, -0.03268331661820412, -0.0323893167078495, 0.045864444226026535, 0.024904491379857063, 0.020212696865200996, 0.01835067756474018, -0.022809721529483795, 0.010731104761362076, -0.005013361107558012, 0.019771691411733627, 0.02443898841738701, 0.02611725404858589, 0.00634556170552969, -0.0030012791976332664, 0.0062444983050227165, 0.020653700456023216, 0.01906118541955948, 0.03087029978632927, -0.024193985387682915, 0.00873433519154787, 0.041601404547691345, -0.00922433938831091, 0.020702701061964035, 0.004330417141318321, 0.044100429862737656, 0.01613340713083744, 0.0180076751857996, -0.04162590578198433, -0.009555093012750149, 0.0051940507255494595, 0.0033871580380946398, 0.05005398765206337, 0.04228740930557251, -0.014442890882492065, 0.040204890072345734, 0.013818134553730488, 0.01723591797053814, 0.02788127027451992, -0.0375833660364151, -0.01778717339038849, -0.02876327931880951, 0.040547892451286316, -0.02638675644993782, -0.017591170966625214, -0.03138480335474014, 0.022919973358511925, 0.025676250457763672, 0.02660725824534893, -0.061103593558073044, -0.0028619340155273676, -0.03748536482453346, 0.012452245689928532, -0.011000607162714005, -0.004532543942332268, 0.009169214405119419, 0.007656324654817581, -0.0001324544136878103, 0.0001904510718304664, 0.0043212296441197395, -0.002702682511880994, -0.0019998319912701845, -0.0079013267531991, 0.015153396874666214, 0.032462816685438156, -0.003959850873798132, 0.021413208916783333, 0.014406139962375164, 0.022919973358511925, -0.002702682511880994, 0.006272060796618462, -0.03165430948138237, 0.0034637211356312037, -0.006149559747427702, -0.014038636349141598, -0.006578314118087292, 0.010234974324703217, 0.047971464693546295, 0.028567276895046234, 0.04385542497038841, -0.04341442137956619, 0.005589116830378771, -0.01734616793692112, 0.02920428477227688, -0.0017487044679000974, 0.036162350326776505, 0.03750986605882645, 0.02888578176498413, 0.028077272698283195, -0.05586054176092148, -0.01266662310808897, -0.018877433612942696, -0.009775594808161259, -0.017333919182419777, 0.01094548124819994, -0.013450630940496922, 0.010345225222408772, -0.0050746118649840355, -0.018656931817531586, -0.0020488323643803596, -0.044590432196855545, 0.004137477837502956, -0.027685269713401794, -0.030110793188214302, 0.008176954463124275, -0.0186324305832386, -0.037779368460178375, 0.013132127933204174, 0.0017563608707860112, -0.013818134553730488, 0.013903885148465633, 0.020580200478434563, -0.0036444105207920074, 0.0019676752854138613, 0.07163869589567184, 0.010908731259405613, 0.03104180097579956, 0.018987685441970825, -0.009695969521999359, 0.02954728715121746, -0.004063976928591728, 0.0014363264199346304, -0.018338428810238838, -0.034888338297605515, -0.030110793188214302, 0.03670135512948036, -0.005145050119608641, 0.03621135279536247, 0.02555374801158905, -0.0075215729884803295, -0.011686613783240318, 0.02006569504737854, 0.023630479350686073, 0.012090867385268211, 0.011165983974933624, 0.017027664929628372, -0.02616625465452671, -0.03064979799091816, 0.01801992580294609, -0.004566231742501259, 0.014455140568315983, -0.03454533591866493, 0.02239321731030941, 0.00928559061139822, -0.02577424980700016, -0.005684055387973785, 0.0032034062314778566, -0.025088243186473846, -0.0019094872986897826, 0.0022111465223133564, 0.01635390892624855, -0.023030223324894905, -0.00634556170552969, -0.01479814387857914, 0.020077945664525032, -0.02611725404858589, 0.0012487465282902122, -0.011466111056506634, 0.010871980339288712, -0.014161137863993645, 0.01507989689707756, -0.022638220340013504, 0.0220134649425745, 0.019085684791207314, -0.0021422395948320627, -0.03939638286828995, 0.004651982802897692, -0.02494124323129654, -0.004826547112315893, -0.018975434824824333, 0.001897237147204578, 0.026950262486934662, -0.006976442877203226, -0.002397960750386119, -0.04044989496469498, 0.022601470351219177, 0.008568958379328251, 0.027979271486401558, 0.012850374914705753, -0.022797470912337303, 0.0013061689678579569, -0.04478643462061882, -0.009940971620380878, 0.03964138403534889, -0.02993929199874401, 0.01929393783211708, 0.02127845771610737, -0.008703709580004215, 0.014847144484519958, 0.013315879739820957, -0.010657603852450848, -0.04042539373040199, 0.018424179404973984, -0.007882951758801937, -0.0054543656297028065, -0.041821908205747604, -0.004835734609514475, 0.016255907714366913, -0.02739126607775688, -0.0323893167078495, 0.01739516854286194, 0.004067039582878351, -0.027317766100168228, 0.024083733558654785, 0.02976778894662857, -0.007386821787804365, -0.0071173193864524364, 0.009824595414102077, 0.008666959591209888, -0.02184196189045906, -0.006780440919101238, -0.0021361145190894604, 0.022160464897751808, 0.04784896597266197, 0.034667838364839554, -0.014908394776284695, 0.03307532146573067, 0.03280581906437874, -0.0002871121687348932, 0.014589891768991947, 0.0050746118649840355, 0.005757555831223726, -0.003638285445049405, 0.018191426992416382, 0.026509257033467293, 0.019538940861821175, -0.002713401336222887, 0.016096657142043114, 0.0012074023252353072, -0.01228074450045824, -0.0008131016511470079, 0.05581154301762581, -0.019992195069789886, -0.018436430022120476, 0.02278522215783596, 0.001825267798267305, 0.013989635743200779, 0.029571788385510445, -0.010002221912145615, 0.018497679382562637, 0.005962745286524296, -0.022197214886546135, -0.037779368460178375, 0.00873433519154787, -0.02061695046722889, -0.015704652294516563, 0.02582325041294098, -0.03802436962723732, -0.03493734076619148, -0.003999663982540369, -0.01180911436676979, -0.049906983971595764, -0.02560274861752987, 0.02372848056256771, -0.025970252230763435, -0.001892643398605287, 0.036799356341362, -0.01852218061685562, -0.007882951758801937, -0.010737229138612747, 0.020653700456023216, 0.015165647491812706, -0.009414216503500938, 0.004327354487031698, 0.004302854184061289, -0.001035135006532073, 0.002080989070236683, -0.013854884542524815, -0.004207916092127562, -0.033785827457904816, 0.008054452948272228, -0.025847751647233963, -0.017419669777154922, 0.007313320878893137, 0.013548632152378559, -0.019048934802412987, 0.025186244398355484, -0.018056675791740417, 0.002520462032407522, 0.031237803399562836, -0.017615672200918198, 0.025235245004296303, 0.010296225547790527, 0.003286094404757023, -0.012960625812411308, 0.00023198663257062435, 0.01247062161564827, 0.02783227153122425, 0.024732990190386772, -0.010933231562376022, 0.01394063513725996, -0.015092146582901478, -2.9309367164387368e-05, -0.02959628775715828, -0.02328747697174549, 0.016537660732865334, 0.007270445581525564, 0.016721412539482117, -0.01873043179512024, 0.0065109385177493095, 0.013426130637526512, -0.021707210689783096, -0.008685334585607052, -0.027856770902872086, 0.031188802793622017, 0.01568015292286873, -0.004719358403235674, -0.0008490863838233054, 0.024022484198212624, 0.03606434911489487, -0.006676314864307642, 0.007533823139965534, -0.003956788685172796, 0.0076685743406414986, 0.008085078559815884, 0.009977721609175205, 0.0012724811676889658, 0.004979673307389021, -0.01507989689707756, 0.020310698077082634, 0.001636922126635909, -0.007245945278555155, 0.004780609160661697, -0.01745641976594925, 0.01477364357560873, 0.01507989689707756, 0.027170764282345772, -0.006853941828012466, 0.020212696865200996, -0.008893586695194244, -0.009849095717072487, 0.02223396673798561, 0.012415495701134205, -0.041601404547691345, -0.0017839235952124, -0.003766911569982767, 0.02478199079632759, 0.004909235052764416, 0.005748368334025145, -0.012213368900120258, 0.015422900207340717, 0.029718788340687752, 0.015937404707074165, 0.04319392144680023, 0.013046376407146454, -0.042213909327983856, -0.0055952416732907295, 0.028150774538517, 0.008017702959477901, -0.012256244197487831, -0.01679491251707077, 0.00697031756862998, 0.008115704171359539, -0.00644356245175004, -0.0054543656297028065, 0.03775486722588539, 0.010822980664670467, 0.01978394202888012, -0.012096992693841457, 0.007699199952185154, 0.01718691736459732, -0.004624419845640659, 0.003341220086440444, 0.01852218061685562, 0.01663566194474697, 0.037999868392944336, 0.02726876549422741, -0.004406980238854885, 0.0015037021366879344, 0.01967369206249714, 0.03464333713054657, -0.026631759479641914, -0.013046376407146454, 0.02483099140226841, -0.014344889670610428, 0.0039077880792319775, 0.005359427072107792, 0.010651478543877602, -0.021437708288431168, 0.0274402666836977, -0.03243831545114517, -0.013340380042791367, -0.005843306891620159, 0.009677594527602196, 0.005800431594252586, 0.0235079787671566, -0.011741738766431808, 0.018387429416179657, 0.013671132735908031, 0.017101166769862175, -0.01718691736459732, 0.002863465342670679, -0.00439473008736968, -0.03148280456662178, -0.013303629122674465, -0.01656216010451317, 0.020371947437524796, 0.012286869809031487, 0.0002811785088852048, 0.03319782391190529, -0.01890193298459053, -0.006682440172880888, -0.014320389367640018, 0.011692739091813564, 0.012531871907413006, -0.01929393783211708, 0.024071484804153442, 0.005117487162351608, -0.009273339994251728, 0.04601144790649414, 0.015765903517603874, -0.030110793188214302, -0.029669787734746933, -0.0052185505628585815, 0.008372955955564976, -0.029743289574980736, -0.003338157432153821, -0.004253854043781757, 0.007123444229364395, 0.05777156352996826, -0.025798751041293144, 0.010614728555083275, -0.03807336837053299, 0.02511274442076683, 0.003188093425706029, 0.0180076751857996, -0.0014776706229895353, -0.008991586975753307, -0.003797536948695779, 0.020200446248054504, 0.0017134854570031166, -0.0500049851834774, 0.014785894192755222, 0.0015098272124305367, 0.0169051643460989, 0.02200121432542801, 0.021204955875873566, -0.037215862423181534, 0.013021877035498619, -0.005821869242936373, -0.018595680594444275, 0.0008559770649299026, 0.03341832384467125, 0.009052838198840618, -0.00780332600697875, 0.012513496913015842, 0.0073745716363191605, -0.012292994186282158, 0.009009962901473045, 0.0067375656217336655, -0.024732990190386772, 0.004875547252595425, 0.017309417948126793, 0.0060944342985749245, -0.009824595414102077, -0.02511274442076683, -0.026092752814292908, -0.007252070587128401, 0.030674297362565994, 0.03873487561941147, -0.02528424561023712, 0.006017871201038361, -0.01206024270504713, 0.003647472942247987, -0.04040089249610901, -0.00632106140255928, 0.026680760085582733, -0.034839339554309845, 0.0013804353075101972, -0.0025939627084881067, 0.0003606128739193082, -0.026925761252641678, -0.024095984175801277, 0.007693074643611908, 0.02478199079632759, 0.022491218522191048, 0.008997712284326553, 0.03613785281777382, 0.005674867890775204, 0.0072581954300403595, -0.0032493441831320524, -0.01352413184940815, 0.006250623147934675, -0.004486605990678072, -0.00269502610899508, -0.0032462815288454294, 0.03687286004424095, -0.001004509744234383, 0.026068253442645073, -0.019195936620235443, -0.0076379491947591305, -0.021253956481814384, 0.0076685743406414986, 0.006633439566940069, 0.04750596359372139, -0.025872251018881798, 0.033222321420907974, 0.007882951758801937, 0.01125173456966877, 0.007840076461434364, 0.03336932510137558, -0.023752981796860695, 0.003531096735969186]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:16.764143", "url_path": "/api/messages/", "chunk_size": 4882}
updated_dt: 2025-03-15T11:17:16.764143
---
r):
      if not isinstance(part.args, str):
        raise UnexpectedModelBehavior(f'Cannot apply JSON deltas to non-JSON tool arguments ({part=}, {self=})')
      updated_json = part.args + self.args_delta
      part = replace(part, args=updated_json)
    elif isinstance(self.args_delta, dict):
      if not isinstance(part.args, dict):
        raise UnexpectedModelBehavior(f'Cannot apply dict deltas to non-dict tool arguments ({part=}, {self=})')
      updated_dict = {**(part.args or {}), **self.args_delta}
      part = replace(part, args=updated_dict)
    if self.tool_call_id:
      # Replace the tool_call_id entirely if given
      if part.tool_call_id is not None and part.tool_call_id != self.tool_call_id:
        raise UnexpectedModelBehavior(
          f'Cannot apply a new tool_call_id to a ToolCallPartDelta that already has one ({part=}, {self=})'
        )
      part = replace(part, tool_call_id=self.tool_call_id)
    return part

```
  
---|---  
####  tool_name_delta `class-attribute` `instance-attribute`
```
tool_name_delta: str[](https://docs.python.org/3/library/stdtypes.html#str) | None = None

```

Incremental text to add to the existing tool name, if any.
####  args_delta `class-attribute` `instance-attribute`
```
args_delta: str[](https://docs.python.org/3/library/stdtypes.html#str) | dict[](https://docs.python.org/3/library/stdtypes.html#dict)[str[](https://docs.python.org/3/library/stdtypes.html#str), Any[](https://docs.python.org/3/library/typing.html#typing.Any "typing.Any")] | None = None

```

Incremental data to add to the tool arguments.
If this is a string, it will be appended to existing JSON arguments. If this is a dict, it will be merged with existing dict arguments.
####  tool_call_id `class-attribute` `instance-attribute`
```
tool_call_id: str[](https://docs.python.org/3/library/stdtypes.html#str) | None = None

```

Optional tool call identifier, this is used by some models including OpenAI.
Note this is never treated as a delta â€” it can replace None, but otherwise if a non-matching value is provided an error will be raised.
####  part_delta_kind `class-attribute` `instance-attribute`
```
part_delta_kind: Literal[](https://docs.python.org/3/library/typing.html#typing.Literal "typing.Literal")['tool_call'] = 'tool_call'

```

Part delta type identifier, used as a discriminator.
####  as_part
```
as_part() -> ToolCallPart[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ToolCallPart "pydantic_ai.messages.ToolCallPart") | None

```

Convert this delta to a fully formed `ToolCallPart` if possible, otherwise return `None`.
Returns:
Type | Description  
---|---  
`ToolCallPart[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ToolCallPart "pydantic_ai.messages.ToolCallPart") | None` |  A `ToolCallPart` if both `tool_name_delta` and `args_delta` are set, otherwise `None`.  
Source code in `pydantic_ai_slim/pydantic_ai/messages.py`
```
555
556
557
558
559
560
561
562
563
564
565
566
567
568
```
| ```
defas_part(self) -> ToolCallPart | None:
"""Convert this delta to a fully formed `ToolCallPart` if possible, otherwise return `None`.
  Returns:
    A `ToolCallPart` if both `tool_name_delta` and `args_delta` are set, otherwise `None`.
  """
  if self.tool_name_delta is None or self.args_delta is None:
    return None
  return ToolCallPart(
    self.tool_name_delta,
    self.args_delta,
    self.tool_call_id,
  )

```
  
---|---  
####  apply
```
apply(part: ModelResponsePart[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ModelResponsePart "pydantic_ai.messages.ModelResponsePart")) -> ToolCallPart[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ToolCallPart "pydantic_ai.messages.ToolCallPart")

```

```
apply(
  part: ModelResponsePart[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ModelResponsePart "pydantic_ai.messages.ModelResponsePart") | ToolCallPartDelta[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ToolCallPartDelta "pydantic_ai.messages.ToolCallPartDelta"),
) -> ToolCallPart[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ToolCallPart "pydantic_ai.messages.ToolCallPart") | ToolCallPartDelta[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ToolCallPartDelta "pydantic_ai.messages.ToolCallPartDelta")

```

```
apply(
  part: ModelResponsePart[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ModelResponsePart "pydantic_ai.messages.ModelResponsePart") | ToolCallPartDelta[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ToolCallPartDelta "pydantic_ai.messages.ToolCallPartDelta"),
) -> ToolCallPart[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ToolCallPart "pydantic_ai.messages.ToolCallPart") | ToolCallPartDelta[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ToolCallPartDelta "pydantic_ai.messages.ToolCallPartDelta")