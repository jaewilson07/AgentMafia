---
url: https://ai.pydantic.dev/api/result/
session_id: pydantic_ai_docs
chunk_number: 5
title: Async Iterator for Streaming Text Deltas
summary: This section defines an asynchronous iterator, `stream_text_deltas_ungrouped`, which yields tuples of text content and part indices from a stream response. It collects messages and processes parts filtered by their type and content while retaining the part index for potential future refactoring.
embedding: [0.07161117345094681, 0.015995705500245094, 0.005208735354244709, -0.0020784283988177776, 0.03287343680858612, 0.011907383799552917, -0.034613654017448425, -0.04169372096657753, -0.019786043092608452, -0.0004432490677572787, -0.01565004512667656, -0.02665156126022339, -0.010840605944395065, -0.04043027386069298, -0.0062933918088674545, 0.04870227351784706, -0.013766794465482235, 0.009964536875486374, 0.048583079129457474, 0.05883368104696274, 0.036878325045108795, -0.020846860483288765, 0.011460409499704838, -0.006466221995651722, -0.008748768828809261, -0.018391484394669533, -0.033517081290483475, 0.06703416258096695, -0.01272981520742178, -0.02170505002140999, 0.0007147857104428113, -0.017056522890925407, -0.0007531509618274868, -0.03008432127535343, 0.013468812219798565, 0.02882087416946888, 0.0036741250660270452, 0.035591039806604385, -0.006448342930525541, -0.018689466640353203, 0.007693910039961338, -0.012813250534236431, 0.017604811117053032, 0.013564166612923145, -0.021311713382601738, 0.04574628546833992, 0.000986322294920683, 0.028749357908964157, 0.03904763609170914, 0.050251781940460205, -0.022408289834856987, 0.017092280089855194, -0.004767721053212881, -0.01625792868435383, -0.017092280089855194, -0.019285432994365692, -0.03616316616535187, 0.005062723997980356, -0.019571496173739433, -0.06088379770517349, -0.004460799042135477, -0.009749989956617355, -0.023802848532795906, -0.025769533589482307, -0.008587857708334923, -0.0017774660373106599, -0.0124795101583004, 0.007932296022772789, -0.004439940210431814, 0.016710862517356873, 0.029631387442350388, 0.025864887982606888, -0.05993025377392769, -0.03592477738857269, -0.03313566371798515, -0.05058552324771881, 0.04705740883946419, 0.002748889150097966, 0.004785600118339062, -0.03566255420446396, 0.002246788702905178, 0.028963906690478325, -0.008373310789465904, 0.03306414559483528, -0.01262254174798727, -0.029774418100714684, -0.012837089598178864, -0.01182990800589323, -0.003918470814824104, 0.0026892926543951035, -0.06665274500846863, 0.0073005729354918, -0.010971718467772007, 0.029559871181845665, 0.060454703867435455, -0.01833188720047474, -0.0034625574480742216, -0.023814767599105835, -0.045698609203100204, 0.03177686035633087, 0.04891682043671608, -0.03969128057360649, -0.04464970901608467, 0.029369162395596504, 0.04257575049996376, 0.017080361023545265, 0.030966348946094513, -0.017890874296426773, -0.037069033831357956, -0.025769533589482307, -0.06622364372015, -0.0034655374474823475, -0.004189635161310434, 0.03473284840583801, -0.026508530601859093, 0.005578233860433102, -0.050347134470939636, 0.00782502256333828, 0.02722368761897087, 0.016698943451046944, -0.05978722497820854, -0.016174493357539177, -0.003298667026683688, 0.014100535772740841, -0.009857263416051865, -0.0005941027775406837, -0.024315377697348595, -0.05010874941945076, -0.049155205488204956, 0.007866740226745605, 0.06703416258096695, 0.008099166676402092, 0.012586783617734909, -0.03575791046023369, -5.703572605852969e-05, 0.020167460665106773, -0.015971865504980087, 0.029130777344107628, -0.053207769989967346, 0.0287255197763443, -0.013671440072357655, 0.000858189829159528, -0.015292465686798096, 0.004153877031058073, 0.03099018707871437, 0.0027876270469278097, -0.02932148613035679, -0.017485616728663445, -0.009839384816586971, -0.02731904201209545, -0.00014973623910918832, 0.028963906690478325, -0.024124668911099434, 0.036187004297971725, -0.017950469627976418, -0.0005415833438746631, 0.0415983684360981, 0.02435113675892353, 0.011806069873273373, -0.03029886819422245, -0.027700459584593773, 0.015125595033168793, -0.025173567235469818, 0.014565388672053814, -0.029536033049225807, -0.022634755820035934, 0.01603146269917488, -0.028987744823098183, -0.03981047123670578, -0.06355372071266174, -0.0165559109300375, 0.011108790524303913, -0.00920170173048973, 0.00016202802362386137, -0.0029559871181845665, -0.03020351380109787, -0.07947791367769241, -0.04245655611157417, -0.05330312252044678, -0.04517415910959244, 0.011192225851118565, -0.006311270873993635, -0.057880133390426636, -0.09087276458740234, -0.03237282857298851, -0.009231500327587128, 0.038570865988731384, 0.01840340346097946, 0.015113675966858864, 0.04593699425458908, 0.015447416342794895, 0.0208826195448637, 0.03418456017971039, 0.007068146485835314, -0.02803420089185238, -0.004910752642899752, 0.01271789614111185, 0.017151877284049988, 0.009517563506960869, 0.03416072204709053, 0.04169372096657753, 0.06569919735193253, 0.038260962814092636, -0.033421725034713745, 0.022527482360601425, -0.03740277141332626, -0.019047046080231667, 0.05120532587170601, -0.051062293350696564, -0.06012096256017685, 0.009773828089237213, -0.06159895658493042, -0.003432759316638112, -0.017402181401848793, 0.02674691565334797, 0.003870793618261814, -0.08996690064668655, -0.0052921706810593605, -0.03532881289720535, 0.0040346840396523476, 0.002644595457240939, 0.03961976245045662, 0.0505378432571888, 0.007771385367959738, 0.007950174622237682, 0.041336141526699066, 0.011603441089391708, -0.01390982698649168, -0.03714054822921753, 0.01560236793011427, 0.027748137712478638, 0.00247772503644228, -0.020262815058231354, -0.029059261083602905, 0.008415027521550655, -0.07432877272367477, 0.012944363057613373, 0.03349324315786362, 0.04028724506497383, -0.025292761623859406, -0.00296939630061388, 0.023218803107738495, 0.03039422258734703, 0.07499625533819199, -0.012110011652112007, -0.008730889298021793, 0.004147917497903109, -0.051729775965213776, 0.023206882178783417, 0.030275030061602592, 0.05349383130669594, -0.03041806071996689, 0.014779935590922832, -0.015185192227363586, -0.025864887982606888, -0.025030536577105522, -0.0431717149913311, 0.018880175426602364, -0.04424445331096649, 0.013242345303297043, 0.03938137739896774, 0.012050415389239788, -0.0659375861287117, 0.007932296022772789, 0.023504866287112236, -0.008492503315210342, 0.021240197122097015, 0.022610917687416077, 0.005658688955008984, -0.01138889417052269, -0.004425041377544403, -0.0018102441681548953, 0.0530647374689579, 0.014195890165865421, -0.018284210935235023, 0.02743823453783989, -0.017068441957235336, 0.013945584185421467, 0.03919066861271858, -0.024208104237914085, 0.017211472615599632, 0.006823800969868898, 0.016913490369915962, 0.001735748490318656, -0.011466369032859802, -0.011567683890461922, 0.028963906690478325, -0.010471107438206673, 0.01603146269917488, -0.005569294095039368, 0.004073421936482191, -0.01431508269160986, 0.016698943451046944, -0.019678769633173943, 0.0026282062754034996, 0.017449859529733658, 0.02326647937297821, 0.005518637131899595, -0.026961462572216988, 0.015471255406737328, 0.0015100267482921481, -0.037974897772073746, -0.004997167736291885, 0.013790633529424667, 0.03535265102982521, 0.06178966537117958, -0.013623762875795364, -0.022992335259914398, 0.02524508349597454, 0.00029518897645175457, 0.0621710829436779, 0.03663993626832962, -0.06116986274719238, -0.006352988537400961, -0.033040307462215424, -0.005202775821089745, 0.035209622234106064, -0.04665215313434601, 0.05892903357744217, -0.009499684907495975, -0.006418544799089432, -0.019976751878857613, 0.04374384135007858, 0.035304974764585495, -0.025888726115226746, -0.0003342991985846311, -0.04012037441134453, -0.00046373537043109536, -0.03380314260721207, 0.0031317968387156725, -0.012145769782364368, -0.02375517040491104, -0.0005974550731480122, 0.0027816672809422016, -0.027891168370842934, -0.030465738847851753, -0.023040013387799263, -0.02734288014471531, -0.012849008664488792, 0.06817841529846191, -0.0014861880335956812, 0.011549804359674454, -0.0568312369287014, -0.03890460357069969, -0.001716379658319056, -0.008182601071894169, 0.01420780923217535, 0.040454115718603134, -0.027080656960606575, 0.003385082120075822, 0.04188442975282669, 0.016472477465867996, 0.041050080209970474, -0.006263593677431345, -0.01822461374104023, -0.043815359473228455, -0.037474289536476135, 0.04038259759545326, 0.003781398758292198, 0.013981342315673828, -0.03921450674533844, 0.016281768679618835, -0.007503201253712177, -0.027605105191469193, -0.012801331467926502, 0.03444678708910942, -0.07790456712245941, -0.023504866287112236, -0.012551026418805122, 0.015018321573734283, 0.038260962814092636, -0.014040938578546047, 0.05544859915971756, 0.006704607978463173, -0.021240197122097015, 0.012646380811929703, -0.018582193180918694, 0.0037069031968712807, -0.006269553210586309, 0.07594979554414749, 0.0075508784502744675, 0.022932738065719604, -0.011817988939583302, -0.027867330238223076, 0.009219581261277199, 0.0558776929974556, -0.01386214978992939, -0.013146990910172462, 0.0060758646577596664, 0.030060481280088425, 0.025984080508351326, -0.022646674886345863, -0.026460852473974228, 0.008391189388930798, 0.009565240703523159, 0.0334455631673336, -0.008224318735301495, 0.015399739146232605, 0.0590243898332119, 0.023051932454109192, 0.027771975845098495, 0.02991745062172413, -0.004401202779263258, 0.00398998660966754, 0.006180158816277981, 0.009446047246456146, 0.01441043708473444, -0.0031615952029824257, 0.043243229389190674, -0.009183823131024837, 0.03158615157008171, 0.022420208901166916, 0.001307398546487093, -0.0011151997605338693, 0.003694983897730708, -0.03284959867596626, 0.006680769380182028, 0.04484041780233383, 0.060931477695703506, 0.023230722174048424, -0.0015040670987218618, -0.044602032750844955, -0.039452891796827316, -0.012127891182899475, -0.014875289984047413, 0.048773787915706635, 0.055400919169187546, -0.04348161816596985, 0.015280546620488167, -0.03497123345732689, -0.05363686382770538, -0.011692835949361324, 0.06684345006942749, 0.005041865166276693, 0.005271311849355698, -0.0058374786749482155, 0.011812029406428337, 0.002798056462779641, -0.020322412252426147, -0.009797667153179646, 0.06650970876216888, 0.012849008664488792, -0.033016469329595566, 0.022122226655483246, -0.029464516788721085, 0.008331593126058578, -0.0216692928224802, -0.0006067670183256269, 0.04515032097697258, -0.024220023304224014, 0.05158674344420433, 0.02178848534822464, -0.0334455631673336, -0.022515563294291496, -0.015209030359983444, -0.015268627554178238, 0.04021572694182396, 0.005125300493091345, 0.03780803084373474, -0.038761574774980545, 0.00633510947227478, -0.018165018409490585, 0.00136178033426404, 0.012789412401616573, -0.02655620686709881, -0.06474565714597702, 0.02278970740735531, -0.00797997321933508, -0.023421430960297585, 0.0281057171523571, 0.018832499161362648, 0.001539079938083887, 0.016079138964414597, 0.02147858403623104, 0.0014779935590922832, 0.0036383671686053276, 0.027485912665724754, -0.0018847397295758128, 0.04815398529171944, -0.006126521620899439, -0.0004909262643195689, -0.04455435276031494, -0.058261554688215256, -0.019178157672286034, -0.046103864908218384, 0.015483174473047256, -0.004416101612150669, -0.06569919735193253, 0.00022609427105635405, -0.03821328654885292, 0.009577159769833088, 0.04267110303044319, -0.02028665319085121, -0.011549804359674454, -0.004144937731325626, -0.008093207143247128, -0.05406595766544342, 0.007521080318838358, 0.034232236444950104, -0.022324854508042336, -0.021359391510486603, 0.016901571303606033, 0.01272981520742178, 0.015459336340427399, 0.05225422605872154, 0.010036053135991096, -0.02584104798734188, -0.01634136401116848, -0.007389967795461416, 0.045507900416851044, -0.0231592059135437, -0.017199553549289703, 0.035686392337083817, 0.011078991927206516, 0.02277778834104538, -0.009386450983583927, 0.02207454852759838, -0.033231016248464584, -0.0023421430960297585, -0.0008254117565229535, 0.0020367109682410955, -0.011061113327741623, 0.025531146675348282, -0.03318333998322487, 0.00022795666882302612, -0.025411954149603844, -0.014422356151044369, -0.02891622856259346, 0.007169460877776146, 0.0102029237896204, 0.03475668653845787, 0.012288801372051239, 0.03432759270071983, 0.009255338460206985, 0.0003722919791471213, -0.033040307462215424, -0.0024956041015684605, -0.0004831042606383562, 0.009183823131024837, 0.005706366151571274, -0.011913343332707882, 0.008319673128426075, -0.04050179198384285, -0.008385229855775833, 0.012455672025680542, 0.026293981820344925, 0.0031556354369968176, 0.006138441152870655, 0.006299351807683706, -0.015495093539357185, -0.00802765041589737, -0.006227836012840271, 0.06803537905216217, -0.050251781940460205, -0.0038380154874175787, 0.014100535772740841, -0.022742029279470444, -0.007181379944086075, -0.0017506476724520326, 0.011919302865862846, -0.0003996691375505179, -0.006597334053367376, 0.04581779986619949, 0.06040702760219574, -0.055210210382938385, 0.02801036275923252, 0.029559871181845665, 0.06527010351419449, 0.017485616728663445, 0.016579750925302505, 0.026961462572216988, -0.011287580244243145, 0.006311270873993635, -0.007449564523994923, -0.004484637640416622, -0.0044667585752904415, -0.006132481154054403, 0.0018415322992950678, -0.07528232038021088, 0.03818944841623306, -0.01005393173545599, -0.04617537930607796, 0.04023956507444382, 0.001024315133690834, -0.017759760841727257, 0.03673529252409935, -0.019535737112164497, 0.0014183970633894205, 0.01566196419298649, -0.02882087416946888, 0.031109381467103958, 0.019643010571599007, 0.0036115488037467003, -0.00539944414049387, -0.0505378432571888, -0.01430316362529993, 0.0022527482360601425, -0.012646380811929703, -0.04712892323732376, -0.0041151391342282295, 0.014493872411549091, -0.001074227155186236, -0.012610622681677341, 0.05377989634871483, 0.027509750798344612, -0.0014139272971078753, -0.008552099578082561, -0.003101998707279563, -0.03120473586022854, 0.00497332913801074, -0.007151581812649965, -0.004267110489308834, -0.01431508269160986, -0.027652783319354057, 0.010042012669146061, 0.010965758934617043, -0.03349324315786362, 0.03656842187047005, 0.039762794971466064, -0.03811793029308319, -0.036401551216840744, 0.0027190910186618567, 0.01901128888130188, 0.011740513145923615, 0.034422945231199265, -0.01941654458642006, 0.00930897518992424, 0.003125837305560708, 0.0018057744018733501, 0.03733125701546669, -0.0020828982815146446, 0.006788042839616537, 0.050347134470939636, 0.002063529333099723, -0.004970349371433258, 0.002175272675231099, 0.028892390429973602, 0.02743823453783989, -0.016472477465867996, -0.012503349222242832, 0.03716438636183739, 0.047987114638090134, 0.030322706326842308, 0.0008961826097220182, 0.01045322883874178, -0.005029945634305477, -0.0006738131050951779, 0.00016407665680162609, 0.012264962308108807, 0.014613065868616104, 0.001735748490318656, -0.012264962308108807, 0.02715217135846615, -0.00787269975990057, 0.00930897518992424, -0.024792149662971497, -0.026198627427220345, 0.00535176694393158, -0.015554690733551979, -0.009142105467617512, -0.04128846526145935, 0.019082803279161453, -0.02157393842935562, 0.024506086483597755, -0.043910712003707886, 0.030656447634100914, 0.014839531853795052, -0.01801006682217121, 0.03118089586496353, 0.023695575073361397, 0.006227836012840271, 0.005888135638087988, 0.035495683550834656, -0.010018174536526203, 0.018439162522554398, -0.008683212101459503, 0.021550100296735764, -0.0037039234302937984, 0.0182126946747303, 0.0612175390124321, -0.027581267058849335, 0.016067219898104668, -0.07575909048318863, -0.01814117841422558, 0.008790485560894012, -0.035996295511722565, 0.017771679908037186, 0.009893021546304226, -0.0017536274390295148, 0.013397296890616417, 0.014851451851427555, -0.03902379795908928, 0.003957208711653948, -0.007902497425675392, 0.04157453030347824, 0.0234691072255373, 0.0032003328669816256, -0.01238415576517582, 0.02019129879772663, -0.039071474224328995, 0.00013325408508535475, -0.024792149662971497, -0.028868552297353745, -0.0034446786157786846, -0.02882087416946888, 0.018951691687107086, 0.006931074894964695, -0.01054858323186636, 0.019345028325915337, -0.016186414286494255, -0.02951219491660595, 0.005429242271929979, -0.02237253077328205, 0.04402990639209747, -0.022753950208425522, -0.012264962308108807, -0.007532999385148287, 0.015185192227363586, -0.005983490031212568, -0.018367646262049675, 0.024792149662971497, 0.004699185024946928, -0.03740277141332626, 0.01635328307747841, 0.005703386384993792, -0.04314787685871124, 0.0014489402528852224, 0.03973895683884621, 4.898088445770554e-05, 0.01603146269917488, -0.03368395194411278, 0.03377930447459221, 0.0005460530519485474, -0.0254357922822237, -0.04093088582158089, -0.02345718815922737, -0.027652783319354057, 0.014398518018424511, -0.003936349879950285, 0.0023644918110221624, 0.003936349879950285, -0.026961462572216988, 0.013397296890616417, -0.02138322964310646, 0.0087130106985569, -0.017545213922858238, -0.040835533291101456, 0.007747546769678593, -0.04405374452471733, 0.03823712468147278, -0.006567535921931267, 0.006966832559555769, 0.009171904064714909, -0.010042012669146061, 0.04522183537483215, 0.014172051101922989, 0.019631091505289078, -0.008057449012994766, -0.005122320260852575, 0.027795813977718353, 0.0005397209315560758, 0.018057743087410927, -0.019726445898413658, 0.024529924616217613, -0.013683360069990158, 0.0030870994087308645, 0.007026429288089275, 0.03284959867596626, -0.006329149939119816, -0.02536427602171898, -0.036091648042201996, -0.008271995931863785, 0.017604811117053032, 0.01959533430635929, 0.024482248350977898, 0.0001584894780535251, 0.036401551216840744, -0.032921113073825836, -0.0074614835903048515, 0.0031377566047012806, 0.027366720139980316, 0.005161058157682419, 0.004022764973342419, 0.018653709441423416, 0.030179675668478012, 0.02219374291598797, -0.016663186252117157, -0.015709640458226204, 0.0026252265088260174, -0.020620394498109818, -0.030775640159845352, -0.030155835673213005, 0.030823318287730217, 0.000669715809635818, -0.02078726515173912, -0.04166988283395767, 0.026961462572216988, -0.05139603465795517, -0.011663038283586502, 0.024196185171604156, -0.022646674886345863, 0.009022912010550499, 0.0029351282864809036, -0.0324920192360878, 0.014124373905360699, -0.010030093602836132, -0.05892903357744217, 0.017116118222475052, -0.00019331619841977954, 0.005307069513946772, -0.047295793890953064, 0.01575731858611107, 0.03354091942310333, -0.0033672030549496412, -0.035209622234106064, 0.039262183010578156, -0.024005476385354996, -0.0041240788996219635, 0.01969068869948387, -0.040954723954200745, 0.006615213118493557, -0.0031109380070120096, -0.02524508349597454, 0.014481953345239162, 0.01450579147785902, 0.046294573694467545, -0.010477066971361637, 0.010679695755243301, 0.01262254174798727, -0.001846002065576613, -0.010518784634768963, -0.055400919169187546, 0.015149434097111225, 0.0055901529267430305, 0.04805862903594971, -0.0045561534352600574, -0.032730404287576675, 0.03168150782585144, -0.015876511111855507, 0.013671440072357655, 0.002170803025364876, 0.026174789294600487, -0.011496167629957199, -0.030680285766720772, -0.0021365350112318993, 0.006490060593932867, 0.009606958366930485, -0.020334331318736076, -0.012705977074801922, -0.024208104237914085, 0.005256412550806999, 0.032134439796209335, 0.041240788996219635, -0.03432759270071983, -0.015304384753108025, 6.206418038345873e-05, 0.01654399186372757, 0.00907058920711279, -0.009702312760055065, -0.015685802325606346, -0.02127595618367195, 0.025388116016983986, -0.008230278268456459, -0.02218182198703289, -0.008784526027739048, -0.01880865916609764, -0.013158910907804966, 0.013158910907804966, 0.001954765757545829, -0.0257456935942173, 0.0008462705300189555, 0.0016597629291936755, 0.011078991927206516, 0.011710715480148792, -0.010494946502149105, -0.04593699425458908, 0.013802552595734596, -0.0052236346527934074, 0.004717064090073109, 0.005953691899776459, 0.032444342970848083, -0.04562709107995033, 0.012300720438361168, 0.020358169451355934, -0.006841680034995079, 0.01292052399367094, 0.015900349244475365, 0.05096694082021713, 0.029965126886963844, 0.030179675668478012, -0.02358829975128174, -0.04841620847582817, -0.02118060179054737, -0.0009058670257218182, -0.037688836455345154, 0.03592477738857269, -0.0430048443377018, 0.016389042139053345, 0.005032925866544247, 0.003623468102887273, -0.016675105318427086, -0.03366011008620262, 0.018057743087410927, -0.02228909730911255, -0.017652487382292747, 0.012264962308108807, 0.03830863907933235, 0.0018191835843026638, 0.00890371948480606, 0.02979825809597969, 0.03921450674533844, -0.0028710621409118176, -0.022515563294291496, 0.0477248877286911, -0.032730404287576675, -0.014779935590922832, 0.023933960124850273, -0.01971452683210373, 0.037784188985824585, 0.007115823682397604, 0.01615065522491932, 0.012396074831485748, 0.03740277141332626, -0.009273217990994453, 0.033922336995601654, 0.008498462848365307, 0.006829760503023863, -0.018987448886036873, -0.009326854720711708, -0.033111821860075, 0.05049016699194908, -0.03685448318719864, -0.006728446576744318, 0.004490597173571587, -0.027485912665724754, -0.01053666416555643, -0.018689466640353203, -0.006549656856805086, -0.009863222949206829, -0.01005393173545599, -0.003760540159419179, -0.02860632725059986, -0.008629575371742249, 0.006341069005429745, 0.009547362104058266, -0.04484041780233383, -0.02139514870941639, 0.015006402507424355, 0.030537255108356476, 0.0014839532086625695, 0.029154615476727486, -0.0284156184643507, 0.030036643147468567, -0.01257486455142498, -0.015673883259296417, -0.01673470064997673, 0.016377123072743416, -0.018737144768238068, 0.04200362414121628, -0.014899129047989845, -0.03890460357069969, 0.017294907942414284, -0.025721855461597443, -0.0284156184643507, -0.00296045676805079, -0.016472477465867996, 0.04925055801868439, -0.025102052837610245, 0.04622305557131767, 0.026365498080849648, -0.010715452954173088, -0.0008373310556635261, 0.038284800946712494, 0.0017223393078893423, 0.011704755946993828, -0.0004462288925424218, 0.06956104934215546, -0.008862001821398735, 0.00907058920711279, 0.01772400364279747, 0.0046693868935108185, 0.013003959320485592, -0.013933665119111538, -0.018796740099787712, 0.04476890340447426, -0.02662772312760353, 0.012002738192677498, 0.0317053459584713, 0.03435143083333969, -0.02655620686709881, 0.02801036275923252, -0.015232869423925877, 0.02910693734884262, -0.0064960201270878315, -0.011615361087024212, -0.05096694082021713, 0.028892390429973602, 0.04226584732532501, 0.07480554282665253, -0.002900860272347927, -0.03330253064632416, 0.015590447932481766, 0.03325485438108444, -0.012849008664488792, -0.00995857734233141, -0.03387466073036194, 0.015864592045545578, 0.019976751878857613, -0.01029827818274498, -0.003951248712837696, -0.00026892925961874425, -0.040954723954200745, 0.000310460600303486, 0.008146843872964382, -0.003975087311118841, 0.007860780693590641, -0.010935960337519646, -0.016818135976791382, 0.0005114125669933856, -0.0031466959044337273, 0.011025355197489262, -0.010727372951805592, 0.012741735205054283, -0.010965758934617043, 0.03692600131034851, 0.04636608809232712, -0.017843196168541908, 0.036973677575588226, -0.0016850914107635617, -0.027056816965341568, 0.0029813155997544527, 0.04531719163060188, -0.046389926224946976, 0.02612711302936077, 0.002303405199199915, -0.016114898025989532, -0.0015927169006317854, 0.0036830645985901356, 0.03001280501484871, -0.018451081588864326, -0.015590447932481766, 0.02593640238046646, 0.014076696708798409, 0.017116118222475052, 0.04650912061333656, 0.00601924816146493, 0.011919302865862846, -0.000583300890866667, 0.014696500264108181, 0.005682527553290129, 0.021311713382601738, 0.015578528866171837, -0.0216692928224802, -0.007902497425675392, 0.0009468396310694516, -0.003075180109590292, 0.039476729929447174, 0.017855115234851837, 0.02009594440460205, 0.006788042839616537, 0.022038791328668594, 0.0007136682397685945, -0.022360611706972122, -0.03168150782585144, 0.013075475580990314, 0.0287255197763443, 0.0334455631673336, -0.02655620686709881, 0.02199111320078373, -0.0010973208118230104, 0.01605530083179474, -0.014231647364795208, -0.0439583882689476, -0.02991745062172413, -0.018641790375113487, 0.015280546620488167, 0.004934591241180897, -0.024196185171604156, -0.0035221539437770844, 0.007580676581710577, -0.019654931500554085, 0.0011517025995999575, -0.0098513038828969, 0.026508530601859093, -0.05516253411769867, 0.023099608719348907, 0.003456597914919257, 0.0009043770842254162, 0.024482248350977898, -0.005435202270746231, -0.01420780923217535, -0.005250453017652035, -0.005593132693320513, 0.0073124924674630165, -0.0009617387549951673, 0.0182126946747303, -0.007264815270900726, -0.019488060846924782, -0.006436423398554325, -0.016615508124232292, -0.010089689865708351, -0.016520153731107712, 0.0096963532269001, 0.0023570421617478132, -0.026198627427220345, 0.009237459860742092, 0.006913195829838514, -0.003495335578918457, -0.013051636517047882, 0.013695279136300087, 0.013337699696421623, 0.008677252568304539, 0.007622394245117903, 0.0033374049235135317, -0.018057743087410927, 0.013027798384428024, 0.011126669123768806, -0.011031314730644226, 0.040764015167951584, 0.04152685031294823, -0.00826603639870882, -0.002246788702905178, -0.03630619868636131, 0.02615095116198063, -0.003671145299449563, 0.006817841436713934, -0.008659373968839645, 0.03306414559483528, -0.033612433820962906, 0.007628353778272867, -0.004359485115855932, -0.04760569706559181, -0.011162427254021168, -0.05001339688897133, -0.011823948472738266, -0.028081877157092094, -0.042837973684072495, -0.03137160465121269, 0.008611696772277355, -0.009332814253866673, 0.0072350166738033295, 0.024398813024163246, 0.014172051101922989, 0.029774418100714684, 0.011764352209866047, -0.001539079938083887, -0.004255190957337618, 0.06927499175071716, 0.018176937475800514, 0.02584104798734188, -0.018165018409490585, 0.009702312760055065, 0.007449564523994923, -0.033421725034713745, 0.008385229855775833, -3.505951099214144e-05, -0.006501979660242796, -0.02318304404616356, 0.024815989658236504, -0.00155993876978755, 0.002829344477504492, 0.012253043241798878, 0.0032211916986852884, 0.009034832008183002, 0.045984670519828796, 0.020739587023854256, -0.005119340494275093, 0.0011449980083853006, 0.03478052467107773, 0.002996214898303151, -0.011728594079613686, -0.02593640238046646, 0.0029783358331769705, 0.024529924616217613, -0.0022080508060753345, 0.04853540286421776, 0.039572086185216904, -0.03919066861271858, -0.00700259068980813, -0.004082361236214638, -0.02287314273416996, -0.013552247546613216, -0.02634165994822979, -0.01842724159359932, -0.007658152375370264, 0.004889893811196089, -0.003233110997825861, 0.017580971121788025, 0.025912564247846603, -0.015244788490235806, 0.0004521885421127081, 0.01574539951980114, 0.016520153731107712, 0.01406477764248848, -0.03289727494120598, -0.0003005899197887629, -0.014279324561357498, 0.016222171485424042, -0.011156467720866203, -0.021156763657927513, -0.02338567189872265, 0.0022140105720609426, -0.014040938578546047, 0.01780743896961212, 0.04731963202357292, -0.018832499161362648, -0.020417766645550728, -0.01642479933798313, 0.006531778257340193, 0.005831519141793251, -0.017771679908037186, 0.015673883259296417, -0.037474289536476135, 0.02199111320078373, -0.03079947829246521, -0.023516785353422165, 0.04274262115359306, -0.017986228689551353, 0.0012634460581466556, -0.008140884339809418, 0.02108524739742279, -0.01840340346097946, 0.018343808129429817, -0.009469886310398579, -0.03397001326084137, 0.03268272802233696, 0.02803420089185238, 0.015435497276484966, -0.016269847750663757, -0.036401551216840744, 0.009767868556082249, -0.041050080209970474, -0.004720043856650591, 0.009440087713301182, -0.0317053459584713, -0.008581898175179958, -0.0035042751114815474, 0.02703297883272171, -0.0059179337695240974, 6.532336556119844e-05, 0.014863370917737484, 0.030870994552969933, 0.028677843511104584, 0.01282516960054636, -0.019666850566864014, 0.004836257081478834, -0.0018057744018733501, 0.023922041058540344, 0.022396370768547058, 0.019476141780614853, 0.04424445331096649, -0.0007173930644057691, -0.015590447932481766, -0.03582942485809326, 0.0017074401257559657, -0.012551026418805122, 0.02781965397298336, 0.0028889409732073545, 0.02385052479803562, -0.011031314730644226, 0.01262254174798727, -0.017604811117053032, -0.012503349222242832, -0.013945584185421467, 0.009767868556082249, -0.01386214978992939, -0.03544800728559494, 0.024208104237914085, 0.008879880420863628, -0.009469886310398579, 0.0020843881648033857, -0.0029857854824513197, -0.014613065868616104, -0.01132929790765047, -0.038570865988731384, -0.034113045781850815, -0.007223097607493401, 0.023910121992230415, 0.01851067692041397, 0.029655225574970245, -0.03051341511309147, -0.015018321573734283, -0.03330253064632416, -0.016365202143788338, 0.006215916480869055, -0.013933665119111538, 0.0237790085375309, 0.01103727426379919, 0.030561093240976334, -0.02355254255235195, -0.029774418100714684, 0.0011911853216588497, -0.00911826640367508, -0.017092280089855194, -0.023635977879166603, 0.004755801986902952, -0.012586783617734909, -0.025864887982606888, -0.029249969869852066, 0.017962388694286346, -0.002394289942458272, 0.009815545752644539, -0.01703268475830555, -0.00162698479834944, -0.03439910709857941, -0.02228909730911255, 0.005307069513946772, 0.009547362104058266, -0.01040555164217949, -0.02376708947122097, -0.0006592864519916475, -0.007330371532589197, 0.05316008999943733, 0.0006794002838432789, 0.06407817453145981, 0.005786821711808443, 0.01301587838679552, -0.03516194224357605, -0.01960725337266922, 0.009124226868152618, 0.03404152765870094, 0.009988375939428806, 0.01227688230574131, -0.00907058920711279, -0.0018638810142874718, -0.023409511893987656, -0.019166238605976105, 0.002529872115701437, -0.0055305566638708115, 0.01793855056166649, 0.025173567235469818, -0.02199111320078373, -0.014827612787485123, 0.008176641538739204, -0.018272291868925095, -0.03358859568834305, -0.02584104798734188, 0.02387436293065548, 0.02524508349597454, -0.009452007710933685, -0.03284959867596626, 0.005533536430448294, 0.023230722174048424, 0.011943141929805279, 0.012092133052647114, 0.030918672680854797, 0.015197111293673515, 0.0019905236549675465, -0.014517711475491524, -0.0417652390897274, 0.006817841436713934, 0.0032420502975583076, 0.011448490433394909, -0.014768016524612904, -0.0031615952029824257, -0.005715305916965008, -0.010077770799398422, -0.019929073750972748, 0.010465147905051708, -0.0026505549903959036, -0.010828686878085136, 0.01753329485654831, -0.002829344477504492, 0.0067344061098992825, 0.012068293988704681, 0.039548248052597046, -0.018665628507733345, -0.022444047033786774, 0.0053279283456504345, -0.0019398665754124522, -0.01851067692041397, -0.005971570964902639, -0.0013588005676865578, 0.005822579376399517, -0.003942309413105249, -0.01929735206067562, -0.009434128180146217, 0.02989361248910427, -0.03716438636183739, -0.0062933918088674545, 0.009469886310398579, 0.007991892285645008, -0.007896537892520428, -0.040549468249082565, -0.0072350166738033295, 0.052540287375450134, -0.021812325343489647, -0.00235257251188159, 0.00725289573892951, -0.030870994552969933, 0.03458981588482857, -0.01053666416555643, -0.008409067988395691, 0.0008224319317378104, 0.005956671666353941, 0.0011323337676003575, 0.04062098637223244, 0.004097260534763336, 0.013087394647300243, -0.008540180511772633, -0.045388706028461456, -0.006519858725368977, -0.019774124026298523, 0.015149434097111225, -0.028081877157092094, 0.017104199156165123, -0.0027995463460683823, -0.033040307462215424, 0.0013588005676865578, -0.007705829571932554, -0.013194668106734753, 0.011275660246610641, 0.00717542041093111, 0.006817841436713934, -0.04901217296719551, -0.02168121188879013, 0.018165018409490585, 0.006567535921931267, -0.012610622681677341, 0.009952617809176445, 0.003653266467154026, 0.0138144725933671, 0.02189575880765915, -0.0006551891565322876, -0.015673883259296417, 0.01179414987564087, -0.009940698742866516, -0.02028665319085121, -0.01188950426876545, 0.004416101612150669, 0.015983784571290016, 0.015471255406737328, -0.007211178075522184, 0.008534220978617668, 0.013731037266552448, 0.010554542765021324, 0.006022227928042412, 0.02753358893096447, -0.00905867014080286, 0.029869772493839264, -0.03358859568834305, 0.051729775965213776, 0.03561487793922424, 0.010185044258832932, -0.013850229792296886, -0.0027339900843799114, -0.021657373756170273, -0.01880865916609764, -0.061837345361709595, 0.0056884875521063805, -0.02426770143210888, -0.006132481154054403, 0.014684581197798252, -0.020763425156474113, 0.012026576325297356, -0.025221245363354683, 0.024279620498418808, -0.007717748638242483, 0.0015040670987218618, -0.014100535772740841, -0.020060187205672264, 0.008319673128426075, 0.02681843191385269, 0.01241991389542818, -0.030966348946094513, 0.027271365746855736, 0.002225929871201515, 0.009928779676556587, -0.04000118002295494, 0.01560236793011427, -0.04028724506497383, 0.010214842855930328, 0.011424652300775051, -0.03335021063685417, 0.017485616728663445, 0.011078991927206516, 0.013993261381983757, -0.008373310789465904, 0.012801331467926502, -0.012849008664488792, 0.014779935590922832, 0.0032480100635439157, -0.013361538760364056, 0.005932833068072796, 0.035185784101486206, 0.01764056831598282, 0.00413301819935441, -0.020346250385046005, -0.023421430960297585, 0.01143657136708498, -0.04150301218032837, -0.010888283140957355, 0.030561093240976334, -0.035090427845716476, -0.01909472420811653, -0.018737144768238068, -0.013790633529424667, -0.008629575371742249, 0.03492355719208717, 0.0231592059135437, -0.045007288455963135, -0.00017441292584408075, 0.0023346934467554092, -0.005864297039806843, -0.022003034129738808, 0.010727372951805592, 0.00032405604724772274, -0.0009319405071437359, 0.026675399392843246, 0.030155835673213005, 0.021347472444176674, -0.03168150782585144, 0.011668997816741467, 0.016389042139053345, 0.025888726115226746, 0.009702312760055065, -0.0024732553865760565, -0.01048898696899414, 0.030847156420350075, 0.05201583728194237, -0.014577307738363743, 0.043433938175439835, -0.028582489117980003, 0.022908899933099747, -0.016472477465867996, 0.007771385367959738, -0.00885604228824377, 0.021657373756170273, -0.022396370768547058, 0.023945879191160202, 0.0017983248690143228, 0.016496315598487854, -0.008647453971207142, 0.008319673128426075, 0.018963610753417015, -0.02237253077328205]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:20.278420", "url_path": "/api/result/", "chunk_size": 4838}
updated_dt: 2025-03-15T11:17:20.279929
---
We define a dedicated async iterator for this so we can
    # pass the combined stream to the group_by_temporal function within `_stream_text_deltas` below.
    async def_stream_text_deltas_ungrouped() -> AsyncIterator[tuple[str, int]]:
      # yields tuples of (text_content, part_index)
      # we don't currently make use of the part_index, but in principle this may be useful
      # so we retain it here for now to make possible future refactors simpler
      msg = self._stream_response.get()
      for i, part in enumerate(msg.parts):
        if isinstance(part, _messages.TextPart) and part.content:
          yield part.content, i
      async for event in self._stream_response:
        if (
          isinstance(event, _messages.PartStartEvent)
          and isinstance(event.part, _messages.TextPart)
          and event.part.content
        ):
          yield event.part.content, event.index
        elif (
          isinstance(event, _messages.PartDeltaEvent)
          and isinstance(event.delta, _messages.TextPartDelta)
          and event.delta.content_delta
        ):
          yield event.delta.content_delta, event.index
    async def_stream_text_deltas() -> AsyncIterator[str]:
      async with _utils.group_by_temporal(_stream_text_deltas_ungrouped(), debounce_by) as group_iter:
        async for items in group_iter:
          # Note: we are currently just dropping the part index on the group here
          yield ''.join([content for content, _ in items])
    if delta:
      async for text in _stream_text_deltas():
        yield text
    else:
      # a quick benchmark shows it's faster to build up a string with concat when we're
      # yielding at each step
      deltas: list[str] = []
      async for text in _stream_text_deltas():
        deltas.append(text)
        yield ''.join(deltas)

```
  
---|---  
####  is_complete `class-attribute` `instance-attribute`
```
is_complete: bool[](https://docs.python.org/3/library/functions.html#bool) = field[](https://docs.python.org/3/library/dataclasses.html#dataclasses.field "dataclasses.field")(default=False, init=False)

```

Whether the stream has all been received.
This is set to `True` when one of [`stream`](https://ai.pydantic.dev/api/result/#pydantic_ai.result.StreamedRunResult.stream), [`stream_text`](https://ai.pydantic.dev/api/result/#pydantic_ai.result.StreamedRunResult.stream_text), [`stream_structured`](https://ai.pydantic.dev/api/result/#pydantic_ai.result.StreamedRunResult.stream_structured) or [`get_data`](https://ai.pydantic.dev/api/result/#pydantic_ai.result.StreamedRunResult.get_data) completes.
####  all_messages
```
all_messages(
  *, result_tool_return_content: str[](https://docs.python.org/3/library/stdtypes.html#str) | None = None
) -> list[](https://docs.python.org/3/library/stdtypes.html#list)[ModelMessage[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ModelMessage "pydantic_ai.messages.ModelMessage")]

```

Return the history of _messages.
Parameters:
Name | Type | Description | Default  
---|---|---|---  
`result_tool_return_content` |  `str[](https://docs.python.org/3/library/stdtypes.html#str) | None` |  The return content of the tool call to set in the last message. This provides a convenient way to modify the content of the result tool call if you want to continue the conversation and want to set the response to the result tool call. If `None`, the last message will not be modified. |  `None`  
Returns:
Type | Description  
---|---  
`list[](https://docs.python.org/3/library/stdtypes.html#list)[ModelMessage[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ModelMessage "pydantic_ai.messages.ModelMessage")]` |  List of messages.  
Source code in `pydantic_ai_slim/pydantic_ai/result.py`
```
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
```
| ```
defall_messages(self, *, result_tool_return_content: str | None = None) -> list[_messages.ModelMessage]:
"""Return the history of _messages.
  Args:
    result_tool_return_content: The return content of the tool call to set in the last message.
      This provides a convenient way to modify the content of the result tool call if you want to continue
      the conversation and want to set the response to the result tool call. If `None`, the last message will
      not be modified.
  Returns:
    List of messages.
  """
  # this is a method to be consistent with the other methods
  if result_tool_return_content is not None:
    raise NotImplementedError('Setting result tool return content is not supported for this result type.')
  return self._all_messages

```
  
---|---  
####  all_messages_json
```
all_messages_json(
  *, result_tool_return_content: str[](https://docs.python.org/3/library/stdtypes.html#str) | None = None
) -> bytes[](https://docs.python.org/3/library/stdtypes.html#bytes)