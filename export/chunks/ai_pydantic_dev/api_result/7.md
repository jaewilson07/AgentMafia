---
url: https://ai.pydantic.dev/api/result/
session_id: pydantic_ai_docs
chunk_number: 7
title: Defining new_messages_json Method
summary: The `new_messages_json` method returns new messages as JSON bytes, allowing optional modification of the last message's content based on the tool call result. If no content is specified, the existing last message remains unchanged.
embedding: [0.03660831227898598, 0.024018216878175735, -0.022460926324129105, -0.027216652408242226, 0.015896346420049667, 0.01983748935163021, -0.01607603393495083, -0.009571349248290062, -0.006858069449663162, 0.0033032535575330257, -0.003198435762897134, -0.021430717781186104, -0.00302623538300395, -0.029420817270874977, 0.004330466501414776, 0.03196040168404579, 0.01931040734052658, -0.0030936182010918856, 0.02212550863623619, 0.05845830217003822, 0.020113009959459305, -0.04187914356589317, 0.021083321422338486, -0.00492942426353693, 0.0010339512955397367, 0.004300518427044153, -0.032439567148685455, 0.05012080818414688, 0.0002792641753330827, -0.0451853945851326, -0.04290935397148132, -0.02115519717335701, -0.00032661930890753865, -0.06540621817111969, 0.0010234694927930832, -0.003791404189541936, -0.029301026836037636, 0.04101664572954178, -0.011140619404613972, -0.0031565087847411633, 0.035865604877471924, -0.04846768453717232, -0.0014696932630613446, -0.007211454678326845, 0.013177076354622841, 0.03339789807796478, -0.004495179746299982, 0.031505193561315536, 0.05845830217003822, 0.037422895431518555, -0.035841647535562515, 0.03438019007444382, 0.0013603833504021168, -0.014578638598322868, -0.023167695850133896, -0.03279894217848778, -0.022101551294326782, 0.012901555746793747, -0.014830200932919979, -0.048228099942207336, -0.0011260410537943244, -0.02544373646378517, -0.014650513418018818, -0.0017893870826810598, -0.020232802256941795, 0.02283228002488613, -0.030379150062799454, 0.005345700308680534, 0.002657876117154956, -0.010948952287435532, 0.025108320638537407, 0.03679998219013214, -0.05448122322559357, -0.01227863971143961, -0.05031247437000275, -0.034955188632011414, 0.0294926930218935, 0.014902075752615929, -0.008720829151570797, -0.04736559838056564, -0.0009358719107694924, 0.005693096201866865, -0.03699164837598801, 0.026162486523389816, -0.013680201023817062, -0.0008857091888785362, -0.04151976853609085, -0.0047796848230063915, 0.003351170103996992, -0.003090623300522566, -0.023047905415296555, 0.019813532009720802, -0.042741645127534866, 0.0032373680733144283, 0.048515599220991135, 0.014315096661448479, 0.0032014306634664536, -0.038980189710855484, -0.02951665036380291, 0.008678901940584183, 0.06775413453578949, -0.02740831859409809, -0.06430413573980331, 0.029157277196645737, 0.03330206498503685, -0.000593717151787132, 0.04774893447756767, -0.010823171585798264, -0.041064560413360596, -0.045784350484609604, -0.05639788880944252, -0.005738017614930868, 0.02781561017036438, -0.006911975331604481, -0.0031565087847411633, -0.015117700211703777, -0.05630205199122429, -0.002225128933787346, 0.003306248225271702, 0.017130199819803238, -0.0466468520462513, -0.003872263478115201, -0.00014206535706762224, 0.019058844074606895, 0.0015617830213159323, -0.00717551726847887, -0.006049476098269224, -0.05821872130036354, -0.06550204753875732, -0.020735926926136017, 0.0739353746175766, -0.006133330054581165, 0.02224530093371868, -0.039243727922439575, -0.02044842764735222, 0.007624735590070486, -0.05472080409526825, 0.037542689591646194, -0.020699989050626755, 0.012398431077599525, -0.0328708179295063, -0.021430717781186104, 0.02793540246784687, -0.0044382787309587, 0.009253901429474354, 0.019094781950116158, -0.01578853279352188, -0.02767186053097248, -0.04017810523509979, -0.011446087621152401, -0.005657158326357603, 0.038453105837106705, -0.0413760207593441, 0.034332275390625, -0.0187833234667778, 0.0141593674197793, 0.034787483513355255, 0.027576027438044548, 0.01757342740893364, -0.014183325693011284, -0.03497914969921112, 0.016531242057681084, -0.025539569556713104, 0.010721348226070404, -0.03665623068809509, -0.03397290036082268, -0.009152078069746494, -0.04058539494872093, -0.04492185264825821, -0.021143218502402306, -0.009331765584647655, 0.010907025076448917, -0.03591352328658104, 0.0442989356815815, 0.011188535951077938, -0.028127068653702736, -0.0836145430803299, -0.07067704945802689, -0.008032026700675488, -0.029205193743109703, -0.01633957400918007, 0.01957394741475582, -0.04935413971543312, -0.059464551508426666, 0.006205204874277115, -0.005318747367709875, 0.025515612214803696, 0.006205204874277115, 0.022460926324129105, 0.007361194118857384, -0.02417394518852234, 0.017010407522320747, 0.007145569194108248, 0.012769784778356552, -0.03921977058053017, -0.017441658303141594, 0.05534372106194496, 0.00558827817440033, 0.010595567524433136, 0.02315571717917919, 0.05064788833260536, 0.05155830457806587, 0.011955201625823975, -0.046047892421483994, 0.01854374073445797, -0.014075512997806072, -0.00824765209108591, 0.03438019007444382, -0.02690519392490387, -0.033230189234018326, 0.04358018562197685, -0.020172905176877975, 0.010164317674934864, -0.02218540571630001, -0.01351249311119318, -0.003566795028746128, -0.031026026234030724, -0.013045305386185646, -0.007439058739691973, -0.025946861132979393, 0.00302923028357327, 0.035697899758815765, 0.03294268995523453, 0.01208697259426117, 0.0036865866277366877, 0.025635402649641037, -0.0007681636488996446, -0.024724986404180527, -0.03133748471736908, 0.02297602966427803, 0.021370822563767433, -0.01836405321955681, -0.017453636974096298, -0.04410726949572563, 0.03656039759516716, -0.037398938089609146, -0.0021053373347967863, 0.014686450362205505, 0.04449060186743736, -0.02546769566833973, -0.020987488329410553, 0.004797653760761023, 0.018316136673092842, 0.0460718497633934, -0.021203113719820976, -0.005657158326357603, -0.0027432276401668787, -0.058170802891254425, 0.04437081143260002, 0.055295802652835846, 0.01872342824935913, -0.05275622382760048, -0.0003410317294765264, -0.019849468022584915, -0.02858227677643299, -0.033613525331020355, -0.026449985802173615, -0.009679161943495274, -0.029037484899163246, -0.025874987244606018, 0.050983306020498276, 0.01819634437561035, -0.055152054876089096, 0.036776021122932434, 0.02819894440472126, -0.026282276958227158, 0.0192145723849535, 0.008163797669112682, 0.051749974489212036, -0.02573123574256897, 0.02752811089158058, 0.011212494224309921, 0.014722388237714767, -0.018579678609967232, -0.03500310704112053, 0.027001027017831802, -0.0018343089614063501, -0.007720568682998419, 0.042238518595695496, -0.023958321660757065, 0.010811191983520985, -0.012793743051588535, -0.0016396475257351995, -0.0015513012185692787, -0.02848644368350506, -0.0035248680505901575, 0.027887485921382904, -0.025635402649641037, 0.05519996955990791, 0.013165097683668137, 0.007139579392969608, 0.003653643885627389, -0.0047796848230063915, -0.025132277980446815, 0.01904686540365219, -0.023527070879936218, 0.04611976817250252, 0.02323957160115242, -0.014147388748824596, 0.0061572883278131485, -0.002407811349257827, 0.003243357641622424, -0.01161978580057621, 0.035051021724939346, 0.030594775453209877, 0.04652705788612366, -0.03438019007444382, 0.0044382787309587, 0.027767693623900414, -0.01554895006120205, 0.009517443366348743, 0.0566374696791172, -0.06281871348619461, -0.010278119705617428, -0.0244973823428154, -0.019969260320067406, 0.06492704898118973, -0.01754947006702423, 0.04099268838763237, -0.023754674941301346, -0.03567393869161606, -0.007660672999918461, 0.0484197661280632, -0.013500513508915901, -0.02198175899684429, -0.006516663357615471, -0.004072914365679026, -0.03354164958000183, -0.013105201534926891, 0.000236401247093454, -0.03826143965125084, -0.019166655838489532, -0.0016950512072071433, 0.008397391065955162, -9.967036021407694e-05, -0.037422895431518555, 0.023898424580693245, -0.03665623068809509, 0.022436967119574547, 0.08423745632171631, -0.015129679813981056, 0.016830720007419586, -0.028534360229969025, -0.033877067267894745, -0.022137489169836044, -0.01318905595690012, 0.036368731409311295, 0.0294926930218935, -0.014207283966243267, 0.012051035650074482, 0.023047905415296555, 0.021310925483703613, -0.00547148147597909, -0.004947393201291561, 0.016830720007419586, -0.040681228041648865, -0.0011410149745643139, 0.03131352365016937, 0.018004678189754486, -0.0022356107365339994, -0.0331583172082901, 0.0004814125131815672, -0.02690519392490387, 0.007001819089055061, 0.0010691400384530425, 0.023670820519328117, -0.04190310463309288, -0.03418852388858795, -0.031936440616846085, 0.002680337056517601, 0.04791664332151413, 0.015860408544540405, 0.025563528761267662, -0.004731768276542425, -0.040417686104774475, 0.013464576564729214, -0.007600777316838503, 0.0187833234667778, -0.008439318276941776, 0.0428374782204628, 0.016147907823324203, 0.00792421493679285, 0.0033391909673810005, -0.03670414909720421, -0.009493484161794186, 0.05318747088313103, -0.007546870969235897, 0.03212810680270195, 0.019645823165774345, 0.029348943382501602, -0.008241662755608559, -0.019885405898094177, -0.0203885305672884, 0.02115519717335701, 0.027719777077436447, 0.053714554756879807, -0.002512628911063075, 0.0046568987891077995, 0.049162473529577255, 0.00383333140052855, 0.029348943382501602, 0.023862486705183983, -0.0007374670822173357, 0.0017519522225484252, -0.0033332013990730047, 0.027911443263292313, 0.014123430475592613, -0.004728773608803749, 0.04425101727247238, 0.00035881329677067697, -0.0017998688854277134, -0.018292177468538284, 0.005857809446752071, -0.04611976817250252, -0.01816040650010109, -0.030139567330479622, 0.000812336802482605, 0.01572863757610321, 0.011823431588709354, 0.07120412588119507, -0.041711434721946716, -0.07791245728731155, -0.03524269163608551, -0.029205193743109703, 0.01178150437772274, 0.07896662503480911, 0.0352187305688858, -0.061429135501384735, 0.019585927948355675, -0.037015605717897415, -0.0018552724504843354, -0.01593228243291378, 0.06320205330848694, -0.028366651386022568, -0.0028031235560774803, 0.013356763869524002, -0.025252070277929306, -0.009415620006620884, -0.011571869254112244, -0.023167695850133896, 0.043268729001283646, -0.006055465433746576, -0.05318747088313103, 0.04897080734372139, -0.0437239371240139, 0.006923954468220472, -0.012164837680757046, 0.020029155537486076, 0.042502060532569885, -0.033493731170892715, 0.03385310620069504, 0.004632940050214529, -0.022664571180939674, -0.03325415030121803, -0.02432967536151409, -0.04789268225431442, 0.058985386043787, 0.009930724278092384, 0.05893746763467789, -0.035602062940597534, 0.02884581871330738, -0.04149581119418144, -0.028510401025414467, 0.017944782972335815, -0.031672898679971695, -0.04556872695684433, 0.022365093231201172, 0.015968220308423042, -0.009661193005740643, 0.04949789121747017, 0.03143331781029701, 0.02350311353802681, -0.018471864983439445, 0.027192693203687668, -0.008211714215576649, -0.029708318412303925, 0.07566037774085999, -0.00698983995243907, 0.012200774624943733, 0.005965621676295996, -0.013716138899326324, -0.04882705584168434, -0.04714997485280037, 0.008756766095757484, -0.03783018887042999, 0.06914371252059937, -0.008193745277822018, -0.04935413971543312, -0.027096860110759735, -0.04070518538355827, 0.023718737065792084, 0.03416456654667854, -0.009649213403463364, -0.01170962955802679, 0.008061975240707397, -0.045760393142700195, -0.06334579735994339, 0.012302597984671593, 0.04973747208714485, -0.021550510078668594, -0.005908720660954714, 0.01233853492885828, -0.005738017614930868, 0.018651552498340607, 0.06521455198526382, -0.016147907823324203, 0.014339054934680462, -0.01003254670649767, 0.005285804625600576, 0.06650830060243607, -0.0037165344692766666, -0.013009368441998959, 0.04801247641444206, 0.01061952579766512, 0.02534790337085724, 0.01728592813014984, -0.01625572144985199, -0.018639573827385902, -0.027863526716828346, 0.0004005531664006412, -0.012224732898175716, -0.008750776760280132, 0.021634364500641823, -0.007115621119737625, -0.013033326715230942, -0.01267395168542862, -0.008163797669112682, -0.03121769241988659, -0.0030471989884972572, 0.008529162034392357, 0.028917692601680756, 0.015764575451612473, 0.013201034627854824, 0.029684359207749367, -0.010260150767862797, -0.05088747292757034, -0.01187134813517332, -0.003330206498503685, 0.0011058262316510081, 0.0030067693442106247, -0.006780204828828573, 0.006708330009132624, -0.047605182975530624, -0.0018897125264629722, -0.0017190094804391265, 0.03397290036082268, 0.00460598710924387, -0.012697909958660603, 0.0032074202317744493, 0.015596866607666016, -0.005103122442960739, -0.03040310926735401, 0.056206218898296356, -0.036488521844148636, -0.0024946602061390877, 0.021838009357452393, -0.012434368021786213, -0.004111846908926964, -0.0003859535790979862, 0.009146088734269142, 0.011865358799695969, 0.0042855446226894855, 0.037279147654771805, 0.007696610409766436, -0.05088747292757034, 0.04554476961493492, 0.04868330806493759, 0.028917692601680756, -0.021778114140033722, 0.027839569374918938, 0.037039563059806824, -0.00922994315624237, 0.020903635770082474, -0.012290618382394314, -0.015045825392007828, -0.025180194526910782, -0.0031085920054465532, 0.01376405544579029, -0.06377705186605453, 0.016531242057681084, -0.018531760200858116, -0.04173539578914642, 0.03653644025325775, -0.007253381423652172, -0.02989998459815979, 0.04216664284467697, -0.008948433212935925, -0.007433068938553333, 0.009936713613569736, -0.0190708227455616, 0.010439838282763958, 0.016627075150609016, 0.00883463118225336, 0.0027522121090441942, -0.03119373321533203, -0.004585023503750563, 0.010877077467739582, -0.03632081300020218, -0.03979476913809776, -0.005531377159059048, 0.04494580999016762, -0.028270818293094635, -0.016064053401350975, 0.03533852472901344, 0.009774995036423206, 0.009080203250050545, 0.030858317390084267, -0.02625831961631775, -0.02364686317741871, 0.013368742540478706, -0.0007393388077616692, -0.018208323046565056, -0.0030696599278599024, -0.023670820519328117, 0.009182026609778404, 0.015524991787970066, -0.05141455680131912, 0.04290935397148132, 0.04729372635483742, -0.029804151505231857, -0.04623955860733986, 0.01807655394077301, 0.032271858304739, 0.03212810680270195, 0.03354164958000183, -0.00211581913754344, -0.006732288282364607, 0.006366923917084932, -0.009571349248290062, 0.03215206786990166, -0.024281758815050125, -0.00593567406758666, 0.039387479424476624, 0.013560409657657146, -0.01992134377360344, -0.007762495893985033, 0.02704894356429577, 0.01508176326751709, -0.025156237185001373, -0.011272390373051167, 0.03529060631990433, 0.03747081384062767, 0.03802185505628586, 0.003926169592887163, -0.013153118081390858, -0.005477471277117729, -0.023515092208981514, -0.013596346601843834, -0.0006738277734257281, -0.0020169911440461874, 0.0062950486317276955, 0.001029459061101079, 0.013296867720782757, 0.012314576655626297, 0.014973950572311878, -0.03320623189210892, -0.01939425989985466, 0.013308847323060036, -0.00589075218886137, 0.003986065741628408, -0.03342185914516449, 0.008840620517730713, -0.039746854454278946, 0.04964163899421692, -0.02901352569460869, 0.038836438208818436, 0.00881666224449873, 0.01854374073445797, 0.017393741756677628, 0.030355192720890045, 0.03313435614109039, -0.0143031170591712, 0.01980155147612095, -0.036081232130527496, 0.026210403069853783, -0.007624735590070486, 0.001323697273619473, -0.013955721631646156, 0.012482285499572754, 0.04585622623562813, -0.0019615874625742435, 0.04168747738003731, -0.05064788833260536, -0.015980200842022896, 0.014902075752615929, -0.047078099101781845, 0.023047905415296555, 0.016004158183932304, 0.0027746730484068394, 0.03679998219013214, -0.0029393865261226892, -0.05050414055585861, -0.012973430566489697, -0.005127080716192722, 0.037949979305267334, 0.014063534326851368, -0.009427599608898163, 0.01708228327333927, 0.007313277572393417, -0.03660831227898598, -0.02649790234863758, -0.029157277196645737, -0.006810152903199196, 0.013596346601843834, -0.020005198195576668, -0.002590493531897664, 0.0018732411554083228, -0.019945301115512848, 0.03826143965125084, -0.00022142729721963406, -0.036368731409311295, -0.015129679813981056, 0.00026298000011593103, 0.03900414705276489, -0.0355062298476696, -0.03267914801836014, 0.01423124223947525, 0.01766926236450672, 0.00394713319838047, -0.020017176866531372, 0.00394713319838047, -0.010811191983520985, -0.02145467698574066, -0.017238011583685875, 0.013560409657657146, -0.050599973648786545, -0.0010017573367804289, 0.02508436143398285, 0.0031505192164331675, 0.035578105598688126, -0.03416456654667854, 0.024281758815050125, 0.012290618382394314, -0.031121859326958656, -0.02649790234863758, -0.02886977605521679, -0.03823747858405113, -0.00965520367026329, -0.001945116207934916, 0.01326093077659607, -0.004752731882035732, -0.03186456486582756, 0.020256759598851204, -0.003219399368390441, 0.0023988268803805113, -0.014027596451342106, -0.04202289506793022, 0.029828108847141266, -0.03723122924566269, 0.007684631273150444, -0.017501553520560265, 0.007510933559387922, -0.009415620006620884, 0.012949472293257713, 0.04346039518713951, 0.00027888984186574817, 0.02311977930366993, -0.009882807731628418, -0.033637482672929764, 0.014398951083421707, -0.02491665445268154, 0.006307027768343687, -0.01690259575843811, 0.03953123092651367, -0.018939051777124405, 0.02107134275138378, -0.03370935842394829, 0.041064560413360596, 0.004027992486953735, -0.005417575128376484, -0.021251030266284943, -0.006396871525794268, 0.00530377309769392, 0.026426028460264206, 0.04921039193868637, -0.04022601991891861, -0.013452596962451935, 0.014914054423570633, -0.0043454403057694435, -0.005830856505781412, 0.008475256152451038, -0.0007127600256353617, -0.025874987244606018, 0.018376031890511513, 0.023395299911499023, 0.012973430566489697, -0.018388010561466217, -0.026569778099656105, 0.015513013117015362, -0.005812887568026781, -0.03591352328658104, -0.0021023426670581102, 0.035697899758815765, -0.006324996706098318, -0.00017229402146767825, -0.03737498074769974, 0.009822911582887173, -0.09612078219652176, 0.0028764959424734116, 0.011224472895264626, -0.0029363916255533695, 0.0017504547722637653, -0.015752596780657768, -0.03471560776233673, 0.020927593111991882, -0.018447907641530037, -0.03869268670678139, 0.00963723473250866, -0.004426299594342709, -0.012092962861061096, -0.03576977178454399, 0.029420817270874977, 0.01959790661931038, -0.002982810838147998, -0.04044164717197418, 0.02071196772158146, -0.02582707069814205, -0.027480194345116615, 0.0016022126656025648, -0.05213330686092377, 0.008433328941464424, -0.017705198377370834, -0.040273938328027725, 0.013344784267246723, -0.004462237469851971, 0.025156237185001373, 0.008589058183133602, -0.012626035138964653, 0.012128899805247784, -0.008469266816973686, -0.027384361252188683, -0.04674268513917923, 0.021143218502402306, 0.012302597984671593, 0.04729372635483742, -0.0014524732250720263, -0.007720568682998419, 0.0215624887496233, -0.017729157581925392, 0.005294789094477892, 0.007421089801937342, -0.0043634092435240746, -0.012757806107401848, -0.01868749037384987, -0.005576299037784338, 0.01087108813226223, 0.02391040325164795, 0.0020379547495394945, -0.017717178910970688, -0.03993852064013481, -0.0029573552310466766, 0.02898956835269928, 0.0660291314125061, -0.03107394278049469, -0.02678540349006653, -0.010930984281003475, 0.03143331781029701, 0.011799473315477371, -0.00020982247951906174, -0.013045305386185646, -0.0024811835028231144, 0.029876025393605232, -0.005714059341698885, -0.012518222443759441, -0.008541141636669636, -0.02370675839483738, -0.028893735259771347, -0.006480725947767496, 0.016387490555644035, -0.006564579904079437, 0.0035009095445275307, -0.0022041655611246824, -0.0366801880300045, -0.0010099929058924317, 0.01816040650010109, -0.002759699011221528, 0.023814570158720016, 0.03656039759516716, 0.00313255051150918, 0.011140619404613972, 0.021502593532204628, -0.03797393664717674, -0.007253381423652172, 0.022053634747862816, -0.01953801140189171, 0.020208843052387238, 0.025539569556713104, 0.050072889775037766, 0.014602596871554852, 0.018411969766020775, -0.013943742960691452, -0.050983306020498276, -0.014806242659687996, 0.0033391909673810005, -0.03536248207092285, 0.039099980145692825, -0.03720727190375328, 0.021670300513505936, 0.025946861132979393, 0.0016980459913611412, -0.013332805596292019, 0.009134110063314438, 0.022460926324129105, -0.03215206786990166, 0.00444426853209734, 0.004839580971747637, -0.0014996411046013236, 0.026402069255709648, -0.0016037101158872247, 0.034907273948192596, 0.025036444887518883, -0.01872342824935913, 0.006624475587159395, 0.050983306020498276, -0.05318747088313103, -0.026809360831975937, 0.023718737065792084, -0.004710804671049118, 0.03567393869161606, -0.012302597984671593, 0.005453512538224459, -0.0054295542649924755, 0.04997705668210983, -0.03210414946079254, -0.01866353116929531, -0.0043454403057694435, -0.0015857414109632373, -0.005714059341698885, 0.02391040325164795, -0.009020308032631874, 0.010344005189836025, -0.021203113719820976, -0.010613536462187767, 0.011326296254992485, -0.010643484070897102, -0.03174477443099022, -0.01154791098088026, -0.01079921331256628, -0.030091650784015656, 0.04233435168862343, -0.012733847834169865, -0.03459581360220909, 0.018711447715759277, 0.01751353219151497, -0.005381637718528509, -0.020604155957698822, 0.017238011583685875, 0.024748945608735085, -0.014267180114984512, -0.005049216095358133, 0.018879156559705734, -0.01625572144985199, 0.010403900407254696, -0.02901352569460869, -0.015776554122567177, 0.006630465388298035, -0.016004158183932304, 0.0036117169074714184, 0.04619164392352104, -0.004611976910382509, -0.02688123658299446, 0.005405595991760492, -0.019873427227139473, -0.01292551402002573, -0.003518878249451518, -0.02212550863623619, 0.016267700120806694, -0.050072889775037766, 0.031241649761795998, 0.05342705547809601, 0.030091650784015656, 0.014255200512707233, 0.01675884611904621, 0.020352592691779137, 0.012236712500452995, -0.005082158837467432, 0.06578955054283142, 0.006690361071377993, 0.042645812034606934, 0.015620824880897999, 0.01813644915819168, 0.016040096059441566, -0.007954162545502186, -0.027240611612796783, 0.03771039843559265, -0.034020815044641495, -0.01170962955802679, 0.023610925301909447, 0.03888435289263725, -0.026857277378439903, 0.02103540487587452, -0.017118219286203384, 0.018352074548602104, 0.02795935980975628, -0.002708787564188242, -0.03186456486582756, 0.02805519290268421, 0.011973170563578606, 0.06933537870645523, 0.020472384989261627, -0.007564839906990528, 0.015776554122567177, 0.02109530195593834, -1.4938855201762635e-05, 0.0012233717134222388, -0.03749477118253708, 0.008193745277822018, -0.03670414909720421, -0.017501553520560265, -0.010655462741851807, 0.0017220042645931244, -0.0428374782204628, 0.024868736043572426, -0.010499734431505203, -0.01965780183672905, -0.0030486963223665953, 0.008619005791842937, -0.009930724278092384, -0.0007913732551969588, -0.0299239419400692, 0.015441137365996838, -0.03905206173658371, -0.008163797669112682, -0.0024751939345151186, 0.028246860951185226, 0.03533852472901344, -0.020017176866531372, 0.025659361854195595, -0.00378541462123394, -0.01063749473541975, 0.023167695850133896, 0.04463435336947441, -0.030594775453209877, 0.002455727895721793, -0.007684631273150444, 0.007918224669992924, 0.015321345999836922, -0.002139777410775423, 0.0595603846013546, -0.030259359627962112, -0.04949789121747017, 0.014039576053619385, 0.014722388237714767, 0.015920303761959076, 0.019502073526382446, -0.004186716396361589, 0.010158328339457512, -0.014638533815741539, 0.017848949879407883, 0.009810931980609894, 0.01822030358016491, 0.015381242148578167, -0.04451455920934677, -0.0007771480013616383, -0.0020619130227714777, 0.0007191239856183529, 0.0390281043946743, 0.019789572805166245, 0.04060935229063034, -0.006786194164305925, 0.017944782972335815, 0.0011799472849816084, -0.007702600210905075, -0.030091650784015656, -0.0017714183777570724, 0.0148182213306427, 0.018148427829146385, -0.025922903791069984, 0.0017235017148777843, 0.011260410770773888, 0.02153852954506874, 0.0007348466315306723, -0.013021347112953663, -0.009924734011292458, -0.03028331696987152, 0.014279158785939217, 0.006420829799026251, -0.003818357363343239, -0.006882027722895145, -0.003032224951311946, -0.04099268838763237, 0.025252070277929306, -0.0710124596953392, 0.03251144289970398, -0.02913331799209118, 0.0027671861462295055, 0.03210414946079254, 0.003321222262457013, 0.03555414825677872, -0.0115898372605443, 0.005917705129832029, -0.020783843472599983, -9.307246364187449e-05, 0.02358696609735489, 0.01245832722634077, 0.03684789687395096, -0.006223173812031746, -0.03200831636786461, 0.015033846721053123, 0.00612434558570385, 0.007043746300041676, -0.018172387033700943, 0.01947811432182789, 0.007445048075169325, -0.041184354573488235, -0.0033691388089209795, -0.003306248225271702, -0.01977759413421154, -0.02224530093371868, -0.0013484042137861252, 0.007804423104971647, -0.0024587225634604692, -0.0018507803324609995, 0.008882547728717327, -0.004866533912718296, 0.003324216930195689, 0.017705198377370834, -0.03004373423755169, 0.02206561341881752, 0.0023494127672165632, 0.007696610409766436, 0.015105721540749073, -0.018184365704655647, 0.028103109449148178, 0.0006902991444803774, 0.0077684856951236725, 0.025539569556713104, 0.018567698076367378, -0.010248172096908092, 0.028893735259771347, 0.0007674149819649756, -0.028630193322896957, -0.027360402047634125, -0.041831228882074356, -0.006271090358495712, -0.012865617871284485, -0.035697899758815765, -0.01435103453695774, -0.010577598586678505, -0.00708567351102829, 0.004827601835131645, 0.022293217480182648, 0.0036656230222433805, 0.015980200842022896, 0.04592810198664665, 0.02224530093371868, 0.0161359291523695, 0.07110829651355743, 0.002247589873149991, 0.044059351086616516, 0.016591137275099754, 0.003938149195164442, -0.022520821541547775, -0.023574987426400185, 0.004312497563660145, -0.002779165282845497, -0.006283069495111704, -0.001212890027090907, 0.03682393953204155, 0.002157746348530054, 0.025779152289032936, 0.03747081384062767, -0.00432148203253746, 0.006307027768343687, 0.0369676873087883, 0.03346977382898331, 0.030618734657764435, -0.002948370762169361, 0.04925830662250519, 0.0011866855202242732, -0.013823950663208961, -0.02180207148194313, 0.02391040325164795, 0.010625515133142471, -0.00046344377915374935, 0.04921039193868637, 0.04056143760681152, -0.01161978580057621, -0.00626510102301836, -0.02403019554913044, -0.02103540487587452, -0.01704634539783001, -0.021263008937239647, -0.015357283875346184, -0.013344784267246723, -0.0027237616013735533, 0.01267395168542862, 0.011464056558907032, 0.0225926972925663, 0.0004683102888520807, 0.005378643050789833, 0.01904686540365219, 0.012973430566489697, 0.0034230451565235853, -0.008032026700675488, 0.00362369604408741, -0.022365093231201172, 0.023658841848373413, 0.007990100421011448, -0.012194785289466381, -0.016303637996315956, 0.011146608740091324, -0.018675511702895164, 0.012721868231892586, 0.03275102376937866, -0.002186196856200695, 0.004830596502870321, -0.011571869254112244, -0.003944138530641794, 0.004968356806784868, 0.012638013809919357, 0.006229163613170385, -0.04293331131339073, 0.001620181486941874, -0.028270818293094635, -0.03016352653503418, 0.034907273948192596, -0.003485935740172863, 0.01344061829149723, -0.025276027619838715, -0.024868736043572426, 0.0023494127672165632, -0.0008737299940548837, -0.0008295568404719234, -0.01227863971143961, 0.021263008937239647, 0.04024997726082802, 0.011290358379483223, -0.018939051777124405, -0.030522901564836502, -0.001274283160455525, -0.017142178490757942, 0.0173098873347044, 0.01260207686573267, -0.029468733817338943, -0.0011447585420683026, 0.010990879498422146, 0.008660933002829552, -0.01728592813014984, 0.01605207473039627, 0.01358436793088913, 0.031936440616846085, 0.0005454261554405093, 0.0028255844954401255, -0.013213014230132103, 0.0027926417533308268, -0.009367703460156918, 0.022556759417057037, 0.024401549249887466, 0.014434888027608395, 0.023718737065792084, 0.007546870969235897, 0.011074733920395374, -0.018411969766020775, -0.012745826505124569, 0.0028225895948708057, 0.06947913020849228, 0.007019788026809692, 0.00015310864546336234, 0.01110468152910471, -0.013045305386185646, -0.005390622187405825, -0.009912755340337753, -0.005672132596373558, 0.019154677167534828, -0.013081243261694908, -0.026809360831975937, 0.004093877971172333, 0.01708228327333927, 0.016507282853126526, -0.007582808379083872, -0.0027492172084748745, -0.011464056558907032, -0.0009950189851224422, 0.0045011695474386215, -0.011206504888832569, -0.006947913207113743, 0.04683851823210716, 0.005651168990880251, 0.0242098830640316, 0.010996868833899498, -0.026713527739048004, -0.016099991276860237, -0.010643484070897102, -0.009086193516850471, 0.010170307010412216, 0.0030202458146959543, 0.008355464786291122, 0.02975623495876789, -0.04528122767806053, -0.009217963553965092, 0.011823431588709354, 0.02443748712539673, -0.037949979305267334, -0.012985410168766975, 0.028534360229969025, 0.017405720427632332, -0.011044786311686039, -0.021849988028407097, 0.01514165848493576, -0.011086712591350079, 0.04374789446592331, -0.018471864983439445, -0.019226552918553352, -0.03799789771437645, -0.032319772988557816, -0.0019121734658256173, 0.019322386011481285, -0.016746865585446358, 0.006780204828828573, -0.013560409657657146, -0.005267835687845945, 0.05534372106194496, 0.007984110154211521, 0.034523941576480865, 0.03184060752391815, 0.01807655394077301, -0.024054154753684998, -0.014949992299079895, 0.004001039545983076, 0.040273938328027725, 0.012985410168766975, 0.029588526114821434, -0.007451037876307964, -0.0023404285311698914, -0.02532394416630268, 0.007678641937673092, -0.004369398579001427, -0.0020334625151008368, 0.03596143797039986, -0.002591990865767002, -0.019669780507683754, 0.004761716350913048, -0.00033784974948503077, -0.018579678609967232, -0.022137489169836044, -0.041831228882074356, 0.01014035940170288, -2.374775021962705e-06, -0.03488331660628319, 0.010361974127590656, -0.004659893456846476, 0.036344774067401886, 0.026473945006728172, -0.001891209976747632, 0.021370822563767433, 0.031529150903224945, -0.008445307612419128, -0.020053114742040634, -0.019789572805166245, 0.012817701324820518, 0.0019436187576502562, -0.004764711018651724, -0.029468733817338943, 0.008487234823405743, -0.0053666639141738415, -0.013500513508915901, 0.00014374993043020368, 0.005019268020987511, -0.0008991857175715268, 0.01060754619538784, 0.043029144406318665, 0.0025380845181643963, 0.016770824790000916, 0.016351554542779922, 0.0023733710404485464, -0.0079960897564888, -0.002972329268231988, 0.01795676164329052, 0.009942702949047089, -0.005052210763096809, 0.005462497007101774, -0.006816142238676548, -0.006444788072258234, -0.003704555332660675, -0.029732275754213333, 0.006378903053700924, -0.00698983995243907, -0.019094781950116158, 0.007510933559387922, 0.0006105628563091159, 0.005714059341698885, -0.022401029244065285, -0.012817701324820518, -0.03603331372141838, 0.06018330156803131, -0.0231796745210886, 0.022844258695840836, 0.03653644025325775, 0.0033032535575330257, 0.03838123008608818, 0.00815780833363533, 0.02613852731883526, -0.008517183363437653, 0.019298426806926727, -0.020604155957698822, 0.019226552918553352, 0.008696870878338814, 0.04858747497200966, -0.012901555746793747, -0.040393728762865067, 0.002139777410775423, 0.02332342602312565, 0.015513013117015362, -0.019382281228899956, 0.01079921331256628, -0.017765095457434654, -0.013224992901086807, 0.018088532611727715, -0.008145828731358051, -0.013955721631646156, -0.014339054934680462, -0.0019585927948355675, 0.006798173300921917, -0.03488331660628319, -0.025898944586515427, 0.04024997726082802, 0.03203227370977402, -0.0020319651812314987, 0.00013046053936704993, -0.025946861132979393, 0.010889057070016861, -0.0028914697468280792, -0.008283589035272598, -0.02611456997692585, 0.004800648428499699, -0.026210403069853783, -0.016327595338225365, -0.014506762847304344, -0.02012498863041401, -0.012542180716991425, 0.024305716156959534, 0.016651032492518425, -0.021897904574871063, 0.013272909447550774, 0.020340614020824432, -0.021634364500641823, 0.027743736281991005, -0.029324984177947044, 0.006396871525794268, -0.008271610364317894, 0.04906664043664932, 0.016303637996315956, 0.003761456348001957, -0.03828539699316025, -0.02901352569460869, -0.02807915210723877, -0.03562602400779724, -0.03553019091486931, 0.008966401219367981, -0.022041654214262962, -0.003617706475779414, 0.0022281238343566656, -0.006010543555021286, 0.0021038400009274483, -0.031553108245134354, 0.012170827016234398, 0.007720568682998419, -0.02028071880340576, -0.02188592590391636, -0.03658435493707657, 0.03993852064013481, 0.035865604877471924, 0.0008737299940548837, -0.04324476793408394, 0.02364686317741871, -0.012973430566489697, -0.008499214425683022, -0.0093916617333889, 0.003926169592887163, -0.03524269163608551, 0.023347383365035057, -0.01201509777456522, -0.036632273346185684, 0.0015827465103939176, 0.0018792308401316404, 0.02400623820722103, 0.003632680280134082, 0.020053114742040634, -0.016950512304902077, 0.02253280021250248, 0.02688123658299446, -0.017273949459195137, 0.02623436041176319, 0.013668222352862358, -0.016734886914491653, -0.0031744774896651506, -0.00789426639676094, -0.030882274731993675, -0.018256239593029022, -0.015776554122567177, -0.01128436904400587, 0.030882274731993675, -0.01781301200389862, -0.003626690711826086, -0.006043486297130585, -0.01925051026046276, -0.02637811191380024, 0.010583587922155857, 0.025803111493587494, -0.032727066427469254, 0.0009298823424614966, -0.013392701745033264, 0.009499474428594112, -0.0019436187576502562, -0.014985929243266582, 0.009134110063314438, -0.0025815090630203485, 0.040801018476486206, 0.023670820519328117, 0.02637811191380024, -0.04245414584875107, 0.006798173300921917, 0.018507802858948708, 0.04647914320230484, 0.014686450362205505, -0.01138619240373373, -0.01054765097796917, 0.006109371781349182, 0.014518742449581623, 0.01992134377360344, 0.03773435577750206, -0.02129894681274891, -0.009906766004860401, -0.001027961727231741, -0.0027432276401668787, -0.006516663357615471, 0.024581236764788628, 0.0039111957885324955, 0.009733067825436592, 0.0006506181671284139, 0.038572896271944046, 0.02329946681857109, -0.00960728619247675, -0.0072593712247908115, 0.0014255200512707233]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-14T10:14:32.155451", "url_path": "/api/result/", "chunk_size": 4442}
updated_dt: 2025-03-14T10:14:32.155451
---
```
defnew_messages_json(self, *, result_tool_return_content: str | None = None) -> bytes:
"""Return new messages from [`new_messages`][pydantic_ai.result.StreamedRunResult.new_messages] as JSON bytes.
  Args:
    result_tool_return_content: The return content of the tool call to set in the last message.
      This provides a convenient way to modify the content of the result tool call if you want to continue
      the conversation and want to set the response to the result tool call. If `None`, the last message will
      not be modified.
  Returns:
    JSON bytes representing the new messages.
  """
  return _messages.ModelMessagesTypeAdapter.dump_json(
    self.new_messages(result_tool_return_content=result_tool_return_content)
  )

```
  
---|---  
####  stream `async`
```
stream(
  *, debounce_by: float[](https://docs.python.org/3/library/functions.html#float) | None = 0.1
) -> AsyncIterator[](https://docs.python.org/3/library/collections.abc.html#collections.abc.AsyncIterator "collections.abc.AsyncIterator")[ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")]

```

Stream the response as an async iterable.
The pydantic validator for structured data will be called in [partial mode](https://docs.pydantic.dev/dev/concepts/experimental/#partial-validation) on each iteration.
Parameters:
Name | Type | Description | Default  
---|---|---|---  
`debounce_by` |  `float[](https://docs.python.org/3/library/functions.html#float) | None` |  by how much (if at all) to debounce/group the response chunks by. `None` means no debouncing. Debouncing is particularly important for long structured responses to reduce the overhead of performing validation as each token is received. |  `0.1`  
Returns:
Type | Description  
---|---  
`AsyncIterator[](https://docs.python.org/3/library/collections.abc.html#collections.abc.AsyncIterator "collections.abc.AsyncIterator")[ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")]` |  An async iterable of the response data.  
Source code in `pydantic_ai_slim/pydantic_ai/result.py`
```
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
```
| ```
async defstream(self, *, debounce_by: float | None = 0.1) -> AsyncIterator[ResultDataT]:
"""Stream the response as an async iterable.
  The pydantic validator for structured data will be called in
  [partial mode](https://docs.pydantic.dev/dev/concepts/experimental/#partial-validation)
  on each iteration.
  Args:
    debounce_by: by how much (if at all) to debounce/group the response chunks by. `None` means no debouncing.
      Debouncing is particularly important for long structured responses to reduce the overhead of
      performing validation as each token is received.
  Returns:
    An async iterable of the response data.
  """
  async for structured_message, is_last in self.stream_structured(debounce_by=debounce_by):
    result = await self.validate_structured_result(structured_message, allow_partial=not is_last)
    yield result

```
  
---|---  
####  stream_text `async`
```
stream_text(
  *, delta: bool[](https://docs.python.org/3/library/functions.html#bool) = False, debounce_by: float[](https://docs.python.org/3/library/functions.html#float) | None = 0.1
) -> AsyncIterator[](https://docs.python.org/3/library/collections.abc.html#collections.abc.AsyncIterator "collections.abc.AsyncIterator")[str[](https://docs.python.org/3/library/stdtypes.html#str)]

```

Stream the text result as an async iterable.
Note
Result validators will NOT be called on the text result if `delta=True`.
Parameters:
Name | Type | Description | Default  
---|---|---|---  
`delta` |  `bool[](https://docs.python.org/3/library/functions.html#bool)` |  if `True`, yield each chunk of text as it is received, if `False` (default), yield the full text up to the current point. |  `False`  
`debounce_by` |  `float[](https://docs.python.org/3/library/functions.html#float) | None` |  by how much (if at all) to debounce/group the response chunks by. `None` means no debouncing. Debouncing is particularly important for long structured responses to reduce the overhead of performing validation as each token is received. |  `0.1`  
Source code in `pydantic_ai_slim/pydantic_ai/result.py`
```
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
```
|