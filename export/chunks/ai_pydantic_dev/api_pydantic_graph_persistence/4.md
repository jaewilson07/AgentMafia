---
url: https://ai.pydantic.dev/api/pydantic_graph/persistence/
session_id: pydantic_ai_docs
chunk_number: 4
title: EndSnapshot Class Definition
summary: The EndSnapshot class defines a history step representing the end of a graph run, including attributes for state, result, timestamp, and a unique ID. It also includes a property to access the result directly.
embedding: [0.05134504288434982, 0.017409034073352814, 0.019776662811636925, -0.02718130499124527, 0.0008167737978510559, 0.005306853912770748, -0.03674466535449028, -0.0233048927038908, -0.029293600469827652, -0.002080379519611597, 0.030918443575501442, -0.03087201900780201, 0.0208792332559824, -0.03987829387187958, 0.0011722082272171974, 0.036326851695775986, -0.017072459682822227, 0.06954328715801239, 0.015784190967679024, 0.07358217984437943, 0.025393977761268616, -0.03210225701332092, 0.04168883338570595, -0.015250313095748425, -0.037278544157743454, -0.002562029520049691, -0.014832496643066406, 0.03959974646568298, 0.00601191958412528, -0.0061453888192772865, 0.023978041484951973, -0.01636449061334133, -0.007491687312722206, 0.011861355043947697, 0.008437578566372395, 0.013393349945545197, -0.016701066866517067, 0.027042031288146973, -0.02243444137275219, 0.003914130851626396, 0.01477446686476469, -0.054641153663396835, -0.016968004405498505, 0.023200439289212227, -0.007393036037683487, -0.024419071152806282, -0.027459848672151566, 0.06824341416358948, 0.028388330712914467, 0.013579046353697777, -0.02998996153473854, -0.012105081230401993, -0.0004653289506677538, 0.035514429211616516, -0.06745420396327972, -0.02998996153473854, -0.011704673059284687, -0.013439773581922054, 0.003975062631070614, -0.007335006259381771, 0.03342534601688385, -0.03381994739174843, 0.022701378911733627, 0.03282183036208153, 9.738178050611168e-05, 0.018360726535320282, -0.020101631060242653, 0.05037013813853264, -0.0020005879923701286, -0.00515307392925024, 0.04925595968961716, 0.06411166489124298, -0.04510100185871124, -0.023478982970118523, -0.00045698712347075343, -0.04185131564736366, 0.00933704525232315, 0.07478921115398407, 0.02062390185892582, -0.025231491774320602, -0.00011723896022886038, 0.03154516965150833, 0.02462797984480858, 0.049720197916030884, 0.027668757364153862, -0.037092845886945724, -0.030013173818588257, -0.04800250753760338, -0.029827477410435677, -0.05663738772273064, -0.019950753077864647, -0.02267816849052906, -0.027343789115548134, 0.06838268041610718, 0.04925595968961716, -0.0035021172370761633, 0.004082418512552977, -0.026276035234332085, -0.024790463969111443, 0.007021643687039614, 0.015145858749747276, -0.027900878340005875, -0.02268977276980877, 0.00553026981651783, 0.03488770127296448, 0.026508154347538948, -0.018592847511172295, 0.04735257104039192, -0.023769134655594826, -0.02280583418905735, -0.08212421089410782, -0.027575908228754997, -0.03785884380340576, 0.04855959862470627, -0.03922835364937782, -0.04294228181242943, -0.04479924589395523, 0.005248823668807745, 0.016155583783984184, 0.038903385400772095, -0.02162201888859272, -0.0044044856913387775, -0.04823463037610054, -0.014008468948304653, 0.014089711010456085, 0.002656328259035945, -0.01556367613375187, -0.0029348728712648153, -0.007909503765404224, -0.0061337826773524284, 0.002734669018536806, -0.028527602553367615, -0.024465495720505714, -0.05756587162613869, 0.014704830013215542, -0.008553638122975826, -0.06624717265367508, 0.011310068890452385, -0.04428857937455177, -0.0015276427147909999, 0.005930677521973848, -0.026090338826179504, -0.013161228969693184, 0.009905739687383175, 0.01012625452131033, 0.08569886535406113, -0.043151192367076874, 0.07799246907234192, 0.01794291101396084, 0.013230865821242332, 0.04925595968961716, 0.043197616934776306, -0.03386637195944786, -0.011199811473488808, 0.02481367625296116, -0.01600470393896103, 0.023386135697364807, 0.03245043754577637, -0.0034614962060004473, -0.03379673883318901, -0.023722710087895393, 0.051159344613552094, -0.019973963499069214, 0.007555520627647638, -0.011379704810678959, -0.0027114569675177336, -0.05180928483605385, -0.016039522364735603, -0.05148431658744812, -0.041967377066612244, -0.004102728795260191, -0.018732119351625443, -0.034841280430555344, 0.02618318609893322, 0.021401505917310715, 0.030593475326895714, -0.058262232691049576, 0.001645153621211648, -0.01711888238787651, -0.03716248273849487, -0.00016982875240501016, -0.018221454694867134, -0.1033400222659111, -0.007671580649912357, -0.0628582164645195, 0.0067953262478113174, 0.023328104987740517, 0.033843159675598145, 0.004340652376413345, 0.01837233267724514, -0.00849560834467411, 0.02455834299325943, -0.012708594091236591, 0.0049992939457297325, 0.011176599189639091, -0.008553638122975826, 0.02906147949397564, 0.014925344847142696, 0.039089083671569824, 0.013521015644073486, -0.01586543209850788, 0.031591594219207764, 0.026020701974630356, -0.002242863876745105, 0.012302383780479431, -0.048652444034814835, -0.030709534883499146, -0.006151191890239716, -0.015552069991827011, -0.042013801634311676, 0.02725093998014927, -0.018720513209700584, -0.01711888238787651, -0.0029493803158402443, -0.016387702897191048, 0.04303513094782829, -0.06378670036792755, -0.0025997490156441927, 0.016352886334061623, 0.03878732770681381, 0.017455456778407097, 0.021703261882066727, 0.008542031981050968, -0.00715511292219162, 0.03588582202792168, -0.002570733893662691, 0.004018585197627544, -0.0508808009326458, -0.024094102904200554, 0.057148054242134094, -0.0568695105612278, -0.00035180753911845386, 0.011269447393715382, -0.023978041484951973, -0.02718130499124527, -0.06169761344790459, -0.024581555277109146, -0.0023589241318404675, 0.053341276943683624, -0.034075282514095306, -0.013671894557774067, 0.05965495482087135, -0.010039209388196468, 0.01674748957157135, 0.010079829953610897, 0.012662170454859734, 0.00831571500748396, -0.058587200939655304, 0.03788205608725548, 0.03193977475166321, 0.01296392735093832, 0.014240588992834091, 0.00019965985848102719, 0.01118820533156395, 0.0022921895142644644, -0.0396229587495327, 0.008919227868318558, -0.009952164255082607, -0.012151505798101425, 0.020136449486017227, 0.01573776639997959, -0.013428167439997196, -0.03330928459763527, 0.000492167891934514, -0.0048832339234650135, -0.011489962227642536, 0.04022647440433502, -0.031104139983654022, -0.0004236198146827519, -0.05654454231262207, -0.0528770387172699, -0.0020731256809085608, 0.024604767560958862, -0.00554767856374383, -0.005077634938061237, 0.0053329672664403915, -0.023037955164909363, 0.015470827929675579, -0.03245043754577637, -0.003357041859999299, 0.020217690616846085, -0.0026287641376256943, 0.008901819586753845, 0.060212042182683945, -0.015343161299824715, 0.015436009503901005, -0.007422051392495632, 0.03525909408926964, 0.04150313511490822, -0.027715181931853294, 0.01993914693593979, -0.012824654579162598, 0.0037284346763044596, -0.0069984314031898975, 0.004633704200387001, -0.026136761531233788, 0.02224874496459961, 0.0018163424683734775, 0.04916311055421829, -0.022538894787430763, 0.02381555736064911, -0.03604830428957939, -0.029270388185977936, 0.004607590846717358, -0.0031800500582903624, 0.021134566515684128, 0.014043287374079227, -0.043081555515527725, 0.021262232214212418, 0.0061395857483148575, -0.010201693512499332, -0.0031597395427525043, -0.004984786733984947, -0.009389271959662437, -0.008135821670293808, 0.006087358575314283, 0.033703889697790146, -0.004204281605780125, -0.02219071425497532, -0.025904642418026924, 0.008756743744015694, -0.057333748787641525, 0.05779799073934555, 0.015772584825754166, 0.0023676285054534674, -0.021099748089909554, -0.04394039884209633, 0.034655582159757614, 0.03593224659562111, 0.0021282543893903494, 0.014368255622684956, -0.05329485610127449, -0.027158092707395554, 0.003751646727323532, 0.031893350183963776, -0.03224153071641922, -0.027459848672151566, 0.040203262120485306, 0.045774150639772415, 0.040458593517541885, -0.05993349850177765, -0.029781052842736244, -0.03068632259964943, -0.031034503132104874, 0.02718130499124527, 0.014878920279443264, -0.012035445310175419, 0.022771015763282776, -0.029757840558886528, -0.02836511842906475, 0.03319322317838669, 0.011803324334323406, 0.022388016805052757, 0.018314303830266, -0.00974325556308031, -0.007305990904569626, 0.00872192531824112, -0.05236637219786644, 0.004813597537577152, 0.028295481577515602, -0.025161856785416603, -0.00974905863404274, 0.024233374744653702, -0.03781241923570633, -0.033471766859292984, -0.003690715180709958, -0.05361982434988022, -0.008704517036676407, 0.006470357533544302, 0.01569134183228016, 0.044636763632297516, 0.03098808042705059, 0.04231555759906769, 0.008396957069635391, -0.006255646236240864, 0.044404640793800354, -0.03488770127296448, -0.0018206947715952992, 0.023165620863437653, 0.04723650962114334, 0.011176599189639091, 0.03544479236006737, 0.03444667533040047, -0.022968318313360214, 0.03080238401889801, 0.011600219644606113, -0.008431775495409966, 0.020658720284700394, -0.009348651394248009, 0.02212107926607132, 0.04096926003694534, -0.04122459143400192, -0.009795483201742172, 0.02511543221771717, 0.007253763731569052, 0.00027546167257241905, -0.0015319949015974998, -0.008396957069635391, 0.04609911888837814, 0.027761604636907578, -0.026136761531233788, -0.007921109907329082, 0.01794291101396084, -0.005541875492781401, 0.018766937777400017, -0.01253450382500887, 0.021204203367233276, 0.030825594440102577, 0.025417188182473183, -0.018604453653097153, 0.031266625970602036, 0.04199058935046196, -0.012882684357464314, -0.053526975214481354, 0.0035079203080385923, -0.025231491774320602, -0.006435539573431015, -0.0017800736241042614, 0.010915463790297508, 0.0002595034020487219, 0.0029914523474872112, -0.02611355111002922, -0.035653699189424515, -0.031521957367658615, -0.023537013679742813, 0.04094604775309563, 0.023954829201102257, -0.04301191866397858, 0.026043914258480072, -0.06833625584840775, 0.015702947974205017, 0.03275219351053238, 0.024511918425559998, 0.007224748842418194, 0.036210790276527405, 0.001849709777161479, -0.02255050092935562, 3.4840733860619366e-05, -0.010567283257842064, -0.05835508182644844, 0.017153700813651085, -0.031777288764715195, 0.05329485610127449, 0.012580928392708302, -0.04094604775309563, -0.020136449486017227, -0.0018816263182088733, -0.033100374042987823, -0.014751254580914974, -0.04059786722064018, 0.0223764106631279, 0.030663110315799713, -0.04454391449689865, -0.021320262923836708, -0.0607227087020874, -0.004430599045008421, 0.0667114183306694, -0.020844416692852974, 0.000958222197368741, -0.027042031288146973, -0.021030113101005554, 0.001901936950162053, 0.05180928483605385, 0.058262232691049576, -0.02836511842906475, -0.015238706953823566, 0.0030030582565814257, -0.04136386513710022, -0.015447615645825863, -0.001547953230328858, 0.028713298961520195, 0.007973337545990944, 0.023653073236346245, -0.0077005960047245026, 0.019474904984235764, 0.03660539537668228, 0.016701066866517067, 0.02344416454434395, 0.03400564566254616, 0.027900878340005875, 0.000601699692197144, -0.018325909972190857, 0.008263488300144672, 0.009638801217079163, -0.012557716108858585, 0.00011143594747409225, 0.03588582202792168, -0.0068765683099627495, -0.03423776477575302, 0.01800093986093998, 0.011733688414096832, 0.025393977761268616, 0.012395231984555721, -0.010369980707764626, -0.0010177030926570296, 0.03303074091672897, -0.02950250916182995, -0.013683500699698925, 0.011594416573643684, -0.009754861705005169, 0.010642722249031067, -0.00965040735900402, -0.001732198870740831, 0.0506022572517395, 0.018070576712489128, -0.06907904148101807, 0.020821204409003258, 0.011664052493870258, 0.030013173818588257, -0.008280896581709385, -0.023409346118569374, 0.00668506883084774, 0.0030320733785629272, -0.037092845886945724, 0.016132371500134468, 0.018035758286714554, -0.016608217731118202, 0.02331649884581566, -0.0036152759566903114, -0.014472709968686104, -0.036025092005729675, 0.002734669018536806, -0.0019585161935538054, -0.031104139983654022, -0.02674027532339096, -0.00032460593502037227, 0.03869447857141495, -0.036837514489889145, 0.01754830591380596, -0.02736700139939785, 0.0284347552806139, 0.005753685720264912, 0.001588574261404574, 0.04157277196645737, -0.046772271394729614, -0.002065872075036168, 0.04004077613353729, 0.027320576831698418, -0.02899184450507164, 0.0026186087634414434, 0.005698557011783123, 0.0014609080972149968, -0.003792267758399248, -0.0016799716977402568, -0.013346925377845764, -0.0008008155273273587, 0.0147164361551404, -0.02150595933198929, 0.02156399004161358, -0.0020977884996682405, -0.015714554116129875, -0.011675658635795116, 0.02548682503402233, -0.059515681117773056, 0.019532935693860054, 0.0039054264780133963, -0.04456712678074837, -0.011014115065336227, 0.012488080188632011, 0.0036355864722281694, 0.021331869065761566, -0.0024198556784540415, 0.04637766629457474, 0.023838769644498825, -0.014786072075366974, 0.05779799073934555, 0.03493412584066391, 0.007218945771455765, -0.0007464123191311955, -0.007114491891115904, 0.0011874411720782518, -0.006557402666658163, 0.016387702897191048, -0.02075156755745411, 0.005570890847593546, -0.001732198870740831, -0.0414799228310585, -0.003290307242423296, -0.02581179328262806, -0.005176285747438669, -0.02386198192834854, -0.036466121673583984, 0.017641153186559677, 0.023908406496047974, -0.01723494380712509, 0.017420640215277672, -0.035468004643917084, 0.037533875554800034, 0.006394918076694012, -0.023769134655594826, -0.009482120163738728, -0.001468887203373015, -0.011263644322752953, 0.005144369322806597, 0.016643036156892776, -0.010352571494877338, 0.02873651124536991, 0.0004018585314042866, -0.06104767695069313, 0.004285523667931557, 0.01231398992240429, -0.006290464196354151, -0.01623682491481304, 0.01699121668934822, 0.007189930882304907, -0.0030291718430817127, 0.0003305902937427163, -0.01231398992240429, -0.041271016001701355, 0.007584535516798496, 0.0020832810550928116, 0.0009603983489796519, -0.010457025840878487, -0.003374451072886586, -0.001687225536443293, -0.005280740093439817, -0.030848806723952293, 0.03509661182761192, 0.0832383930683136, -0.0407603494822979, 0.01233720127493143, 0.01393883302807808, 0.009209378622472286, 0.0018932323437184095, 0.005959692411124706, -0.0061105708591639996, -0.011147584766149521, 0.0035079203080385923, -0.012186323292553425, 0.00905850064009428, -0.010114648379385471, 0.023072771728038788, 0.02611355111002922, 0.0028637859504669905, -0.04342973604798317, 0.037765998393297195, 0.02467440254986286, 0.01606273464858532, 0.014020075090229511, 0.0034208751749247313, 0.009615589864552021, -0.005608610343188047, -0.019707025960087776, 0.021157778799533844, 0.012731806375086308, -0.004366765730082989, -0.024581555277109146, 0.04786323755979538, -0.016167189925909042, -0.018639272078871727, -0.029595356434583664, -0.016724277287721634, 0.019045483320951462, -0.02236480452120304, 0.003429579548537731, -0.034144919365644455, -0.01623682491481304, -0.03282183036208153, -0.008095200173556805, -0.000615844561252743, -0.011617627926170826, 0.005791405215859413, -0.018534816801548004, -0.015842219814658165, 0.007758625783026218, 0.005779799073934555, -0.0036965180188417435, -0.0011946948943659663, 0.024511918425559998, -0.003423776477575302, -0.0171769130975008, 0.023954829201102257, 0.05793726444244385, 0.00531265651807189, 0.015540463849902153, 0.034585945308208466, 0.0017031837487593293, -0.01944008655846119, 0.033959221094846725, 0.049720197916030884, -0.013079986907541752, 0.010729767382144928, -0.01643412746489048, 0.03553764149546623, 0.010143663734197617, -0.01462358795106411, -0.0404818058013916, 0.026345670223236084, 0.008849591948091984, 0.03268256038427353, -0.026020701974630356, 0.016329674050211906, -0.010758782736957073, 0.024720827117562294, -0.007445263210684061, 0.038137391209602356, -0.012105081230401993, 0.004311637487262487, 0.020821204409003258, -0.045518819242715836, 0.01059049554169178, -0.013625469990074635, -0.046470511704683304, -0.007166718598455191, -0.0029711418319493532, -0.014820890501141548, -0.012267565354704857, 0.017153700813651085, 0.024535130709409714, -0.028898995369672775, -0.0034585946705192327, 0.010503450408577919, -0.010515056550502777, 0.00023556598171126097, -0.013985256664454937, -0.007857277058064938, 0.008710320107638836, -3.708486838149838e-05, -0.03182371333241463, -0.012093475088477135, 0.006928795482963324, 0.007851473987102509, -0.022167501971125603, -0.02799372561275959, 0.0035804579965770245, -0.02011323720216751, 0.003565950319170952, 0.022074654698371887, -0.018465181812644005, -0.02917754091322422, -0.01623682491481304, -0.00668506883084774, 0.008008155040442944, 0.02349058911204338, -0.011733688414096832, 0.01606273464858532, -0.05793726444244385, 0.01818663626909256, -0.012801442295312881, 0.03737139329314232, -0.02706524357199669, 0.00677791703492403, -0.014147740788757801, -0.021946988999843597, -0.0023995451629161835, -0.02699560858309269, -0.039089083671569824, 0.02086762897670269, -0.019382057711482048, -0.010648525319993496, 0.010462828911840916, 0.007091279607266188, -0.006534190382808447, -0.0527377650141716, 0.05598745122551918, 0.01724654994904995, 0.02817942202091217, 0.00937766581773758, -0.036721453070640564, 0.04015683755278587, -0.01061950996518135, -0.017583124339580536, -0.02073996141552925, -0.01096188835799694, -0.01731618493795395, -0.02910790406167507, 0.012012233026325703, 0.02755269780755043, -0.01403168123215437, 0.011037327349185944, -0.028156209737062454, 0.013207653537392616, -0.029223963618278503, 0.04340652376413345, 0.03207904472947121, 0.023258468136191368, 0.05125219374895096, -0.0547340027987957, 0.015053010545670986, -0.015053010545670986, 0.014855708926916122, 0.016445733606815338, 0.024697614833712578, 0.024024466052651405, 0.026020701974630356, 0.010729767382144928, -0.012755018658936024, -0.013138017617166042, -0.04505457729101181, -0.008925030939280987, -0.0293632373213768, -0.03572333604097366, 0.014263801276683807, 0.016793914139270782, -0.026531366631388664, 0.00908751506358385, 0.005866844207048416, -0.11104641854763031, 0.033077165484428406, 0.04893099144101143, -0.03481806814670563, 0.022921893745660782, 0.01587703824043274, -0.03291467949748039, -0.014461103826761246, 0.03372710198163986, -0.06011919677257538, -0.033959221094846725, -0.012557716108858585, -0.01887139305472374, -0.027343789115548134, 0.03265934810042381, -0.004355160053819418, 0.02223713882267475, 0.0002720161573961377, -0.00025333769735880196, -0.029316812753677368, -0.01281304843723774, -0.007305990904569626, -0.015958281233906746, -0.019265996292233467, 0.025579672306776047, 0.0186740905046463, -0.002244314644485712, 0.0034876097925007343, 0.014600375667214394, -0.013335319235920906, 0.038207024335861206, -0.011722082272171974, -0.008565244264900684, 0.006812734995037317, -0.01299874484539032, 0.016468945890665054, 0.005713064689189196, 0.036210790276527405, 0.032775405794382095, 0.01337013766169548, 0.018581241369247437, -0.028898995369672775, 0.020356962457299232, -0.023641467094421387, 0.01699121668934822, -0.04800250753760338, -0.006621235515922308, 0.00405920622870326, -0.03488770127296448, 0.01663143001496792, 0.005910366773605347, -0.009969573467969894, 0.020473023876547813, -0.03572333604097366, 0.06842910498380661, 0.018650878220796585, -0.026601003482937813, -0.02142471633851528, -0.011727885343134403, -0.001169306691735983, -0.013323714025318623, 0.031034503132104874, 0.006000313442200422, -0.017710790038108826, 0.011194008402526379, -0.021447928622364998, 0.0293632373213768, -0.04096926003694534, 0.03911229595541954, -0.032148681581020355, 0.0017467063153162599, -0.020090024918317795, -0.023455770686268806, -0.019695419818162918, 0.009534347802400589, 0.050277289003133774, -0.011501568369567394, -0.03344855457544327, -0.022097866982221603, -0.03142910823225975, 0.002473533619195223, 0.02306116558611393, 0.045704517513513565, 0.01975345052778721, -0.01087484322488308, -0.0053271641954779625, 0.016724277287721634, 0.011257841251790524, 9.665640391176566e-05, 0.0016654642531648278, 0.017850061878561974, 0.03760351240634918, -0.010108845308423042, -0.02980426512658596, -0.03472521901130676, -0.032520074397325516, 0.028898995369672775, -0.03182371333241463, 0.012418444268405437, -0.004154955968260765, 0.002641820814460516, 0.018848180770874023, -0.0006209221901372075, 0.019521329551935196, -0.04723650962114334, 0.0077296108938753605, 0.007607747800648212, -0.01855802908539772, -0.0714002475142479, 0.03437703847885132, 0.013230865821242332, -0.0062150247395038605, 0.015308343805372715, 0.001272310153581202, -0.026020701974630356, -0.011594416573643684, 0.05519824102520943, -0.008275093510746956, 0.01174529455602169, -0.041201379150152206, -0.022318381816148758, 0.019532935693860054, 0.005451928824186325, 0.022654956206679344, -0.03446988761425018, 0.000526623276527971, 0.0073582180775702, -0.006423933431506157, -0.009957967326045036, -0.021888958290219307, 0.015122647397220135, 0.017327791079878807, -0.05306273326277733, 0.028040150180459023, -0.024210162460803986, -0.0069636134430766106, 0.027227727696299553, -0.019521329551935196, -0.014147740788757801, -0.012476474046707153, -0.008037170395255089, -0.026601003482937813, 9.098940063267946e-05, -0.017142094671726227, -0.016526976600289345, 0.005431618541479111, 0.0058262231759727, -0.021772898733615875, 0.01253450382500887, 0.010195890441536903, -0.029897114261984825, 0.05594102665781975, -0.010816812515258789, -0.001547953230328858, -0.006748902145773172, 0.05928356200456619, 0.023200439289212227, -0.00010844376811292022, -0.04157277196645737, 0.025208281353116035, -0.005887154955416918, 0.034910913556814194, -0.008530426770448685, 0.02136668749153614, 0.016445733606815338, 0.016770701855421066, -0.025510037317872047, -0.00291311158798635, -0.02356022596359253, 0.013718318194150925, -0.04517063871026039, -0.0027912482619285583, 0.03488770127296448, 0.006267251912504435, 0.039460476487874985, 0.027784816920757294, 0.04280301183462143, 0.017072459682822227, -0.013497804291546345, 0.031661227345466614, -0.010277132503688335, 0.017455456778407097, -0.014240588992834091, 0.002569283125922084, 0.06777916848659515, 0.020264115184545517, -0.014670012518763542, 0.02404767833650112, -0.016457339748740196, 0.025347553193569183, 0.06420451402664185, 0.059840649366378784, -0.005797208286821842, 0.0528770387172699, -0.008849591948091984, 0.012163111008703709, 0.0015160366892814636, -0.029757840558886528, -0.013497804291546345, 0.013474592007696629, 0.024395858868956566, 0.028759723529219627, -0.01993914693593979, -0.04990589618682861, 0.00934284832328558, 0.029711417853832245, -0.006249843165278435, 0.015772584825754166, 0.002647623885422945, 0.008344730362296104, 0.036141153424978256, -0.04006398841738701, 0.014333437196910381, -0.004627901595085859, -0.03936762735247612, -0.0373481810092926, 0.010840024799108505, -0.012221141718327999, -0.006516781635582447, -0.022341592237353325, -0.0018569636158645153, -0.0303613543510437, -0.0031539364717900753, -0.0041114334017038345, -0.04412609711289406, 0.02311919629573822, -0.0202409029006958, 0.03224153071641922, -0.0014471259200945497, 0.0054026031866669655, -0.019509723410010338, -0.025533249601721764, -0.022643350064754486, -0.023212045431137085, 0.03941405192017555, 0.008333124220371246, 0.03525909408926964, -0.014194165356457233, -0.032218318432569504, 0.028225846588611603, 0.016782307997345924, -0.023386135697364807, -0.01477446686476469, -0.02280583418905735, 0.008919227868318558, 0.008913424797356129, 0.006244040094316006, 0.035143036395311356, 0.020600689575076103, 0.022457653656601906, 0.006006116513162851, 0.0008182245655916631, 0.021320262923836708, -0.018732119351625443, 0.009923148900270462, -0.02718130499124527, -0.028040150180459023, -2.6566909582470544e-05, 0.0018975846469402313, 0.016759095713496208, 0.0106891468167305, 0.017699183896183968, 0.016596611589193344, -0.002345867222175002, -0.017142094671726227, -0.0007645467412658036, -0.02518506906926632, 0.04268695041537285, 0.016225218772888184, 0.016550187021493912, -0.02031053975224495, 0.025208281353116035, 0.028388330712914467, -0.0002546071191318333, -0.031196987256407738, 0.006806931924074888, -0.02887578308582306, -0.006423933431506157, 0.01955614797770977, -0.01518067717552185, -0.0011765605304390192, 0.02555646188557148, 0.024070890620350838, -0.011327478103339672, 0.0045959847047924995, 0.011321675032377243, -0.02418695017695427, -0.038207024335861206, -0.008890213444828987, -0.0052111041732132435, 0.03607151657342911, -0.018964240327477455, 0.0052575282752513885, -0.018476787954568863, 0.007218945771455765, 0.01824466697871685, 0.017269760370254517, 0.013335319235920906, 0.008222866803407669, -0.016213612630963326, -0.006940401159226894, -0.019823085516691208, -0.021343475207686424, 7.792129508743528e-06, -0.00013900025805924088, 0.02961856871843338, 0.002524309791624546, -0.0233048927038908, -0.03256649896502495, 0.01918475516140461, 0.019451692700386047, -0.014426285400986671, -0.021575596183538437, 0.021030113101005554, 0.01403168123215437, 0.04767753928899765, 0.007787641137838364, 0.0005037739174440503, -0.042594101279973984, -0.004886135458946228, -0.022829046472907066, 0.011977414600551128, 0.02994353696703911, 0.014832496643066406, -0.01974184438586235, -0.035769760608673096, -0.005167581606656313, -0.0038706085179001093, 0.00724796112626791, -0.0030523838941007853, -0.007282779086381197, 0.006087358575314283, -0.015656523406505585, 0.04401003569364548, -0.01346298586577177, 0.008344730362296104, -0.010190087370574474, -0.025463612750172615, -0.008135821670293808, -0.023084377869963646, -0.031196987256407738, -0.019765056669712067, -0.0343538261950016, 0.014728042297065258, 0.01527352537959814, -0.007433657068759203, -0.03713927045464516, 0.014043287374079227, 0.00030520212021656334, 0.020159659907221794, 0.06541154533624649, 0.020217690616846085, -0.003618177492171526, -0.0009495177073404193, -0.01606273464858532, -0.02011323720216751, -9.710976155474782e-05, 0.011234629899263382, -0.006232433952391148, -0.022283563390374184, -0.02073996141552925, 0.011594416573643684, -0.00783986784517765, 0.015099435113370419, -0.014170953072607517, -0.003914130851626396, -0.006696674972772598, 0.012696988880634308, 9.710976155474782e-05, -0.0001867844257503748, 0.0376267246901989, 0.05037013813853264, -0.010660131461918354, -0.01843036338686943, 0.019347239285707474, -0.0005204575718380511, -0.006673462688922882, 0.033518191426992416, 0.06262609362602234, 0.01606273464858532, 0.016387702897191048, -0.04619196802377701, 0.01986951008439064, 0.024976160377264023, -0.03888017311692238, 0.03198619931936264, 0.029572144150733948, 0.009963770397007465, 0.002556226449087262, 0.02831869386136532, 0.046470511704683304, 0.010416405275464058, 0.011008311994373798, -0.01231398992240429, 0.013439773581922054, -0.005509959068149328, 0.016851944848895073, -0.004572772886604071, 0.02368789166212082, -0.008855395019054413, -0.021146172657608986, 0.0011896173236891627, 0.007961731404066086, -0.006522584706544876, -0.010979297570884228, -0.004839711356908083, -0.01844196952879429, 0.02162201888859272, 0.016283249482512474, 0.005927775986492634, -0.029641781002283096, -0.00452925032004714, 0.0171769130975008, 0.011664052493870258, -0.003644291078671813, -0.020902445539832115, 0.009847709909081459, -0.0036355864722281694, -0.001298423740081489, 0.039715807884931564, -0.009516938589513302, 0.027134880423545837, -0.02455834299325943, 0.004102728795260191, -0.029757840558886528, 0.023722710087895393, 0.0006923717446625233, 0.012929108925163746, 0.03303074091672897, 0.03600187972187996, 0.042083438485860825, 0.0031104139052331448, -0.04210665076971054, 0.056219570338726044, -0.039715807884931564, -0.0015305442502722144, 0.04291906952857971, -0.01856963522732258, 0.0016495059244334698, 0.006516781635582447, 0.02267816849052906, -0.0021137467119842768, -0.007509096525609493, -0.0005476591759361327, 0.010578889399766922, 0.024767251685261726, 0.017583124339580536, -0.016341280192136765, -0.016410915181040764, -0.0037429421208798885, 0.026902759447693825, 0.02448870800435543, -0.005234315991401672, 0.051762860268354416, 0.034655582159757614, 0.0008755293092690408, -0.0021166482474654913, 0.0029145623557269573, -0.013358531519770622, -0.008478199131786823, -0.02599748969078064, 0.02381555736064911, -0.007485884241759777, -0.0045959847047924995, 0.013660288415849209, -0.035212673246860504, -0.02743663638830185, -0.041201379150152206, -0.009354453533887863, 0.001630646176636219, 0.019637389108538628, 0.0032583908177912235, 0.0012672325829043984, -0.026763487607240677, 0.01327728945761919, -0.04015683755278587, 0.011211417615413666, -0.04916311055421829, -0.011907778680324554, -0.013103199191391468, 0.011884567327797413, 0.00620341906324029, -0.012511292472481728, -0.012372019700706005, 0.013892408460378647, 0.0015363472048193216, 0.014867314137518406, -0.008542031981050968, -0.04681869223713875, 0.0067953262478113174, -0.02374592237174511, -0.0020774779841303825, -0.022945106029510498, -0.0417584665119648, 0.017281366512179375, 0.01490213256329298, 0.019010664895176888, 0.01099670585244894, 0.0073582180775702, 0.02674027532339096, -0.019416876137256622, -0.015041405335068703, 0.006331085227429867, 0.04159598425030708, 0.01805897057056427, -0.07789961993694305, 0.019985569640994072, 0.014739648438990116, 0.003603670047596097, -0.0038212828803807497, 0.017722396180033684, 0.021540777757763863, 0.013799560256302357, -0.0025634802877902985, -0.006354297045618296, 0.03142910823225975, -0.02492973580956459, 0.0010605002753436565, -0.008600062690675259, -0.012488080188632011, 0.02555646188557148, -0.020031994208693504, 0.0373481810092926, 0.0437547042965889, 0.010259723290801048, -0.0061860098503530025, 0.019207967445254326, -0.04210665076971054, -0.016735883429646492, -0.006226630881428719, -0.010747176595032215, -0.022457653656601906, 0.013521015644073486, 0.009174560196697712, -0.025765368714928627, -0.0018816263182088733, -0.02961856871843338, -0.029015054926276207, -0.009203575551509857, -0.03922835364937782, 0.013161228969693184, -0.017292972654104233, 0.0037342377472668886, -0.023537013679742813, -0.023978041484951973, 0.04519385099411011, -0.0023023446556180716, -0.0053329672664403915, -0.0007507645641453564, 0.008605865761637688, 0.005721768829971552, -0.02393161877989769, -0.024604767560958862, 0.012209535576403141, 0.02300313673913479, 0.024233374744653702, -0.010259723290801048, -0.0036791090387851, -0.017014428973197937, -0.021297050639986992, 0.004009880591183901, 0.039019446820020676, -0.0009415385429747403, -0.0061105708591639996, 0.01805897057056427, -0.007950125262141228, -0.01704924739897251, -0.00534457340836525, 0.03105771541595459, -0.021320262923836708, -0.03344855457544327, 0.0023835869506001472, 0.010648525319993496, 0.009139742702245712, -0.011739491485059261, -0.0344930998980999, 0.03087201900780201, -0.013567440211772919, -0.013521015644073486, -0.015041405335068703, 0.02317722700536251, -0.02367628552019596, -0.012197929434478283, -0.026229610666632652, 0.025951065123081207, -0.030755959451198578, -0.005324262659996748, -0.01240683812648058, 0.0069578103721141815, -0.04537954553961754, -0.03885696455836296, 0.022202320396900177, 0.014878920279443264, 0.005785602144896984, -0.02267816849052906, -0.0009654759778641164, 0.03918193280696869, 0.01787327416241169, -0.013497804291546345, 0.048327475786209106, 0.016828732565045357, 0.033146798610687256, 0.010242315009236336, -0.03774278610944748, -0.03481806814670563, -0.010323557071387768, 0.018198242411017418, -0.023908406496047974, 0.014704830013215542, 0.017826849594712257, 0.01421737764030695, 0.0015261919470503926, -0.004845514427870512, -0.012000626884400845, 0.004018585197627544, -0.02286386489868164, -0.014298619702458382, -0.003623980563133955, -0.034702006727457047, 0.01606273464858532, -0.010282935574650764, -0.003275799797847867, -0.005753685720264912, 0.010300344787538052, 0.006928795482963324, 0.04391719028353691, -0.015377979725599289, -0.0017684675985947251, 0.024256587028503418, -0.021215809509158134, 0.03323964774608612, -0.009731649421155453, 0.018882999196648598, 0.005007998552173376, 0.0293632373213768, -0.0036820105742663145, 0.004314539022743702, 0.032891467213630676, -0.007097082678228617, 0.009197772480547428, 0.03644290938973427, 0.016550187021493912, 0.04572772979736328, -0.02880614809691906, 0.009888331405818462, -0.014820890501141548, 0.007166718598455191, -0.02655457891523838, -0.005948086269199848, -0.002902956446632743, -0.029270388185977936, -0.04106210544705391, -0.007131900638341904, 0.00031880292226560414, 0.016132371500134468, -0.0020977884996682405, -0.012093475088477135, 0.009598180651664734, -0.015018193051218987, 0.0017815243918448687, 0.01612076535820961, 0.008507214486598969, -0.017826849594712257, -0.026229610666632652, 0.022573713213205338, -0.0030726944096386433, -0.0019788267090916634, -0.009424090385437012, 0.002293640049174428, 0.02799372561275959, 0.02411731518805027, -0.004247804172337055, 0.016828732565045357, 0.014321831986308098, 0.01686355099081993, 0.019718632102012634, -0.05018443986773491, 0.004697537515312433, 0.04342973604798317, -0.0013709614286199212, -0.02199341170489788, 0.0168171264231205, 0.016329674050211906, -0.02018287219107151, 0.00783986784517765, -0.010752979665994644, 0.005567989312112331, -0.005100846756249666, 0.0253707654774189, 0.019231179729104042, -0.010764585807919502, 0.0022196518257260323, 0.03741781413555145, -0.009772270917892456, 0.009708438068628311, 0.027831241488456726, -0.018581241369247437, 0.005385194439440966, 0.018708907067775726, -0.013927226886153221, 2.1466606995090842e-05, -0.005385194439440966, 0.024976160377264023, -0.004691734444350004, -0.014089711010456085, 0.013822772540152073, 0.0032206710893660784, 0.017536699771881104, -0.0027897977270185947, 0.010184284299612045, -0.021099748089909554, -0.02562609687447548, 0.008692910894751549, -0.009139742702245712, -0.05724090337753296, 0.007207340095192194, 0.04131744056940079, 0.0002662131446413696, 0.011083750985562801, -0.009162954986095428, 0.008263488300144672, 0.005095043685287237, 0.008930834010243416, -0.013683500699698925, 0.011896172538399696, -0.0193124208599329, 0.005666640587151051, -0.03655897080898285, -0.019532935693860054, -0.003296110313385725, 0.005675344727933407, -0.017780426889657974, -0.0025025485083460808, -0.022910287603735924, -0.024070890620350838, -0.014194165356457233, -0.011269447393715382, 0.004648211877793074, -0.02317722700536251]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:59.558745", "url_path": "/api/pydantic_graph/persistence/", "chunk_size": 3939}
updated_dt: 2025-03-15T11:17:59.558745
---
```
@dataclass
classEndSnapshot(Generic[StateT, RunEndT]):
"""History step describing the end of a graph run."""
  state: StateT
"""The state of the graph at the end of the run."""
  result: End[RunEndT]
"""The result of the graph run."""
  ts: datetime = field(default_factory=_utils.now_utc)
"""The timestamp when the graph run ended."""
  kind: Literal['end'] = 'end'
"""The kind of history step, can be used as a discriminator when deserializing history."""
  id: str = UNSET_SNAPSHOT_ID
"""Unique ID of the snapshot."""
  def__post_init__(self) -> None:
    if self.id == UNSET_SNAPSHOT_ID:
      self.id = self.node.get_snapshot_id()
  @property
  defnode(self) -> End[RunEndT]:
"""Shim to get the [`result`][pydantic_graph.persistence.EndSnapshot.result].
    Useful to allow `[snapshot.node for snapshot in persistence.history]`.
    """
    return self.result

```
  
---|---  
####  state `instance-attribute`
```
state: StateT

```

The state of the graph at the end of the run.
####  result `instance-attribute`
```
result: End[](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.End "pydantic_graph.nodes.End")[RunEndT]

```

The result of the graph run.
####  ts `class-attribute` `instance-attribute`
```
ts: datetime[](https://docs.python.org/3/library/datetime.html#datetime.datetime "datetime.datetime") = field[](https://docs.python.org/3/library/dataclasses.html#dataclasses.field "dataclasses.field")(default_factory=now_utc)

```

The timestamp when the graph run ended.
####  kind `class-attribute` `instance-attribute`
```
kind: Literal[](https://docs.python.org/3/library/typing.html#typing.Literal "typing.Literal")['end'] = 'end'

```

The kind of history step, can be used as a discriminator when deserializing history.
####  id `class-attribute` `instance-attribute`
```
id: str[](https://docs.python.org/3/library/stdtypes.html#str) = UNSET_SNAPSHOT_ID

```

Unique ID of the snapshot.
####  node `property`
```
node: End[](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.End "pydantic_graph.nodes.End")[RunEndT]

```

Shim to get the [`result`](https://ai.pydantic.dev/api/pydantic_graph/persistence/#pydantic_graph.persistence.EndSnapshot.result).
Useful to allow `[snapshot.node for snapshot in persistence.history]`.
###  Snapshot `module-attribute`
```
Snapshot = Union[](https://docs.python.org/3/library/typing.html#typing.Union "typing.Union")[
  NodeSnapshot[](https://ai.pydantic.dev/api/pydantic_graph/persistence/#pydantic_graph.persistence.NodeSnapshot "pydantic_graph.persistence.NodeSnapshot")[StateT, RunEndT],
  EndSnapshot[](https://ai.pydantic.dev/api/pydantic_graph/persistence/#pydantic_graph.persistence.EndSnapshot "pydantic_graph.persistence.EndSnapshot")[StateT, RunEndT],
]

```

A step in the history of a graph run.
[`Graph.run`](https://ai.pydantic.dev/api/pydantic_graph/graph/#pydantic_graph.graph.Graph.run) returns a list of these steps describing the execution of the graph, together with the run return value.
###  BaseStatePersistence
Bases: `ABC[](https://docs.python.org/3/library/abc.html#abc.ABC "abc.ABC")`, `Generic[](https://docs.python.org/3/library/typing.html#typing.Generic "typing.Generic")[StateT, RunEndT]`
Abstract base class for storing the state of a graph run.
Each instance of a `BaseStatePersistence` subclass should be used for a single graph run.
Source code in `pydantic_graph/pydantic_graph/persistence/__init__.py`
```
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
```
|