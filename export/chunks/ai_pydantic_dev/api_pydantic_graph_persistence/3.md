---
url: https://ai.pydantic.dev/api/pydantic_graph/persistence/
session_id: pydantic_ai_docs
chunk_number: 3
title: Pydantic Graph Persistence Module Overview
summary: The `pydantic_graph.persistence` module includes functionality for state persistence, such as loading from JSON and handling file states. It defines `SnapshotStatus`, a literal type denoting the various states of a snapshot including 'created', 'pending', 'running', 'success', and 'error'.
embedding: [0.029347816482186317, 0.03224608302116394, -0.0018028595950454473, -0.050845205783843994, 0.030899645760655403, 0.03272532671689987, 0.002063874853774905, -0.04066703841090202, -0.0201395396143198, 0.014194667339324951, 0.03032911941409111, -0.0100697698071599, 0.007742026820778847, -0.05750894173979759, -0.010035538114607334, 0.03886417672038078, -0.01309925876557827, 0.04705692082643509, 0.03336431458592415, 0.0529903806746006, 0.019523372873663902, -0.020595960319042206, 0.037951335310935974, -0.004675453994423151, -0.003719824366271496, -0.010218106210231781, 0.009607644751667976, 0.04637228697538376, 0.015198791399598122, -0.019888509064912796, 0.031492989510297775, -0.017480893060564995, 0.0021038115955889225, 0.03368380665779114, 0.008432362228631973, 0.02165713720023632, -0.0014434288023039699, 0.016898956149816513, -0.010058359242975712, 0.003611424472182989, 0.004818085581064224, -0.06125158444046974, -0.02749931439757347, 0.003217762103304267, -0.03877289220690727, -0.027750346809625626, -0.01012111734598875, 0.06056695431470871, 0.001677344087511301, 0.027385210618376732, -0.043588124215602875, -0.011353451758623123, -0.011319220066070557, 0.03815672546625137, -0.05787407606840134, -0.03623976185917854, -0.02164572663605213, 0.03888699784874916, -0.0074967010878026485, -0.0059049357660114765, 0.059608474373817444, -0.01168435625731945, -0.002292084973305464, 0.05308166518807411, -0.004244707524776459, 0.02861754409968853, -0.004552791360765696, 0.04856310412287712, -0.030808361247181892, -0.035623595118522644, 0.05746329948306084, 0.03722106292843819, -0.05997360870242119, -0.04039318487048149, 0.028754470869898796, -0.02640390582382679, 0.001037642708979547, 0.07284466177225113, 0.010526190511882305, 0.002212211489677429, 0.022239072248339653, 0.049019526690244675, -0.013293237425386906, 0.014377235434949398, 0.019808635115623474, -0.042378611862659454, -0.05057135596871376, -0.05472477898001671, -0.015073276124894619, -0.025262856855988503, -0.03162991628050804, -0.011302104219794273, -0.019591836258769035, 0.040963709354400635, 0.03032911941409111, -0.016796262934803963, 0.00296102580614388, -0.026472369208931923, -0.016499588266015053, -0.0015404180157929659, 0.009687517769634724, -0.023551279678940773, -0.030306298285722733, -0.021440336480736732, 0.03181248530745506, 0.04107781499624252, -0.008301141671836376, 0.022250482812523842, -0.02850343845784664, 0.011033957824110985, -0.08795216679573059, -0.027887271717190742, 0.0029695837292820215, 0.020276466384530067, -0.02298075519502163, -0.06494858860969543, -0.022239072248339653, 0.006144556682556868, 0.008500825613737106, 0.02923371084034443, -0.04324581101536751, -0.007764847949147224, -0.035737697035074234, -0.006909060291945934, 0.015050454996526241, -0.0005965554155409336, -0.015449822880327702, 0.014228899031877518, -0.026540832594037056, 0.009630465880036354, 0.03877289220690727, -0.023049218580126762, -0.024213090538978577, -0.06709376722574234, 0.024852078408002853, 0.005659610033035278, -0.061205945909023285, 0.019899919629096985, -0.04322298988699913, -0.0060304515063762665, -0.004783853888511658, -0.03062579222023487, 0.009031414054334164, 0.01922670006752014, 0.023003576323390007, 0.08904757350683212, -0.023711027577519417, 0.059791043400764465, -0.003351835533976555, 0.013601320795714855, 0.05490734428167343, 0.06517679989337921, -0.01792590133845806, -0.024441299960017204, -0.00043645178084261715, -0.016191504895687103, 0.010714462958276272, 0.03957162797451019, -0.03071707673370838, -0.01733255572617054, -0.02478361502289772, 0.04746769741177559, -0.0016459652688354254, -0.010554715991020203, -0.003012373112142086, 0.019409267231822014, -0.06084080785512924, -0.03831647336483002, -0.01944349892437458, -0.0542227141559124, 0.008746151812374592, -0.04929337650537491, -0.021919578313827515, 0.006948996800929308, 0.040963709354400635, 0.02530849725008011, -0.05682431161403656, 0.03201787546277046, -0.03523563593626022, -0.04002804681658745, -0.015643801540136337, -0.020789938047528267, -0.06476601958274841, 0.001200955593958497, -0.040552932769060135, -0.02164572663605213, -0.014137614518404007, 0.05691559612751007, -0.008272615261375904, 0.015792137011885643, -0.014000688679516315, 0.0375177375972271, 0.006481166463345289, 0.0014562655705958605, 0.01562098041176796, -0.010303685441613197, 0.030374761670827866, 0.02770470455288887, 0.029781416058540344, 0.02610723301768303, -0.009516360238194466, 0.016362663358449936, 0.004492885898798704, 0.007371185813099146, 0.031903769820928574, -0.028366513550281525, -0.030694255605340004, -0.012585786171257496, -0.02610723301768303, -0.032885074615478516, 0.013316058553755283, -0.01113665197044611, -0.026449548080563545, 0.0021266327239573, -0.02016236074268818, 0.032885074615478516, -0.06143415346741676, 0.009191161021590233, 0.024669509381055832, 0.034824859350919724, 0.001264426507987082, 0.03685592859983444, 0.009750275872647762, 0.016453946009278297, 0.007553753908723593, 0.0017600702121853828, 0.002102385275065899, -0.06207314133644104, -0.027134178206324577, 0.045482270419597626, -0.04094088822603226, -0.013875173404812813, -0.00906564574688673, -0.017800386995077133, -0.049430303275585175, -0.0373123474419117, -0.04091806709766388, -0.01591765321791172, 0.045984331518411636, -0.015164559707045555, -0.017355376854538918, 0.053355518728494644, -0.029188070446252823, 0.03829365223646164, 0.01863335259258747, 0.007878952659666538, 0.013795299455523491, -0.047924116253852844, 0.02873164974153042, 0.03845340013504028, 0.04224168509244919, 0.012368986383080482, 0.011798460967838764, 0.01641971617937088, -0.007131564896553755, -0.059791043400764465, 0.014069151133298874, 0.008335373364388943, -0.012836816720664501, 0.03868160769343376, 0.05130162835121155, -0.007878952659666538, -0.03135606646537781, 0.006823481526225805, -0.005060558672994375, -0.02339153364300728, 0.06869123131036758, -0.035121530294418335, -0.007490995805710554, -0.0529903806746006, -0.008757561445236206, -0.007416827604174614, 0.03062579222023487, -0.0010112558957189322, -0.013601320795714855, 0.009328086860477924, -0.02339153364300728, 0.007936005480587482, -0.014993402175605297, 0.005839325487613678, 0.03418587148189545, 0.00790747907012701, 0.002603021217510104, 0.08288589864969254, -0.02660929597914219, 0.021919578313827515, -0.020173771306872368, 0.029895521700382233, 0.046714603900909424, -0.047102559357881546, 0.013852352276444435, -0.019580425694584846, 0.005314442329108715, 0.006190198473632336, 0.01893002726137638, -0.028663186356425285, 0.017994364723563194, 0.008808908984065056, 0.051529835909605026, -0.029804237186908722, 0.02106378972530365, -0.059106409549713135, -0.022706903517246246, -0.0027242577634751797, 0.015598159283399582, 0.04260682314634323, -0.00901429820805788, -0.04865438863635063, 0.013487216085195541, -0.010646000504493713, -0.012232060544192791, -0.006589566357433796, -0.0016616546781733632, -0.018176933750510216, -0.009099877439439297, 0.026244159787893295, 0.037449274212121964, -0.019614657387137413, -0.005836472846567631, -0.004338844213634729, 0.025559529662132263, -0.058102287352085114, 0.06691119819879532, 0.027362389490008354, -0.00697752321138978, -0.009071351028978825, -0.048106685280799866, 0.03254275768995285, 0.03272532671689987, 0.003083688672631979, -0.0008001616224646568, -0.047513339668512344, -0.017378197982907295, 0.0075822798535227776, 0.040758319199085236, -0.0352584570646286, -0.014788012951612473, 0.023619743064045906, -0.008152805268764496, 0.051849331706762314, -0.05956283211708069, -0.007120154798030853, -0.03900110349059105, -0.027020074427127838, 0.002167995786294341, 0.016796262934803963, -0.008768972009420395, 0.0429491363465786, -0.04856310412287712, -0.033387135714292526, 0.015506874769926071, 0.018872974440455437, 0.016065990552306175, 0.008632046170532703, -0.028480619192123413, -0.002324890112504363, -0.013726836070418358, -0.03658207505941391, -0.0019440646283328533, 0.03286225348711014, -0.06134286895394325, -0.020789938047528267, 0.00392521359026432, -0.026426726952195168, -0.024760793894529343, -0.02255856618285179, -0.03589744493365288, -0.02498900331556797, 0.020675834268331528, 0.0033375725615769625, 0.03564641624689102, 0.024304373189806938, 0.034505363553762436, 0.0068120709620416164, -0.0007937431801110506, 0.034528184682130814, -0.04011933133006096, 0.004615548998117447, 0.012163597159087658, 0.044888924807310104, 0.0043131704442203045, 0.024258730933070183, 0.03811108320951462, 0.0038653083611279726, 0.009790212847292423, -0.0014298787573352456, 0.00627007195726037, 0.0010283716255798936, -0.008244088850915432, 0.03548666834831238, 0.03977701812982559, -0.02991834096610546, -0.007867543026804924, 0.0241902694106102, 0.009744570590555668, 0.015495464205741882, 0.0023149061016738415, -0.007148680742830038, 0.032588399946689606, 0.0004738924908451736, -0.004755327478051186, 0.010286569595336914, 0.011496082879602909, -0.009054235182702541, 0.0017586438916623592, -0.026175696402788162, 0.029804237186908722, 0.02991834096610546, 0.019991204142570496, -0.024829257279634476, 0.041876550763845444, 0.03665053844451904, -0.012334754690527916, -0.06266649067401886, -0.008911604061722755, -0.027453672140836716, 0.008700509555637836, -0.003135035978630185, -0.008654867298901081, 0.007314132992178202, -0.011347746476531029, -0.06353368610143661, -0.019124004989862442, -0.03153863176703453, -0.018770279362797737, 0.02076711691915989, 0.021794062107801437, -0.05563761666417122, 0.03808826208114624, -0.036924391984939575, 0.027795987203717232, 0.020036844536662102, 0.03103657066822052, 0.0005416423664428294, 0.054450925439596176, -0.028982680290937424, -0.014137614518404007, -0.00877467729151249, 0.0071543860249221325, -0.019991204142570496, 0.0037911399267613888, -0.03881853446364403, 0.028275229036808014, 0.02519439347088337, -0.017663460224866867, -0.02357410080730915, -0.007148680742830038, -0.06914765387773514, 0.021280590444803238, -0.04039318487048149, 0.018872974440455437, 0.048928242176771164, -0.04815232753753662, -0.01621432602405548, -0.017207039520144463, 0.0036456561647355556, 0.05440528318285942, -0.01239180751144886, 0.031470172107219696, -0.03879571333527565, -0.01491352915763855, 0.018576301634311676, 0.042675286531448364, 0.037837233394384384, -0.02359692193567753, -0.015027633868157864, 0.002778457710519433, -0.0233687125146389, 0.009145518764853477, 0.01693318784236908, 0.02510310895740986, -0.0008636325364932418, 0.02387077547609806, -0.00811857357621193, 0.02880011312663555, 0.028389334678649902, -0.021337643265724182, 0.024715151637792587, 0.048015400767326355, 0.016590872779488564, -0.025764917954802513, 0.018599120900034904, -0.0038995398208498955, -0.016180094331502914, -0.0027099947910755873, 0.006863418035209179, 0.053948864340782166, -0.00368844554759562, -0.014879297465085983, 0.007839016616344452, -0.018872974440455437, 0.02489772066473961, 0.04340555891394615, -0.010212400928139687, 0.017104346305131912, 0.01805141754448414, -0.05048007145524025, -0.03605719283223152, 0.013338879682123661, -0.039366237819194794, 0.010971199721097946, 0.003331867279484868, 0.01497058104723692, 0.047832831740379333, 0.0008201299933716655, -0.07827606052160263, 0.020481854677200317, 0.021314822137355804, 0.01621432602405548, 0.0001306859339820221, -0.02631262317299843, 0.0079188896343112, 0.013122079893946648, -0.03487050160765648, -0.003072278341278434, 0.012779764831066132, -0.016853313893079758, 0.02164572663605213, 0.0017415281618013978, -0.02247869223356247, -0.02528567798435688, 0.00015323951083701104, 0.01113665197044611, -0.022307535633444786, -0.026152875274419785, -0.014628265984356403, 0.04299477860331535, -0.040484469383955, 0.022923702374100685, -0.033387135714292526, 0.04073549807071686, 0.00017802169895730913, -0.0010248059406876564, 0.023357301950454712, -0.049430303275585175, 0.01652240939438343, 0.009687517769634724, -0.011958207935094833, -0.02359692193567753, 0.022718314081430435, 0.006441229488700628, 0.011159473098814487, -0.02165713720023632, 0.0014141893479973078, -0.018165523186326027, 0.004923632368445396, 0.014034920372068882, -0.02749931439757347, 0.007645037956535816, -0.0010504794772714376, -0.012426039204001427, -0.008398131467401981, 0.02368820644915104, -0.054177071899175644, 0.023916415870189667, 0.00521460035815835, -0.013304647989571095, -0.00831825751811266, 0.0019369330257177353, 0.03083118237555027, -0.0005017056246288121, -0.011981029063463211, 0.03256557881832123, 0.029576025903224945, -0.016385484486818314, 0.034299977123737335, 0.02893703803420067, 0.009139813482761383, -0.0005865712300874293, 0.0018313858890905976, -0.001022666459903121, 0.004738211631774902, 0.023014986887574196, -0.01630561053752899, -0.004375928547233343, -0.002722831442952156, -0.04427275434136391, -0.020732885226607323, -0.025331318378448486, 0.0035201404243707657, -0.01945490948855877, -0.03377509117126465, 0.007639332674443722, 0.040164973586797714, -0.01694459840655327, 0.043793514370918274, -0.025148751214146614, 0.02377949096262455, 0.014845065772533417, -0.018781689926981926, -0.007884657941758633, 0.0011396240442991257, 0.004818085581064224, -3.808701512753032e-05, 0.029051143676042557, -0.010554715991020203, 0.01405774150043726, 0.0015960442833602428, -0.07645037770271301, 0.034916143864393234, -0.01230052299797535, -0.0013628420419991016, -0.023254606872797012, 0.021634316071867943, -0.010839979164302349, 0.0032092041801661253, -0.007616511546075344, 0.006874828599393368, -0.03728952631354332, 0.019192468374967575, -0.02007107622921467, 0.009892906993627548, 0.0020153801888227463, -0.007667858619242907, -0.01562098041176796, 0.015666622668504715, -0.015301486477255821, 0.036719001829624176, 0.057372014969587326, -0.04532252252101898, 0.016659336164593697, 0.012346165254712105, 0.01002983283251524, -0.004732506815344095, 0.000273317244136706, -0.0041106343269348145, -0.02145174704492092, 0.0017272650729864836, -0.015118918381631374, 0.01214077603071928, -0.0026643527671694756, -0.004296054597944021, 0.028343692421913147, 0.020390570163726807, -0.03375227004289627, 0.03363816440105438, 0.016077401116490364, 0.008894488215446472, 0.008854551240801811, -0.0006521816249005497, 0.01476519275456667, 0.02950756438076496, -0.01976299285888672, 0.01622573658823967, 0.029165249317884445, -0.00022981468646321446, -0.019808635115623474, 0.04137448966503143, -0.01476519275456667, -0.03263404220342636, -0.0068976497277617455, -0.009704633615911007, 0.02720264159142971, -0.006281482521444559, -0.01590624265372753, -0.028891395777463913, -0.010366442613303661, -0.047513339668512344, -0.02487489953637123, 0.02802419848740101, -0.01905554160475731, 0.0033347199205309153, 0.002019659150391817, -0.00040970841655507684, -0.004698275122791529, -4.448313848115504e-05, -0.004330286290496588, -0.015198791399598122, 0.00034302828134968877, -0.0002503179421182722, -0.02339153364300728, 0.03274814784526825, 0.07425956428050995, -0.0033575408160686493, -0.003828224027529359, 0.006640913430601358, 0.00184422277379781, -0.020915454253554344, 0.02146315760910511, 0.04443250223994255, -0.01882733218371868, 0.00992143340408802, -0.008797498419880867, 0.02749931439757347, 0.027727525681257248, -0.01734396629035473, -0.02882293425500393, 0.011604482308030128, 0.024760793894529343, 0.019580425694584846, -0.016396895051002502, -0.0006311435136012733, -0.01875886879861355, -0.0050377375446259975, 0.0015446969773620367, 0.04361094534397125, -0.019500551745295525, 0.0029667310882359743, 0.02822958678007126, -0.022935112938284874, -0.001885585836134851, -0.029393458738923073, -0.0625295639038086, 0.00325199356302619, -0.016762031242251396, -0.007473880425095558, -0.0008878798689693213, 0.010491958819329739, 0.015506874769926071, -0.0402790792286396, -0.009641876444220543, 0.028047019615769386, -0.018473606556653976, 0.007513816934078932, -0.012517322786152363, -0.035304099321365356, -0.014160435646772385, 0.016807671636343002, -0.0373123474419117, -0.020413391292095184, 0.01885015331208706, 0.03699285537004471, -0.0015946179628372192, -0.013738246634602547, -0.0035914562176913023, -0.024098984897136688, 0.00579653587192297, 0.017378197982907295, -0.032793790102005005, -0.01230052299797535, -0.04078114032745361, -0.006549629382789135, -0.017914490774273872, 0.021223537623882294, -0.02387077547609806, 0.01022951677441597, -0.060612596571445465, 0.03555513173341751, -0.019808635115623474, 0.024829257279634476, -0.024509763345122337, -0.010503369383513927, -0.00292394170537591, -0.006464050617069006, -0.013612731359899044, -0.02508028782904148, -0.024737972766160965, 0.030694255605340004, 0.008711920119822025, -0.00871762540191412, -0.0009791639167815447, 0.006184493191540241, -0.005382905248552561, -0.05632224678993225, 0.04929337650537491, 0.011729998514056206, 0.020185181871056557, 0.01033221185207367, -0.021303411573171616, 0.06937586516141891, -0.027636241167783737, -0.03699285537004471, -0.023847954347729683, 0.0031378886196762323, -0.020413391292095184, -0.032679684460163116, 0.005054853390902281, 0.018313858658075333, -0.020230824127793312, -0.01008118037134409, -0.020116718485951424, 0.014012099243700504, -0.017070114612579346, 0.04103217273950577, 0.04021061584353447, 0.01944349892437458, 0.05075392127037048, -0.059791043400764465, 0.01254014391452074, -0.0006835605017840862, 0.006589566357433796, 0.014023509807884693, 0.04178526625037193, 0.007844721898436546, 0.022307535633444786, 0.004955011419951916, 0.006874828599393368, -0.028868574649095535, -0.059197694063186646, 0.005323000252246857, -0.045984331518411636, -0.030488867312669754, 0.026723399758338928, 0.005893525201827288, -0.0013521447544917464, -0.0034973195288330317, -0.005713809747248888, -0.10205554962158203, 0.014217488467693329, 0.027681883424520493, -0.04815232753753662, 0.0183480903506279, 0.013966456986963749, -0.009339497424662113, -0.021120842546224594, 0.02651801146566868, -0.07754578441381454, -0.017161397263407707, -0.01893002726137638, -0.001737249200232327, -0.01885015331208706, 0.03297635540366173, -0.0065838610753417015, 0.008900193497538567, -0.0158377792686224, -0.00042111892253160477, -0.018017185851931572, -0.013281826861202717, 0.005043442826718092, -0.047422055155038834, 0.003500172169879079, 0.02166854776442051, 0.012175007723271847, -0.009345202706754208, -0.006207314319908619, 0.01572367548942566, 0.017355376854538918, 0.02891421690583229, -0.021942399442195892, -0.025764917954802513, 0.03247429430484772, 0.002792720915749669, 0.0371069610118866, 0.008495120331645012, 0.020436212420463562, 0.029461922124028206, 0.0027385209687054157, 0.007034575566649437, -0.03133324533700943, 0.0035458141937851906, -0.004595580510795116, 0.023916415870189667, 0.000695684168022126, -0.02227330394089222, 0.032177623361349106, -0.042059119790792465, 0.013909404166042805, 0.017492303624749184, 0.01037785317748785, 0.014639676548540592, -0.05048007145524025, 0.05901512876152992, 0.017697691917419434, -0.040256258100271225, -0.037243884056806564, -4.392598202684894e-05, 0.01405774150043726, -0.00902570877224207, 0.046189721673727036, 0.006914765574038029, -0.011650124564766884, 0.01792590133845806, -0.010440611280500889, 0.0271113570779562, -0.023014986887574196, 0.030899645760655403, -0.02074429579079151, -0.005967693869024515, -0.01814270205795765, -0.022855238988995552, -0.01603175885975361, 0.004635517485439777, 0.04778718948364258, 0.001186692388728261, -0.05166676267981529, -0.02044762298464775, -0.03021501563489437, 0.02932499535381794, 0.018576301634311676, 0.0346422903239727, 0.011267872527241707, -0.014696729369461536, -0.012060903012752533, 0.0012751237954944372, 0.013772478327155113, 0.02498900331556797, 0.008574994280934334, 0.0006553908460773528, 0.028686007484793663, -0.007297017611563206, -0.032793790102005005, -0.04596151039004326, -0.04107781499624252, 0.018599120900034904, -0.037243884056806564, 0.02953038550913334, -0.003948034252971411, 0.004646927583962679, 0.00861493032425642, -0.011416208930313587, -0.005708104465156794, -0.047832831740379333, 0.00677783926948905, 0.012836816720664501, -0.011912566609680653, -0.04737641289830208, 0.05006929114460945, 0.03459664806723595, -0.00820985808968544, 0.013818120583891869, 0.012106545269489288, -0.020276466384530067, -0.012722712010145187, 0.04888259992003441, 0.0028027051594108343, 0.015666622668504715, -0.032702505588531494, -0.011393388733267784, 0.011958207935094833, 0.0079188896343112, 0.021702779456973076, -0.016294199973344803, 0.005097642540931702, 0.010640295222401619, -0.03247429430484772, -0.012129365466535091, 0.009698928333818913, 0.004458654671907425, 0.026723399758338928, -0.06065823882818222, 0.0348476804792881, -0.015598159283399582, -0.008392426185309887, 0.03322738781571388, -0.041762445122003555, -0.015404180623590946, -0.011307809501886368, -0.004929337650537491, -0.017982954159379005, 0.0033004882279783487, -0.009407960809767246, -0.021691368892788887, 0.012003850191831589, 0.010235222056508064, -0.030557330697774887, 0.02317473478615284, 0.0071943229995667934, -0.024441299960017204, 0.04691999405622482, 0.013624141924083233, 0.038133904337882996, 0.014228899031877518, 0.05933462083339691, 0.015198791399598122, 0.006561039946973324, -0.02640390582382679, 0.03580616042017937, -0.02519439347088337, 0.022239072248339653, -0.00968181248754263, 0.009944254532456398, 0.013076437637209892, 0.017994364723563194, -0.013749657198786736, -0.004204770550131798, -0.026152875274419785, -0.007987353019416332, -0.007023165468126535, 0.006064682733267546, 0.04452378675341606, 0.02145174704492092, 0.02560517191886902, 0.03968573361635208, 0.033204566687345505, 0.014571214094758034, -0.01002983283251524, -0.0010725873289629817, -0.02880011312663555, -0.017709102481603622, 0.004441538825631142, 0.021120842546224594, 0.07768271118402481, -0.0028911365661770105, -0.0075822798535227776, 0.02498900331556797, -0.008683393709361553, 0.021942399442195892, 0.04404454678297043, 0.017891669645905495, 0.008181331679224968, 0.057372014969587326, -0.019477730616927147, 0.013863762840628624, 0.02255856618285179, -0.028138302266597748, 0.002438995288684964, 0.008061520755290985, -0.006053272634744644, 0.02026505582034588, -0.031880948692560196, -0.059197694063186646, 0.015255844220519066, 0.04415865242481232, -0.006424113642424345, 0.03297635540366173, 0.01640830561518669, 0.013829531148076057, 0.011165178380906582, -0.025057466700673103, 0.009328086860477924, -0.004136307630687952, -0.0525796040892601, -0.02107520028948784, 0.0006343527347780764, -0.008198447525501251, 0.01945490948855877, -0.019306572154164314, -0.002836936619132757, -0.01611163094639778, -0.010703053325414658, 0.021006738767027855, -0.03665053844451904, 0.026951611042022705, 0.0001725838810671121, 0.045482270419597626, -0.0050377375446259975, -0.022398820146918297, -0.01915823668241501, -0.010138233192265034, -0.03968573361635208, -0.014936350286006927, 0.020584549754858017, 0.0077933743596076965, 0.03970855474472046, -0.015107507817447186, -0.01254014391452074, 0.026860326528549194, 0.018861563876271248, -0.005314442329108715, -0.012517322786152363, -0.03957162797451019, 0.0048665800131857395, 0.0053344108164310455, 0.028434976935386658, 0.029690131545066833, 0.03489332273602486, 0.027042895555496216, -0.004549938719719648, -0.004455802030861378, 0.02366538532078266, -0.0290055014193058, 0.014069151133298874, -0.00028989813290536404, -0.028571901842951775, 0.018861563876271248, 0.0009263902902603149, 0.011051073670387268, -0.003400330198928714, 0.010326506569981575, 0.010412084870040417, 0.0042989072389900684, -0.008592109195888042, -0.02510310895740986, -0.022535745054483414, 0.027088535949587822, 0.015449822880327702, 0.02841215580701828, -0.03131042420864105, 0.03448254242539406, 0.016065990552306175, 0.01411479339003563, -0.011729998514056206, -0.006652323994785547, -0.04728512838482857, 0.003095099236816168, -0.005100495181977749, -0.006332829594612122, -0.015244433656334877, -0.0055055683478713036, 0.02407616376876831, -0.016054579988121986, -0.02752213552594185, 0.0031378886196762323, -0.00702887075021863, -0.028845753520727158, 0.010862800292670727, -0.004079255275428295, 0.01671638898551464, -0.011729998514056206, 0.005311589688062668, -0.04434121772646904, 0.011119536124169827, 0.01269989088177681, -0.005069116596132517, 0.024350015446543694, 0.002892562886700034, -0.047011278569698334, -0.012186418287456036, -0.018017185851931572, -0.019181057810783386, 0.016887545585632324, -0.017047293484210968, 0.01804000698029995, -0.01521020196378231, -0.025513887405395508, -0.010007011704146862, 0.012505912221968174, -2.0503250198089518e-05, -0.002603021217510104, -0.026061590760946274, 0.017286913469433784, 0.02366538532078266, 0.07266209274530411, 0.003993676509708166, -0.013612731359899044, -0.026974432170391083, 0.0041962130926549435, -0.012768354266881943, 0.03331867232918739, 0.016864724457263947, 0.009744570590555668, 0.005516978912055492, 0.004729654174298048, -0.0038624557200819254, -0.018621942028403282, 0.011809871532022953, 0.00574233615770936, -0.0145027507096529, -0.003637098241597414, 0.0025673634372651577, 0.052351392805576324, 0.007011754903942347, 0.010223811492323875, 0.009134108200669289, -0.014491340145468712, -0.0025046055670827627, -0.015963295474648476, -0.005768009927123785, -0.021006738767027855, -0.019477730616927147, 0.028777291998267174, 0.027590598911046982, -0.009082761593163013, -0.029256531968712807, 0.018964257091283798, -0.008363899774849415, 0.027088535949587822, 0.06494858860969543, 0.010646000504493713, -0.010452021844685078, -0.0038710134103894234, -0.0054199895821511745, -0.017811797559261322, 0.018884385004639626, 0.009847264736890793, 0.017697691917419434, -0.01643112674355507, -0.0183480903506279, 0.02498900331556797, -0.007730616722255945, 0.017754744738340378, 0.009579118341207504, -0.011518904007971287, 0.006720786914229393, -0.002165143145248294, -0.01631702110171318, -0.011912566609680653, 0.05632224678993225, 0.03815672546625137, -0.0068291868083179, -0.02106378972530365, 0.000866485177539289, -0.01193538773804903, -0.006258661393076181, 0.008546467870473862, 0.040849603712558746, -0.002528853015974164, 2.897198214668606e-07, -0.0538119375705719, 0.011216525919735432, 0.010685937479138374, -0.02631262317299843, 0.03215480223298073, 0.02437283657491207, -0.010760105215013027, -0.005853588692843914, 0.028183944523334503, 0.033820733428001404, 0.008535057306289673, -0.01280258595943451, -0.01183269266039133, 0.003808255773037672, -0.004410159774124622, -0.007222848944365978, 0.003759761108085513, 0.017663460224866867, 0.022718314081430435, -0.023117681965231895, -0.003314751433208585, -0.0029809942934662104, -0.0028654627967625856, 0.01451416127383709, -0.006486871745437384, -0.01008118037134409, 0.041054993867874146, 0.009915728121995926, 0.0171157568693161, -0.044592250138521194, -0.013327469117939472, 0.019420677796006203, -0.007856132462620735, -0.004144865553826094, -0.014274540357291698, 0.007953121326863766, -0.02416744828224182, 0.015792137011885643, 0.03973137587308884, -0.009396550245583057, 0.024144627153873444, -0.013852352276444435, -0.0038624557200819254, -0.007394006475806236, 0.015803547576069832, -0.02205650508403778, 0.0013200526591390371, 0.013418752700090408, 0.039959587156772614, 0.03176684305071831, 0.01451416127383709, -0.05107341706752777, 0.05938026309013367, -0.028571901842951775, -0.021303411573171616, 0.021839704364538193, -0.012882458977401257, -0.002926794346421957, 0.014582624658942223, 0.024007700383663177, 0.004547086078673601, -0.011113830842077732, 0.007742026820778847, 0.01144473534077406, 0.03297635540366173, 0.014069151133298874, -0.040347542613744736, -0.021006738767027855, -0.018108470365405083, 0.019991204142570496, 0.012528733350336552, -0.0011132373474538326, 0.036422330886125565, 0.019774403423070908, -0.0024047638289630413, -0.002257853513583541, -0.004604138433933258, -0.026381084695458412, -0.008808908984065056, -0.021086610853672028, 0.024144627153873444, -0.019774403423070908, -0.005106200464069843, 0.009516360238194466, -0.029644489288330078, -0.015894832089543343, -0.03251993656158447, -0.014993402175605297, -0.0016359810251742601, 0.014730961062014103, -0.013681194745004177, -0.016271378844976425, -0.017047293484210968, 0.011016841977834702, -0.01955760456621647, 0.017594996839761734, -0.05089084804058075, -0.02247869223356247, -0.005103347823023796, -0.004276086576282978, 0.008403835818171501, -0.008095752447843552, -0.00831825751811266, 0.011752819642424583, 0.018405143171548843, -0.004316023085266352, 5.687423254130408e-05, -0.0461212582886219, 0.013179132714867592, -0.013236184604465961, 0.012973743490874767, -0.0072399647906422615, -0.019888509064912796, 0.004045023582875729, 0.006561039946973324, 0.030557330697774887, 0.0061160302720963955, 0.0014776602620258927, 0.012859637849032879, -0.013863762840628624, -0.008472299203276634, 0.016442537307739258, 0.0459158681333065, 0.0001142833280027844, -0.10269453376531601, 0.02045903354883194, -0.0008158510318025947, -0.011581662110984325, -0.01603175885975361, 0.019683118909597397, 0.022113557904958725, -0.0032234673853963614, -0.013818120583891869, -0.014479929581284523, 0.052944738417863846, -0.03281661123037338, -0.0032006464898586273, -0.015335717238485813, -0.0067721339873969555, 0.02166854776442051, -0.03594308719038963, 0.05180368945002556, 0.03626258298754692, 0.007867543026804924, -0.005465631373226643, 0.011022547259926796, -0.030306298285722733, -0.015872010961174965, -0.028457798063755035, -0.01183269266039133, -0.01913541555404663, -0.0008044405258260667, -0.004447244107723236, -0.037335168570280075, -0.008751857094466686, -0.016590872779488564, -0.031995054334402084, -0.00047068329877220094, -0.029644489288330078, 0.015096097253262997, 0.0019882803317159414, -0.013384521007537842, -0.014194667339324951, -0.025513887405395508, 0.03518999367952347, 0.005071969237178564, -0.007302722427994013, 0.01712716743350029, 0.013624141924083233, -0.0008436641655862331, -0.02155444212257862, -0.028183944523334503, 0.011901156045496464, 0.02457822673022747, 0.04984108358621597, -0.010891325771808624, -0.004584169946610928, -0.006406998261809349, -0.016990240663290024, -0.01284822728484869, 0.02439565770328045, 0.0009727454744279385, -0.0258790235966444, 0.02610723301768303, -0.012905280105769634, -0.018770279362797737, 0.0054913051426410675, 0.026130054146051407, -0.015643801540136337, -0.00702887075021863, -0.004915074445307255, -0.003468793351203203, -0.009002887643873692, -0.005799388512969017, -0.021508799865841866, 0.032702505588531494, 0.008323962800204754, -0.012289113365113735, -0.009402255527675152, 0.008420951664447784, -0.038635965436697006, 0.0035771930124610662, -0.0233687125146389, 0.027271104976534843, -0.02528567798435688, -0.002236458705738187, -0.0004396609729155898, 0.036719001829624176, -0.045390985906124115, -0.019591836258769035, 0.015735086053609848, 0.01491352915763855, 0.022022273391485214, -0.018188344314694405, 0.00534011609852314, 0.031995054334402084, 0.014902118593454361, -0.02740803174674511, 0.0362854041159153, -0.0021836853120476007, 0.04235579073429108, -0.006446934770792723, -0.02510310895740986, -0.030466046184301376, -0.016259968280792236, 0.010155349038541317, -0.022010862827301025, -0.011319220066070557, -5.299644180922769e-05, 0.016682157292962074, 0.012448860332369804, 0.002332021715119481, -0.017674870789051056, 0.026472369208931923, -0.02416744828224182, -0.012528733350336552, -0.007165796589106321, -0.032086338847875595, 0.00023819427588023245, -0.016784852370619774, -0.009476423263549805, -0.005485599860548973, 0.022124966606497765, 0.020904043689370155, 0.0296216681599617, -0.0312647819519043, 0.0012023819144815207, 0.004601285792887211, -0.016453946009278297, -0.00470683304592967, -0.019922740757465363, -0.003659919137135148, 0.0007481011562049389, 0.02134905382990837, 0.0010269454214721918, -0.006367061287164688, 0.032086338847875595, -0.005325852893292904, 0.020732885226607323, 0.02690596878528595, 0.013544267974793911, 0.018108470365405083, -0.029073964804410934, 0.02036774903535843, -0.009601939469575882, -0.032177623361349106, -0.00717720715329051, -0.008027289994060993, -0.002364827087149024, -0.018599120900034904, -0.026266980916261673, -0.006424113642424345, 0.004595580510795116, -0.004244707524776459, -0.009995602071285248, 0.014457108452916145, 0.01842796429991722, -0.02276395633816719, -0.015278665348887444, 0.0119924396276474, 0.011216525919735432, -0.008797498419880867, -0.01955760456621647, 0.0241902694106102, -0.0037683190312236547, -0.017264092341065407, 0.0019611804746091366, -0.004119191784411669, 0.03023783676326275, 0.03265686333179474, -0.012414628639817238, 0.020036844536662102, 0.015529695898294449, 0.0145027507096529, -0.0038253716193139553, -0.03236018866300583, 0.019420677796006203, 0.022147787734866142, -0.007548048626631498, -0.02105238102376461, 0.013384521007537842, 0.03779159113764763, -0.02177124097943306, 0.0034488248638808727, -0.010606063529849052, 0.007724911440163851, -0.004199065733700991, 0.035418204963207245, 0.010691642761230469, -0.014879297465085983, -0.016259968280792236, 0.039046745747327805, -0.027887271717190742, -0.0005327279213815928, 0.017355376854538918, -0.03877289220690727, 0.0016901809722185135, 0.01832526922225952, 0.025833381339907646, -0.006486871745437384, -0.010486253537237644, 0.009179750457406044, -0.005314442329108715, -0.0004585596325341612, 0.014491340145468712, 0.012049492448568344, -0.0027285367250442505, -0.029986804351210594, 0.010372147895395756, -0.0012437449768185616, -0.017800386995077133, -0.009961370378732681, -0.004199065733700991, -0.039138030260801315, -0.007428238168358803, 0.020481854677200317, 0.003571487730368972, -0.0017244124319404364, -0.016259968280792236, 0.021885346621274948, -0.004301759880036116, 0.01214077603071928, 0.0014569787308573723, 0.019329393282532692, -0.03779159113764763, 0.006920470856130123, -0.04915645346045494, -0.027134178206324577, -0.031059391796588898, 0.00584788341075182, -0.01269989088177681, 0.010811452753841877, -0.0005890672910027206, -0.014183256775140762, -0.022900881245732307, -0.0037911399267613888, 0.008232678286731243, -0.03537256270647049]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:59.379866", "url_path": "/api/pydantic_graph/persistence/", "chunk_size": 4600}
updated_dt: 2025-03-15T11:17:59.379866
---
tence.in_mem.FullStatePersistence.load_json)
  * [ file  ](https://ai.pydantic.dev/api/pydantic_graph/persistence/#pydantic_graph.persistence.file)
  * [ FileStatePersistence  ](https://ai.pydantic.dev/api/pydantic_graph/persistence/#pydantic_graph.persistence.file.FileStatePersistence)
    * [ json_file  ](https://ai.pydantic.dev/api/pydantic_graph/persistence/#pydantic_graph.persistence.file.FileStatePersistence.json_file)
    * [ should_set_types  ](https://ai.pydantic.dev/api/pydantic_graph/persistence/#pydantic_graph.persistence.file.FileStatePersistence.should_set_types)


# `pydantic_graph.persistence`
###  SnapshotStatus `module-attribute`
```
SnapshotStatus = Literal[](https://docs.python.org/3/library/typing.html#typing.Literal "typing.Literal")[
  "created", "pending", "running", "success", "error"
]

```

The status of a snapshot.
  * `'created'`: The snapshot has been created but not yet run.
  * `'pending'`: The snapshot has been retrieved with [`load_next`](https://ai.pydantic.dev/api/pydantic_graph/persistence/#pydantic_graph.persistence.BaseStatePersistence.load_next) but not yet run.
  * `'running'`: The snapshot is currently running.
  * `'success'`: The snapshot has been run successfully.
  * `'error'`: The snapshot has been run but an error occurred.


###  NodeSnapshot `dataclass`
Bases: `Generic[](https://docs.python.org/3/library/typing.html#typing.Generic "typing.Generic")[StateT, RunEndT]`
History step describing the execution of a node in a graph.
Source code in `pydantic_graph/pydantic_graph/persistence/__init__.py`
```
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
```
| ```
@dataclass
classNodeSnapshot(Generic[StateT, RunEndT]):
"""History step describing the execution of a node in a graph."""
  state: StateT
"""The state of the graph before the node is run."""
  node: Annotated[BaseNode[StateT, Any, RunEndT], _utils.CustomNodeSchema()]
"""The node to run next."""
  start_ts: datetime | None = None
"""The timestamp when the node started running, `None` until the run starts."""
  duration: float | None = None
"""The duration of the node run in seconds, if the node has been run."""
  status: SnapshotStatus = 'created'
"""The status of the snapshot."""
  kind: Literal['node'] = 'node'
"""The kind of history step, can be used as a discriminator when deserializing history."""
  id: str = UNSET_SNAPSHOT_ID
"""Unique ID of the snapshot."""
  def__post_init__(self) -> None:
    if self.id == UNSET_SNAPSHOT_ID:
      self.id = self.node.get_snapshot_id()

```
  
---|---  
####  state `instance-attribute`
```
state: StateT

```

The state of the graph before the node is run.
####  node `instance-attribute`
```
node: Annotated[](https://docs.python.org/3/library/typing.html#typing.Annotated "typing.Annotated")[
  BaseNode[](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.BaseNode "pydantic_graph.nodes.BaseNode")[StateT, Any[](https://docs.python.org/3/library/typing.html#typing.Any "typing.Any"), RunEndT], CustomNodeSchema()
]

```

The node to run next.
####  start_ts `class-attribute` `instance-attribute`
```
start_ts: datetime[](https://docs.python.org/3/library/datetime.html#datetime.datetime "datetime.datetime") | None = None

```

The timestamp when the node started running, `None` until the run starts.
####  duration `class-attribute` `instance-attribute`
```
duration: float[](https://docs.python.org/3/library/functions.html#float) | None = None

```

The duration of the node run in seconds, if the node has been run.
####  status `class-attribute` `instance-attribute`
```
status: SnapshotStatus[](https://ai.pydantic.dev/api/pydantic_graph/persistence/#pydantic_graph.persistence.SnapshotStatus "pydantic_graph.persistence.SnapshotStatus") = 'created'

```

The status of the snapshot.
####  kind `class-attribute` `instance-attribute`
```
kind: Literal[](https://docs.python.org/3/library/typing.html#typing.Literal "typing.Literal")['node'] = 'node'

```

The kind of history step, can be used as a discriminator when deserializing history.
####  id `class-attribute` `instance-attribute`
```
id: str[](https://docs.python.org/3/library/stdtypes.html#str) = UNSET_SNAPSHOT_ID

```

Unique ID of the snapshot.
###  EndSnapshot `dataclass`
Bases: `Generic[](https://docs.python.org/3/library/typing.html#typing.Generic "typing.Generic")[StateT, RunEndT]`
History step describing the end of a graph run.
Source code in `pydantic_graph/pydantic_graph/persistence/__init__.py`
```
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
```
|