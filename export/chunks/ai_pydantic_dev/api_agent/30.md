---
url: https://ai.pydantic.dev/api/agent/
session_id: pydantic_ai_docs
chunk_number: 30
title: run_stream Function Parameters
summary: The 'run_stream' function accepts user prompts as strings or sequences, allows optional parameters for result type, message history, model selection, and dependencies. Each parameter has specific types and optional values.
embedding: [0.0018986236536875367, 0.023018626496195793, 0.014006917364895344, -0.023984620347619057, 0.004785484634339809, 0.024289671331644058, 0.0212900061160326, 0.04380021616816521, 0.029132353141903877, 0.003028264967724681, -0.007086076308041811, -0.031343974173069, 0.0007097992347553372, -0.01424841582775116, -0.025827636942267418, -0.017057424411177635, -0.029844138771295547, 0.013142606243491173, -0.006628500297665596, 0.0349029004573822, 0.033962324261665344, -0.009132458828389645, -0.008026650175452232, 0.007441969122737646, -0.025853058323264122, 0.013739997521042824, -0.06126437336206436, 0.04606267437338829, -0.018709784373641014, 0.007740664761513472, -0.012805779464542866, -0.020781587809324265, -0.0425545908510685, -0.015125436708331108, 0.020184196531772614, -0.028420569375157356, 0.005544934421777725, 0.003530327696353197, 0.01099454052746296, -0.015252540819346905, 0.04641856625676155, -0.07707617431879044, 0.033555589616298676, 0.004169027786701918, -0.011204262264072895, 0.029894981533288956, -0.00683186762034893, 0.005033338442444801, 0.03678404539823532, 0.009151524864137173, -0.03945323824882507, 0.03637731075286865, 0.0005139788845553994, -0.01632021926343441, 0.017769210040569305, -0.027276627719402313, 0.008535067550837994, 0.025522585958242416, -0.019167359918355942, -0.06828054040670395, 0.005640262737870216, -0.012945594266057014, -0.04270711541175842, 0.01727350242435932, -0.01584993302822113, 0.006857288535684347, -0.0057260580360889435, 0.033377643674612045, -0.03121686726808548, 0.011388564482331276, 0.0016682466957718134, 0.026158107444643974, -0.048274293541908264, -0.020527377724647522, -0.03332680091261864, -0.010600516572594643, 0.022154316306114197, 0.028013834729790688, -0.009787047281861305, -0.027124103158712387, 0.004950720816850662, -0.006653921213001013, -0.017476869747042656, 0.007740664761513472, -0.0016348817152902484, -0.011680904775857925, -0.05597682669758797, 0.015544882044196129, 0.002346666995435953, -0.06156942620873451, -0.0257132425904274, 0.023463493213057518, -0.010003125295042992, 0.03307259455323219, 0.0532313697040081, 0.05917986109852791, -0.0014307200908660889, -0.015011042356491089, 0.02495061606168747, 0.035030003637075424, 0.035157106816768646, -0.03551299870014191, -0.05668861046433449, 0.01306634396314621, 0.00549727026373148, 0.01516356784850359, 0.01792173646390438, 0.008427029475569725, -0.011801653541624546, -0.031140604987740517, -0.05775628983974457, 0.04273253679275513, 0.006869998760521412, -0.012030442245304585, -0.04575762525200844, -0.007848703302443027, -0.011680904775857925, -0.06685697287321091, 0.014006917364895344, -0.03147107735276222, -0.037572093307971954, 0.031140604987740517, -0.009304050356149673, 0.030657608062028885, 0.011865206062793732, 0.01516356784850359, -0.01973932981491089, -0.05521420016884804, -0.03452158346772194, -0.02134084701538086, 0.03749582916498184, -0.0011050148168578744, 0.011420340277254581, 0.0008222073083743453, -0.003876687493175268, 0.02702241949737072, -0.04588472843170166, 0.0033968680072575808, -0.0384364053606987, 0.03388606384396553, -0.018430154770612717, -0.01780734211206436, -0.0378517247736454, 0.027454573661088943, -0.013867102563381195, 0.013739997521042824, -0.09420986473560333, 0.04092765226960182, -0.04293590411543846, 0.012310071848332882, 0.02507771924138069, 0.03454700484871864, -0.05541756749153137, 0.022192448377609253, -0.016332929953932762, 0.0068064467050135136, 0.0031950895208865404, 0.029844138771295547, -0.010276399552822113, -0.03808050975203514, -0.043723952025175095, 0.011960534378886223, -0.03652983531355858, -0.012030442245304585, -0.02880188263952732, -0.039021085947752, 0.008045715279877186, -0.0015681518707424402, -0.01654900796711445, -0.04667277634143829, -0.02093411237001419, 0.02092140167951584, -0.027098681777715683, 0.026819052174687386, 0.04979954659938812, -0.03513168543577194, -0.0733138844370842, -0.04621519893407822, -0.004435947630554438, -0.06944990158081055, -0.02809009701013565, 0.007924966514110565, -0.0005636290879920125, -0.04746082425117493, -0.029462825506925583, 0.008287213742733002, 0.003937062341719866, -0.005904004443436861, -0.002945647109299898, 0.04753708839416504, 0.028878144919872284, 0.05923070013523102, 0.05597682669758797, 0.0008174408576451242, -0.06014585494995117, -0.02742915414273739, 0.0609084814786911, -0.03304717317223549, 0.026564842090010643, 0.031954072415828705, 0.04357142746448517, 0.027988413348793983, 0.01939614862203598, -0.02974245510995388, -0.00318555673584342, -0.04606267437338829, -0.01797257736325264, 0.029818717390298843, -0.05173153430223465, 0.009386667981743813, 0.044664524495601654, -0.008738434873521328, 0.02589118853211403, -0.0064537315629422665, -0.042478326708078384, -0.006488685496151447, -0.03879229724407196, -0.005961201619356871, -0.0011439406080171466, -0.0007491222349926829, -0.0046679130755364895, 0.055315881967544556, 0.019599515944719315, -0.024645565077662468, 0.002818542532622814, 0.01939614862203598, -0.006978037767112255, -0.02572595328092575, 0.002534146187826991, 0.013269711285829544, 0.030352557078003883, -0.010549674741923809, -0.020362142473459244, -0.02188739739358425, 0.03617394343018532, -0.042427483946084976, 0.0485030822455883, 0.01673966459929943, 0.013828970491886139, -0.0437747947871685, -0.0006867615738883615, -0.02027316950261593, 0.041232701390981674, 0.0036733204033225775, 0.03182696923613548, 0.01956138387322426, -0.007105142343789339, -0.04763877019286156, 0.026869893074035645, 0.03780088201165199, 0.021315425634384155, -0.04446115717291832, -0.01879875734448433, -0.03325054049491882, -0.02689531445503235, -0.018951281905174255, -0.016688821837306023, -0.006094661075621843, -0.03475037217140198, -0.019612226635217667, 0.047867558896541595, 0.006421955302357674, -0.03741956874728203, 0.024823511019349098, 0.005764189641922712, -0.007778795901685953, 0.010149295441806316, -0.0555700920522213, 0.016510875895619392, -0.03914818912744522, 0.011509313248097897, 0.009634521789848804, 0.021671319380402565, -0.04108017683029175, -0.08241456747055054, 0.023196572437882423, 0.03340306505560875, -0.012367269024252892, 0.0031092939898371696, -0.012291005812585354, -0.03241164982318878, 0.049214866012334824, 0.011051736772060394, 0.04362226650118828, -0.03322511911392212, -0.0031728462781757116, 0.027276627719402313, -0.009208722040057182, 0.00482043856754899, 0.027581678703427315, 0.02755625732243061, -0.012850265949964523, 0.03581805154681206, 0.008344410918653011, 0.0378517247736454, -0.017692947760224342, 0.04596099257469177, 0.023755833506584167, -0.01904025487601757, -0.013879812322556973, 0.012748582288622856, -0.009583679959177971, 0.01821407675743103, -0.02589118853211403, 0.0013830559328198433, 0.06512834876775742, -0.02979329787194729, 0.000436524540418759, 0.019307175651192665, -0.022853391245007515, -0.012710451148450375, 0.07224620133638382, -0.013434946537017822, 0.00833170022815466, 0.025624269619584084, -0.03642815351486206, 0.043368060141801834, -0.013994206674396992, 0.05328221246600151, -0.016472743824124336, -0.01703200489282608, 0.008318990468978882, 0.017540423199534416, -0.019701199606060982, -0.014095890335738659, -0.031140604987740517, 0.054553255438804626, -0.005703814793378115, -0.022433945909142494, 0.030555924400687218, -0.04161401838064194, -0.027632521465420723, -0.05292631685733795, -0.006603079382330179, 0.024620143696665764, 0.011318656615912914, -0.047028668224811554, -0.003066396340727806, 0.020946823060512543, 0.05465494096279144, -0.0236541498452425, 0.011070802807807922, -0.05251958221197128, -0.00601839879527688, -0.00048299712943844497, 0.03126771003007889, 0.049469076097011566, 0.012087639421224594, -0.017108267173171043, 0.008624041453003883, 0.03103892132639885, 0.03731788322329521, 0.012437175959348679, 0.03795340657234192, -0.012011376209557056, -0.033377643674612045, -0.0014124488225206733, 0.013905233703553677, -0.030886396765708923, 0.011687260121107101, -0.045783042907714844, 0.004988851957023144, -0.010930988006293774, -0.002414985792711377, -0.014553466811776161, 0.003374624764546752, -0.017286213114857674, -0.047689612954854965, -0.013384104706346989, 0.02595474198460579, 0.06665360182523727, 0.025586137548089027, 0.0014251592801883817, -0.01100089494138956, -0.004273889120668173, -0.030911816284060478, -0.05434988811612129, 0.024670984596014023, 0.003004432888701558, 0.05394315347075462, 0.02317115291953087, 0.03691114857792854, 0.000531455734744668, -0.014515334740281105, 0.0121194152161479, 0.04288506135344505, -0.017756499350070953, -0.007740664761513472, -0.017108267173171043, 0.007994873449206352, 0.06431487947702408, -0.05394315347075462, -0.005204929504543543, 0.005154087673872709, -0.013409526087343693, 0.04026670753955841, 0.0011804831447079778, 0.014604308642446995, 0.03955492377281189, 0.018951281905174255, 0.030759291723370552, 0.011337722651660442, 0.00898628868162632, 0.027937570586800575, 0.03393690288066864, -0.003349203849211335, 0.03330138325691223, -0.022955074906349182, 0.03541131690144539, 0.011477537453174591, 0.05363810434937477, -0.01543048769235611, 0.025636980310082436, -0.04926570877432823, -0.011305945925414562, -0.017070135101675987, -0.002878917148336768, -0.014197573997080326, 0.058620601892471313, 0.09949740767478943, -0.0030393865890800953, -0.08744790405035019, 0.004556696861982346, 0.017845474183559418, -0.016943031921982765, 0.0821603536605835, 0.0402158685028553, -0.056383561342954636, -0.002351433504372835, -0.018201366066932678, 0.008026650175452232, -0.007461034692823887, 0.05038422718644142, 0.017222661525011063, -0.0221797376871109, -0.009596390649676323, -0.004296132363379002, 0.019230913370847702, 0.013282421045005322, -0.016650691628456116, 0.04291048273444176, -0.019230913370847702, -0.0031204158440232277, 0.05127396062016487, -0.04814719036221504, -0.0017715190770104527, -0.012132125906646252, 0.002434051362797618, 0.02406088449060917, -0.03406400978565216, 0.0023816206958144903, -0.006034286692738533, -0.030911816284060478, -0.005319323856383562, -0.04392731934785843, -0.031089764088392258, 0.07087347656488419, 0.025026878342032433, 0.03505542501807213, 0.02671736851334572, 0.022573761641979218, -0.009596390649676323, -0.012704095803201199, 0.0024022753350436687, -0.00588493887335062, 0.005827741697430611, 0.0183411817997694, 0.02317115291953087, -0.009450220502912998, 0.04512210190296173, 0.025586137548089027, -0.0007383977645076811, -0.02577679418027401, 0.028293464332818985, -0.014972911216318607, -0.0331234373152256, 0.007194115314632654, 0.03421653434634209, 0.0027629341930150986, -0.010746686719357967, 0.028013834729790688, -0.004788662306964397, -0.0032395762391388416, 0.02831888571381569, -0.03853808715939522, 0.02336180955171585, -0.01661255955696106, -0.04003792256116867, -0.02689531445503235, 0.014820385724306107, 0.04369853064417839, 0.021569635719060898, 0.014705992303788662, -0.013968785293400288, 0.05867144092917442, -0.00937395729124546, -0.028242621570825577, 0.01679050549864769, -0.019116519019007683, -0.022955074906349182, -0.02773420512676239, 0.002222740091383457, 0.011541089974343777, 0.03686030954122543, 0.03731788322329521, -0.03144565597176552, 0.023145731538534164, -0.01679050549864769, 0.02500145696103573, 0.01558301318436861, -0.016002457588911057, -0.0025802215095609426, 0.019764751195907593, 0.008242727257311344, -0.01998082920908928, 0.020247748121619225, 0.0003932295658160001, -0.001154267811216414, 0.0001733785029500723, 0.0059898002073168755, 0.02080700919032097, -0.013282421045005322, -0.002346666995435953, -0.021569635719060898, -0.018430154770612717, -0.002715270034968853, 0.0091705908998847, -0.04423236846923828, 0.005176331382244825, -0.006609434727579355, 0.03218286111950874, 0.009386667981743813, 0.003813135204836726, 0.048350557684898376, -0.006085128523409367, 0.010193781927227974, 0.015760960057377815, 0.0174514502286911, -0.026869893074035645, -0.012557925656437874, -0.043139271438121796, 0.004095942713320255, -0.05831554904580116, 0.005694282241165638, -0.012939238920807838, 0.013879812322556973, 0.0331234373152256, -0.005360632669180632, 0.008992644026875496, -0.011922403238713741, 0.044969577342271805, 0.011083513498306274, 0.030555924400687218, -0.03749582916498184, 0.039631187915802, 0.03009834885597229, -0.0031347149051725864, -0.014451783150434494, 0.005541756749153137, -0.030022084712982178, -0.006761959753930569, -0.022446656599640846, 0.04097849503159523, -0.01881146803498268, -0.009717139415442944, 0.02216702699661255, 0.03169986605644226, -0.0002629474620334804, -0.015252540819346905, 0.02033672109246254, 0.006434665992856026, 0.035741787403821945, 0.005554466973990202, -0.028700198978185654, 0.032360807061195374, -0.02530650794506073, 0.00667934212833643, 0.00904348585754633, -0.0691956952214241, 0.031369391828775406, -0.00756907369941473, -0.02046382613480091, 0.01609143055975437, 0.03891940042376518, 0.009424799121916294, -0.016409192234277725, 0.0021703094244003296, 0.008910026401281357, -0.010053967125713825, -0.002594520803540945, 0.02872561849653721, -0.024315092712640762, 0.022866101935505867, 0.015277962200343609, -0.030301716178655624, 0.006685697473585606, 0.012608767487108707, -0.011070802807807922, -0.05107059329748154, 0.013905233703553677, 0.07417818903923035, -0.008325345814228058, -0.0257132425904274, 0.03215743973851204, 0.015684695914387703, -0.005764189641922712, 0.01780734211206436, -0.01648545451462269, -0.01909109763801098, -0.019052965566515923, 0.0024483506567776203, -0.03419111296534538, 0.004699689336121082, -0.025675110518932343, -0.03276754170656204, 0.021544214338064194, -0.036504413932561874, 0.03452158346772194, 0.04044465348124504, 0.0036955636460334063, -0.004105475731194019, 0.020247748121619225, 0.015557591803371906, 0.029284879565238953, 0.0067937360145151615, -0.027657940983772278, -0.0348774790763855, 0.026208950206637383, -0.012653253972530365, 0.054299045354127884, -0.037750039249658585, 0.01221474353224039, 0.03314885497093201, 0.023692280054092407, -0.03167444467544556, 0.011833430267870426, -0.017298923805356026, -0.018252206966280937, -0.031903233379125595, -0.004264356102794409, 0.029183195903897285, 0.015595723874866962, 0.013714577071368694, -0.0010692666983231902, -0.003784536849707365, 0.00288368365727365, -0.02969161421060562, -0.0015085716731846333, 0.013828970491886139, -0.024493038654327393, -0.033606432378292084, -0.0331234373152256, 0.010289110243320465, -0.0013298309640958905, 0.002001896034926176, 0.00551633583381772, -0.012138480320572853, 0.0025166692212224007, -0.02679363079369068, 0.014604308642446995, 0.003924351651221514, 0.009335826151072979, 0.01117248646914959, 0.0043310862965881824, -0.03121686726808548, 0.02844598889350891, 0.008713014423847198, 0.034445323050022125, 0.02737831138074398, 0.01271680649369955, -0.037927985191345215, 0.005996155086904764, 0.028344305232167244, 0.012888397090137005, 0.02441677637398243, -0.006850933190435171, 0.0015808623284101486, -0.021061217412352562, -0.009609101340174675, 0.02925945818424225, -0.004118185956031084, 0.02181113325059414, -0.038995664566755295, 0.05373978614807129, 0.02867477759718895, -0.03652983531355858, 0.0072640227153897285, 0.009653587825596333, -0.0023387230467051268, 0.051833219826221466, -0.028649356216192245, -0.04621519893407822, 0.0016428257804363966, 0.0461389385163784, 0.01004761178046465, -0.0010470234556123614, -0.003937062341719866, 0.004931654781103134, 0.009443865157663822, -0.04062260314822197, -0.033784378319978714, -0.007314864546060562, -0.007365706376731396, 0.015290672890841961, -0.010219202376902103, -0.03652983531355858, -0.015328804031014442, -0.005042871460318565, 0.03406400978565216, 0.004060989245772362, -0.008134688250720501, 0.005081002600491047, -0.027581678703427315, 0.02915777452290058, -0.001370345475152135, -0.020324010401964188, -0.010784817859530449, 0.0019844190683215857, 0.0001529226137790829, 0.0011923991842195392, -0.0028582627419382334, 0.00981246866285801, -0.015328804031014442, 0.01986643485724926, 0.019307175651192665, -0.049875810742378235, 0.012894752435386181, 0.03894482180476189, 0.010289110243320465, 0.04405442252755165, -0.004343796521425247, -0.0245438814163208, -0.007086076308041811, -0.017311634495854378, -0.031343974173069, -0.027479995042085648, -0.053180526942014694, 0.003968838136643171, -0.01962493732571602, -0.017337055876851082, 0.014439072459936142, -0.030886396765708923, -0.008789276704192162, 0.009577324613928795, 0.005125489551573992, -0.0039529502391815186, -0.02933572046458721, 0.036326467990875244, -0.03571636602282524, -0.007314864546060562, -0.037750039249658585, 0.009132458828389645, 0.009742560796439648, 0.01921820268034935, 0.046926986426115036, -0.005624374374747276, 0.02122645266354084, 0.0014323089271783829, -0.04601183161139488, 0.020184196531772614, -0.02198908105492592, -0.00807113666087389, 0.011045382358133793, 0.021035796031355858, -0.0037336950190365314, -0.003349203849211335, 0.019370727241039276, 0.005799143109470606, -0.010022190399467945, -0.01709555648267269, -0.03856350854039192, -0.01025733444839716, -0.0026040535885840654, 0.018048839643597603, 0.046749040484428406, -0.044740788638591766, 0.004385105799883604, 0.01648545451462269, 0.021569635719060898, -0.011064447462558746, 0.016167692840099335, 0.014528045430779457, -0.03218286111950874, -0.012697740457952023, -0.0033936903346329927, -0.0011598286218941212, 0.022243289276957512, -0.003959305584430695, -0.02524295635521412, 0.004286599811166525, -0.04659651219844818, -0.009501062333583832, 0.020667193457484245, 0.00474417582154274, 0.0112296836450696, -0.013816260732710361, 0.008662172593176365, -0.06294215470552444, -0.011630062945187092, 0.023387229070067406, -0.03388606384396553, 0.0011455294443294406, -0.02033672109246254, 0.011610996909439564, 0.018531838431954384, -0.014146732166409492, 0.0021941415034234524, 0.022802548483014107, 0.00224657217040658, -0.02796299196779728, -0.0573495551943779, 0.019790172576904297, -0.020590931177139282, 0.02394649013876915, -0.04057176038622856, 0.050994329154491425, -0.016040589660406113, -0.03307259455323219, -0.014922069385647774, -0.07666943967342377, 0.04166485741734505, 0.0046838014386594296, -0.021188322454690933, -0.009787047281861305, 0.04565593972802162, 0.022154316306114197, -0.0402158685028553, -0.05399399623274803, -0.0006819951231591403, 0.0057673673145473, -0.025052299723029137, -0.027352889999747276, 0.02885272353887558, -0.00872572511434555, 0.03790256381034851, 0.008325345814228058, -0.01380355004221201, -0.0039465948939323425, -0.010174715891480446, 0.0005783255328424275, -0.007664402015507221, 0.04832513630390167, -0.0025405013002455235, -0.02324741519987583, 0.0068000913597643375, 0.006615789607167244, 0.004734642803668976, -0.017006583511829376, 0.01457888726145029, -0.032132022082805634, 0.004308843053877354, 0.025230245664715767, 0.032792963087558746, -0.033860642462968826, 0.007149628829210997, 0.014883938245475292, 0.02017148584127426, -0.008090201765298843, 0.002475360408425331, -0.021251874044537544, -0.022255999967455864, -0.004906234331429005, 0.016180403530597687, -0.02671736851334572, 0.017540423199534416, 0.010073032230138779, -0.014375519938766956, -0.015011042356491089, 0.014006917364895344, 0.0010748275090008974, -0.015341514721512794, 0.0331234373152256, -0.009380312636494637, 0.0005517129902727902, 0.03736872598528862, -0.018430154770612717, 0.019065676257014275, 0.035030003637075424, -0.03068302944302559, 0.026158107444643974, 0.012640543282032013, -0.03780088201165199, 0.012189322151243687, -0.02636147476732731, -0.031776126474142075, -0.02134084701538086, 0.02750541642308235, 0.02004438079893589, -0.0186208114027977, -0.006256719585508108, -0.01762939617037773, -0.050638437271118164, 0.0036351890303194523, -0.015443198382854462, 0.027632521465420723, 0.007111497223377228, -0.023310966789722443, 0.03223370388150215, -0.019828302785754204, -0.028928985819220543, 0.02210347354412079, -0.014553466811776161, 0.04735914245247841, -0.029411984607577324, 0.029411984607577324, 0.01750229112803936, 0.021429819986224174, 0.009265919215977192, 0.008382542058825493, -0.020908692851662636, -0.0022068519610911608, -0.02643773891031742, 0.011286880820989609, 0.06528087705373764, -0.056078508496284485, -0.042656272649765015, 0.011433050967752934, -0.011954179033637047, 0.03764835745096207, 0.01779463142156601, -0.013917943462729454, 0.00735935103148222, 0.006015221122652292, -0.010854724794626236, -0.018112393096089363, -0.022599181160330772, -0.0019526430405676365, -0.003720984561368823, 0.05516335740685463, -0.01886230893433094, 0.01471870206296444, -0.03256417438387871, -0.011210617609322071, -0.004420059267431498, -0.026742789894342422, -0.039834555238485336, -0.04285963997244835, 0.0018318938091397285, -0.0330980159342289, 0.020527377724647522, -0.0035716367419809103, -0.043418899178504944, 0.004706044681370258, 0.037699196487665176, 0.017667526379227638, -0.022802548483014107, 0.027886729687452316, 0.018468284979462624, -0.018938571214675903, 0.001095482031814754, 0.015570302493870258, -0.008471515960991383, -0.007283088285475969, -0.029132353141903877, -0.017832763493061066, -0.014680570922791958, -0.005506802815943956, -0.0036733204033225775, 0.043139271438121796, -0.0013838503509759903, 0.019180070608854294, 0.02956450916826725, -0.02742915414273739, -0.0015856287209317088, 0.009056196548044682, -0.03271670266985893, -0.01590077392756939, -0.030301716178655624, 0.02075616642832756, 0.007372061721980572, -0.0053955866023898125, 0.04852850362658501, 0.04308842867612839, 0.023209283128380775, -0.015087305568158627, 0.016167692840099335, 0.05112143233418465, 0.018290339037775993, 0.05587514117360115, 0.016752375289797783, -0.006749249529093504, 0.014655150473117828, 0.03086097538471222, -0.004957075696438551, 0.02500145696103573, -0.0348774790763855, -0.01891315169632435, 0.018023420125246048, 0.004057811573147774, 0.014032337814569473, 0.011026316322386265, -0.03891940042376518, 0.021709449589252472, 0.04713035374879837, -0.012659609317779541, -0.027886729687452316, -0.00567521620541811, 0.030047506093978882, 0.025586137548089027, 0.005923070013523102, -0.014439072459936142, -0.012024086900055408, 0.051833219826221466, -0.01366373524069786, 0.007670757360756397, -0.021010376513004303, 0.015799090266227722, -0.03947865962982178, -0.0006275785272009671, -0.01043528039008379, 0.012348202988505363, 0.002537323860451579, 0.007550008129328489, -0.018938571214675903, 0.002225917764008045, -0.03922445327043533, -0.00786141399294138, -0.027683362364768982, 0.0011081924894824624, 0.011871561408042908, 0.01457888726145029, -0.0039529502391815186, -0.0076453364454209805, 0.013040922582149506, 0.009977703914046288, 0.03398774564266205, 0.009297695010900497, 0.008604975417256355, 0.017006583511829376, -0.005405119154602289, -0.006558592896908522, 0.033428486436605453, -0.04446115717291832, 0.008007584139704704, -0.018175944685935974, 0.05297715961933136, -0.00013236743689049035, -0.013778128661215305, 0.0354875810444355, -0.039021085947752, -0.02312031015753746, 0.024404065683484077, 0.016409192234277725, -0.010638647712767124, 0.016574427485466003, 0.0075118765234947205, -0.011185197159647942, -0.013282421045005322, 0.035563841462135315, 0.012786713428795338, 0.0014172153314575553, 0.004998384974896908, -0.009558259509503841, 0.020540088415145874, 0.009520127438008785, -0.02666652575135231, 0.023577887564897537, 0.008242727257311344, 0.024505749344825745, -0.013282421045005322, 0.015265251509845257, -0.012259230017662048, -0.01067042350769043, -0.01755313202738762, 0.015265251509845257, 0.019510542973876, 0.03599599748849869, -0.011070802807807922, -0.018290339037775993, 0.043368060141801834, 0.028751039877533913, 0.0017635751282796264, 0.014502624981105328, -0.007778795901685953, -0.015354224480688572, -0.009945928119122982, 0.0019875967409461737, -0.019548673182725906, 0.021658608689904213, -0.03660609945654869, -0.027302049100399017, 0.028471410274505615, -0.015405066311359406, -0.007537297438830137, -0.042020753026008606, -0.016574427485466003, -0.014261126518249512, 0.01366373524069786, 0.010397149249911308, -0.03576720878481865, 0.003153780708089471, 0.020057091489434242, -0.007607204839587212, 0.03513168543577194, 0.008287213742733002, 0.0028932164423167706, -0.005649795290082693, -0.031369391828775406, -0.00212900061160326, -0.021722160279750824, -0.010250979103147984, 0.015697406604886055, 0.030911816284060478, 0.00859862007200718, -0.038105931133031845, 0.011045382358133793, -0.003879865165799856, -0.06400983035564423, -0.006685697473585606, 0.019535962492227554, 0.001532403752207756, 0.0012654842576012015, 0.014362809248268604, -0.00978069193661213, -0.014617018401622772, -0.021480662748217583, 0.01992998644709587, -0.024747248739004135, 0.00617727916687727, 0.0016507698455825448, -0.006603079382330179, 0.007346640806645155, -0.0038544442504644394, -0.00801393948495388, 0.007931321859359741, 0.00848422572016716, -0.01785818301141262, 0.048935238271951675, -0.0073974826373159885, -0.011477537453174591, 0.01454075612127781, -0.038461826741695404, -0.018595390021800995, -0.04405442252755165, -0.0088655399158597, -0.013422236777842045, -0.02915777452290058, -0.026691947132349014, -0.019141938537359238, 0.0014569354243576527, -0.006441020872443914, 0.005494092591106892, 0.018595390021800995, 0.011401274241507053, 0.012646898627281189, 0.02045111544430256, 0.04291048273444176, 0.07514418661594391, 0.0010088920826092362, 0.008001228794455528, 0.000873843498993665, 0.010467056185007095, -0.011776233091950417, 0.016040589660406113, -0.008585909381508827, 0.003150603035464883, -0.0122719407081604, -0.010625937022268772, 0.018760625272989273, -0.003959305584430695, 0.015328804031014442, 0.032792963087558746, 0.014528045430779457, 0.02383209578692913, 0.03505542501807213, 0.027225786820054054, -0.007823282852768898, 0.026996998116374016, 0.0602983795106411, 0.007988518103957176, -0.020133353769779205, -0.00431837560608983, 0.028369726613163948, 5.1239007007097825e-05, -0.021569635719060898, 0.03518252819776535, 0.04146149009466171, 0.013473077677190304, -0.029106933623552322, -0.01774379052221775, 0.009030775167047977, -0.04530004784464836, 0.004480434115976095, 0.0016285264864563942, -0.02679363079369068, -0.00851600244641304, 0.021785713732242584, 0.010219202376902103, 0.000500474008731544, -0.0037591159343719482, -0.024620143696665764, 0.013142606243491173, 0.030377978459000587, 0.01114706601947546, -0.018112393096089363, 0.02104850672185421, 0.00038230654899962246, 0.0020177841652184725, -0.014388230629265308, 0.010969119146466255, -0.01644732430577278, 0.007734309416264296, -0.05302800238132477, 0.010797528550028801, 0.034979160875082016, -0.004712399560958147, 0.021900108084082603, 0.008242727257311344, 0.004102298058569431, -0.0036478994879871607, 0.04102933779358864, 0.013155316933989525, -0.042834218591451645, 0.008668527938425541, 0.020946823060512543, -0.013485788367688656, 0.06538256257772446, 0.00807113666087389, -0.01956138387322426, 0.009850599803030491, -0.02791215106844902, 0.0023577886167913675, 0.02353975549340248, 0.01531609334051609, -0.01156015507876873, 0.043190114200115204, 0.027708783745765686, 0.00418173847720027, -0.03297090902924538, -0.013193448074162006, -0.010384438559412956, -0.006533171981573105, 0.010714909993112087, 0.016460034996271133, 0.009393023326992989, -0.022688155993819237, 0.011731746606528759, 0.015926195308566093, 0.01100089494138956, 0.03856350854039192, 0.016841348260641098, 0.01244988664984703, 0.02925945818424225, 0.015646565705537796, -0.002144888509064913, -0.0025722775608301163, -0.00927862897515297, 0.011070802807807922, 0.014324678108096123, -0.0014275425346568227, 0.003222099272534251, -0.026564842090010643, 0.017997998744249344, -0.03258959576487541, 0.0002957165997941047, 0.0014879171503707767, 0.016828637570142746, -0.007988518103957176, 0.00300125521607697, 0.0011701559415087104, -0.008687593042850494, 0.004531275946646929, -0.026641106233000755, -0.0034477098379284143, 0.014769543893635273, -0.012983725406229496, -0.01921820268034935, -0.002001896034926176, 0.007867769338190556, 0.014807675033807755, 0.008439739234745502, -0.009831533767282963, 0.007321219891309738, 0.019675778225064278, -0.020362142473459244, -0.012386334128677845, -0.014604308642446995, 0.028293464332818985, 0.014299257658421993, 0.0218746867030859, -0.01578637957572937, -0.007829638198018074, 0.016421902924776077, -0.019917277619242668, -0.03510626405477524, 0.026590263471007347, -0.018417444080114365, 0.003183967899531126, 0.048274293541908264, -0.01543048769235611, -0.030428819358348846, -0.0012948771473020315, -0.0007530942093580961, -0.012875687330961227, 0.0012416521785780787, 0.02088327147066593, 0.024035463109612465, -0.011928758583962917, -0.02553529664874077, 0.01513814739882946, 0.009119749069213867, 0.039834555238485336, -0.019065676257014275, -0.002376854419708252, -0.010714909993112087, -0.033606432378292084, -0.008477871306240559, 0.005919892806559801, -0.003006021725013852, -0.012043152004480362, -0.007473745383322239, 0.0013933832524344325, 0.013892523013055325, 0.020603641867637634, 0.02318386361002922, 0.014019627124071121, 0.014998332597315311, -0.0033905128948390484, 0.00735935103148222, -0.007651691325008869, 0.028649356216192245, 0.04458826407790184, 0.011159775778651237, 0.00033245774102397263, -0.002472182735800743, -0.02530650794506073, -0.0032920069061219692, -0.026336055248975754, -0.04214785620570183, -0.00859862007200718, 0.017756499350070953, 0.002252927515655756, 0.020590931177139282, -0.005039693787693977, 0.008007584139704704, -0.0033809798769652843, -0.023501623421907425, -0.005519513506442308, -0.03375895693898201, -0.01897670328617096, 0.027124103158712387, 0.010638647712767124, 0.023933779448270798, -0.019383437931537628, -0.009971348568797112, 0.033555589616298676, 0.02925945818424225, -0.02441677637398243, 0.006005688104778528, -0.016472743824124336, 0.007352996151894331, 0.010854724794626236, 0.01926904357969761, 0.003809957765042782, 0.03139481320977211, -0.001779463142156601, -5.719703040085733e-05, -0.012411755509674549, 0.016040589660406113, -0.002221151255071163, -0.01395607553422451, 0.049647022038698196, -0.003933884669095278, 0.018023420125246048, 0.010314530692994595, -0.0064632645808160305, 0.0023847983684390783, 0.012221098877489567, -0.008147398941218853, 0.003924351651221514, -0.024391354992985725, -0.0011201085289940238, 0.007308509200811386, 0.007600849959999323, 0.013473077677190304, -0.014566176570951939, -0.012583346106112003, 0.03103892132639885, -0.010187426581978798, 0.0502571240067482, -0.029844138771295547, -0.0016221713740378618, -0.0004222253046464175, -0.03375895693898201, -0.0408005490899086, 0.030581345781683922, -0.021010376513004303, -0.005074647720903158, 0.050231702625751495, -0.01986643485724926, 0.010695844888687134, -0.017159108072519302, 0.006997103337198496, 0.02069261483848095, -0.028827302157878876, -0.01572282798588276, 0.005662505980581045, 0.052773792296648026, 0.030530503019690514, -0.04054633900523186, -0.020501958206295967, 0.024759959429502487, -0.010594161227345467, -0.013587472029030323, -0.019434278830885887, 0.014960200525820255, 0.03210660070180893, -0.038868557661771774, 0.0009755271021276712, 0.009316761046648026, 0.02064177207648754, 0.007086076308041811, 0.012913818471133709, -0.01469328161329031, -0.041944488883018494, -0.01737518608570099, 0.013676444999873638, 0.034674111753702164, -0.00021766647114418447, -0.009119749069213867, -0.022726286202669144, -0.008452449925243855, 0.021213741973042488, 0.012399044819176197, -0.033555589616298676, 0.0025166692212224007, -0.020845139399170876, -0.03754667192697525, 0.0349029004573822, -0.022395813837647438, -0.011153420433402061, -0.012526149861514568, 0.016358351334929466, 0.001341747003607452, 0.008509647101163864, 0.011922403238713741, -0.03292006999254227, 0.014553466811776161, 0.0014211873058229685, 0.015265251509845257, -0.03968202695250511, 0.014121310785412788, -0.009107038378715515, 0.021391689777374268, -0.031954072415828705, -0.03129313141107559, -0.026336055248975754, -0.04329179599881172, 0.010930988006293774, 0.032132022082805634, -0.015443198382854462, -0.011960534378886223, 0.0019161005038768053, -0.02271357551217079, 0.030225452035665512, -0.056739453226327896, 0.008204596117138863, 0.00848422572016716, -0.026564842090010643, 0.006383824162185192, -0.01785818301141262, 0.016536297276616096, 0.04601183161139488, 0.01484580710530281, -0.016409192234277725, -0.006380646489560604, -0.011413984932005405, 0.019891856238245964, 0.015659276396036148, 0.018722495064139366, -0.01295194961130619, 0.005297080613672733, 0.014858516864478588, -0.020311301574110985, 0.016460034996271133, 0.026590263471007347, -0.020667193457484245, 0.01398149598389864, 0.026691947132349014, 0.04169027879834175, 0.028293464332818985, 0.024035463109612465, -0.009342181496322155, 0.010505188256502151, 0.0012861387804150581, 0.0023800318595021963, 0.0025214357301592827, -0.0088655399158597, -0.03594515472650528, 0.009977703914046288, -0.0046838014386594296, -0.015532171353697777, 0.04311385005712509, -0.017540423199534416, -0.05038422718644142, -0.021315425634384155, -0.0330980159342289, -0.0257132425904274, 0.0461135171353817, 0.03388606384396553, 0.002813776023685932, -0.011979600414633751, -0.007149628829210997, 0.0013274477096274495, 0.044079843908548355, -0.009971348568797112, 0.03276754170656204, -0.021861976012587547, 0.01114706601947546, -0.014464492909610271, 0.019586805254220963, -0.042783379554748535, 0.02997124381363392, 0.0006684903055429459, 0.011039027012884617, 0.015926195308566093, -0.012824845500290394, -0.025497164577245712, 0.0029345254879444838, 0.02943740412592888, -0.02495061606168747, -0.016218535602092743, -0.02559884823858738, -0.03332680091261864, 0.001473617972806096, -0.002030494622886181, -0.0585189163684845, 0.013841681182384491, -0.02702241949737072, 0.011890626512467861, -0.0033237829338759184, 0.018735205754637718, 0.011890626512467861, -0.01654900796711445, -0.0003763485001400113, -0.0051350221037864685]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:07.730831", "url_path": "/api/agent/", "chunk_size": 4391}
updated_dt: 2025-03-15T11:17:07.733962
---
```
run_stream(
  user_prompt: str[](https://docs.python.org/3/library/stdtypes.html#str) | Sequence[](https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence "collections.abc.Sequence")[UserContent],
  *,
  result_type: type[](https://docs.python.org/3/library/functions.html#type)[RunResultDataT[](https://ai.pydantic.dev/api/agent/#pydantic_ai.agent.RunResultDataT "pydantic_ai.agent.RunResultDataT")],
  message_history: list[](https://docs.python.org/3/library/stdtypes.html#list)[ModelMessage[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ModelMessage "pydantic_ai.messages.ModelMessage")] | None = None,
  model: Model[](https://ai.pydantic.dev/api/models/base/#pydantic_ai.models.Model "pydantic_ai.models.Model") | KnownModelName[](https://ai.pydantic.dev/api/models/base/#pydantic_ai.models.KnownModelName "pydantic_ai.models.KnownModelName") | None = None,
  deps: AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT") = None,
  model_settings: ModelSettings[](https://ai.pydantic.dev/api/settings/#pydantic_ai.settings.ModelSettings "pydantic_ai.settings.ModelSettings") | None = None,
  usage_limits: UsageLimits[](https://ai.pydantic.dev/api/usage/#pydantic_ai.usage.UsageLimits "pydantic_ai.usage.UsageLimits") | None = None,
  usage: Usage[](https://ai.pydantic.dev/api/usage/#pydantic_ai.usage.Usage "pydantic_ai.usage.Usage") | None = None,
  infer_name: bool[](https://docs.python.org/3/library/functions.html#bool) = True
) -> AbstractAsyncContextManager[](https://docs.python.org/3/library/contextlib.html#contextlib.AbstractAsyncContextManager "contextlib.AbstractAsyncContextManager")[
  StreamedRunResult[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.StreamedRunResult "pydantic_ai.result.StreamedRunResult")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT"), RunResultDataT[](https://ai.pydantic.dev/api/agent/#pydantic_ai.agent.RunResultDataT "pydantic_ai.agent.RunResultDataT")]
]

```

```
run_stream(
  user_prompt: str[](https://docs.python.org/3/library/stdtypes.html#str) | Sequence[](https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence "collections.abc.Sequence")[UserContent],
  *,
  result_type: type[](https://docs.python.org/3/library/functions.html#type)[RunResultDataT[](https://ai.pydantic.dev/api/agent/#pydantic_ai.agent.RunResultDataT "pydantic_ai.agent.RunResultDataT")] | None = None,
  message_history: list[](https://docs.python.org/3/library/stdtypes.html#list)[ModelMessage[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ModelMessage "pydantic_ai.messages.ModelMessage")] | None = None,
  model: Model[](https://ai.pydantic.dev/api/models/base/#pydantic_ai.models.Model "pydantic_ai.models.Model") | KnownModelName[](https://ai.pydantic.dev/api/models/base/#pydantic_ai.models.KnownModelName "pydantic_ai.models.KnownModelName") | None = None,
  deps: AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT") = None,
  model_settings: ModelSettings[](https://ai.pydantic.dev/api/settings/#pydantic_ai.settings.ModelSettings "pydantic_ai.settings.ModelSettings") | None = None,
  usage_limits: UsageLimits[](https://ai.pydantic.dev/api/usage/#pydantic_ai.usage.UsageLimits "pydantic_ai.usage.UsageLimits") | None = None,
  usage: Usage[](https://ai.pydantic.dev/api/usage/#pydantic_ai.usage.Usage "pydantic_ai.usage.Usage") | None = None,
  infer_name: bool[](https://docs.python.org/3/library/functions.html#bool) = True
) -> AsyncIterator[](https://docs.python.org/3/library/collections.abc.html#collections.abc.AsyncIterator "collections.abc.AsyncIterator")[StreamedRunResult[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.StreamedRunResult "pydantic_ai.result.StreamedRunResult")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT"), Any[](https://docs.python.org/3/library/typing.html#typing.Any "typing.Any")]]

```

Run the agent with a user prompt in async mode, returning a streamed response.
Example: 
```
frompydantic_aiimport Agent
agent = Agent('openai:gpt-4o')
async defmain():
  async with agent.run_stream('What is the capital of the UK?') as response:
    print(await response.get_data())
    #> London