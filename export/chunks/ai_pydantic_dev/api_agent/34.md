---
url: https://ai.pydantic.dev/api/agent/
session_id: pydantic_ai_docs
chunk_number: 34
title: system_prompt Function Overview
summary: The 'system_prompt' function is defined to accept a callable function with specific typing annotations. It can handle functions returning either strings directly or awaitable strings, and includes a dynamic parameter option.
embedding: [0.009477007202804089, 0.02988279238343239, -0.028462175279855728, -0.013545703142881393, -0.04154680296778679, 0.052787117660045624, -0.014368165284395218, 0.0191409382969141, 0.03718525916337967, -0.01481678057461977, -0.012885240837931633, -0.018804475665092468, 0.02365201897919178, -0.04625726491212845, -0.02436232566833496, 0.014966319315135479, -0.04289264976978302, 0.01181354746222496, 0.012798009440302849, 0.016997551545500755, 0.030107099562883377, 0.009551776573061943, -0.01828109100461006, 0.01637447439134121, 0.002942482940852642, -0.0013544145040214062, -0.05144127085804939, 0.042144954204559326, 0.010199776850640774, 0.0046948883682489395, 0.03426925837993622, -0.026468327268958092, -0.01116554718464613, -0.027240945026278496, -0.00012938592408318073, -0.0013092414010316133, -0.0011301066260784864, 0.007408390287309885, -0.004155926406383514, 0.0027617905288934708, 0.011308854445815086, -0.06993420422077179, 0.01068577729165554, -0.005688696634024382, -0.024038325995206833, 0.04575880616903305, -0.009159238077700138, 0.019764015451073647, 0.023514941334724426, -0.022169094532728195, -0.07387205958366394, 0.02152109332382679, 0.012056548148393631, 0.0314280241727829, -0.0006238562637008727, -0.023328017443418503, -0.037932951003313065, -0.003891118336468935, 0.005445696413516998, -0.007221467327326536, 0.045110803097486496, -0.029085252434015274, -0.021222015842795372, 0.04042526334524155, -0.006779082119464874, 0.017097244039177895, -0.04341603443026543, 0.047976959496736526, -0.028786176815629005, 0.004906734451651573, 0.040674492716789246, 0.049846190959215164, -0.05777173861861229, -0.04750342294573784, -0.03277387097477913, 0.00967016164213419, 0.06784066557884216, 0.08274468034505844, 0.05886835232377052, -0.019564630463719368, -0.009850854054093361, -0.01322170253843069, -0.045036036521196365, 0.01566416583955288, -0.026019712910056114, -0.04114803299307823, -0.06435143202543259, 0.0071280053816735744, -0.017658013850450516, -0.014542626217007637, 0.025994788855314255, 0.027639713138341904, -0.012785548344254494, 0.04847542196512222, 0.08468867838382721, 0.008760468102991581, -0.028935715556144714, -0.01617508940398693, -0.0010109430877491832, 0.016710935160517693, 0.029234791174530983, -0.0370107963681221, -0.0742708295583725, -0.0007352313259616494, 0.029085252434015274, 0.008081314153969288, 0.006324235815554857, -0.017682936042547226, -0.03394525870680809, -0.0176206286996603, -0.040524955838918686, 0.03436895087361336, -0.011377393268048763, 0.016461705788969994, -0.031926486641168594, 0.004539119079709053, 0.005688696634024382, -0.037833258509635925, 0.01563924364745617, -0.06280620396137238, -0.0565255805850029, -0.020412016659975052, 0.0034425025805830956, -0.010642162524163723, -0.015390011481940746, -0.014081548899412155, -0.03763387352228165, -0.03284864127635956, -0.04177111014723778, -0.006997159216552973, 0.022929249331355095, -0.0238264799118042, 0.001461895415559411, -0.0032026178669184446, -0.016710935160517693, -0.00998793076723814, -0.05029480904340744, -0.022580325603485107, -0.0244620181620121, 0.0621083565056324, 0.0016215589130297303, 0.01749601401388645, -0.0013240395346656442, 0.027041560038924217, -0.007950467988848686, 0.02826279029250145, -0.0527372732758522, 0.013346318155527115, -0.0775606781244278, 0.04603295773267746, 0.00862962193787098, 0.037908028811216354, -0.007290005683898926, -0.0071093132719397545, -0.02311617136001587, -0.0017975782975554466, 0.003166790818795562, 0.02463648095726967, 0.02529694326221943, -0.02347755618393421, -0.006536081898957491, 0.001127770054154098, -0.020798323675990105, -0.013495856896042824, -0.021732939407229424, -0.048276036977767944, 0.0234526339918375, -0.017982013523578644, -0.0484255775809288, 0.024860788136720657, 0.023128632456064224, -0.011894547380506992, -0.025845250114798546, 0.011034701019525528, 0.0191409382969141, 0.01796955242753029, -0.05468127131462097, -0.025820327922701836, -0.04757818952202797, 0.006221428047865629, 0.03454340994358063, 0.030705254524946213, -0.01578878052532673, -0.03441879525780678, -0.00962031539529562, -0.021309247240424156, 0.005981543101370335, 0.020748477429151535, 0.025060173124074936, 0.06245727837085724, 0.03810741379857063, 0.019128477200865746, 0.04251880198717117, -0.023838941007852554, -0.008698160760104656, -0.017271704971790314, 0.05363450199365616, -0.0008263564086519182, 0.021097401157021523, -0.02400094084441662, -0.016162628307938576, 0.014530165120959282, 0.040998492389917374, -0.017408782616257668, 0.030829869210720062, -0.03284864127635956, -0.022368479520082474, -0.006283735856413841, -0.02233109436929226, 0.01794462837278843, 0.024449557065963745, -0.03404495120048523, 0.04777757450938225, 0.012642240151762962, -0.05303634703159332, 0.013209241442382336, -0.003909810911864042, 0.0013419529423117638, -0.0030951369553804398, 0.004526657517999411, 0.00741462130099535, 0.018056783825159073, 0.024275096133351326, -0.08095021545886993, 0.0030639830511063337, 0.04035049304366112, -0.05612681433558464, -0.03970249369740486, -0.009283853694796562, 0.03531602770090103, -0.0018723475513979793, -0.03225048631429672, -0.00743331341072917, 0.008667007088661194, -0.008299390785396099, 0.0004789907543454319, 0.011364932172000408, 0.009477007202804089, 0.027739405632019043, -0.041970495134592056, -0.003919156733900309, 0.0012905490584671497, 0.049671731889247894, -0.025620942935347557, 0.036238182336091995, 0.057024043053388596, -0.0029767523519694805, -0.016262320801615715, 0.007371005602180958, 0.007358544040471315, 0.0441138818860054, 0.00821216031908989, -0.009794777259230614, -0.009215314872562885, -0.03593910485506058, 0.010885162279009819, 0.009763622656464577, -0.002671444322913885, -0.011477085761725903, 0.011894547380506992, 0.00443008029833436, -0.00110752007458359, -0.012081471271812916, 0.020412016659975052, 0.030804947018623352, -0.028885869309306145, 0.02347755618393421, -0.005881850607693195, 0.027764329686760902, -0.01571401208639145, 0.04027572274208069, -0.01487908884882927, 0.013645394705235958, 0.014380626380443573, -0.025596018880605698, -0.008604698814451694, 0.01398185733705759, 0.05672496557235718, -0.036163412034511566, 0.011745008639991283, -0.07053235918283463, 0.03962772339582443, 0.012579932808876038, 0.01393201109021902, -0.043615419417619705, 0.021458785980939865, -0.025645865127444267, -0.007290005683898926, 0.0037727337330579758, 0.014592472463846207, -0.0357397198677063, -0.005947273690253496, 0.0047571961767971516, -0.0140690878033638, 0.02210678718984127, -0.037932951003313065, -0.0018863668665289879, 0.009975469671189785, 0.045335110276937485, -0.025820327922701836, 0.029234791174530983, 0.016723398119211197, -0.008505006320774555, -0.009533083997666836, -0.0003929281956516206, 0.017857398837804794, -0.002383270999416709, -0.0019813862163573503, 0.011713854968547821, -0.022904325276613235, -0.020137861371040344, 0.03730987384915352, -0.021583400666713715, 0.0126110864803195, -0.00464504212141037, -0.033396948128938675, 0.013433548621833324, -0.010530008003115654, 0.04408895596861839, -0.021583400666713715, -0.04112310707569122, 0.02654309757053852, 0.016436781734228134, -0.0342194102704525, 0.010604777373373508, -0.0375092588365078, 0.011757470667362213, 0.012131317518651485, 0.02649325132369995, 0.03818218410015106, -0.014056626707315445, -0.026941867545247078, -0.027116328477859497, 0.07845790684223175, 0.029010483995079994, 0.002542155794799328, -0.0030437330715358257, 0.01111570093780756, -0.006916159298270941, 0.02228124812245369, -0.008187237195670605, -0.03703572228550911, -0.037858184427022934, -0.07108066976070404, 0.022729864344000816, 0.006760390009731054, 0.027639713138341904, 0.020773401483893394, 0.04874957725405693, 0.042344339191913605, 0.00515908095985651, 0.014343242160975933, 0.007682544179260731, 0.02093540132045746, -0.049547113478183746, -0.02514740452170372, -0.018567707389593124, 0.014467857778072357, -0.0803520604968071, 0.009483237750828266, -0.006112389266490936, 0.007807159796357155, 0.005467504262924194, -0.008156083524227142, -0.03745941445231438, 0.020312324166297913, 0.006841389928013086, -0.03738464415073395, 0.0025141173973679543, 0.01997586153447628, 0.020748477429151535, 0.04775265231728554, 0.019963400438427925, -0.03374587371945381, 0.012424163520336151, -0.013832318596541882, -0.048026807606220245, -0.03982710838317871, 0.02945910021662712, 0.021558478474617004, 0.04999573156237602, -0.0177452452480793, -0.006386543624103069, 0.027041560038924217, 0.008467622101306915, 0.024935558438301086, 0.036462489515542984, -0.021284325048327446, -0.03414463996887207, 0.01705985888838768, 0.09027145802974701, -0.07063205540180206, -0.007620236836373806, 0.02134663239121437, 0.0032898487988859415, 0.044961266219615936, -0.04491141811013222, -0.0011519143590703607, 0.060014814138412476, 0.003884887555614114, 0.03885510563850403, 0.03110402449965477, 0.021147247403860092, 0.022194016724824905, 0.0024627135135233402, -0.025745557621121407, 0.01605047471821308, 0.00590677373111248, 0.028611714020371437, 0.02978309988975525, 0.07785975188016891, -0.016287242993712425, 0.030630486086010933, -0.0024673864245414734, 0.0035702334716916084, -0.04772773012518883, 0.010847778059542179, -0.030007407069206238, 0.02532186545431614, 0.08334283530712128, -0.037683721631765366, -0.06390281766653061, 0.003557771909981966, -0.004501734394580126, -0.0017726551741361618, 0.03992680087685585, 0.030580639839172363, -0.02681725099682808, 0.012168701738119125, -0.019689245149493217, 0.015016165561974049, -0.0007309477077797055, 0.046680960804224014, 0.012486470863223076, 0.0021200207993388176, -0.04481172561645508, 8.426148269791156e-05, 0.020212631672620773, 0.0370107963681221, -0.005305503960698843, -0.02448694221675396, -0.027166174724698067, 0.0008691929979249835, 0.049522191286087036, -0.024773556739091873, 0.009427160955965519, 0.023352941498160362, -0.0037446951027959585, 0.049572039395570755, -0.016561398282647133, 0.008617160841822624, 0.011109470389783382, -0.04750342294573784, -0.008386622183024883, -0.02973325364291668, 0.012268394231796265, 0.06395266205072403, -0.008685698732733727, 0.048375729471445084, 0.010330623015761375, 0.057073891162872314, -0.0015351069159805775, -0.017296629026532173, -0.01713462918996811, -0.008766698651015759, 0.03798279911279678, -0.03723510727286339, 0.020399553701281548, -0.023440171033143997, 0.04321664944291115, 0.0299077145755291, -0.009688853286206722, 0.040824033319950104, 0.025209711864590645, 0.03254956379532814, -0.016872936859726906, -0.009040853008627892, 0.01644924283027649, 0.0064613125286996365, -0.03748433664441109, 0.02020016871392727, -0.013907087966799736, 0.045434802770614624, 0.018168937414884567, -0.00252190581522882, 0.015813704580068588, 0.00023521171533502638, -0.02395109459757805, -0.058469582349061966, 0.024923095479607582, 0.06903697550296783, -0.01345847174525261, 0.028736330568790436, -0.013009856455028057, 0.04999573156237602, -0.004255618900060654, 0.03274894878268242, 0.03703572228550911, -0.033421870321035385, -0.028661560267210007, -0.030655408278107643, 0.010972392745316029, -0.001522645354270935, 0.034742794930934906, 0.03977726027369499, -0.025471404194831848, 0.03875541314482689, 0.017483551055192947, 0.024798480793833733, -0.0029814254958182573, -0.05134157836437225, -0.005595235154032707, -0.03120371699333191, 0.031776946038007736, 0.01652401313185692, 0.022567864507436752, -0.008548622019588947, -0.006860082037746906, -0.007894390262663364, -0.017832474783062935, 0.02426263503730297, -0.025508789345622063, -0.017807552590966225, -0.007551698014140129, -0.025134943425655365, -0.016636166721582413, -0.012673394754529, -0.0590677373111248, 3.01559721265221e-05, 0.002157405484467745, 0.012598625384271145, -0.027415405958890915, 0.030530793592333794, 0.026966789737343788, -0.012224778532981873, 0.011931932531297207, 0.0023365402594208717, 0.03519141301512718, -0.0021137900184839964, -0.012025393545627594, -0.009763622656464577, 0.006065658759325743, -0.01420616451650858, 0.0009416257380507886, -0.027016635984182358, 0.016137704253196716, 0.027789251878857613, 0.050892964005470276, 0.001010164269246161, -0.022418325766921043, 0.03962772339582443, 0.01000039279460907, 0.0034362717997282743, -0.0263686366379261, 0.027789251878857613, -0.01345847174525261, -0.025085097178816795, -0.008853930048644543, 0.03820710629224777, -0.04413880407810211, 0.0017243666807189584, -0.02973325364291668, 0.030156945809721947, 0.002398848067969084, -0.01420616451650858, 0.002568636555224657, 0.028661560267210007, 0.0489240363240242, -0.03970249369740486, 0.01642432063817978, 0.0033552718814462423, 0.02238094061613083, -0.03416956588625908, -0.04022587835788727, 0.018206322565674782, -0.04418864846229553, 0.021857555955648422, -0.007807159796357155, -0.0012897702399641275, -0.015589396469295025, 0.0022384056355804205, -0.027814175933599472, 0.033122796565294266, 0.00011225129128433764, -0.009501930326223373, 0.028536945581436157, -0.03155263885855675, 0.027888944372534752, -0.0015530204400420189, -0.021172169595956802, -0.04020095244050026, 0.02681725099682808, 0.027440328150987625, 0.019078630954027176, -0.023240787908434868, 0.011639085598289967, -0.03369602560997009, 0.0038070029113441706, -0.02960863895714283, 0.016848012804985046, 0.033446796238422394, -0.033521562814712524, -0.03085479326546192, 0.008791621774435043, 0.02223140187561512, -0.010679546743631363, -0.00924023799598217, 0.0314280241727829, -0.033197563141584396, 0.012355624698102474, 0.016411859542131424, 0.02022509276866913, 0.006268158555030823, -0.017296629026532173, -0.03307294845581055, 0.0019050592090934515, -0.0097573921084404, 0.037708643823862076, 0.04321664944291115, -0.02433740347623825, -0.004455003421753645, 0.006486235652118921, 0.0026434059254825115, 0.024063250049948692, 0.02644340507686138, -0.021097401157021523, 0.011040931567549706, -0.03157756105065346, 0.034668028354644775, 0.049497269093990326, -0.018031859770417213, 0.010592316277325153, 0.012162471190094948, 0.03085479326546192, -0.018231244757771492, 0.009875777177512646, 0.018144013360142708, -0.004906734451651573, 0.01477939635515213, -0.05807081237435341, 0.003240002552047372, 0.009171699173748493, 0.003286733292043209, -0.007894390262663364, 0.011439701542258263, 0.03115387074649334, -0.009053315035998821, -0.0008193468092940748, 0.03240002319216728, -0.002420655684545636, -0.0024673864245414734, -0.03805756941437721, 0.008006544783711433, 0.006062543019652367, 0.03404495120048523, 0.0410732626914978, -0.00970754586160183, -0.00040733686182647943, -0.030406177043914795, 0.009769854135811329, -0.01401924155652523, -0.01906616799533367, -0.00368238752707839, -0.005744773894548416, -0.0022835787385702133, 0.03451848775148392, 0.02139647863805294, 0.01149577833712101, -0.001583395409397781, -0.006542312912642956, -0.01637447439134121, 0.04406403377652168, 0.026318790391087532, 0.04610772803425789, -0.012368086725473404, -0.0013037894386798143, 0.031627409160137177, -0.02370186522603035, -0.02532186545431614, 0.02124693989753723, -0.02644340507686138, -0.01322170253843069, -0.026991713792085648, 0.046680960804224014, 0.03419448807835579, -0.015215550549328327, 0.010972392745316029, 0.030555715784430504, 0.03147787228226662, 0.043789878487586975, -0.005096773151308298, -0.036487411707639694, 0.013383702374994755, 0.005411427468061447, 0.016025550663471222, 0.0016340204747393727, 0.0195147842168808, -0.010997315868735313, 0.0029907715506851673, -0.022704940289258957, -0.01975155435502529, -0.0011737220920622349, -0.0002780483046080917, 0.0148292426019907, -0.011302623897790909, -0.010642162524163723, -0.004520426504313946, 0.00018137393635697663, 0.01786985993385315, -0.0029050984885543585, -0.030630486086010933, -0.00886016059666872, -0.034568335860967636, -0.0019253091886639595, -0.016187550500035286, -0.013645394705235958, -0.006227658595889807, -0.0033334640320390463, 0.04705480486154556, -0.018792014569044113, -0.01848047599196434, 0.0010125007247552276, 0.0077074673026800156, 0.01172631699591875, 0.008679468184709549, 0.003040617797523737, 0.007389698177576065, 0.033496640622615814, -0.012810471467673779, 0.028761252760887146, -0.006922389846295118, -0.023564787581562996, -0.010723162442445755, -0.02367694117128849, -0.04630711302161217, -0.024848327040672302, -0.05303634703159332, 0.011040931567549706, 0.002280463231727481, -0.007813390344381332, 0.008916237391531467, -0.009209084324538708, 0.0019066168460994959, -0.016573859378695488, 0.00017874533659778535, 0.01786985993385315, -0.013857241719961166, 0.04473695904016495, -0.023352941498160362, 0.024673866108059883, -0.03845633566379547, 0.009115622378885746, -0.004037541802972555, -0.006430158857256174, 0.006548543460667133, 0.03257448598742485, 0.016748320311307907, 0.005427004303783178, -0.02162078581750393, 0.02431247942149639, -0.004841311369091272, -0.00506250374019146, -0.00783208291977644, 0.03576464205980301, -0.013944472186267376, -0.014343242160975933, 0.002864598296582699, -0.010554931126534939, -0.031602486968040466, 0.011439701542258263, 0.01634955033659935, -0.025571096688508987, -0.009632776491343975, -0.015601858496665955, 0.046606190502643585, -0.0337209478020668, -0.012137548066675663, -0.02093540132045746, 0.019427552819252014, 0.0009221545769833028, -0.008691930212080479, 0.02791386842727661, -0.027614790946245193, -0.02276724763214588, 0.021583400666713715, -0.004078041762113571, -0.009389776736497879, -0.004803926683962345, -0.01855524443089962, -0.049472346901893616, -0.04406403377652168, -0.021944785490632057, 0.007825852371752262, 0.007719928864389658, 0.0003245843981858343, 0.028836023062467575, 0.042444031685590744, -0.08139882981777191, -0.021084940060973167, 0.019402630627155304, -0.0020109822507947683, -0.019452476873993874, 0.022418325766921043, 0.011321316473186016, 0.030705254524946213, 0.006093697156757116, -0.0008543948642909527, 0.033197563141584396, 0.04458741843700409, -0.01332139503210783, -0.014742011204361916, 0.036387719213962555, -0.0195147842168808, 0.012642240151762962, -0.007514313329011202, 0.057024043053388596, -0.036138489842414856, -0.04755326732993126, -0.0012523855548352003, -0.054132964462041855, 0.029184944927692413, 0.006308658514171839, -0.0016449243994429708, -0.02149617113173008, 0.002912886906415224, 0.0027711368165910244, -0.01703493669629097, -0.033122796565294266, -0.037783414125442505, -0.03135325387120247, -0.03384556621313095, -0.05086803808808327, 0.039204031229019165, 0.013034779578447342, 0.022754786536097527, 0.017296629026532173, 0.002942482940852642, 0.03299817815423012, 0.001486818422563374, 0.012118855491280556, 0.019714169204235077, 0.019714169204235077, -0.01629970408976078, 0.003218194702640176, 0.01701001264154911, -0.008455160073935986, 0.011956855654716492, 0.030431101098656654, 0.023427709937095642, 0.002573309699073434, -0.006928620859980583, 0.022518018260598183, 0.03888003155589104, -0.029932638630270958, 0.012044086121022701, 0.014405549503862858, 0.02686709724366665, 0.003548425855115056, -0.030879715457558632, 0.03090463951230049, 0.015414934605360031, -0.006610851269215345, 0.002758675254881382, -0.022804632782936096, 0.00783208291977644, 0.03252464160323143, -0.0049254270270466805, -0.03526617959141731, 0.012218547984957695, -0.021172169595956802, -0.0037197722122073174, -0.008448929525911808, 0.0012235682224854827, 0.028860945254564285, -0.018144013360142708, 0.024200325831770897, 0.042344339191913605, 0.08144868165254593, -0.002624713582918048, 0.010293238796293736, 0.03259940817952156, -0.04040033742785454, 0.008311852812767029, -0.009483237750828266, -0.0035390795674175024, -0.020449399948120117, 0.025334326550364494, 0.008878853172063828, -0.003713541431352496, -0.0005366253899410367, 0.025060173124074936, 0.014243549667298794, 0.02309124916791916, 0.00024085835320875049, 0.042095109820365906, 0.005595235154032707, 0.0055921198800206184, 0.03848126158118248, 0.026069559156894684, -0.03666187450289726, -0.001200202852487564, -0.03745941445231438, 0.012318240478634834, -0.027589866891503334, -0.007520544342696667, 0.026468327268958092, 0.030007407069206238, 0.021583400666713715, 0.008934929966926575, -0.03735972195863724, 0.06031389161944389, -0.014555088244378567, -0.013171856291592121, 0.06395266205072403, -0.04097357019782066, -0.01223100908100605, 0.015103396028280258, -0.013333856128156185, 0.023913711309432983, 0.002046809298917651, 0.023427709937095642, -0.034668028354644775, 0.0008738660835660994, -0.047952037304639816, -0.024474481120705605, -0.023427709937095642, 0.005819542799144983, 0.016436781734228134, 0.0266178660094738, -0.02235601656138897, 0.003959656693041325, -0.000666303385514766, 0.01403170358389616, 0.03583941236138344, -0.0344686433672905, -0.06784066557884216, -0.015203088521957397, -0.013072163797914982, -0.020162785425782204, 0.00937731470912695, -0.025720635429024696, -0.03097940795123577, -0.029209868982434273, 0.04172126203775406, -0.013782472349703312, -0.013670317828655243, -0.014442934654653072, -0.019253091886639595, -0.016262320801615715, 0.001810039859265089, 0.0403006449341774, -0.00990070030093193, 0.024599095806479454, -0.0013544145040214062, -0.021608324721455574, -0.02841232903301716, -0.02945910021662712, -0.013495856896042824, 0.0415717251598835, 0.010349315591156483, -0.001271077897399664, -0.014617395587265491, -0.03805756941437721, -0.012530086562037468, 0.00952062290161848, -0.004657503683120012, -0.03556525707244873, -0.018779553472995758, -0.01617508940398693, 0.016735859215259552, -0.0410732626914978, 0.00238015572540462, 0.029085252434015274, -0.0021620786283165216, -0.018841860815882683, 0.009396007284522057, 0.028661560267210007, 0.0024440211709588766, 0.02985786832869053, -0.006822697352617979, -0.002020328538492322, 0.05208927020430565, 0.012798009440302849, 0.045409880578517914, 0.02101016975939274, -0.037808336317539215, 9.43378108786419e-05, 0.0365123376250267, 0.024549249559640884, -0.020013246685266495, 0.014604934491217136, -0.040774185210466385, 0.04112310707569122, 0.03860587626695633, -0.01410647202283144, 0.02985786832869053, 0.015352627262473106, -0.0007920871721580625, 0.010829085484147072, 0.008293160237371922, -0.009701315313577652, -0.011346239596605301, 0.060164354741573334, 0.02666771225631237, -0.017371397465467453, -0.0010179526871070266, 0.014891549944877625, -0.028811099007725716, 0.0074021597392857075, 0.024050787091255188, 0.006554774474352598, 0.010436546988785267, 0.021047554910182953, -0.015963243320584297, -0.027240945026278496, -0.005146619398146868, 1.949550824065227e-05, -0.014592472463846207, -0.01257370226085186, -0.01345847174525261, 0.005280580837279558, -0.0023303094785660505, -0.012056548148393631, -0.01342108752578497, 0.025870174169540405, 0.02416294254362583, 0.028711406514048576, -0.026991713792085648, -0.010885162279009819, -0.021782785654067993, 0.015601858496665955, 0.006321120075881481, -0.01396939530968666, 0.022293709218502045, -0.004134118556976318, 0.008561083115637302, 0.03414463996887207, -0.004953465424478054, 0.019128477200865746, 0.010255853645503521, 0.011670240201056004, 0.033197563141584396, 0.021134786307811737, -0.003280502511188388, 0.02641848288476467, -0.004293003119528294, -0.012717009522020817, -0.006866313051432371, 0.021097401157021523, 0.012517625465989113, -0.03132833167910576, 0.003159002400934696, -0.000599712016992271, -0.0024486943148076534, 0.0029518292285501957, -0.018343398347496986, -0.010424084961414337, 0.008436468429863453, -0.0003861132718157023, 0.0007508082780987024, -0.0026262712199240923, -0.05054403841495514, -0.0036948490887880325, -0.014754473231732845, 0.03426925837993622, -0.00419642636552453, 0.012748164124786854, -0.028512021526694298, 0.0025515020824968815, 0.033247411251068115, 0.00403131078928709, -0.012455317191779613, -0.031876638531684875, -0.022630171850323677, -0.0036979643628001213, -0.03439387306571007, -0.03995172306895256, -0.03539079800248146, -0.0126110864803195, -0.022979095578193665, 0.006430158857256174, 0.03516648709774017, -0.03992680087685585, -0.013882164843380451, -0.02377663366496563, 0.017957091331481934, 0.027041560038924217, 0.016648627817630768, -0.021147247403860092, -0.018567707389593124, 0.009396007284522057, 0.004548464901745319, -0.03215079382061958, -0.008791621774435043, 0.02387632615864277, -0.014218626543879509, -0.023639556020498276, -0.01327154878526926, 0.034717872738838196, -0.00010787027713377029, 0.021882478147745132, 0.02174540050327778, 0.003520387224853039, -0.013159395195543766, -0.03282371908426285, 0.036263104528188705, 0.006486235652118921, -0.036487411707639694, -0.014393088407814503, 0.002707271371036768, 0.006392774172127247, 0.027515098452568054, 0.04094864800572395, -0.03414463996887207, -0.0037041951436549425, -0.02666771225631237, 0.026219097897410393, -0.02838740684092045, 7.807938527548686e-05, 0.025920020416378975, -0.0025857712607830763, 0.02210678718984127, -0.00937731470912695, -0.0038942338433116674, 0.011801086366176605, 0.012131317518651485, -0.03895479813218117, 0.014791857451200485, -0.004869349766522646, 0.009078238159418106, 0.027540020644664764, -0.02821294404566288, 0.026069559156894684, -0.06031389161944389, 0.014928934164345264, 0.022680018097162247, -0.015938319265842438, -0.016262320801615715, -0.030480947345495224, 0.012760625220835209, -0.015776319429278374, -0.005825773812830448, -0.033496640622615814, -0.01563924364745617, -0.022293709218502045, 0.003794541349634528, 0.004268079996109009, 0.06559758633375168, -0.00260446360334754, 0.019901093095541, 0.018106630071997643, -0.002496982691809535, 0.010997315868735313, -0.01266093272715807, -0.0032836180180311203, -0.011682701297104359, -0.020748477429151535, -0.013695240952074528, 0.05036957561969757, 0.011520701460540295, -0.0029393676668405533, 0.04139726236462593, -0.004738503601402044, -0.02093540132045746, 0.004143464844673872, 0.02684217505156994, -0.010947469621896744, -0.0021651939023286104, 0.04306710883975029, 0.002071732422336936, -0.04047510772943497, 0.0031558871269226074, 0.03905449062585831, 0.009184161201119423, -0.01652401313185692, 0.05014526844024658, -0.023913711309432983, 0.011514469981193542, -0.03130340948700905, 0.014966319315135479, 0.006860082037746906, -0.07257605344057083, 0.005803965963423252, 0.03990187868475914, 0.006455081980675459, 0.01647416688501835, 0.04002649337053299, -0.021994631737470627, -0.002557732630521059, 0.005268119275569916, -0.017408782616257668, -0.020723555237054825, 0.007751083001494408, -0.0187546294182539, -0.043690185993909836, 0.014368165284395218, 0.006146658677607775, 0.021097401157021523, -0.0075641595758497715, 0.011439701542258263, -0.012274624779820442, -0.018218783661723137, -0.03215079382061958, -0.0036387720610946417, 0.0060282740741968155, 0.01571401208639145, 0.018031859770417213, -0.02002570778131485, 0.021683093160390854, 0.008218390867114067, -0.00037929837708361447, -0.015053549781441689, 0.0008076640660874546, -0.013196779415011406, -0.024686327204108238, -0.03591418266296387, 0.054182812571525574, -0.03728495165705681, -0.00784454494714737, 0.023377863690257072, 0.010567393153905869, -0.007819621823728085, 0.004162156954407692, -0.0013333855895325541, -0.012505163438618183, 0.01801939867436886, 0.027465252205729485, 0.012006701901555061, 0.010941239073872566, -0.00562638882547617, 0.006498697213828564, -0.025359250605106354, -0.026966789737343788, 0.010953701101243496, -0.011283932253718376, -0.04590834304690361, 0.028960637748241425, 0.024300018325448036, 0.01652401313185692, -0.006498697213828564, 0.03666187450289726, 0.02017524652183056, 0.031976331025362015, 0.004495503380894661, -0.01195062417536974, -0.02017524652183056, 0.004831965081393719, -0.004205772653222084, 0.0099505465477705, 0.014704626984894276, 0.005286811850965023, -0.030107099562883377, 0.027515098452568054, -0.02159586362540722, -0.011059624142944813, -0.01899139955639839, -0.013657856732606888, 0.011850932613015175, -0.012137548066675663, -0.002528136596083641, -0.004601426422595978, 0.0004197983944322914, -0.01069823931902647, -0.007258851546794176, 0.005445696413516998, -0.024088172242045403, -0.03698587417602539, -0.0010935008758679032, -0.029209868982434273, 0.00045601476449519396, 0.012224778532981873, 0.010548700578510761, 0.02443709596991539, 0.028462175279855728, -0.014567549340426922, -0.01696016639471054, 0.015701550990343094, -0.0071280053816735744, 0.025645865127444267, -0.014181241393089294, -0.027041560038924217, -0.011676470749080181, 0.0008224621997214854, 0.019402630627155304, -0.016561398282647133, 0.002671444322913885, -0.025720635429024696, -0.011009777896106243, 0.040923722088336945, -0.023004017770290375, -0.02960863895714283, -0.009420930407941341, 0.010847778059542179, 0.004025080241262913, -0.026019712910056114, -0.010935008525848389, 0.037883106619119644, 0.008093775250017643, 0.004997080657631159, 0.018206322565674782, -0.02958371490240097, 0.017558321356773376, -0.03544064238667488, 0.00710308225825429, -0.007850775495171547, -0.009146776050329208, -0.024898173287510872, -0.013670317828655243, 0.010442777536809444, 0.00609058141708374, 0.004274311009794474, -0.005486196372658014, 0.03235017880797386, 0.02823786810040474, -0.025944942608475685, 0.000226839110837318, 3.105651558144018e-05, 0.019552169367671013, -0.03242494910955429, 0.012156239710748196, 0.0183807834982872, 0.02948402240872383, -0.0015265396796166897, -0.008523698896169662, -0.009701315313577652, -0.00010222363926004618, 0.0010530008003115654, 0.010262085124850273, -0.03583941236138344, 0.0015670396387577057, -0.021894939243793488, 0.02428755722939968, -0.007146697957068682, -0.017147090286016464, 0.0015506838681176305, 0.009252699092030525, -0.018268629908561707, 0.025944942608475685, -0.03282371908426285, -0.003389541059732437, -0.02684217505156994, -0.004065580200403929, 0.023764172568917274, -0.031976331025362015, -0.0066856206394732, 0.011601701378822327, 0.042070187628269196, -0.015913397073745728, -0.0133712412789464, -0.009832161478698254, -0.019739091396331787, -0.006779082119464874, -0.02124693989753723, -0.006648235954344273, -0.002025001449510455, 0.02375171147286892, -0.021894939243793488, -0.009857084602117538, 0.017907245084643364, 0.00821216031908989, -0.029259715229272842, 0.01992601528763771, 0.015913397073745728, 0.02502278797328472, 0.0400514155626297, -0.03603879734873772, -0.039004646241664886, 0.007869468070566654, -0.011290162801742554, 0.011221623979508877, -0.02818802185356617, -0.012717009522020817, -0.036437567323446274, 0.026966789737343788, 0.015552012249827385, 0.012424163520336151, 0.00035495939664542675, 0.0529865026473999, -0.0034425025805830956, 0.01403170358389616, -0.006009581498801708, -0.03414463996887207, -0.013757549226284027, -0.034692950546741486, 0.011981778778135777, 0.0011924144346266985, 0.0013707702746614814, -0.028860945254564285, 0.033521562814712524, -0.012754394672811031, -0.028561867773532867, -0.034618180245161057, 0.0023349826224148273, 0.01642432063817978, -0.008448929525911808, -0.01749601401388645, 0.024624019861221313, 0.03748433664441109, 0.006411466281861067, 0.005869389045983553, 0.0034487333614379168, -0.006891236174851656, -0.06883759051561356, 0.0013030106201767921, 0.008461391553282738, 0.0133089330047369, 0.02456171065568924, -0.027614790946245193, -0.01266093272715807, 0.015390011481940746, 0.02289186418056488, -0.03307294845581055, 0.024474481120705605, -0.02529694326221943, -0.017471089959144592, -0.02235601656138897, -0.02301647886633873, 0.03125356137752533, 0.03117879293859005, -0.02975817769765854, -0.004800811409950256, 0.0023754825815558434, 0.006022043060511351, 0.0030110215302556753, -0.02684217505156994, -0.018231244757771492, -0.0011550297494977713, 0.024786019697785378, 0.03716033697128296, -0.02826279029250145, -0.018667399883270264, -0.025496328249573708, 0.02649325132369995, 0.003520387224853039, 0.036288026720285416, 0.004747849889099598, -0.003909810911864042, 0.030107099562883377, -0.027290789410471916, -0.0029627331532537937, -0.04169633984565735, -0.0033957718405872583, -0.006610851269215345, 0.011701393872499466, -0.024100633338093758, -0.020187707617878914, -0.006423927843570709, -0.026966789737343788, -0.00047003402141854167, 0.025222172960639, -0.0067541589960455894, -0.0008699718164280057, -0.0014556646347045898, 0.0027306366246193647, 0.013657856732606888, -0.04732896015048027, 0.024960480630397797, 0.004669965244829655, -0.013620472513139248, 0.005726081319153309, 0.007533005904406309, 0.01921570673584938, 0.042394187301397324, 0.0012991164112463593, -0.01617508940398693, -0.02276724763214588, 0.017658013850450516, 0.0023676941636949778, 0.02451186440885067, 0.03711048886179924, -0.032449871301651, 0.03449356555938721, -0.006691851187497377, 0.002363021019846201, -0.005679350346326828, -0.00776354456320405, -0.02801356092095375, -0.0007032986031845212, 0.00034541854984126985, 0.009072006680071354, 0.03110402449965477, 0.006392774172127247, 0.021820170804858208, 0.013632933609187603, 0.025359250605106354, 0.045285265892744064, 0.0017337128520011902, -0.01649908907711506, -0.016586320474743843, -0.012430394068360329, 0.015165704302489758, 0.024025864899158478, 0.025620942935347557, -0.004280541557818651, -0.026293866336345673, 0.010810392908751965, -0.02978309988975525, -0.025384172797203064, -0.019452476873993874, 0.026393558830022812, -0.004106080159544945, -0.005333542358130217, -0.013234163634479046, 0.014667241834104061, 0.0263686366379261, -0.021047554910182953, 0.015016165561974049, -0.004252503160387278, -0.04894896224141121, -0.018692322075366974, 0.0028895214200019836, -0.011452162638306618, 0.02818802185356617, 0.014492779970169067, -0.001558472402393818, 0.004782119300216436, 0.011321316473186016, -0.014704626984894276, -0.018119091168045998, 0.027340635657310486, -0.056974198669195175, -0.03357141092419624, -0.027515098452568054, -0.027888944372534752, 0.012056548148393631, 0.009464546106755733, -0.03289848566055298, 0.014904011972248554, -0.015489703975617886, 0.01139608584344387, -0.021845092996954918, -0.01624985784292221, 0.002333424985408783, -0.02656801976263523, -0.020262477919459343, -0.032449871301651]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-14T10:14:21.607035", "url_path": "/api/agent/", "chunk_size": 4681}
updated_dt: 2025-03-14T10:14:21.607035
---
```
system_prompt(func: Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[[], str[](https://docs.python.org/3/library/stdtypes.html#str)]) -> Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[[], str[](https://docs.python.org/3/library/stdtypes.html#str)]

```

```
system_prompt(
  func: Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[[], Awaitable[](https://docs.python.org/3/library/collections.abc.html#collections.abc.Awaitable "collections.abc.Awaitable")[str[](https://docs.python.org/3/library/stdtypes.html#str)]],
) -> Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[[], Awaitable[](https://docs.python.org/3/library/collections.abc.html#collections.abc.Awaitable "collections.abc.Awaitable")[str[](https://docs.python.org/3/library/stdtypes.html#str)]]

```

```
system_prompt(*, dynamic: bool[](https://docs.python.org/3/library/functions.html#bool) = False) -> Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[
  [SystemPromptFunc[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.SystemPromptFunc "pydantic_ai._system_prompt.SystemPromptFunc")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")]],
  SystemPromptFunc[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.SystemPromptFunc "pydantic_ai._system_prompt.SystemPromptFunc")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")],
]

```

```
system_prompt(
  func: SystemPromptFunc[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.SystemPromptFunc "pydantic_ai._system_prompt.SystemPromptFunc")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")] | None = None,
  /,
  *,
  dynamic: bool[](https://docs.python.org/3/library/functions.html#bool) = False,
) -> (
  Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[
    [SystemPromptFunc[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.SystemPromptFunc "pydantic_ai._system_prompt.SystemPromptFunc")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")]],
    SystemPromptFunc[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.SystemPromptFunc "pydantic_ai._system_prompt.SystemPromptFunc")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")],
  ]
  | SystemPromptFunc[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.SystemPromptFunc "pydantic_ai._system_prompt.SystemPromptFunc")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")]
)

```

Decorator to register a system prompt function.
Optionally takes [`RunContext`](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext) as its only argument. Can decorate a sync or async functions.
The decorator can be used either bare (`agent.system_prompt`) or as a function call (`agent.system_prompt(...)`), see the examples below.
Overloads for every possible signature of `system_prompt` are included so the decorator doesn't obscure the type of the function, see `tests/typed_agent.py` for tests.
Parameters:
Name | Type | Description | Default  
---|---|---|---  
`func` |  `SystemPromptFunc[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.SystemPromptFunc "pydantic_ai._system_prompt.SystemPromptFunc")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")] | None` |  The function to decorate |  `None`  
`dynamic` |  `bool[](https://docs.python.org/3/library/functions.html#bool)` |  If True, the system prompt will be reevaluated even when `messages_history` is provided, see [`SystemPromptPart.dynamic_ref`](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.SystemPromptPart.dynamic_ref) |  `False`  
Example: 
```
frompydantic_aiimport Agent, RunContext
agent = Agent('test', deps_type=str)
@agent.system_prompt
defsimple_system_prompt() -> str:
  return 'foobar'
@agent.system_prompt(dynamic=True)
async defasync_system_prompt(ctx: RunContext[str]) -> str:
  return f'{ctx.deps} is the best'

```

Source code in `pydantic_ai_slim/pydantic_ai/agent.py`
```
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837
838
839
840
841
842
843
844
845
846
847
848
849
850
851
852
853
854
855
856
857
858
```
|