---
url: https://ai.pydantic.dev/api/agent/
session_id: pydantic_ai_docs
chunk_number: 29
title: Synchronously Running the Agent
summary: The `run_sync` method allows users to execute the agent synchronously with a user prompt, providing various optional parameters like message history, model settings, and usage limits. It serves as a convenience wrapper around the asynchronous `self.run` method but should not be used within async contexts due to event loop constraints.
embedding: [0.011799413710832596, 0.04494553431868553, -0.016055434942245483, -0.046616461127996445, -0.016285490244627, 0.0370267890393734, 0.03145702928304672, 0.040078047662973404, 0.014142344705760479, -0.022605957463383675, -0.015813272446393967, -0.00737387640401721, -0.006883495487272739, -0.03184449300169945, -0.008542315103113651, -0.02862371876835823, -0.04782727733254433, -0.0031905032228678465, 0.0019948212429881096, -0.0007423822535201907, 0.018452852964401245, -0.0028212040197104216, -0.0027182844933122396, 0.033273257315158844, -0.02358671836555004, 4.9615126044955105e-05, -0.05303379148244858, 0.06286562979221344, -0.03421769291162491, 0.004843268543481827, -0.020789731293916702, -0.01312525849789381, -0.023962071165442467, -0.05114491656422615, 0.008935830555856228, -0.017108846455812454, 0.007180145941674709, 0.03617921844124794, -0.021600978448987007, 0.01792009361088276, 0.011684386059641838, -0.07938117533922195, 0.03143281489610672, -0.00663527799770236, 0.018307555466890335, 0.027340251952409744, 0.01687879115343094, 0.027509765699505806, 0.060395561158657074, -0.0012214118614792824, -0.053372822701931, 0.025378728285431862, 0.0018994694110006094, 0.0019509291741997004, -0.019191451370716095, -0.02313871681690216, 0.03472623601555824, 0.0051853246986866, -0.03956950455904007, -0.049280259758234024, 0.014590347185730934, -0.010927625000476837, -0.01207184698432684, 0.017556849867105484, -0.021298274397850037, 0.014336075633764267, 0.006895603612065315, 0.03540429472923279, -0.012870986945927143, 0.012205037288367748, 0.026613760739564896, 0.025281863287091255, -0.05022469535470009, -0.009813672862946987, -0.022908661514520645, -0.009202210232615471, 0.025838838890194893, 0.039375774562358856, 0.012701472267508507, -0.012205037288367748, 0.0229934174567461, -0.0017889824230223894, -0.0052488925866782665, 0.03540429472923279, -0.0007998960791155696, -0.013803315348923206, -0.0800108015537262, -0.013766990974545479, -0.0019251992926001549, -0.07003366202116013, 0.013984938152134418, 0.027533981949090958, -0.019082479178905487, 0.02951972186565399, 0.07870311290025711, 0.03763219714164734, -0.015546892769634724, 0.017835337668657303, 0.03496839851140976, 0.046471163630485535, 0.01925199292600155, -0.033878665417432785, -0.017157278954982758, -0.0207534059882164, 0.008245664648711681, 0.004716132767498493, 0.00108443817589432, 0.010509893298149109, -0.028042525053024292, -0.01583748869597912, -0.02579040639102459, 0.04242703318595886, -0.030415726825594902, 0.004628348629921675, -0.04758511483669281, -0.05739273503422737, -0.01089130062609911, -0.04789992794394493, -0.007349660154432058, -0.01853761076927185, -0.02654111199080944, 0.017823228612542152, -0.029398640617728233, 0.001291033811867237, 0.03010091558098793, -0.013149474747478962, -0.025693541392683983, -0.05279162898659706, 0.015922246500849724, -0.017229927703738213, 0.04317773878574371, -0.00955334771424532, -0.003832236398011446, 0.00919615663588047, -0.021128758788108826, 0.0036990465596318245, -0.056714676320552826, -0.010388811118900776, -0.0399811826646328, 0.03322482481598854, -0.034919966012239456, -0.00014614941028412431, -0.03203822299838066, -0.0054184067994356155, -0.016975656151771545, 0.054777368903160095, -0.05918474495410919, 0.018016960471868515, -0.08964890241622925, 0.0020493080373853445, 0.010782326571643353, -0.012435092590749264, -0.035815972834825516, 0.010788381099700928, 0.008045880123972893, -0.007174091879278421, -0.002816663356497884, 0.019784752279520035, 0.004125859588384628, -0.02238800935447216, -0.04179741069674492, 0.013415854424238205, -0.021407248452305794, -0.01777479611337185, -0.028405770659446716, -0.046035267412662506, 0.003671803046017885, 0.0028393662068992853, -0.02799409255385399, -0.03671197593212128, 0.004546618554741144, 0.013500611297786236, -0.04509083181619644, 0.03576754033565521, 0.026323165744543076, -0.04620478302240372, -0.06402800977230072, -0.04165210947394371, -0.019191451370716095, -0.052694763988256454, -0.01702408865094185, 0.0066110617481172085, -0.033733367919921875, -0.01807750016450882, -0.05816765874624252, -5.3919200581731275e-05, 0.000724976765923202, -0.01601911149919033, 0.008869235403835773, 0.02712230384349823, 0.01867080107331276, 0.059523772448301315, 0.026032568886876106, -0.001546818995848298, -0.05652094632387161, -0.005015810020267963, 0.049740370362997055, -0.028575286269187927, 0.03353963419795036, 0.003154178848490119, 0.020511243492364883, -0.0056908405385911465, 0.04935290664434433, -0.01603121869266033, 0.014178669080138206, -0.03138438239693642, 0.0003660829970613122, -0.005863382015377283, -0.026008352637290955, -0.0026607706677168608, 0.0534212552011013, -0.02270282246172428, 0.010800489224493504, -0.0009013020317070186, -0.022024763748049736, -0.00682295486330986, -0.01193260308355093, -0.012895203195512295, -0.028962746262550354, 0.009529131464660168, 0.007616039831191301, 0.030803188681602478, 0.004346833564341068, -0.014311859384179115, 0.015219971537590027, 0.03453250601887703, 0.00671398127451539, -0.03751111775636673, -0.02092292159795761, 0.055794455111026764, 0.013658017851412296, -0.0222306028008461, 0.00663527799770236, -0.023235581815242767, 0.07497379928827286, -0.019046153873205185, 0.03303109109401703, 0.008027717471122742, 0.03174762800335884, -0.03206243738532066, -0.02432531677186489, 0.023949963971972466, 0.031045353040099144, -0.01201130636036396, 0.004319590050727129, 0.023308230563998222, 0.0009520049788989127, -0.02951972186565399, 0.028260473161935806, 0.027316035702824593, 0.02310239151120186, -0.04136151447892189, -0.02310239151120186, -0.03799544274806976, -0.03099692054092884, -0.0019312533549964428, -0.019215669482946396, -0.008275935426354408, -0.02163730375468731, -0.0011313572758808732, 0.01896139606833458, 0.014529806561768055, -0.026274733245372772, 0.028962746262550354, 0.013004176318645477, -0.012077901512384415, 0.020196430385112762, -0.026492679491639137, 0.026589544489979744, -0.016406573355197906, 0.010528055019676685, -0.013573260977864265, 0.004346833564341068, -0.03603392094373703, -0.06194540485739708, -0.004816025495529175, 0.053372822701931, 0.03482310101389885, -0.014929375611245632, -0.01689090020954609, -0.024676453322172165, 0.037147872149944305, 0.019494157284498215, 0.045454077422618866, -0.003514396958053112, 0.0005164892063476145, -0.003007367253303528, -0.012247416190803051, 0.006096464581787586, 0.020353836938738823, -0.007712905295193195, 0.013670125976204872, 0.04269341379404068, -0.005712029989808798, 0.022557523101568222, -0.030875837430357933, 0.03930312395095825, 0.02520921267569065, -0.010818651877343655, 0.0053275953978300095, 0.034072395414114, -0.005557650700211525, 0.020947137847542763, -0.018004851415753365, 1.1162221198901534e-05, 0.050902754068374634, -0.02799409255385399, -0.022315360605716705, 0.011139517650008202, -0.021395139396190643, 0.0035446672700345516, 0.08281989395618439, -0.03811652585864067, -0.017435766756534576, 0.03424191102385521, -0.030004048720002174, 0.056278783828020096, -0.010854976251721382, 0.0259357038885355, -0.00019306858303025365, -0.015946462750434875, 0.0034871534444391727, 0.02444639801979065, 0.0099952956661582, -0.04402531310915947, -0.00025786622427403927, 0.02520921267569065, -0.020789731293916702, -0.04637429863214493, 0.065141960978508, -0.014590347185730934, -0.02179470844566822, -0.03511369973421097, -0.009680483490228653, 0.025669323280453682, 0.0029362316709011793, -0.019627345725893974, -0.013827532529830933, 0.04521191492676735, 0.06470607221126556, -0.03007669933140278, 0.0236956924200058, -0.04194270819425583, -0.012053685262799263, 0.024664346128702164, 0.01972421258687973, 0.03821339085698128, 0.010776272974908352, -0.005433542188256979, 0.007840041071176529, 0.011042652651667595, 0.019155127927660942, 0.01067940704524517, 0.010885246098041534, -0.009081128984689713, 0.004809971433132887, -0.029011178761720657, 0.017169388011097908, -0.037002574652433395, 0.009529131464660168, -0.03191713988780975, 0.01764160580933094, 0.011248491704463959, -0.0012758986558765173, -0.019300425425171852, 0.01193260308355093, -0.021116651594638824, -0.014069695957005024, -0.009831835515797138, 0.006756359711289406, 0.07371454685926437, 0.04058659076690674, 0.011859954334795475, 0.012017360888421535, -0.023066068068146706, 0.00674425158649683, -0.024967050179839134, 0.022460658103227615, 0.03690570592880249, 0.05385714769363403, 0.03174762800335884, 0.02709808759391308, 0.0163218155503273, -0.0244585070759058, 0.00837885495275259, 0.06155794486403465, -0.003950290847569704, -0.012483525089919567, -0.019506264477968216, 0.002471580635756254, 0.06862911581993103, -0.0815122127532959, 0.003680884139612317, 0.010086107067763805, -0.014832510612905025, 0.03976323455572128, 0.011006328277289867, 0.028429986909031868, 0.02402261272072792, 0.026589544489979744, 0.02179470844566822, 0.01662451960146427, -0.02772771380841732, 0.051968272775411606, 0.0038564526475965977, 0.00404110224917531, 0.03797122836112976, 0.0053215413354337215, 0.016430789604783058, 0.052694763988256454, 0.048238955438137054, -0.0007268686895258725, 0.03305530920624733, -0.03630029782652855, -0.016370248049497604, -0.04012648016214371, 0.003014934714883566, -0.024785427376627922, 0.0415310300886631, 0.09749499708414078, -0.026153650134801865, -0.09391097724437714, 0.01765371486544609, 0.02388942241668701, -0.004773646593093872, 0.038019660860300064, 0.035598024725914, -0.05007939785718918, 0.008990317583084106, 0.008227502927184105, 0.01528051309287548, 0.01305260881781578, 0.013621693477034569, 0.001452980563044548, -0.016043327748775482, 0.005987490992993116, 0.003744452027603984, 0.018622368574142456, -0.001758711994625628, -0.004604132380336523, 0.0489170141518116, 0.0004555699706543237, 0.00737387640401721, 0.051193349063396454, -0.026008352637290955, 0.019518373534083366, -0.044122178107500076, 0.005145973060280085, 0.0341208279132843, -0.018864531069993973, -0.01512310653924942, -0.009426211938261986, -0.035331644117832184, 0.010951841250061989, -0.05405087769031525, -0.021564653143286705, 0.08199653774499893, 0.013379530049860477, 0.05070902407169342, 0.025257647037506104, 0.028090957552194595, -0.020511243492364883, -0.023066068068146706, 0.01603121869266033, -0.013500611297786236, 0.01691511645913124, 0.01794430986046791, 0.03215930238366127, -0.01973631978034973, 0.045429859310388565, 0.023223472759127617, -0.039956968277692795, 0.004761538468301296, 0.02014799788594246, -0.012870986945927143, -0.023683583363890648, 0.03617921844124794, 0.04249968379735947, -0.014977808110415936, -0.0005845976411364973, 0.0237441249191761, -0.012931527569890022, 0.038891445845365524, 0.013464286923408508, -0.02043859474360943, -0.018864531069993973, -0.020547566935420036, -0.04029599577188492, -0.036397162824869156, 0.028696367517113686, 0.04489710181951523, 0.0027273655869066715, 0.0020614161621779203, -0.012580390088260174, 0.04848111793398857, -0.016091760247945786, -0.0005259487079456449, 0.021443571895360947, -0.03511369973421097, -0.009165885858237743, -0.020632324740290642, 0.00249882391653955, -0.01925199292600155, 0.03378180041909218, 0.0019024964421987534, -0.014590347185730934, 0.004089535214006901, -0.00031575842876918614, 0.014457156881690025, 0.022048979997634888, -0.050176262855529785, 0.008469666354358196, 0.016115976497530937, 0.0033358014188706875, -0.01587381400167942, 0.009504915215075016, -0.008185124024748802, 0.006314411759376526, 0.008306206203997135, -0.01105476077646017, -0.01029799971729517, -0.02712230384349823, -0.01986951008439064, -0.014675104059278965, -0.002963474951684475, 0.018440745770931244, 0.025233430787920952, -0.05942690744996071, 0.009359616786241531, -0.0004884890513494611, 0.0003337314701639116, 0.033588066697120667, -0.011999198235571384, 0.034169260412454605, 0.0006023815367370844, 0.00467072706669569, -0.0010102755622938275, 0.02951972186565399, -0.033152174204587936, -0.021758385002613068, -0.011508816853165627, 0.009002425707876682, -0.03157811239361763, -0.010116377845406532, -0.021080326288938522, 0.001441629254259169, 0.027509765699505806, -0.019082479178905487, 0.021395139396190643, -0.019336750730872154, 0.027824578806757927, -0.004050183575600386, 0.02327190525829792, -0.01474775280803442, 0.042015355080366135, -0.0016224950086325407, -0.017314685508608818, -0.008070096373558044, 0.027340251952409744, -0.02210952155292034, -0.014057587832212448, -0.00837885495275259, 0.025766190141439438, -0.015619541518390179, -0.002028118818998337, 0.043637849390506744, 0.041434165090322495, -0.022036872804164886, -0.021915791556239128, 0.04882014915347099, 0.014517697505652905, 0.025572458282113075, 0.01466299593448639, -0.00010490595741430297, -0.0030134213156998158, -0.027897227555513382, 0.017084630206227303, 0.015098890289664268, -0.06954933702945709, 0.03494418412446976, -0.00017887931608129293, -0.03903674706816673, 0.02047491818666458, 0.016249166801571846, -0.0001163519627880305, 0.007131712976843119, -0.05666624382138252, 0.017556849867105484, -0.008421233855187893, 0.028260473161935806, -0.015789056196808815, -0.02460380457341671, 0.019482048228383064, -0.007616039831191301, -0.03608235344290733, 0.01105476077646017, -0.00341147743165493, 0.0004563267284538597, -0.02296920120716095, 0.002957420889288187, 0.049425557255744934, -0.014154452830553055, 0.005572786089032888, 0.03247411549091339, 0.03337012231349945, -0.006041977554559708, 0.04998253285884857, -0.0024307153653353453, -0.021407248452305794, -0.005115702748298645, -0.006063167005777359, -0.0370510071516037, -0.0207534059882164, -0.02388942241668701, -0.014045478776097298, 0.03528321161866188, -0.040392860770225525, 0.018041176721453667, 0.07298805564641953, -0.01053410954773426, -0.00452845636755228, 0.029568156227469444, 0.004461861215531826, 0.02920491062104702, 0.01119400467723608, -0.020850270986557007, -0.051871407777071, 0.00985605176538229, -0.012096063233911991, 0.05574602261185646, -0.03814074024558067, 0.03470202162861824, 0.02433742582798004, 0.02045070193707943, -0.03988431766629219, -0.0031390434596687555, -0.008857127279043198, -0.018404420465230942, -0.013900181278586388, -0.005575812887400389, 0.03424191102385521, 0.022194279357790947, 0.0017450902378186584, -0.010939733125269413, 0.002816663356497884, 0.01438450813293457, -0.02755819819867611, 0.00845755822956562, 0.016963548958301544, -0.021019786596298218, -0.03126329928636551, -0.05753803253173828, 0.022884445264935493, -0.015050457790493965, 0.018803991377353668, -0.024845968931913376, -0.01647922210395336, -0.003674830077216029, -0.0214677881449461, -0.017229927703738213, 0.011212167330086231, 0.018610259518027306, -0.012762012891471386, 0.022412225604057312, -0.02356250211596489, 0.013718558475375175, 0.02104400284588337, 0.04932869225740433, 0.03053680993616581, -0.005972355604171753, -0.04656802862882614, 0.015292621217668056, 0.033563852310180664, 0.009547293186187744, -0.0014794672606512904, 0.009280913509428501, 0.006175167392939329, -0.04407374560832977, -0.017799012362957, 0.0047433762811124325, -0.01429975125938654, -0.005200459621846676, -0.034023962914943695, 0.05308222398161888, 0.04850533604621887, -0.0251849964261055, -0.007718959357589483, -0.011563303880393505, 0.0027349332813173532, 0.036518245935440063, -0.018731342628598213, -0.027509765699505806, -0.008717883378267288, 0.030343078076839447, 0.018598152324557304, 0.009759186767041683, 0.007367822341620922, -0.010528055019676685, 0.008778424933552742, -0.04540564492344856, -0.02018432319164276, -0.019312534481287003, 0.010624920949339867, 0.02371990866959095, -0.008330422453582287, -0.04341990500688553, -0.020487027242779732, -0.0017693066038191319, 0.009353562258183956, -0.009408049285411835, -0.02149200439453125, 0.0076039317063987255, -0.025863055139780045, 0.0325951986014843, 0.0015430351486429572, -0.021261949092149734, -0.005851273890584707, 0.016237057745456696, -0.004280238877981901, -0.013633801601827145, -0.002135578775778413, 0.012798337265849113, -0.005409325938671827, 0.017254143953323364, 0.012023414485156536, -0.0430082269012928, 0.002111362526193261, 0.048238955438137054, -0.017314685508608818, 0.044388558715581894, -0.008748154155910015, -0.03487153351306915, 0.004649538081139326, -0.03484731912612915, -0.03840712085366249, -0.033297471702098846, -0.043831583112478256, 0.004797862842679024, 9.885187319014221e-05, -0.009426211938261986, -0.011696494184434414, -0.033273257315158844, -0.0032964497804641724, -0.012344281189143658, 0.02240011841058731, -0.024083154276013374, 0.01503834966570139, 0.03274049609899521, -0.01853761076927185, 0.015098890289664268, -0.048408471047878265, 0.007416255306452513, 0.0010064918315038085, 0.012120279483497143, 0.03024621307849884, 0.027921443805098534, 0.0074344174936413765, -0.00259417574852705, -0.05942690744996071, 0.023610934615135193, -0.006326519884169102, 0.0044981855899095535, -0.0002171903324779123, 0.014529806561768055, 0.010770218446850777, 0.021455680951476097, 0.018791882321238518, 0.01795641891658306, -0.019917942583560944, -0.008154853247106075, -0.05279162898659706, 0.01645500585436821, -0.01881609857082367, 0.0340966135263443, 0.020523350685834885, -0.04940133914351463, 0.017133062705397606, -0.012762012891471386, 0.03145702928304672, -0.0061509511433541775, -0.026129433885216713, 0.01334320567548275, -0.012083955109119415, 0.0032419629860669374, 0.018949288874864578, -0.026783276349306107, -0.008723937906324863, -0.015171539038419724, -0.018138041719794273, -0.01259249821305275, -0.05419617518782616, -0.016406573355197906, 0.0061963568441569805, 0.009892376139760017, 0.028357338160276413, 0.013936505652964115, -0.010049782693386078, -0.08708196878433228, 0.005948139354586601, 0.0004366509383544326, -0.014021262526512146, 0.013028392568230629, -0.005000675097107887, -0.00874209962785244, 0.02625051699578762, -0.02062021568417549, 0.019385183230042458, 0.01503834966570139, 0.008215394802391529, -0.024252668023109436, -0.05468050390481949, 0.009432265534996986, -0.001038275775499642, 0.010806543752551079, -0.015910137444734573, 0.06460920721292496, -0.02784879505634308, -0.03574332222342491, -0.021455680951476097, -0.07647521048784256, 0.020959245041012764, -0.00905691273510456, -0.02031751163303852, -0.00745257968083024, 0.03538007661700249, 0.0012531958054751158, -0.03126329928636551, -0.041143566370010376, -0.01658819615840912, -0.0016240085242316127, -0.020099565386772156, -0.037729062139987946, 0.037438467144966125, 0.006187275983393192, 0.05511639639735222, -0.010243513621389866, -0.012640931643545628, -0.005336676724255085, -0.02089870534837246, 0.023477744311094284, -0.006405222695320845, 0.02535451203584671, 0.0028696367517113686, -0.012495633214712143, 0.005270081572234631, 0.0034478018060326576, 0.017992742359638214, 0.004710078705102205, 0.010582542046904564, -0.003154178848490119, 0.011309032328426838, 0.017520524561405182, 0.035646457225084305, -0.03932734206318855, 0.012919419445097446, -0.017786905169487, 0.00693192845210433, 0.004897755570709705, -0.014057587832212448, -0.0005584894097410142, -0.016261273995041847, 0.00022532550792675465, 0.011399843730032444, -0.010703624226152897, 0.005360892973840237, 0.014880943112075329, -0.02755819819867611, -0.0199905913323164, 0.011884170584380627, -0.010249567218124866, -0.00911745335906744, 0.03622765094041824, 0.011696494184434414, 0.00859680213034153, 0.01598278619349003, 0.0032449900172650814, 0.006665548775345087, 0.049449771642684937, -0.014844618737697601, 0.044533856213092804, -0.001505953841842711, -0.03390287980437279, -0.01583748869597912, -0.001243357895873487, -0.01897350512444973, -0.016370248049497604, 0.018174365162849426, 0.034459855407476425, -0.01973631978034973, 0.01444504875689745, -0.025233430787920952, -0.02726760320365429, 0.0016482248902320862, -0.009619942866265774, 0.035598024725914, -0.00114724924787879, -0.019530480727553368, 0.0370510071516037, -0.02224271185696125, -0.030318861827254295, -0.0015876840334385633, -0.04012648016214371, 0.03085162118077278, -0.019300425425171852, 0.005148999858647585, 0.013173690997064114, 0.03244990110397339, -0.0012895202962681651, -0.008790533058345318, -0.05419617518782616, -0.00016364951443392783, -0.018053283914923668, 0.008705775253474712, 0.07066328823566437, -0.046785976737737656, -0.04712500423192978, 0.014723536558449268, -0.01806539297103882, 0.037729062139987946, 0.0050551616586744785, -0.004855376668274403, 0.0002207849465776235, 0.02398628741502762, -0.008548369631171227, -0.03186870738863945, -0.03215930238366127, 0.012713580392301083, -0.007955068722367287, 0.03864928334951401, -0.008009555749595165, -0.0006511926185339689, -0.04279027879238129, 0.006919820327311754, 0.0072406865656375885, -0.03927890956401825, -0.02608100138604641, -0.040852971374988556, 0.0060268426313996315, -0.027606630697846413, 0.018295448273420334, -0.014893051236867905, -0.059378474950790405, -0.01572851464152336, 0.014917267486453056, -0.03249833360314369, -0.022896552458405495, 0.0296408049762249, -0.01179335918277502, -0.039811667054891586, 0.029907183721661568, 0.022654389962553978, -0.025766190141439438, -0.010201134718954563, -0.014420832507312298, -0.018731342628598213, -0.01444504875689745, 0.002227903576567769, -0.00035927214776165783, 0.04162789508700371, 0.020777622237801552, 0.01584959775209427, 0.023308230563998222, -0.00948069803416729, 0.002501850947737694, 0.022569632157683372, -0.032570980489254, -0.02685592509806156, -0.018791882321238518, 0.02947128936648369, -0.008100367151200771, -0.0222306028008461, 0.03218352049589157, 0.02489440143108368, 0.006066194269806147, -0.011962873861193657, -0.004156129900366068, 0.053372822701931, 0.0088934525847435, 0.07352081686258316, 0.009571509435772896, -0.013827532529830933, -8.527747559128329e-05, 0.017714254558086395, -0.003314611967653036, 0.026177868247032166, -0.021007677540183067, -0.013500611297786236, 0.04550250992178917, 0.009208264760673046, -0.008493882603943348, 0.011430114507675171, -0.037607982754707336, 0.009268805384635925, 0.04492131620645523, -0.02091081254184246, -0.028066741302609444, -0.02091081254184246, -0.011732818558812141, 0.034072395414114, -0.0030330971349030733, -0.02547559328377247, -0.001867685467004776, 0.06736987084150314, 0.005324568599462509, 4.322995664551854e-05, -0.020378053188323975, 8.593963866587728e-05, -0.03242568299174309, 0.003895804286003113, -0.01238666009157896, -0.002014497062191367, 0.0021386058069765568, 0.012459308840334415, -0.03678462654352188, 0.00046389433555305004, -0.02743711695075035, -0.006032896693795919, 0.005687813740223646, -0.0015226026298478246, -0.003054286353290081, 0.02712230384349823, -0.004458834417164326, 0.004404347389936447, 0.0030164483468979597, 0.00843939557671547, 0.013113150373101234, 0.009753132238984108, 0.01911880262196064, 0.003983588423579931, -0.003916993737220764, -0.007949015125632286, 0.04160367697477341, -0.04019913077354431, 0.005654516164213419, -0.01400915440171957, 0.04375893250107765, 0.0103767029941082, 0.010982112027704716, 0.03184449300169945, -0.04567202553153038, -0.017036197707057, 0.03913361206650734, 0.028260473161935806, 0.003005853621289134, 0.03291001170873642, 0.01542581059038639, -0.01444504875689745, -0.009517023339867592, 6.214897439349443e-05, 0.024688562378287315, -0.022000547498464584, 0.00589365279302001, -0.01135141123086214, 0.010007403790950775, 0.026032568886876106, -0.026759060099720955, 0.010189026594161987, 0.0011147086042910814, 0.023029742762446404, -0.030149348080158234, 0.0052549466490745544, -0.013004176318645477, -0.005403271876275539, -0.002816663356497884, 0.03353963419795036, 0.043226175010204315, 0.017411550506949425, 0.014118128456175327, -0.022484874352812767, 0.03632451593875885, 0.03249833360314369, -0.024797536432743073, -0.009093237109482288, -0.007597877644002438, -0.003795911790803075, -0.005282189697027206, 0.009765240363776684, -0.017593173310160637, 0.02403472177684307, -0.03196557238698006, -0.0032419629860669374, 0.0355495922267437, -0.026637976989150047, -0.005194405559450388, -0.045889969915151596, -0.012259524315595627, -0.005551596637815237, 0.002583581255748868, 0.017520524561405182, -0.04940133914351463, 0.01748419925570488, 0.026468463242053986, -0.011799413710832596, 0.03390287980437279, 0.012943635694682598, -0.011738872155547142, -0.019203560426831245, -0.02014799788594246, 0.03390287980437279, -0.023647259920835495, -0.018791882321238518, 0.026880141347646713, 0.014880943112075329, -0.0004249211633577943, -0.013948613777756691, 0.015898030251264572, 0.0011162221198901534, -0.05618191510438919, -0.007494958117604256, 0.004598078317940235, 0.010086107067763805, 0.015571109019219875, 0.00018048743368126452, -0.020039023831486702, -0.00392910186201334, -0.03138438239693642, 0.012289794161915779, -0.009680483490228653, 0.010552271269261837, -0.012580390088260174, -0.013972830027341843, -0.008614963851869106, 0.003780776634812355, 0.009886322543025017, 0.01586170494556427, -0.015522676520049572, -0.033563852310180664, 0.011284816078841686, -0.010116377845406532, -0.024361642077565193, 0.007270957343280315, -0.0474640317261219, -0.012846770696341991, -0.022048979997634888, -0.010346433147788048, -0.004458834417164326, -0.02209741435945034, -0.007155929692089558, -0.01587381400167942, -0.012398768216371536, 0.022920768707990646, 0.01955469697713852, 0.006459709722548723, -0.026662195101380348, 0.014481373131275177, 0.033127956092357635, 0.016237057745456696, 0.071147620677948, -0.011357464827597141, 0.005727165378630161, -0.0010019511682912707, 0.0016739547718316317, -0.017145171761512756, -0.01392439752817154, 0.0015430351486429572, -0.0031269353348761797, -0.021007677540183067, -0.015450026839971542, 0.019312534481287003, -0.01750841550529003, 0.020838163793087006, 0.04288714379072189, 0.009044804610311985, 0.006980360951274633, 0.030900053679943085, 0.027509765699505806, 0.004843268543481827, 0.02401050366461277, 0.05472893640398979, 0.006574737373739481, -0.013367421925067902, 0.008021663874387741, 0.00977734848856926, 0.004240887239575386, -0.03339433670043945, 0.042015355080366135, 0.03944842517375946, 0.016103869304060936, -0.012689364142715931, -0.029713453724980354, -0.00017377118638250977, -0.06887128204107285, 0.009674428962171078, -0.005133864935487509, -0.010055836290121078, -0.009171940386295319, 0.00919615663588047, 0.012580390088260174, 0.030197780579328537, -0.005990517791360617, -0.03143281489610672, -5.04191848449409e-05, 0.024712778627872467, 0.032522547990083694, -0.009153777733445168, 0.01133324857801199, -0.023962071165442467, 0.01438450813293457, -0.006166086532175541, 0.02700122259557247, -0.017883770167827606, -0.0035386132076382637, -0.035355862230062485, -0.013766990974545479, 0.048093657940626144, 0.0003011907683685422, 0.028042525053024292, -0.012725688517093658, 0.000932329217903316, 0.009747078642249107, 0.03538007661700249, 0.0002349742135265842, -0.03056102618575096, 0.014771969988942146, 0.013367421925067902, -0.0340481773018837, 0.0741504430770874, -0.022944984957575798, -0.02654111199080944, 0.003935155924409628, -0.03838290274143219, 0.008227502927184105, 0.014638779684901237, 0.011309032328426838, -0.019070370122790337, 0.02625051699578762, 0.04274184629321098, 0.02106821909546852, -0.018041176721453667, -0.011775197461247444, -0.024845968931913376, -0.021528329700231552, 0.009438320063054562, 0.03736581653356552, 0.028575286269187927, -0.009329346008598804, 0.029253343120217323, 0.016927223652601242, 0.004401320591568947, 0.027219170704483986, -0.0011260600294917822, 0.005527380388230085, 0.01503834966570139, 0.020971354097127914, 0.01570429839193821, -0.056569378823041916, 0.024506939575076103, -0.007567607332020998, 0.026056785136461258, 0.0029301776085048914, 0.012283740565180779, -0.020487027242779732, 0.037147872149944305, -0.04308087378740311, 0.0031511515844613314, 0.012544065713882446, 0.007379930466413498, 0.002865096088498831, 0.008409125730395317, -0.021528329700231552, -0.0034508288372308016, -0.006453655660152435, -0.026880141347646713, 0.003907912410795689, 0.03513791412115097, -0.004310509189963341, -0.0076039317063987255, -0.004162183962762356, -0.014638779684901237, -0.003968453500419855, 0.027800362557172775, 0.003429639618843794, -0.0005929220351390541, 0.0030981784220784903, -0.03479888662695885, -0.0029801237396895885, -0.006895603612065315, 0.027316035702824593, -0.026880141347646713, 0.024555372074246407, -0.03276471421122551, -0.00022381199232768267, 0.011829683557152748, -0.010685461573302746, -0.006956144701689482, 0.01662451960146427, -0.02432531677186489, -0.008185124024748802, 0.05216200277209282, 0.010316162370145321, -0.008729991503059864, -0.01748419925570488, -0.016200734302401543, -0.007059064228087664, 0.022339576855301857, 0.019942158833146095, -0.004649538081139326, -0.007028793916106224, -0.002028118818998337, 0.0019070371054112911, -0.0022052007261663675, 0.004855376668274403, -0.015135214664041996, 0.00237320177257061, -0.028962746262550354, -0.012519849464297295, -0.002523040398955345, 0.024422181770205498, -0.0013281151186674833, -0.0010950327850878239, -0.01853761076927185, -0.002901420695707202, 0.0017920094542205334, 0.01955469697713852, 0.009589672088623047, -0.000572111108340323, 0.022448550909757614, 0.011968927457928658, -0.004389212466776371, 0.014336075633764267, -0.004225751850754023, 0.036808840930461884, -0.00444975309073925, -0.005306406412273645, -0.0021431464701890945, -0.014348183758556843, -0.012689364142715931, 0.0013773045502603054, -0.020123781636357307, -0.0019448751118034124, 0.02016010507941246, -0.00279850116930902, -0.01721782051026821, -0.02418001927435398, -0.0038140742108225822, -0.008421233855187893, -0.016539761796593666, -0.01571640744805336, -0.02862371876835823, -0.01675770990550518, 0.002886285539716482, 0.003729316871613264, 0.028575286269187927, -0.010649137198925018, -0.02014799788594246, 0.02697700634598732, 0.041409946978092194, -0.0027076900005340576, 0.00903269648551941, -0.02402261272072792, 0.010310107842087746, -0.0038140742108225822, 0.004655592143535614, 0.021092435345053673, 0.019227776676416397, 0.014856726862490177, -0.01884031482040882, 0.0006088140071369708, 0.0237077996134758, -0.010176918469369411, -0.022872336208820343, 0.03835868835449219, -0.003435693681240082, 0.021613087505102158, 0.02355039492249489, 0.010285891592502594, 0.007634202484041452, -0.004089535214006901, 0.010170863941311836, 0.0011654115514829755, -0.04419482871890068, -0.0021068218629807234, -0.00948069803416729, 0.0004037318576592952, 0.024676453322172165, -0.011690439656376839, -0.027316035702824593, 0.04230595380067825, 0.016576087102293968, 0.04174897447228432, -0.002657743636518717, -0.011139517650008202, -0.031021136790513992, -0.035331644117832184, -0.034072395414114, 0.025402944535017014, -0.02414369396865368, -0.014590347185730934, 0.04799679294228554, -0.019360966980457306, 0.019687887281179428, -0.01691511645913124, -0.010116377845406532, 0.020196430385112762, -0.005615164525806904, -0.021165084093809128, -0.016406573355197906, 0.03915782645344734, 0.028284689411520958, -0.024058938026428223, -0.023610934615135193, -0.002023578155785799, -0.03024621307849884, -0.0011540601262822747, -0.039521072059869766, -0.026056785136461258, 0.030778972432017326, -0.0056181917898356915, -0.011726764030754566, -0.009529131464660168, 0.013210015371441841, -0.014638779684901237, -0.019506264477968216, -0.003847371554002166, -0.04877171665430069, -0.005324568599462509, 0.004688889719545841, 0.022642280906438828, 0.010915516875684261, -0.005590948276221752, 0.0021037948317825794, -0.009577563963830471, 0.016781926155090332, -0.0020099563989788294, -0.05177454277873039, 0.013524827547371387, -0.039085179567337036, -0.021746275946497917, 0.014021262526512146, -0.0029786103405058384, -0.022763362154364586, 0.0006977333687245846, 0.0047373222187161446, 0.007876365445554256, -0.006057112943381071, 0.02105611003935337, -0.0281636081635952, 0.024991266429424286, -0.01865869201719761, 0.020269079133868217, -0.0288900975137949, -0.005230730399489403, -0.02253330685198307, 0.011545142158865929, -0.023320339620113373, -0.05768333002924919, -0.01422710157930851, -0.028405770659446716, 0.025402944535017014, 0.015764839947223663, -0.0012524389894679189, -0.0019009829265996814, -0.01959102228283882, -0.01601911149919033, 0.02166152000427246, -0.03959372267127037, 0.03068210743367672, 0.022496983408927917, -0.022206386551260948, -0.00559397554025054, -0.02683170884847641, 0.03126329928636551, 0.03605813533067703, 0.02236379310488701, -0.021104542538523674, -0.019542589783668518, 0.004516348242759705, -0.00012325739953666925, 0.02030540443956852, 0.0177626870572567, -0.02122562564909458, 0.0023414178285747766, 0.02178260125219822, -0.01988161727786064, 0.007882419973611832, 0.04165210947394371, -0.005866409279406071, 0.0029846644029021263, 0.021746275946497917, 0.03603392094373703, 0.0038988313172012568, 0.0237077996134758, 0.0018192528514191508, -0.005003701895475388, 0.0014325480442494154, 0.011442222632467747, -0.001088978722691536, -0.026420030742883682, -0.012483525089919567, 0.02091081254184246, 0.011139517650008202, -0.023308230563998222, 0.01897350512444973, -0.028405770659446716, -0.033854447305202484, -0.005270081572234631, -0.03586440533399582, -0.023901531472802162, 0.05235573649406433, 0.030924269929528236, 0.0385282039642334, 0.01364590972661972, 0.012174766510725021, -0.003995696548372507, 0.039666369557380676, -0.006374952383339405, 0.047948360443115234, -0.0061509511433541775, -0.0007397336303256452, 0.0060722483322024345, 0.0008437882061116397, -0.048553768545389175, 0.04206378757953644, 0.007833987474441528, 0.042911361902952194, 0.020099565386772156, -0.026153650134801865, -0.023344555869698524, -0.000440434756455943, 0.024288993328809738, -0.025572458282113075, -0.029422856867313385, -0.01661241240799427, -0.013682234100997448, 0.0053003523498773575, -0.0137064503505826, -0.039811667054891586, 0.0043740770779550076, -0.04174897447228432, 0.025524025782942772, -0.0004949215217493474, 0.026056785136461258, -0.002447364153340459, -0.017859553918242455, -0.023901531472802162, -0.007107496727257967]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:07.538106", "url_path": "/api/agent/", "chunk_size": 4390}
updated_dt: 2025-03-15T11:17:07.539613
---
```
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
```
| ```
defrun_sync(
  self,
  user_prompt: str | Sequence[_messages.UserContent],
  *,
  result_type: type[RunResultDataT] | None = None,
  message_history: list[_messages.ModelMessage] | None = None,
  model: models.Model | models.KnownModelName | None = None,
  deps: AgentDepsT = None,
  model_settings: ModelSettings | None = None,
  usage_limits: _usage.UsageLimits | None = None,
  usage: _usage.Usage | None = None,
  infer_name: bool = True,
) -> AgentRunResult[Any]:
"""Synchronously run the agent with a user prompt.
  This is a convenience method that wraps [`self.run`][pydantic_ai.Agent.run] with `loop.run_until_complete(...)`.
  You therefore can't use this method inside async code or if there's an active event loop.
  Example:
  ```python
  from pydantic_ai import Agent
  agent = Agent('openai:gpt-4o')
  result_sync = agent.run_sync('What is the capital of Italy?')
  print(result_sync.data)
  #> Rome
  ```
  Args:
    user_prompt: User input to start/continue the conversation.
    result_type: Custom result type to use for this run, `result_type` may only be used if the agent has no
      result validators since result validators would expect an argument that matches the agent's result type.
    message_history: History of the conversation so far.
    model: Optional model to use for this run, required if `model` was not set when creating the agent.
    deps: Optional dependencies to use for this run.
    model_settings: Optional settings to use for this model's request.
    usage_limits: Optional limits on model request count or token usage.
    usage: Optional usage to start with, useful for resuming a conversation or agents used in tools.
    infer_name: Whether to try to infer the agent name from the call frame if it's not set.
  Returns:
    The result of the run.
  """
  if infer_name and self.name is None:
    self._infer_name(inspect.currentframe())
  return get_event_loop().run_until_complete(
    self.run(
      user_prompt,
      result_type=result_type,
      message_history=message_history,
      model=model,
      deps=deps,
      model_settings=model_settings,
      usage_limits=usage_limits,
      usage=usage,
      infer_name=False,
    )
  )

```
  
---|---  
####  run_stream `async`
```
run_stream(
  user_prompt: str[](https://docs.python.org/3/library/stdtypes.html#str) | Sequence[](https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence "collections.abc.Sequence")[UserContent],
  *,
  result_type: None = None,
  message_history: list[](https://docs.python.org/3/library/stdtypes.html#list)[ModelMessage[](https://ai.pydantic.dev/api/messages/#pydantic_ai.messages.ModelMessage "pydantic_ai.messages.ModelMessage")] | None = None,
  model: Model[](https://ai.pydantic.dev/api/models/base/#pydantic_ai.models.Model "pydantic_ai.models.Model") | KnownModelName[](https://ai.pydantic.dev/api/models/base/#pydantic_ai.models.KnownModelName "pydantic_ai.models.KnownModelName") | None = None,
  deps: AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT") = None,
  model_settings: ModelSettings[](https://ai.pydantic.dev/api/settings/#pydantic_ai.settings.ModelSettings "pydantic_ai.settings.ModelSettings") | None = None,
  usage_limits: UsageLimits[](https://ai.pydantic.dev/api/usage/#pydantic_ai.usage.UsageLimits "pydantic_ai.usage.UsageLimits") | None = None,
  usage: Usage[](https://ai.pydantic.dev/api/usage/#pydantic_ai.usage.Usage "pydantic_ai.usage.Usage") | None = None,
  infer_name: bool[](https://docs.python.org/3/library/functions.html#bool) = True
) -> AbstractAsyncContextManager[](https://docs.python.org/3/library/contextlib.html#contextlib.AbstractAsyncContextManager "contextlib.AbstractAsyncContextManager")[
  StreamedRunResult[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.StreamedRunResult "pydantic_ai.result.StreamedRunResult")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT"), ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")]
]

```