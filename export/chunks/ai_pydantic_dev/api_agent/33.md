---
url: https://ai.pydantic.dev/api/agent/
session_id: pydantic_ai_docs
chunk_number: 33
title: Agent Override Context Manager
summary: This section describes the `override` method for temporarily overriding agent dependencies and models within a context manager, primarily for testing purposes. It includes parameters such as `deps` and `model`, both with optional unset states.
embedding: [-0.03575097396969795, 0.015085033141076565, 0.021011296659708023, -0.026012012735009193, -0.035308923572301865, 0.030777888372540474, 0.0010913164587691426, 0.022213125601410866, -0.02318011410534382, -0.007825706154108047, -0.013848667964339256, -0.03489449992775917, 0.006257802248001099, -0.03536418080329895, 0.0012372282799333334, -0.013068169355392456, -0.0004278064297977835, 0.0073076761327683926, -0.021895401179790497, 0.07293862104415894, 0.027890734374523163, 0.021080367267131805, 0.01786167360842228, 0.03552994877099991, -0.029341217130422592, -0.0035226037725806236, -0.031164683401584625, 0.04743773117661476, 0.042768556624650955, -0.012778072617948055, 0.06779976189136505, -0.02876102365553379, -0.06426334381103516, 0.010547090321779251, -0.010602346621453762, -0.0030149344820529222, 0.0118248974904418, 0.015582341700792313, -0.027600636705756187, 0.048984915018081665, 0.010484926402568817, -0.040309637784957886, 0.01649407483637333, 0.030197694897651672, -0.021273763850331306, 0.05636166036128998, 0.0058986349031329155, 0.04956510663032532, 0.002267244504764676, 0.0010533275781199336, -0.01636974699795246, 0.0057915751822292805, -0.027918362990021706, 0.01974039524793625, -0.006748203653842211, -0.005946984048932791, 0.0014021344250068069, 0.0026436797343194485, -0.0024088392965495586, -0.04019912704825401, 0.02630210854113102, -0.004499953705817461, -0.005418593529611826, 0.06205308437347412, -0.025818614289164543, -0.010443484410643578, -0.02465822733938694, 0.019408857449889183, -0.04091745987534523, -0.004102797247469425, 6.847708573332056e-05, 0.007252419833093882, -0.061721544712781906, -0.02914782054722309, -0.002902694744989276, 0.0033602877520024776, 0.045116957277059555, 0.07437529414892197, 0.02583242766559124, -0.008668368682265282, -0.001249315682798624, 0.012950749136507511, 0.02032058872282505, 0.043790802359580994, -0.03762969747185707, -0.019837094470858574, -0.06442911177873611, 0.020569244399666786, 0.016742728650569916, -0.03876245766878128, 0.009849476628005505, 0.01871814951300621, -0.05572621151804924, -0.005387511570006609, 0.04986901953816414, 0.04950985312461853, -0.01363454945385456, -0.04127663001418114, -0.0029631315264850855, 0.054731592535972595, 0.017447249963879585, -0.032767124474048615, -0.04771401360630989, 0.007349118590354919, 0.029728014022111893, 0.024312874302268028, -0.007314583286643028, -0.007432003505527973, -0.03395513817667961, 0.002498631365597248, -0.08106133341789246, -0.01833135448396206, -0.004147693514823914, 0.008626925759017467, -0.06608681380748749, -0.06658411771059036, -0.018842477351427078, 0.024285245686769485, 0.02942410297691822, -0.04696805030107498, -0.008267758414149284, -0.006606609094887972, 0.05216216668486595, -0.014159485697746277, 0.027573009952902794, -0.007224791217595339, -0.0033343862742185593, -0.025790985673666, -0.040696434676647186, -0.08139286935329437, 0.013517129234969616, 0.0027680068742483854, -0.020058121532201767, -0.03329205885529518, -0.03978470340371132, -0.015582341700792313, -0.054068516939878464, -0.0011491631157696247, -0.04948222264647484, 0.019395042210817337, -0.004883295856416225, 0.01891154795885086, 0.011997574009001255, 0.019519370049238205, -0.0014962432906031609, 0.08106133341789246, 0.007984568364918232, -0.0035208771005272865, -0.03774021193385124, 0.04594580456614494, 0.001032606465741992, -0.021784886717796326, 0.002274151658639312, 0.00405444810166955, -0.022793319076299667, -0.027697335928678513, 3.286252831458114e-05, 0.016549330204725266, 0.041166115552186966, -0.02536274865269661, -0.013793411664664745, 0.021591490134596825, -0.03649693727493286, -0.047189079225063324, -0.019408857449889183, -0.024713482707738876, -0.015195545740425587, 0.020500173792243004, -0.059069231152534485, -0.04771401360630989, -0.0073698400519788265, 0.01613490656018257, -0.0367455929517746, -0.014159485697746277, 0.07023105025291443, -0.04470253363251686, -0.06945745646953583, -0.025998197495937347, -0.008613111451268196, -0.03412090614438057, 0.024644412100315094, 0.04801792651414871, -0.043238233774900436, -0.005425500683486462, -0.038320403546094894, -0.02254466526210308, -0.0033775554038584232, 0.04008861258625984, -0.010629975236952305, 0.05658268928527832, 0.02771115116775036, 0.05995333567261696, 0.03177250549197197, 0.037657324224710464, -0.0026471333112567663, 0.0044412435963749886, 0.02117706649005413, -0.003988830838352442, 0.04279618337750435, -0.017889302223920822, -0.010705952532589436, 0.023152487352490425, 0.028788652271032333, -0.002110108733177185, 0.005239009857177734, -0.010864815674722195, -0.035585206001996994, -0.00018616701709106565, -0.04854286089539528, -0.008378271944820881, 0.0316619910299778, -0.06243988126516342, -0.00692778779193759, -0.0043963477946817875, -0.021784886717796326, -0.042381759732961655, -0.005570549052208662, -0.0015843083383515477, -0.0022033541463315487, 0.02649550698697567, 0.01443576905876398, 0.0550907626748085, 0.024768739938735962, -0.016425004228949547, 0.0002879383391700685, 0.01816558465361595, -0.029368845745921135, -0.042851440608501434, -0.00041830920963548124, 0.0531567819416523, 0.001975421095266938, -0.01234983466565609, -0.05580909550189972, -0.01594150997698307, 0.03354071453213692, -0.02352546900510788, -0.014380511827766895, -0.021080367267131805, 0.023262999951839447, -0.01938122883439064, -0.020762640982866287, 0.005984973162412643, 0.0026505866553634405, 0.0035640462301671505, 0.011009863577783108, 0.025721915066242218, 0.006181824486702681, -0.04724433273077011, -0.014504839666187763, 0.02912019193172455, 0.019546998664736748, 0.010291528888046741, -0.01762683317065239, -0.028070317581295967, -0.013724341057240963, 0.011907782405614853, 0.0017405807739123702, 0.025459446012973785, -0.003178977407515049, 0.011969946324825287, -0.015236988663673401, 0.03995047137141228, -0.005574002396315336, 0.009725149720907211, 0.007984568364918232, 0.007956940680742264, 0.04489593207836151, -0.038044121116399765, 0.014048973098397255, -0.018317539244890213, 0.06083744019269943, -0.03646931052207947, -0.006150742527097464, -0.031717248260974884, -0.051913511008024216, -0.0116245923563838, 0.008495691232383251, 0.03975707292556763, -0.010657603852450848, -0.012805701233446598, -0.025721915066242218, 0.0038783177733421326, 0.03044634871184826, 0.013137239962816238, -0.02226838283240795, 0.020030492916703224, -0.01726766675710678, 0.022185496985912323, 0.02523842081427574, -0.011742012575268745, 0.008288479410111904, -0.013558571226894855, 0.05069786682724953, -0.017958372831344604, 0.045586638152599335, -0.007687564939260483, -0.01617635041475296, 0.003981923684477806, 0.013869388960301876, -0.04967562109231949, 0.04580766335129738, 0.023193929344415665, 0.007376746740192175, 0.012025202624499798, 0.013793411664664745, -0.01498833391815424, 0.01176273450255394, -0.01766827516257763, 0.02055542916059494, -0.011065120808780193, -0.023691236972808838, 0.049095429480075836, -0.0457247793674469, -0.017792603000998497, 0.014076601713895798, -0.04514458775520325, 0.00795003306120634, -0.013966088183224201, 0.05763256177306175, 0.01790311560034752, -0.004389440640807152, -0.017999814823269844, -0.0332091748714447, 0.0077497283928096294, -0.013883203268051147, 0.02438194490969181, 0.020375845953822136, -0.013834853656589985, -0.010208643972873688, 0.03340257331728935, -0.07061784714460373, 0.0035778603050857782, -0.002075573429465294, 0.036635078489780426, 0.020859340205788612, -0.019395042210817337, -0.012750444933772087, 0.06354501098394394, 0.05335018038749695, 0.018731964752078056, -0.05381986126303673, -0.008474970236420631, -0.04677465185523033, -0.052935756742954254, 0.01672891527414322, 0.032021161168813705, -0.014256184920668602, 0.021480975672602654, -0.008288479410111904, 0.04735484719276428, 0.03318154811859131, -0.0019236180232837796, -0.02083171159029007, 0.013903924264013767, -0.029562244191765785, -0.014725865796208382, -0.01414567232131958, 0.008592390455305576, -0.035419438034296036, 0.00918639823794365, -0.03406565263867378, 0.01856619492173195, 0.012681374326348305, -0.015154103748500347, -0.0398675873875618, -0.010968421585857868, -0.005725957918912172, -0.0059124487452209, -0.013897017575800419, 0.04981376230716705, 0.044840674847364426, 0.025763357058167458, -0.022461779415607452, -0.03707713261246681, -0.03367885574698448, -0.030031925067305565, -0.059345513582229614, 0.023829378187656403, 0.01974039524793625, 0.02344258315861225, 0.03923213854432106, -0.012446533888578415, -0.011009863577783108, 0.030418720096349716, 0.04743773117661476, 0.038513801991939545, -0.01262611709535122, -0.004800410941243172, -0.041248999536037445, 0.008336829021573067, 0.08736057579517365, -0.05185825377702713, 0.02134283445775509, -0.0029734920244663954, -0.02867813967168331, -0.0015730843879282475, 0.026426436379551888, 0.012909307144582272, 0.020182447507977486, 0.02961750142276287, 0.01974039524793625, 0.005308080464601517, -0.03989521414041519, 0.013869388960301876, 0.003513969946652651, 0.003899039002135396, 0.03298814967274666, 0.006765471305698156, 0.02485162578523159, -0.000317725061904639, 0.07006528228521347, -0.018386609852313995, 0.024713482707738876, -0.01656314544379711, -0.03693899139761925, -0.03301577642560005, -0.01636974699795246, -0.012384369969367981, 0.047658756375312805, 0.05503550544381142, -0.050311069935560226, -0.06503693759441376, 0.017198596149683, -0.012709002010524273, 0.012764258310198784, 0.027296725660562515, 0.014573910273611546, -0.05846140906214714, 0.013724341057240963, -0.04713382199406624, 0.021121809259057045, 0.015430386178195477, 0.030391091480851173, 0.006768925115466118, 0.010989142581820488, -0.007466538809239864, -0.004078622907400131, 0.03608251363039017, 0.008923930115997791, -0.009207119233906269, -0.0039093997329473495, -0.04459201917052269, 0.001492789713665843, 0.03931502252817154, -0.044177595525979996, 0.026246853172779083, -0.02465822733938694, -0.022834761068224907, -0.006064404267817736, 0.004862574860453606, 0.02485162578523159, 0.003705641021952033, 0.0016818706644698977, 0.03334731608629227, -0.011797269806265831, 0.015402758494019508, 0.05951128527522087, 0.029589872807264328, 0.08879724889993668, 0.016425004228949547, 0.05346069484949112, -0.008302293717861176, -0.009939268231391907, 0.014905449002981186, -0.013482593931257725, 0.039259765297174454, -0.006088579073548317, 0.02157767489552498, -0.021936843171715736, 0.018538566306233406, 0.0675787404179573, 0.01844186708331108, 0.02801506221294403, -0.0012890312355011702, -0.008115802891552448, -0.03273949399590492, 0.020969852805137634, 0.007286955136805773, -0.008620019070804119, -0.029838526621460915, 0.02106655202805996, -0.013765783049166203, 0.040309637784957886, 0.045586638152599335, -0.03331968933343887, 0.04177393764257431, -0.013938459567725658, -0.013883203268051147, -0.030529232695698738, 0.026896117255091667, -0.0031237208750098944, 0.0214947909116745, 0.019823281094431877, -0.016784170642495155, 0.05611300840973854, -0.019325971603393555, 0.03450770303606987, 0.002862978959456086, -0.055781468749046326, -0.06183205917477608, -0.002191266743466258, 0.0015005602035671473, 0.0038541429676115513, 0.026550762355327606, -0.008550948463380337, -0.01903587579727173, -0.0005892590852454305, 0.02380175143480301, 0.012667560018599033, 0.031717248260974884, -0.08255326002836227, 0.013068169355392456, 0.01989235170185566, 0.016231605783104897, -0.011852526105940342, 0.004417068790644407, -0.0006367451860569417, 0.0018217387842014432, 0.005687969271093607, -0.01590006612241268, 0.009932361543178558, 0.010374413803219795, -0.038044121116399765, 0.009676800109446049, 0.029755642637610435, 0.00723860552534461, -0.005570549052208662, -0.04928882420063019, -0.006382129155099392, 0.009179491549730301, 0.017405807971954346, -0.0009514483972452581, -0.02649550698697567, -0.00041550322202965617, 0.0031686166767030954, 0.013751968741416931, 0.031523849815130234, 0.018124142661690712, -0.016659844666719437, -0.010602346621453762, -0.006174917332828045, 0.014905449002981186, -0.009573194198310375, 0.03727053105831146, -0.022530850023031235, 0.013544756919145584, 0.008640740066766739, 0.01758539117872715, -0.001456527621485293, -0.006499549373984337, 0.038513801991939545, -0.01653551682829857, 0.022144054993987083, -0.03345783054828644, 0.020306775346398354, -0.0035156968515366316, -0.022102613002061844, 3.788094181800261e-05, 0.018220841884613037, -0.004016458988189697, 0.009290004149079323, -0.025887684896588326, 0.01570666953921318, 0.007128092460334301, -0.024520086124539375, 0.016148721799254417, 0.0236497949808836, 0.000604800006840378, -0.010906257666647434, -0.03260135278105736, 0.0016153901815414429, 0.031164683401584625, -0.027807848528027534, 0.01602439396083355, 0.019947607070207596, -0.012446533888578415, 0.03547469154000282, -0.00645810691639781, -0.023166300728917122, -0.010194829665124416, -0.028705768287181854, -0.019961422309279442, 0.01875959150493145, 0.00029290278325788677, -0.015996765345335007, -0.0006043682806193829, -0.0205139871686697, -0.006613516248762608, -0.015306059271097183, 0.015582341700792313, 0.003543325001373887, -0.009255468845367432, 0.021632932126522064, 0.013814132660627365, -0.0205139871686697, 0.017682090401649475, 0.040972717106342316, 0.021080367267131805, -0.025721915066242218, -0.011811083182692528, 0.011541708372533321, -0.03771258145570755, -0.003389642806723714, 0.030529232695698738, -0.015333686955273151, 0.007763542700558901, -0.0006224993849173188, 0.0003373670333530754, -0.042851440608501434, 0.02333207055926323, 0.013606920838356018, 0.0006069584633223712, -0.010864815674722195, -0.03536418080329895, -0.0375191830098629, 0.0023345884401351213, -0.025100279599428177, 0.01154861506074667, 0.036165401339530945, -0.035143155604600906, 0.015761924907565117, -0.01369671244174242, 0.008240129798650742, 0.013330638408660889, 0.002400205470621586, -0.007680657785385847, -0.020099563524127007, -0.011168726719915867, 0.00366419879719615, 0.04108323156833649, -0.03702187538146973, -0.0006488325307145715, 0.025390375405550003, 0.009656079113483429, -0.033513087779283524, 0.029341217130422592, 0.015388944186270237, -0.02134283445775509, -0.000956628704443574, -0.013510221615433693, 0.005494571290910244, -0.003943935036659241, 0.013876296579837799, -0.019298342987895012, 0.04017149657011032, 0.014560095965862274, 0.0026833952870219946, 0.017253851518034935, 0.022655177861452103, -0.02344258315861225, 0.012197879143059254, -0.04854286089539528, 0.005194114055484533, -0.005118136294186115, 0.02008574828505516, -0.00541168637573719, 0.006651504896581173, -0.008537134155631065, -0.03566808998584747, 0.020914597436785698, -0.006824181415140629, 0.017170967534184456, -0.006402850616723299, -0.0126053960993886, 0.007107371464371681, 0.002066939603537321, 0.03251846879720688, -0.010581625625491142, -0.0005042158300057054, 0.019367413595318794, -0.03470110148191452, 0.023511653766036034, 0.03536418080329895, 0.023193929344415665, 0.011106562800705433, -0.014366698451340199, 0.0012285944540053606, -0.008993000723421574, -0.030418720096349716, 0.034369561821222305, -0.0015333687188103795, 0.008046732284128666, -0.04475779086351395, 0.02903730794787407, 0.0684075877070427, -0.02829134464263916, -0.011631499975919724, 0.01391083188354969, 0.0054220473393797874, 0.026384994387626648, -0.00500071607530117, -0.010167201980948448, 0.0034863417968153954, -0.017322922125458717, 0.01471205148845911, 0.005605084355920553, -0.005653433967381716, -0.010954607278108597, -0.02044491656124592, -0.05053209885954857, -0.01726766675710678, -0.020389659330248833, -0.023345883935689926, 0.024630598723888397, -0.05224505066871643, -0.038127005100250244, 0.0031599828507751226, 0.03461821749806404, 0.023470211774110794, -0.04685753956437111, -0.026384994387626648, 0.01594150997698307, -0.0355575792491436, 0.011893968097865582, -0.012833328917622566, -0.01183871179819107, -0.007791170850396156, 0.02177107334136963, 0.026094896718859673, -0.017751161009073257, -0.033236801624298096, 0.004945459309965372, -0.013510221615433693, 0.0162177924066782, -0.02286238968372345, -0.023746494203805923, -0.008074360899627209, 0.021163251250982285, -0.008661461062729359, 0.005515292286872864, 0.008081267587840557, 0.006523724179714918, -0.04619446024298668, -0.011445009149610996, 0.008640740066766739, -0.004372172988951206, -0.06658411771059036, -0.006344140507280827, -0.02023770473897457, -0.006969229783862829, -0.02157767489552498, -0.009124234318733215, -0.028028875589370728, 0.005093961488455534, 0.0032825833186507225, -0.014283813536167145, 0.012184064835309982, 0.050117675215005875, -0.01833135448396206, 0.009131141938269138, -0.05415140092372894, 0.011465730145573616, 0.02387082204222679, -0.0024969044607132673, 0.009034442715346813, -0.0028439846355468035, 0.012218600139021873, -0.008115802891552448, -0.03774021193385124, 0.005473850294947624, 0.008544040843844414, 0.011465730145573616, -0.00334647367708385, 0.015444200485944748, -0.013116518966853619, 0.02012719213962555, -0.03331968933343887, 0.0024071126244962215, -0.03981233015656471, 0.024630598723888397, 0.007715193089097738, -0.0018200119957327843, -0.03652456775307655, 0.028539998456835747, 0.01782023161649704, -0.012080458924174309, 0.012992192059755325, 0.001633521169424057, 0.00871671736240387, -0.015098847448825836, 0.013544756919145584, 0.0586271807551384, -0.015250802971422672, 0.006482281722128391, 0.02313867211341858, -0.019961422309279442, -0.00818487349897623, -0.032104045152664185, -0.031081799417734146, -0.021660560742020607, -0.02942410297691822, -0.025224605575203896, 0.004817678593099117, 0.03599962964653969, 0.03431430459022522, 0.020610686391592026, 0.015955323353409767, -0.08288479596376419, -0.021480975672602654, 0.03762969747185707, -0.01871814951300621, 0.007021033205091953, 0.011438101530075073, -0.005508385598659515, 0.02371886558830738, 0.01414567232131958, 0.0031979717314243317, -0.0037781652063131332, -0.0017673455877229571, -0.02876102365553379, -0.05290812999010086, 0.03500501066446304, -0.004803864751011133, -0.014808750711381435, -0.02384319342672825, 0.042658042162656784, 0.0004135605995543301, -0.04666414111852646, -0.012722816318273544, -0.049841392785310745, -0.006520270835608244, -0.006444293074309826, -0.019491741433739662, -0.004942005965858698, 0.02168818935751915, 0.006333780009299517, 0.0072316983714699745, -0.04384605586528778, -0.048681002110242844, -0.03312629088759422, 0.011776547878980637, -0.04707856476306915, 0.08653172850608826, 0.030308207497000694, 0.029893783852458, 0.03072263114154339, -0.007487259805202484, -0.004033726640045643, -0.012487975880503654, 0.017875486984848976, 0.018842477351427078, 0.01336517371237278, 0.011396659538149834, -0.008530226536095142, -0.01424237061291933, -0.015264616347849369, -0.023663610219955444, 0.013586199842393398, 0.024879252538084984, 0.015858624130487442, 0.0008089901530183852, 0.03442481905221939, 0.032380327582359314, -0.03508789837360382, 0.0011042671976611018, 0.010961513966321945, 0.0464983694255352, 0.022959088906645775, -0.00865455437451601, 0.024492457509040833, 0.0071557206101715565, -0.03856905922293663, 0.004182228818535805, -0.013116518966853619, 2.9651821023435332e-05, 0.007466538809239864, -0.0063752224668860435, -0.009856383316218853, 0.00844043493270874, 0.01613490656018257, -0.0005845105042681098, -0.004061355255544186, 0.005107775796204805, 0.021895401179790497, 0.017461063340306282, 0.02254466526210308, -0.0035536857321858406, 0.08857621997594833, -0.006240534596145153, 0.0359443724155426, 0.024796368554234505, -0.029921412467956543, 0.0053598834201693535, -0.016590774059295654, 0.007604680024087429, -0.015306059271097183, 0.02720002830028534, 0.04113848879933357, -0.010319157503545284, 0.0037608975544571877, -0.015872439369559288, -0.024160917848348618, 0.028733396902680397, -0.006606609094887972, 0.03348545730113983, -0.04395657032728195, 0.022848576307296753, 0.024672040715813637, 0.02177107334136963, -0.018110327422618866, 0.020928410813212395, -0.039453163743019104, 0.03655219450592995, 0.0011085841106250882, 0.0020876608323305845, 0.007210977375507355, 0.02474111132323742, 0.03265661001205444, 0.00785333476960659, -0.04931645467877388, 0.03655219450592995, -0.05213453620672226, -0.02192302793264389, 0.03892822563648224, -0.010761209763586521, -0.04293432459235191, 0.02106655202805996, -0.026150153949856758, 0.02805650420486927, 0.028070317581295967, 0.01395227387547493, -0.002698936266824603, 0.026371179148554802, -0.01828991249203682, -0.0018804487772285938, -0.015167918056249619, 0.01899443194270134, 0.014200928620994091, 0.032960519194602966, -0.0232491847127676, -0.00871671736240387, -0.007542516570538282, -0.008095081895589828, 0.0316619910299778, -0.038044121116399765, -0.012771165929734707, -0.01570666953921318, -0.012902400456368923, -0.007252419833093882, 0.022447966039180756, -0.004413615446537733, -0.0226689912378788, 0.011479544453322887, 0.017847860231995583, -0.018428053706884384, -0.01154861506074667, 0.007756635546684265, -0.01504359021782875, -0.01518173236399889, -0.0054047792218625546, 0.037298157811164856, -0.00022728565090801567, 0.019132573157548904, -0.011493358761072159, -0.022296009585261345, 0.010671417228877544, -0.030391091480851173, -0.03680085018277168, 0.06045064330101013, -0.021315207704901695, -0.006768925115466118, -0.0015998492017388344, 0.0007412145496346056, 0.0038886782713234425, 0.0047209798358380795, -0.014297627843916416, 0.004793504253029823, -0.02591531351208687, 0.0027300179935991764, 0.028125574812293053, -0.01209427323192358, 0.019546998664736748, 0.08476351946592331, 0.004541396163403988, -0.02367742359638214, 0.015692854300141335, 0.041552912443876266, 0.005093961488455534, 0.03459058701992035, -0.018828662112355232, -0.013282288797199726, 0.04594580456614494, 0.019546998664736748, 0.031440965831279755, 0.047106191515922546, -0.03226981312036514, 0.02063831500709057, 0.04160816967487335, 0.026896117255091667, -0.025763357058167458, 0.027959804981946945, -0.02942410297691822, 0.007107371464371681, 0.025652844458818436, -0.006989951245486736, -0.004192589316517115, -0.009041350334882736, -0.03818226233124733, 0.022558478638529778, 0.011396659538149834, -0.0006419254932552576, -0.002622958505526185, 0.05138857290148735, -0.0033533808309584856, -0.0049040173180401325, -0.007356025744229555, 0.02762826532125473, -0.004292741883546114, -0.001469478360377252, -0.0040717157535254955, 0.010187922976911068, -0.02008574828505516, 0.011852526105940342, -0.023857006803154945, -0.014781122095882893, -0.029368845745921135, 0.022420337423682213, -0.007466538809239864, -0.01692231185734272, 0.005380604881793261, 0.00029743555933237076, 0.001916710869409144, 0.01703282631933689, 0.01422855630517006, 0.046056319028139114, 0.04359740391373634, 0.004555210471153259, -0.03820989280939102, 0.01918783038854599, 0.009504123590886593, 0.010878629982471466, -0.0028353508096188307, -0.031910646706819534, 0.0124050909653306, -0.01786167360842228, -0.028429485857486725, 0.032297443598508835, 0.018317539244890213, 0.02887153811752796, -0.03931502252817154, -0.022807132452726364, 0.012653745710849762, 0.03611014410853386, 0.015167918056249619, 0.055974867194890976, 0.007342211436480284, -0.025003580376505852, 0.015582341700792313, 0.0009695794433355331, 0.0205139871686697, -0.02219931222498417, 0.017986001446843147, 0.007936219684779644, 0.02427143044769764, 0.019436484202742577, -0.01230839267373085, 0.010851001366972923, -0.005584363359957933, 0.01183871179819107, -8.4611565398518e-05, 0.02848474122583866, -0.04395657032728195, -0.004130425862967968, 0.000992890796624124, 0.029092563316226006, 0.023428769782185555, 0.02856762707233429, 0.01150717306882143, 0.004686444532126188, 0.02348402515053749, 0.030612118542194366, -0.008937743492424488, -0.022738061845302582, -0.006616969592869282, 0.012805701233446598, -0.03075025975704193, -0.016425004228949547, -0.007998382672667503, 0.03149622306227684, -0.0016723735025152564, -0.011092748492956161, 0.02371886558830738, -0.019160201773047447, 7.122912211343646e-05, -0.006143835373222828, -0.0068310885690152645, 0.018773406744003296, 0.021094180643558502, 0.00763921532779932, 0.002376030897721648, 0.014767307788133621, 0.0035346911754459143, 0.020762640982866287, 0.01656314544379711, 0.011154912412166595, -0.03743629902601242, -0.016052022576332092, -0.021826330572366714, 0.015568527393043041, -0.03215930238366127, 0.014850192703306675, 0.006969229783862829, 0.007742821238934994, -0.014042066410183907, -0.04752061516046524, 0.0011180813889950514, -0.0003418997803237289, -0.04326586425304413, 0.022489408031105995, 0.005743225570768118, 0.00841971393674612, 0.05428954213857651, 0.025224605575203896, -0.042381759732961655, 0.008661461062729359, -0.03525366634130478, -0.006489188876003027, 0.007349118590354919, 0.024906881153583527, 0.01176273450255394, -0.004921284969896078, -0.005156124942004681, -0.030391091480851173, -0.023926077410578728, -0.0083989929407835, -0.011769641190767288, -0.029175449162721634, 0.015250802971422672, 0.011555521748960018, 0.008785788901150227, 0.03895585611462593, -0.01989235170185566, -0.008274665102362633, -0.06022961810231209, 0.0015445926692336798, -0.008509505540132523, -0.017958372831344604, 0.008544040843844414, -0.03978470340371132, -0.028512369841337204, -0.0020824805833399296, 0.01555471308529377, -0.016245421022176743, -0.01657695882022381, 0.006088579073548317, 0.01950555481016636, 0.014781122095882893, 0.09194687008857727, -0.003033928805962205, -0.037381041795015335, -0.005318440962582827, 0.0008344599627889693, 0.012591581791639328, 0.008046732284128666, -0.023857006803154945, -0.018538566306233406, -0.02153623290359974, -0.020030492916703224, 0.027490124106407166, 0.008578576147556305, 0.03508789837360382, 0.009814941324293613, -0.0021981738973408937, 0.005159578751772642, 0.0018890826031565666, 0.007563237566500902, -0.01310961227864027, 0.05757730454206467, 0.06006385013461113, -0.022917646914720535, -0.042492274194955826, 0.008937743492424488, -0.009331447072327137, 0.013883203268051147, -0.041442397981882095, 0.02771115116775036, 0.03188301995396614, 0.02867813967168331, -0.041359513998031616, -0.021563861519098282, -0.0018959897570312023, -0.023345883935689926, 0.015402758494019508, 0.03044634871184826, -0.0013960908399894834, -0.00945577397942543, 0.011092748492956161, -0.009020628407597542, 0.012550139799714088, 0.00044852762948721647, -0.038707200437784195, -0.01447721105068922, 0.0030529233627021313, 0.0028802466113120317, -0.02333207055926323, 0.005453128833323717, 0.008302293717861176, -0.012729723006486893, -0.012895492836833, 0.0033343862742185593, -0.00891011580824852, -0.010926978662610054, -0.05967705324292183, -0.006513363681733608, 0.041055601090192795, 0.010056688450276852, 0.023746494203805923, -0.04959273710846901, 0.0034500795882195234, -0.006243987940251827, 0.03017006628215313, -0.010305343195796013, -0.008067453280091286, 0.03337494656443596, -0.029258333146572113, 0.015734298154711723, 0.0605611577630043, -0.02016863413155079, -0.04036489501595497, 0.015720482915639877, -0.017834044992923737, 0.004924738314002752, 0.015499456785619259, -0.006344140507280827, -0.04019912704825401, 0.027338169515132904, 0.05111229047179222, 0.029009679332375526, -0.030391091480851173, -0.022710435092449188, 0.012681374326348305, -0.014014437794685364, -0.02489306777715683, -0.0032048788852989674, 0.036165401339530945, -0.03083314374089241, 0.007466538809239864, 0.018428053706884384, 0.01782023161649704, -0.017101896926760674, 0.015430386178195477, 0.0164111889898777, 0.020182447507977486, 0.00031254475470632315, -0.008523319847881794, -0.013413523323833942, 0.04553138092160225, 0.023456398397684097, 0.0006561712943948805, -0.020417287945747375, 0.015568527393043041, -0.013220124877989292, 0.028346600010991096, -0.0044516040943562984, -0.005325348116457462, -0.023981334641575813, 0.01848330907523632, 0.009642264805734158, -0.02410566247999668, 0.002068666275590658, 0.005328801926225424, -0.021356649696826935, 0.006150742527097464, -0.003622756339609623, 0.009352168068289757, -0.004520675167441368, -0.012515604496002197, 0.0075010741129517555, -0.029810898005962372, -0.01256395410746336, -0.0006203409284353256, -0.0077497283928096294, 0.026191595941781998, 0.041994962841272354, 0.0026143246795982122, -0.007321490440517664, -0.024672040715813637, -0.01610727794468403, 0.021895401179790497, -0.016480259597301483, -0.03425905108451843, -0.013192497193813324, -0.007839520461857319, 0.010540183633565903, -0.011583150364458561, -0.01578955352306366, -0.021121809259057045, -0.03345783054828644, 0.016286863014101982, 0.0015247348928824067, -0.005460035987198353, -0.013247753493487835, 0.007411282043904066, 0.0023777575697749853, -0.00865455437451601, -0.005895181093364954, 0.007390561047941446, 0.017378179356455803, -0.026053454726934433, -0.009027536027133465, -0.02371886558830738, -0.0017992907669395208, -0.027186213061213493, 0.00045370793668553233, -0.022599920630455017, -0.01022245828062296, -0.022986717522144318, 0.003930120728909969, -0.002824990078806877, 0.004337637685239315, 0.016949940472841263, 0.02036203257739544, 0.014173300005495548, 0.002338042017072439, 0.016038207337260246, 0.018856290727853775, -0.005087054334580898, 0.0014901995891705155, -0.021425720304250717, 0.029285961762070656, 0.019298342987895012, 0.020679756999015808, 0.0007537336205132306, 0.05735627934336662, -0.0406411774456501, 0.02970038540661335, -0.031054170802235603, -0.008115802891552448, -0.027600636705756187, -0.007922405377030373, -0.0017941105179488659, -0.007887870073318481, 0.0070693823508918285, -0.02309723012149334, -0.005339162424206734, 0.009559379890561104, -0.019726581871509552, -0.013765783049166203, -0.037850722670555115, -0.017792603000998497, -0.010733581148087978, 0.007984568364918232, 0.03215930238366127, -0.02923070453107357, 0.0021256497129797935, 0.007570144720375538, 0.05326729640364647, 0.002438194351270795, -0.01424237061291933, 0.012418905273079872, -0.03345783054828644, -0.013123426586389542, 0.007041754201054573, 0.01018101628869772, -0.005560188554227352, 0.017378179356455803, -0.03588911518454552, 0.023345883935689926, 0.0379059799015522, -0.001070595346391201, -0.010664510540664196, 0.032186929136514664, 0.007245512679219246, 0.02192302793264389, 0.01758539117872715, 0.010975328274071217, -0.034839242696762085, -0.03854142874479294, -0.01965751126408577, 0.03185538947582245, -0.022917646914720535, 0.0072938622906804085, -0.021273763850331306, 0.020527800545096397, -0.012059737928211689, -0.013544756919145584, 0.011755826883018017, 0.049344081431627274, 0.019588440656661987, 0.008509505540132523, -0.025542331859469414, -0.005415140185505152, 0.006948508787900209, -0.036441683769226074, 0.008488784544169903, 0.016121093183755875, 0.013040541671216488, 0.0018182852072641253, 0.04506170004606247, -0.019726581871509552, 0.00525627750903368, -0.018939176574349403, 9.05203432921553e-06, 0.028622882440686226, 0.019436484202742577, -0.028167016804218292, 0.03226981312036514, 0.009517937898635864, 0.03251846879720688, -0.007929312065243721, -0.002552160993218422, 0.01672891527414322, -0.027421053498983383, -0.011942317709326744, -0.027849292382597923, -0.017253851518034935, 0.008592390455305576, -0.03403802216053009, -0.02606726810336113, 0.019063502550125122, -0.007970754988491535, 0.0010602347319945693, -0.0035502321552485228, -0.030998913571238518, -0.005484210792928934, -0.03373411297798157, -0.022751877084374428, 0.017060453072190285, 0.024602970108389854, -0.01848330907523632, 0.02371886558830738, -0.018234655261039734, 0.03934264928102493, -0.0018148317467421293, -0.008426620624959469, 0.006243987940251827, -0.007673750631511211, -0.0024105662014335394, -0.008903208188712597, -0.00707283616065979, -0.02747631072998047, -0.0029285962227731943, 0.004679537378251553, 0.0038541429676115513, 0.017640648409724236, 0.032960519194602966, -0.000478314352221787, 0.037574440240859985, -0.008412807248532772, 0.01887010596692562, -0.028926793485879898, 0.010332970879971981, 0.022917646914720535, 0.016632216051220894, -0.03075025975704193, -0.04696805030107498, -0.028622882440686226, -0.007542516570538282, 0.0026937557850033045, 0.03693899139761925, 0.006226720288395882, -0.014449582435190678, -0.010678324848413467, 0.015430386178195477, 0.02040347456932068, -0.034949757158756256, 0.01696375571191311, 0.026357365772128105, -0.01762683317065239, -0.00029678799910470843, -0.0018545472994446754, 0.00976659171283245, 0.02617778070271015, 0.006879438180476427, -0.002218895126134157, -0.0026367725804448128, 0.02177107334136963, 0.034452445805072784, 0.0015031503280624747, -0.001754394848830998, -0.004178775008767843, 0.019174017012119293, -0.012522511184215546, -0.011251610703766346, -0.017723532393574715, 0.046056319028139114, 0.003570953384041786, -0.008923930115997791, 0.011355217546224594, 0.03630354255437851, 0.02094222605228424, 0.02837422862648964, 0.0126053960993886, 0.0052769985049963, -0.004617373924702406, 0.013303009793162346, 0.012356741353869438, -0.023594539612531662, -0.007321490440517664, 0.004824585746973753, 0.016825614497065544, 0.010526369325816631, 0.030971284955739975, -0.009269283153116703, -0.004102797247469425, -0.022848576307296753, -0.007452724501490593, -0.028318971395492554, 0.0032083322294056416, 0.02525223419070244, -0.02157767489552498, -0.01078883744776249, 0.011438101530075073, -0.004092436749488115, -0.011445009149610996, -0.0179721862077713, 0.0013227032031863928, 0.023345883935689926, -0.006468467880040407, 0.017474878579378128, -0.006689494010061026, -0.003185884328559041, 0.023663610219955444, 0.009055163711309433, -0.04094509035348892, 0.005795028526335955, -0.005670701619237661, -0.011969946324825287, 0.019919980317354202, 0.02997666783630848, -0.014794936403632164, -0.021702002733945847, 0.005432407837361097, -0.03028057888150215, 0.023594539612531662, 0.011072027496993542, -0.030473977327346802, 0.005757039878517389, -0.022323638200759888, 0.023884635418653488, -0.003463893895968795, -0.021287579089403152, 0.005739772226661444, -0.022378895431756973, -0.037850722670555115, -0.01867670752108097]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-14T10:14:21.392763", "url_path": "/api/agent/", "chunk_size": 4914}
updated_dt: 2025-03-14T10:14:21.392763
---
aph.AgentNode[Any, Any], next_node)
  if not yielded:
    raise exceptions.AgentRunError('Agent run finished without producing a final result')

```
  
---|---  
####  override
```
override(
  *,
  deps: AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT") | Unset = UNSET,
  model: Model[](https://ai.pydantic.dev/api/models/base/#pydantic_ai.models.Model "pydantic_ai.models.Model") | KnownModelName[](https://ai.pydantic.dev/api/models/base/#pydantic_ai.models.KnownModelName "pydantic_ai.models.KnownModelName") | Unset = UNSET
) -> Iterator[](https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterator "collections.abc.Iterator")[None]

```

Context manager to temporarily override agent dependencies and model.
This is particularly useful when testing. You can find an example of this [here](https://ai.pydantic.dev/testing-evals/#overriding-model-via-pytest-fixtures).
Parameters:
Name | Type | Description | Default  
---|---|---|---  
`deps` |  `AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT") | Unset` |  The dependencies to use instead of the dependencies passed to the agent run. |  `UNSET`  
`model` |  `Model[](https://ai.pydantic.dev/api/models/base/#pydantic_ai.models.Model "pydantic_ai.models.Model") | KnownModelName[](https://ai.pydantic.dev/api/models/base/#pydantic_ai.models.KnownModelName "pydantic_ai.models.KnownModelName") | Unset` |  The model to use instead of the model passed to the agent run. |  `UNSET`  
Source code in `pydantic_ai_slim/pydantic_ai/agent.py`
```
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
```
| ```
@contextmanager
defoverride(
  self,
  *,
  deps: AgentDepsT | _utils.Unset = _utils.UNSET,
  model: models.Model | models.KnownModelName | _utils.Unset = _utils.UNSET,
) -> Iterator[None]:
"""Context manager to temporarily override agent dependencies and model.
  This is particularly useful when testing.
  You can find an example of this [here](../testing-evals.md#overriding-model-via-pytest-fixtures).
  Args:
    deps: The dependencies to use instead of the dependencies passed to the agent run.
    model: The model to use instead of the model passed to the agent run.
  """
  if _utils.is_set(deps):
    override_deps_before = self._override_deps
    self._override_deps = _utils.Some(deps)
  else:
    override_deps_before = _utils.UNSET
  # noinspection PyTypeChecker
  if _utils.is_set(model):
    override_model_before = self._override_model
    # noinspection PyTypeChecker
    self._override_model = _utils.Some(models.infer_model(model)) # pyright: ignore[reportArgumentType]
  else:
    override_model_before = _utils.UNSET
  try:
    yield
  finally:
    if _utils.is_set(override_deps_before):
      self._override_deps = override_deps_before
    if _utils.is_set(override_model_before):
      self._override_model = override_model_before

```
  
---|---  
####  system_prompt
```
system_prompt(
  func: Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[[RunContext[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext "pydantic_ai.tools.RunContext")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")]], str[](https://docs.python.org/3/library/stdtypes.html#str)],
) -> Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[[RunContext[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext "pydantic_ai.tools.RunContext")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")]], str[](https://docs.python.org/3/library/stdtypes.html#str)]

```

```
system_prompt(
  func: Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[
    [RunContext[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext "pydantic_ai.tools.RunContext")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")]], Awaitable[](https://docs.python.org/3/library/collections.abc.html#collections.abc.Awaitable "collections.abc.Awaitable")[str[](https://docs.python.org/3/library/stdtypes.html#str)]
  ],
) -> Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[[RunContext[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext "pydantic_ai.tools.RunContext")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")]], Awaitable[](https://docs.python.org/3/library/collections.abc.html#collections.abc.Awaitable "collections.abc.Awaitable")[str[](https://docs.python.org/3/library/stdtypes.html#str)]]

```