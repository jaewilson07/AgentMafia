---
url: https://ai.pydantic.dev/api/agent/
session_id: pydantic_ai_docs
chunk_number: 35
title: System Prompt Decorator
summary: The system_prompt decorator registers a system prompt function, which can be synchronous or asynchronous. It can be used as a bare decorator or with parameters, allowing dynamic reevaluation of the prompt based on provided arguments. The decorator type signatures are preserved, facilitating type safety.
embedding: [0.029967473819851875, 0.024159027263522148, -0.033128708600997925, -0.021588917821645737, -0.028245501220226288, 0.05340687185525894, -0.005092028994113207, 0.006900743581354618, 0.029659060761332512, 0.007864533923566341, -0.023722108453512192, -0.007800281513482332, 0.01932722143828869, -0.05127368122339249, -0.006958570796996355, 0.009792116470634937, -0.04001660272479057, 0.013261763378977776, 0.01598607935011387, 0.035364702343940735, 0.026240816339850426, -0.0018858176190406084, 0.001032862695865333, 0.0020898201037198305, -0.0017155479872599244, -0.012458604760468006, -0.06348169595003128, 0.062093839049339294, 0.00760752335190773, 0.008391406387090683, 0.026497825980186462, -0.022501306608319283, -0.021383309736847878, -0.035364702343940735, -0.004732213914394379, 0.005371528211981058, -0.00011214109690627083, 0.032049261033535004, -0.0027275285683572292, 0.0005031792097724974, 0.02785998396575451, -0.06127140671014786, 0.011591192334890366, -0.013929991982877254, 0.0012569440295919776, 0.0336427316069603, -0.0007031658315099776, 0.014315508306026459, 0.04662178084254265, -0.005528947338461876, -0.06964996457099915, 0.015330702066421509, 0.015896126627922058, 0.04117314890027046, -0.015125093050301075, -0.02088213711977005, -0.026395022869110107, 0.00279338750988245, 0.016024630516767502, -0.008372130803763866, 0.035904426127672195, -0.032383378595113754, -0.01643584854900837, 0.04970591142773628, -0.016127435490489006, 0.02711465209722519, -0.041867081075906754, 0.021486112847924232, -0.0316123440861702, 0.012921224348247051, 0.046082060784101486, 0.056696608662605286, -0.0449255108833313, -0.04078763350844383, -0.007838833145797253, 0.0008722308557480574, 0.05921531841158867, 0.0880519449710846, 0.057621851563453674, -0.019584232941269875, 0.014238405041396618, -0.01521504670381546, -0.015279299579560757, 0.03078990988433361, -0.028913728892803192, -0.044617097824811935, -0.053561076521873474, 0.01864614337682724, -0.025945253670215607, -0.025020014494657516, 0.02765437588095665, 0.03526189923286438, -0.008301452733576298, 0.06414992362260818, 0.0957108661532402, 0.022899674251675606, -0.03891145437955856, -0.02413332648575306, -0.02097209170460701, 0.00830787792801857, 0.03078990988433361, -0.02406907267868519, -0.06101439520716667, -0.018029317259788513, 0.03346282243728638, -0.0009123887866735458, -0.007556121330708265, -0.01849193684756756, -0.04770122841000557, -0.03541610389947891, -0.01682136580348015, 0.01202168595045805, -0.012677064165472984, 2.1359013771871105e-05, -0.026677733287215233, -0.012529282830655575, -0.001961314585059881, -0.0404021181166172, -0.004857506603002548, -0.04065912961959839, -0.048909179866313934, -0.026857642456889153, 0.020933540537953377, -0.01105146948248148, -0.003440733766183257, -0.0037812732625752687, -0.03783200681209564, -0.05194190889596939, -0.027397364377975464, -0.03027588687837124, 0.035184796899557114, -0.018517637625336647, -0.0004907302209176123, -0.0004935413016937673, -0.01909591257572174, -0.02034241519868374, -0.04636476933956146, -0.0027162842452526093, -0.02433893457055092, 0.05536015331745148, -0.0188517514616251, 0.02336229383945465, -0.0033861189149320126, 0.012195168063044548, -0.013261763378977776, 0.037369389086961746, -0.01641014777123928, 0.00997844897210598, -0.08106124401092529, 0.02386346459388733, -0.0055385855957865715, 0.034208156168460846, -0.014713875949382782, -0.005429355893284082, -0.01344167161732912, 0.005294424947351217, 0.012233720161020756, 0.018517637625336647, 0.06543498486280441, -0.01084586139768362, -0.008860452100634575, -0.00017328158719465137, -0.04227829724550247, -0.018273476511240005, -0.015613413415849209, -0.04615916311740875, 0.02431323379278183, -0.013351717963814735, -0.04806104302406311, 0.022359950467944145, 0.017476743087172508, -0.006560204084962606, -0.019995450973510742, 0.02986466884613037, 0.019108762964606285, 0.013493074104189873, -0.07191165536642075, -0.0365726538002491, -0.026497825980186462, 0.006335319485515356, 0.024004820734262466, 0.03562171384692192, -0.03207496181130409, -0.019340071827173233, 0.005474332720041275, -0.001765343826264143, 0.011430560611188412, 0.007967338897287846, 0.023760659620165825, 0.06713125109672546, 0.004398099612444639, 0.05469192564487457, 0.036110036075115204, -0.0007087879348546267, -0.015793321654200554, -0.02544408105313778, 0.046339068561792374, -0.0006421257276087999, 0.03564741462469101, -0.01959708333015442, -0.03132963180541992, -0.003832675516605377, 0.03384833782911301, -0.013236062601208687, 0.036649759858846664, -0.011340606957674026, -0.014688174240291119, -0.017823707312345505, -0.04099324345588684, -0.0162559412419796, 0.02670343592762947, -0.062093839049339294, 0.04533672705292702, 0.015998929738998413, -0.0308156106621027, -0.006174687296152115, 0.0015958772273734212, -0.01354447565972805, 0.006306405644863844, 0.01918586529791355, 0.02675483748316765, 0.02932494692504406, 0.023760659620165825, -0.07371073216199875, -0.0075625465251505375, 0.06260786205530167, -0.050759658217430115, -0.02589385025203228, -0.025161370635032654, 0.058187272399663925, -0.009419450536370277, -0.012002410367131233, -0.00019948465342167765, 0.006502376403659582, 0.0027387726586312056, -0.015189345926046371, 0.00033732684096321464, 0.027217457070946693, 0.03713807836174965, -0.0399651974439621, -0.00992062222212553, 0.009541531093418598, 0.06327608972787857, -0.015973228961229324, 0.016512952744960785, 0.044257283210754395, -0.0009131919359788299, -0.019070209935307503, 0.025456931442022324, 0.020291011780500412, 0.02568824216723442, 0.021550366654992104, -0.007691051810979843, -0.006463824771344662, -0.06913594156503677, 0.025726793333888054, 0.011077171191573143, -0.013158959336578846, -0.021730273962020874, 0.01957138255238533, 0.009046784602105618, 0.0096507603302598, -0.011327756568789482, 0.030584299936890602, 0.02228284813463688, -0.03675256296992302, 0.01774660497903824, -0.01002342626452446, 0.03598152846097946, -0.009213841520249844, 0.05988354608416557, -0.027525870129466057, 0.01154621597379446, -0.0002742788346949965, -0.03210066631436348, -0.013865739107131958, 0.029427751898765564, 0.0512479804456234, -0.011263503693044186, -0.008288602344691753, -0.060962993651628494, 0.02860531583428383, 0.015394954942166805, 0.0005999598652124405, -0.03798621520400047, 0.019224416464567184, -0.034593671560287476, -0.02419757843017578, -0.001015996327623725, 0.030301587656140327, -0.0193015206605196, -0.02025246061384678, -0.005827722605317831, -0.010743056423962116, 0.011706847697496414, -0.034208156168460846, -0.007819557562470436, 0.0022938225883990526, 0.04878067225217819, -0.008590590208768845, 0.0218973308801651, 0.018594739958643913, 0.008661268278956413, 0.001954889390617609, -0.025546886026859283, -0.01691131852567196, -0.011674721725285053, -0.01336456835269928, 0.021010642871260643, -0.010119805112481117, -0.011289205402135849, 0.05050264671444893, -0.04793253913521767, -0.0008172144298441708, -0.0003837092954199761, -0.030841311439871788, 0.009862794540822506, -0.028888028115034103, 0.04117314890027046, -0.03916846588253975, -0.023760659620165825, -0.0014368516858667135, 0.018029317259788513, -0.019340071827173233, 0.02577819675207138, -0.027345962822437286, -0.013518774881958961, 0.011616894043982029, 0.00655699148774147, 0.028631016612052917, -0.017489593476057053, -0.018055018037557602, -0.04754702001810074, 0.05422930419445038, 0.01673141121864319, -0.00018402384012006223, 0.003233518684282899, 0.008854025974869728, 0.014456864446401596, 0.03898855671286583, -0.017502443864941597, -0.02142186090350151, -0.014572519809007645, -0.06111719831824303, 0.039656784385442734, 0.007344087120145559, 0.03613573685288429, 0.017104078084230423, 0.027602974325418472, 0.03780630603432655, 0.003627066733315587, 0.018234925344586372, 0.004073623102158308, 0.021820228546857834, -0.03577592223882675, -0.004706512670964003, 0.002419115277007222, 0.040530622005462646, -0.06014055758714676, 0.00020761664200108498, -0.01685991697013378, 0.015343552455306053, 0.008282177150249481, -0.01668000966310501, -0.048369456082582474, 0.020650828257203102, -0.002602235646918416, -0.035930126905441284, 0.016487250104546547, 0.028142696246504784, 0.0148423807695508, 0.03824322670698166, 0.01682136580348015, -0.012387926690280437, 0.005082391202449799, -0.03300020471215248, -0.028116995468735695, -0.011012918315827847, 0.054075099527835846, 0.01251643244177103, 0.04821525141596794, -0.02302817814052105, -0.016512952744960785, 0.007504718843847513, 0.028476810082793236, 0.05284144729375839, 0.018684694543480873, -0.020535172894597054, -0.01243932917714119, 0.032768893986940384, 0.08887437731027603, -0.08214069157838821, 0.0030857373494654894, 0.026035206392407417, 0.0030102403834462166, 0.05957513302564621, -0.017219731584191322, 0.015793321654200554, 0.06836490333080292, 0.026986148208379745, 0.022681213915348053, 0.018093569204211235, 0.016577204689383507, 0.02413332648575306, 0.021434711292386055, -0.007395489607006311, 0.01853048801422119, 0.005978716537356377, 0.01921156607568264, 0.036495551466941833, 0.061734024435281754, -0.02246275544166565, 0.031997859477996826, -0.014045647345483303, -0.006849341094493866, -0.04158436879515648, -0.008719095960259438, -0.031226826831698418, 0.02675483748316765, 0.06959855556488037, -0.052224621176719666, -0.047444216907024384, 0.01448256615549326, -0.012561408802866936, -0.0019821966998279095, 0.03168944641947746, 0.05083676055073738, -0.03744649142026901, -0.02192303165793419, -0.025225622579455376, 0.002419115277007222, -0.01894170604646206, 0.04271521419286728, 0.02929924614727497, -0.018157821148633957, -0.047392815351486206, -0.00909818708896637, 0.027602974325418472, 0.029093636199831963, 0.013775785453617573, 0.005830935202538967, -0.01733538694679737, -0.0004100127553101629, 0.048883479088544846, -0.02487865835428238, 0.02706325054168701, 0.0042438930831849575, -0.0167057104408741, 0.05117087438702583, -0.017116928473114967, 0.01754099503159523, 0.013968544080853462, -0.0408647358417511, -0.008095844648778439, -0.01948142796754837, 0.012432903982698917, 0.0471872054040432, 0.004960311111062765, 0.043717559427022934, -0.0033186536747962236, 0.08065003156661987, 0.016628606244921684, -0.020059702917933464, 0.020689379423856735, -0.003900140756741166, 0.011147849261760712, -0.03197215870022774, 0.019494278356432915, -0.017708051949739456, 0.01076875813305378, 0.04178997501730919, -0.026395022869110107, 0.05176199972629547, 0.02386346459388733, 0.018157821148633957, -0.003060036338865757, 0.028322603553533554, 0.016988422721624374, 0.006528077647089958, -0.0419955849647522, 0.04158436879515648, -0.004462352022528648, 0.024210428819060326, 0.01503513939678669, -0.002688976936042309, 0.03243478015065193, -0.013300315476953983, -0.04376896098256111, -0.044642798602581024, 0.029916072264313698, 0.07813131809234619, 0.007781005930155516, 0.012644937261939049, -0.014855231158435345, 0.03616143763065338, 0.0008826719131320715, 0.0316123440861702, 0.03328291326761246, -0.020984942093491554, -0.01968703791499138, 0.002064119093120098, -0.020869286730885506, -0.005281574558466673, 0.02609946019947529, 0.048343755304813385, 0.00023130983754526824, 0.02088213711977005, 0.015253598801791668, 0.01941717602312565, 0.005014925729483366, -0.06610321253538132, -0.0004457533359527588, -0.01659005507826805, 0.026176562532782555, 0.030687104910612106, 0.009663610719144344, -0.009117462672293186, -0.00521410908550024, -0.010017001070082188, -0.019802691414952278, 0.010274011641740799, -0.051864806562662125, -0.0171554796397686, -0.005760257598012686, -0.031638044863939285, 0.007671776227653027, -0.01266421377658844, -0.03937407582998276, 0.010293287225067616, -0.014649623073637486, -0.009637909941375256, -0.008879727683961391, 0.014906633645296097, 0.02031671442091465, -0.017695201560854912, -0.0069392952136695385, 0.009432300925254822, 0.030147381126880646, -0.008571314625442028, -0.029196441173553467, -0.011083596386015415, -0.006489526014775038, -0.004561943933367729, -0.004796466324478388, -0.015497758984565735, 0.026780538260936737, 0.03842313215136528, 0.04132735729217529, -0.0014440801460295916, -0.02929924614727497, 0.05695362016558647, -0.012895523570477962, 0.012901948764920235, -0.015240748412907124, 0.024441739544272423, -0.01384003832936287, -0.025007164105772972, 0.00238216994330287, 0.020548023283481598, -0.042226895689964294, 0.018247775733470917, -0.03729228675365448, 0.029813267290592194, 0.001861722907051444, -0.03469647467136383, 0.016692860051989555, 0.04937179759144783, 0.03880865126848221, -0.02672913670539856, 0.03449086472392082, 0.016834216192364693, 0.02047092095017433, -0.030892712995409966, -0.02744876779615879, -0.01598607935011387, -0.03893715515732765, 0.012934074737131596, -0.016924168914556503, -0.005072752945125103, -0.012278697453439236, -0.009952748194336891, -0.027140354737639427, 0.02070222981274128, -0.026112310588359833, -0.011976709589362144, 0.028476810082793236, -0.022694064304232597, 0.018144970759749413, 0.005541798193007708, -0.04821525141596794, -0.030738506466150284, 0.034413762390613556, 0.02237280085682869, 0.017669500783085823, -0.028245501220226288, 0.0073505123145878315, -0.026652032509446144, 0.0018247775733470917, -0.02347794733941555, 0.0184019822627306, 0.030147381126880646, -0.02169172279536724, -0.012786293402314186, -0.0013219999382272363, 0.023619303479790688, -0.014508266933262348, 0.013852888718247414, 0.023285189643502235, -0.02377351000905037, 0.01652580313384533, 0.028065593913197517, 0.014778127893805504, -0.014071348123252392, -0.027345962822437286, -0.034619372338056564, -0.004568369127810001, -0.016178837046027184, 0.033668432384729385, 0.04384606331586838, -0.030301587656140327, -0.010331839323043823, 0.01954568177461624, -0.011668296530842781, 0.01700127311050892, 0.03192075714468956, -0.016847066581249237, 0.021100597456097603, -0.025880999863147736, 0.016422998160123825, 0.07905656099319458, -0.028116995468735695, 0.020368115976452827, 0.002319523598998785, 0.026446424424648285, 0.009580082260072231, 0.004423800390213728, 0.005792383570224047, -0.009162439964711666, -0.00719630578532815, -0.050579749047756195, 0.02636932022869587, 0.008224349468946457, 0.00825005117803812, -0.007626799400895834, 0.017283985391259193, 0.029607659205794334, -0.01548490859568119, 0.009046784602105618, 0.031843654811382294, -0.006071883253753185, 0.007061375305056572, -0.03148384019732475, -0.004478415474295616, -0.002780536888167262, 0.03359132632613182, 0.026446424424648285, -0.023375144228339195, 0.005358677823096514, -0.041687171906232834, -0.005827722605317831, -0.00738263875246048, -0.013043304905295372, -0.01853048801422119, -0.004439863841980696, -0.010890837758779526, 0.04423157870769501, 0.023130983114242554, 0.010672378353774548, 0.009265244007110596, 0.00408004829660058, 0.006669433321803808, 0.02088213711977005, 0.0214475616812706, 0.02873382158577442, -0.005098454188555479, 0.00028231044416315854, 0.01679566316306591, -0.022359950467944145, -0.019674185663461685, 0.026600630953907967, -0.011886755004525185, -0.006707985419780016, -0.015998929738998413, 0.029993174597620964, 0.006573054473847151, -0.021036343649029732, 0.003533900249749422, 0.03004457801580429, 0.031638044863939285, 0.05746764317154884, -0.0031146511901170015, -0.04150726646184921, 0.013827187940478325, -0.00040579616324976087, 0.028810925781726837, 0.013075430877506733, 0.030173081904649734, -0.006585904862731695, -0.0002023960987571627, -0.03816612437367439, -0.013313165865838528, 0.00024134932027664036, -0.01867184415459633, 0.007896660827100277, -0.012625661678612232, -0.01354447565972805, -0.003961180802434683, 0.017887961119413376, 0.03027588687837124, -0.020213909447193146, -0.026574930176138878, -0.003816612297669053, -0.03102121874690056, 0.0011388796847313643, -0.022655513137578964, -0.005313700996339321, 0.010967941023409367, -0.004941035062074661, 0.03798621520400047, -0.023156683892011642, -0.03284599632024765, 0.017553845420479774, -0.007768155075609684, -0.009143163450062275, 0.016384446993470192, -0.003964393399655819, 0.0034053947310894728, 0.02801419049501419, -0.03451656922698021, 0.011816076934337616, 0.003736296435818076, -0.040582023561000824, -0.004504116717725992, -0.02442888915538788, -0.05921531841158867, -0.028888028115034103, -0.034233856946229935, 0.0005650224629789591, 0.007697477471083403, -0.005304063204675913, 0.013454522006213665, -0.018928855657577515, -0.0023387994151562452, -0.010640252381563187, 0.008995382115244865, 0.024326084181666374, 0.00352747505530715, 0.04479700326919556, -0.037549298256635666, 0.037035275250673294, -0.03585302457213402, 0.00913031306117773, -0.002690583234652877, -0.003700957400724292, 0.00868054386228323, 0.026240816339850426, 0.025726793333888054, -0.008783348836004734, -0.02455739490687847, 0.01685991697013378, -0.000839301326777786, 0.00927809439599514, -0.004189277999103069, 0.014649623073637486, -0.02451884187757969, -0.01569051668047905, -0.0015525065828114748, 0.009168865159153938, -0.044617097824811935, 0.003334716660901904, 0.029916072264313698, -0.025649691000580788, -0.014803829602897167, -0.006830065511167049, 0.05016853287816048, -0.01763094961643219, 0.004963523708283901, -0.02839970774948597, 0.014726726338267326, 0.012876247055828571, 0.01765665039420128, 0.022090088576078415, -0.01808071881532669, -0.0027178905438631773, 0.01831202767789364, -0.004645472392439842, -0.014880932867527008, -0.017373938113451004, -0.011237802915275097, -0.05900970846414566, -0.037420790642499924, -0.01668000966310501, 0.012015260756015778, 0.016667159274220467, 0.0077745807357132435, 0.02151181548833847, 0.010331839323043823, -0.0663602203130722, -0.027423065155744553, 0.011134997941553593, -0.012220869772136211, -0.01977699063718319, 0.04150726646184921, 0.010788033716380596, 0.030558599159121513, -0.008963256143033504, 0.020830735564231873, 0.03562171384692192, 0.01094866544008255, -0.02622796595096588, -0.014007095247507095, 0.016448698937892914, -0.00984351895749569, -0.0029170741327106953, -0.0023853827733546495, 0.059677936136722565, -0.03323151171207428, -0.054280709475278854, -0.009599357843399048, -0.05453771725296974, 0.0012898736167699099, 0.012323673814535141, 0.009869219735264778, -0.016371596604585648, 0.0009798541432246566, -0.001122013316489756, 0.0002772907027974725, -0.021036343649029732, -0.04042781889438629, -0.01578047126531601, -0.025662541389465332, -0.04412877559661865, 0.04423157870769501, 0.02207723818719387, 0.04286942258477211, 0.024480290710926056, 0.018363431096076965, 0.0368039645254612, -0.0023773510474711657, 0.020303864032030106, 0.008359280414879322, 0.02302817814052105, -0.021229103207588196, -0.0028496086597442627, 0.0214475616812706, -0.02275831811130047, 0.020637977868318558, 0.029761865735054016, 0.004462352022528648, 0.007761729881167412, -0.022539857774972916, 0.0377035029232502, 0.04664748162031174, -0.03826892748475075, 0.009849944151937962, 0.01247145514935255, 0.030121680349111557, -0.002496218541637063, -0.0202010590583086, 0.03174084797501564, 0.01202168595045805, -0.01381433755159378, -0.0015966803766787052, -0.004179640207439661, 0.01578047126531601, 0.034208156168460846, -0.019532829523086548, -0.03240907937288284, 0.027320262044668198, -0.01587042398750782, -0.015921827405691147, -0.014341210015118122, 0.00032869286951608956, 0.03983669355511665, -0.014328359626233578, 0.03235767409205437, 0.02762867510318756, 0.07633224874734879, 0.012632086873054504, 0.0035114118363708258, 0.04119885340332985, -0.02875952236354351, 0.0009678067872300744, -0.013647280633449554, -0.014829530380666256, -0.01880034990608692, 0.030352991074323654, 0.009387324564158916, -0.0027532295789569616, -0.0034150327555835247, -0.0012746135471388698, 0.016564354300498962, 0.045747943222522736, -0.02478870376944542, 0.034439463168382645, 0.0012505188351497054, 0.0054068672470748425, 0.03171514719724655, 0.0395025797188282, -0.023696407675743103, -0.0022038687020540237, -0.047958239912986755, 0.029273545369505882, -0.007491868454962969, -0.018607590347528458, 0.024351784959435463, 0.025392679497599602, 0.030764207243919373, -0.011674721725285053, -0.05032274127006531, 0.0345422700047493, -0.010929389856755733, -0.03300020471215248, 0.061168599873781204, -0.03844883292913437, 0.012400777079164982, 0.015099392272531986, -0.006255003623664379, 0.0171554796397686, 0.010685229673981667, 0.02768007665872574, -0.03410534933209419, 0.0184019822627306, -0.03595582768321037, -0.024505991488695145, -0.002478549024090171, 0.004754702094942331, -0.00040439062286168337, 0.022951075807213783, -0.00960578303784132, 0.015549161471426487, 0.0076460749842226505, 0.00838498119264841, 0.02160176821053028, -0.026472125202417374, -0.05659380555152893, -0.017476743087172508, -0.013248912990093231, -0.0184019822627306, 0.022835420444607735, -0.03667546063661575, -0.04436008632183075, -0.030301587656140327, 0.01593467779457569, -0.022359950467944145, -0.013081856071949005, 0.007434041239321232, -0.027988489717245102, 0.0002989759959746152, 0.01242647785693407, 0.0249429102987051, -0.04325493797659874, 0.03382263705134392, -0.019198715686798096, -0.02514851838350296, -0.012381501495838165, -0.02765437588095665, -0.01164902001619339, 0.047444216907024384, 0.011944582685828209, -0.022578410804271698, -0.01954568177461624, -0.03600722923874855, -0.00790308602154255, -0.004019008483737707, 0.0020030788145959377, -0.02785998396575451, -0.025456931442022324, -0.026986148208379745, 0.025752494111657143, -0.04597925394773483, 0.007658925838768482, 0.014598220586776733, -0.006460612174123526, -0.02300247736275196, 0.013801487162709236, 0.059318121522665024, -0.013852888718247414, 0.035184796899557114, -0.0017540996195748448, -0.008641992695629597, 0.04430868476629257, 0.016628606244921684, 0.0406334288418293, 0.0291193388402462, -0.029067935422062874, 0.004741851706057787, 0.047778330743312836, 0.05787885934114456, -0.037960514426231384, 0.004279232118278742, -0.03300020471215248, 0.051839105784893036, 0.039245568215847015, -0.020625127479434013, 0.03855163976550102, 0.004716150462627411, 0.005493608769029379, 0.016962721943855286, 0.008179373107850552, -0.01261923648416996, -0.0021926243789494038, 0.05906111001968384, 0.01792651228606701, -0.014726726338267326, -0.01206666324287653, -0.0013412757543846965, -0.028810925781726837, 0.007806706707924604, 0.03557031229138374, -0.0010738237760961056, 0.0035724518820643425, 0.011494813486933708, -0.02690904401242733, -0.021473262459039688, 0.004391674418002367, -0.0029106487054377794, -0.015651965513825417, -0.0020850012078881264, -0.008140821009874344, 0.01864614337682724, -0.01781085692346096, -0.010858711786568165, -0.019918346777558327, 0.015459206886589527, 0.02726885862648487, 0.021164849400520325, -0.012837695889174938, -0.0049506728537380695, -0.029016533866524696, 0.017348237335681915, 0.017592398449778557, -0.025174221023917198, 0.0197512898594141, -0.008693394251167774, -0.002205475000664592, 0.0167057104408741, 0.006945720408111811, 0.017669500783085823, 0.01381433755159378, 0.0006236530607566237, 0.012689914554357529, 0.0354418084025383, 0.012163042090833187, 0.02117769978940487, -0.005583562422543764, -0.014405462890863419, -0.014251255430281162, 0.028065593913197517, 0.01880034990608692, -0.015189345926046371, 0.014225554652512074, -0.031997859477996826, 0.001201526029035449, -0.001678602653555572, -0.014456864446401596, 0.015176495537161827, 0.023503649979829788, 0.00942587573081255, -0.005683154333382845, -0.0001573187910253182, -0.06492096185684204, -0.0034696476068347692, -0.005153069272637367, 0.034028246998786926, -0.00942587573081255, -0.0024689112324267626, -0.027320262044668198, -0.009946322999894619, 0.03174084797501564, 0.014996587298810482, -0.025341277942061424, -0.04212409257888794, -0.02627936750650406, 0.006460612174123526, -0.02440318837761879, -0.04800964146852493, -0.0214475616812706, -0.0044077374041080475, -0.01968703791499138, 0.011205676011741161, 0.03716377913951874, -0.05309845879673958, -0.006444549188017845, -0.025521185249090195, 0.016024630516767502, 0.01950712874531746, 0.006550565827637911, -0.022514156997203827, 0.008744796738028526, 0.018517637625336647, -0.0020705442875623703, -0.01826062612235546, -0.0036045783199369907, 0.0056446027010679245, -0.009303795173764229, -0.004298507701605558, -0.00838498119264841, 0.044617097824811935, 0.0038712271489202976, 0.01127635408192873, 0.03248618170619011, 0.025302724912762642, -0.013415970839560032, -0.03374553471803665, 0.024827254936099052, 0.003537112846970558, -0.02768007665872574, -0.013197511434555054, 0.0034053947310894728, 0.006630881689488888, 0.020059702917933464, 0.04453999176621437, -0.026574930176138878, -0.0007790643721818924, -0.03595582768321037, 0.029016533866524696, -0.03022448532283306, 0.014431163668632507, 0.024120476096868515, -0.013480222783982754, 0.00787738524377346, -0.007761729881167412, 0.0011493207421153784, 0.019262969493865967, -0.0045715817250311375, -0.040196508169174194, 0.007202731445431709, 0.006251791026443243, 0.023041030392050743, 0.017977913841605186, -0.0406334288418293, 0.02548263408243656, -0.05515454337000847, -0.0026472124736756086, 0.026472125202417374, -0.008005890063941479, -0.006547353230416775, -0.049268994480371475, 0.004796466324478388, -0.026035206392407417, -0.019802691414952278, -0.030892712995409966, -0.007434041239321232, 0.0031307144090533257, 0.0026439998764544725, 0.010813734494149685, 0.06877612322568893, -0.004282444715499878, 0.02613801136612892, 0.022976776584982872, 0.004986011888831854, 0.00817294791340828, -0.029273545369505882, 0.006316043436527252, 0.0005706445663236082, -0.031252529472112656, -0.007305535487830639, 0.0458250492811203, -0.0011284386273473501, 0.0029989962931722403, 0.03693246841430664, -0.002950806636363268, -0.035904426127672195, 0.02860531583428383, 0.01598607935011387, 0.005156281869858503, -0.004346697125583887, 0.035930126905441284, 0.023991970345377922, -0.029170740395784378, 0.011957433074712753, 0.03731798753142357, 0.006450974382460117, -0.027988489717245102, 0.033874038606882095, -0.017566697672009468, 0.0023725321516394615, -0.02115199901163578, 0.0023645004257559776, 0.017965063452720642, -0.06713125109672546, 0.006598755717277527, 0.03174084797501564, 0.008230774663388729, 0.010196908377110958, 0.028116995468735695, -0.0072926850989460945, 0.004533030092716217, 0.007813132368028164, -0.00672083580866456, -0.028656719252467155, 0.0049474602565169334, -0.021074896678328514, -0.030687104910612106, 0.01221444457769394, -0.013801487162709236, 0.016474399715662003, -0.01466247346252203, 0.016191689297556877, -0.020059702917933464, -0.00167057104408741, -0.031817954033613205, -0.0004453517321962863, 0.004182852804660797, 0.0197512898594141, 0.021755974739789963, -0.022244295105338097, 0.002507462864741683, 0.010794458910822868, 0.003315440844744444, -0.0008537581888958812, 0.009997725486755371, -0.015767620876431465, -0.02178167551755905, -0.03346282243728638, 0.048343755304813385, -0.035544611513614655, -0.006039756815880537, 0.013030453585088253, 0.007652500178664923, 0.0031162574887275696, 0.0034567969851195812, 0.012632086873054504, -0.010087679140269756, 0.019134463742375374, 0.01082658488303423, 0.033128708600997925, -0.0021058833226561546, -0.003066461533308029, 0.01062097679823637, -0.013968544080853462, -0.019789841026067734, 0.016628606244921684, 0.0167057104408741, -0.04533672705292702, 0.019969748333096504, 0.018337730318307877, 0.01765665039420128, 0.005394016858190298, 0.017258284613490105, 0.009355197660624981, 0.03156094253063202, 0.0036334919277578592, -0.01242647785693407, -0.0050534773617982864, 0.018453383818268776, 0.02040666714310646, 0.008012315258383751, 0.008494211360812187, 0.016538653522729874, -0.02356790192425251, 0.029196441173553467, -0.02309243194758892, 0.004941035062074661, -0.012882672250270844, -0.008911853656172752, 0.03022448532283306, -0.007215581834316254, 0.009355197660624981, -0.021486112847924232, -0.031098322942852974, -0.004504116717725992, -0.01616598665714264, 0.03333431854844093, -0.018389131873846054, -0.029761865735054016, 0.005255873315036297, -0.032743193209171295, -0.0012842514552175999, 0.013634429313242435, 0.012715615332126617, 0.012297973036766052, 0.01781085692346096, -0.0223471000790596, 0.0005236597498878837, 0.013981394469738007, -0.00917529035359621, 0.01724543236196041, -0.0005152265657670796, -0.025277024134993553, -0.019134463742375374, 0.0032094239722937346, 0.012696339748799801, -0.018967406824231148, -0.010036276653409004, -0.003723445814102888, -0.013801487162709236, 0.047033000737428665, -0.008108695037662983, -0.010974366217851639, 0.002668094588443637, 0.0030985879711806774, -0.01317180972546339, -0.004642259795218706, -0.02174312435090542, 0.03246048092842102, -0.0062453653663396835, -0.013197511434555054, 0.014816679991781712, -0.019815541803836823, 0.01855618879199028, -0.0377035029232502, -0.006791513878852129, -0.02381206303834915, -0.010736631229519844, -0.02914503961801529, -0.008982531726360321, 0.009580082260072231, 0.009933472611010075, -0.005802021827548742, -0.009721438400447369, 0.03269179165363312, 0.014161301776766777, -0.018594739958643913, 0.01584472320973873, -0.011475537903606892, 0.015394954942166805, -0.03338572010397911, 0.03662405535578728, 0.01921156607568264, 0.02178167551755905, -0.010068402625620365, -0.004799678921699524, -0.026600630953907967, 0.016268791630864143, 0.010980791412293911, -0.0026231177616864443, -0.039451178163290024, -0.00872552115470171, -0.011289205402135849, 0.015125093050301075, -0.021293355152010918, -0.028502510860562325, 0.006984272040426731, -0.0039258417673408985, -0.021139148622751236, -0.0005128171178512275, -0.02780858241021633, 0.0033925443422049284, -0.03338572010397911, 0.00756897171959281, 0.05155639350414276, -0.03043009340763092, -0.010877987369894981, 0.003810187103226781, 0.02693474479019642, 0.007202731445431709, -0.014675323851406574, -0.010421792976558208, -0.019712738692760468, 0.01679566316306591, -0.024891508743166924, -0.019494278356432915, 0.006219664588570595, 0.02762867510318756, -0.016949869692325592, 0.0011517301900312304, 0.015729067847132683, 0.013011178001761436, -0.024544542655348778, 0.004854294005781412, 0.0019307945622131228, 0.029093636199831963, 0.04096754267811775, -0.029170740395784378, -0.03230627253651619, 0.016371596604585648, -0.004166789818555117, 0.009811392053961754, -0.019160164520144463, -0.013088281266391277, -0.02953055500984192, 0.03603293374180794, 0.009869219735264778, 0.0012505188351497054, 0.006945720408111811, 0.04083903506398201, 0.025045715272426605, 0.009792116470634937, -0.004822167567908764, -0.013955693691968918, -0.020213909447193146, -0.03531330078840256, 0.008526337333023548, -0.0037491468247026205, -2.3781039999448694e-05, -0.005969078745692968, 0.0363413468003273, -0.007466167211532593, -0.018209224566817284, -0.030121680349111557, 2.2990430807112716e-05, 0.0296847615391016, -0.0004578007210511714, -0.0016529015265405178, -0.0016320194117724895, 0.009997725486755371, 0.003256007097661495, 0.009894920513033867, -0.014264106750488281, -0.00148022233042866, -0.06769667565822601, -0.0015420655254274607, -0.002513888059183955, 0.020329564809799194, 0.010113379918038845, -0.013403119519352913, -0.008487786166369915, -0.004767552483826876, 0.02636932022869587, -0.03621283918619156, 0.009066060185432434, -0.014302657917141914, -0.0016545078251510859, -0.024004820734262466, -0.013904291205108166, 0.02374780923128128, 0.04317783564329147, -0.025161370635032654, -0.009477278217673302, -0.014546818099915981, 0.003183722961694002, 0.0022633024491369724, -0.04009370505809784, -0.01844053342938423, -0.004603708162903786, 0.013904291205108166, 0.019828392192721367, -6.933522399776848e-06, -0.007446891628205776, -0.03235767409205437, 0.017592398449778557, 0.005927314516156912, 0.032768893986940384, 0.01724543236196041, -0.00425031827762723, 0.022989626973867416, -0.02255270816385746, -0.01634589582681656, -0.03762640058994293, 0.018299177289009094, -0.009078910574316978, 0.004735426511615515, -0.028810925781726837, -0.03395114466547966, -0.021434711292386055, -0.021794525906443596, 0.006206813734024763, 0.020458070561289787, -0.007517569698393345, 0.01254213321954012, -0.010216183960437775, 0.004160364158451557, 0.010961515828967094, -0.042586710304021835, 0.036264240741729736, -0.000739709590561688, -0.017194030806422234, -0.009618634358048439, 0.00018984674534294754, 0.008571314625442028, 0.042740918695926666, -0.0021749548614025116, -0.024364635348320007, -0.014803829602897167, 0.011205676011741161, 0.0085777398198843, 0.031663745641708374, 0.03816612437367439, -0.03438806161284447, 0.011192825622856617, -0.008153671398758888, 0.010492471046745777, -0.015896126627922058, -0.005593200214207172, -0.03857734054327011, -0.0002266916708322242, 0.013968544080853462, 0.011347032152116299, 0.024171877652406693, 0.015420655719935894, 0.02237280085682869, 0.027397364377975464, 0.007813132368028164, 0.052995651960372925, 0.012381501495838165, -0.015317851677536964, -0.010653102770447731, -0.012304398231208324, 0.04304933175444603, 0.013698682188987732, 0.01853048801422119, -0.004664748441427946, -0.024570245295763016, 0.021961582824587822, -0.020239610224962234, -0.025097116827964783, -0.002396626863628626, 0.02654922939836979, 0.005879125092178583, 0.0005128171178512275, -0.008712670765817165, 0.012490730732679367, 0.005461482331156731, -0.03469647467136383, 0.021229103207588196, -0.0013517168117687106, -0.02410762570798397, -0.005532160401344299, 0.009991299360990524, -0.007337661925703287, 0.022205743938684464, 0.0035660266876220703, 0.013428821228444576, 0.005169132258743048, -0.003521049628034234, -0.012895523570477962, -0.02309243194758892, 0.023310890421271324, -0.03215206786990166, -0.04348624870181084, -0.0426638126373291, -0.012220869772136211, 0.010659527964890003, 0.015343552455306053, -0.04024790972471237, 0.02117769978940487, -0.010717355646193027, 0.03027588687837124, -0.030481496825814247, -0.008860452100634575, -0.005821297410875559, -0.028836626559495926, -0.020149657502770424, -0.039271268993616104]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:08.864206", "url_path": "/api/agent/", "chunk_size": 4558}
updated_dt: 2025-03-15T11:17:08.864206
---
```
defsystem_prompt(
  self,
  func: _system_prompt.SystemPromptFunc[AgentDepsT] | None = None,
  /,
  *,
  dynamic: bool = False,
) -> (
  Callable[[_system_prompt.SystemPromptFunc[AgentDepsT]], _system_prompt.SystemPromptFunc[AgentDepsT]]
  | _system_prompt.SystemPromptFunc[AgentDepsT]
):
"""Decorator to register a system prompt function.
  Optionally takes [`RunContext`][pydantic_ai.tools.RunContext] as its only argument.
  Can decorate a sync or async functions.
  The decorator can be used either bare (`agent.system_prompt`) or as a function call
  (`agent.system_prompt(...)`), see the examples below.
  Overloads for every possible signature of `system_prompt` are included so the decorator doesn't obscure
  the type of the function, see `tests/typed_agent.py` for tests.
  Args:
    func: The function to decorate
    dynamic: If True, the system prompt will be reevaluated even when `messages_history` is provided,
      see [`SystemPromptPart.dynamic_ref`][pydantic_ai.messages.SystemPromptPart.dynamic_ref]
  Example:
  ```python
  from pydantic_ai import Agent, RunContext
  agent = Agent('test', deps_type=str)
  @agent.system_prompt
  def simple_system_prompt() -> str:
    return 'foobar'
  @agent.system_prompt(dynamic=True)
  async def async_system_prompt(ctx: RunContext[str]) -> str:
    return f'{ctx.deps} is the best'
  ```
  """
  if func is None:
    defdecorator(
      func_: _system_prompt.SystemPromptFunc[AgentDepsT],
    ) -> _system_prompt.SystemPromptFunc[AgentDepsT]:
      runner = _system_prompt.SystemPromptRunner[AgentDepsT](func_, dynamic=dynamic)
      self._system_prompt_functions.append(runner)
      if dynamic:
        self._system_prompt_dynamic_functions[func_.__qualname__] = runner
      return func_
    return decorator
  else:
    assert not dynamic, "dynamic can't be True in this case"
    self._system_prompt_functions.append(_system_prompt.SystemPromptRunner[AgentDepsT](func, dynamic=dynamic))
    return func

```
  
---|---  
####  result_validator
```
result_validator(
  func: Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[
    [RunContext[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext "pydantic_ai.tools.RunContext")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")], ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")], ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")
  ],
) -> Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[
  [RunContext[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext "pydantic_ai.tools.RunContext")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")], ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")], ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")
]

```

```
result_validator(
  func: Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[
    [RunContext[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext "pydantic_ai.tools.RunContext")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")], ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")],
    Awaitable[](https://docs.python.org/3/library/collections.abc.html#collections.abc.Awaitable "collections.abc.Awaitable")[ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")],
  ],
) -> Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[
  [RunContext[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext "pydantic_ai.tools.RunContext")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")], ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")],
  Awaitable[](https://docs.python.org/3/library/collections.abc.html#collections.abc.Awaitable "collections.abc.Awaitable")[ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")],
]

```