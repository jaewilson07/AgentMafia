---
url: https://ai.pydantic.dev/api/agent/
session_id: pydantic_ai_docs
chunk_number: 35
title: System Prompt Decorator in Agent API
summary: This chunk describes the `system_prompt` decorator for registering a system prompt function in an agent. It allows for both synchronous and asynchronous functions and can be used in two ways: as a bare decorator or as a function call. The decorator includes overloads to maintain type clarity and accepts an optional `dynamic` argument for reevaluation of the prompt.
embedding: [0.029966846108436584, 0.02413281984627247, -0.03312801197171211, -0.021588465198874474, -0.028219208121299744, 0.053405750542879105, -0.005111197475343943, 0.006862047594040632, 0.029555635526776314, 0.007825818844139576, -0.02376016229391098, -0.007845093496143818, 0.019378216937184334, -0.05129830539226532, -0.006945574656128883, 0.009791910648345947, -0.03999006003141403, 0.013287185691297054, 0.015985744073987007, 0.03541536256670952, 0.026240264996886253, -0.001882565557025373, 0.001072998158633709, 0.002019099658355117, -0.001715511898510158, -0.012484043836593628, -0.06342896819114685, 0.062041137367486954, 0.007626639213413, 0.008333404548466206, 0.026445869356393814, -0.022513683885335922, -0.021395711228251457, -0.03531255945563316, -0.0047128391452133656, 0.005339290015399456, -0.00015340017853304744, 0.03202288970351219, -0.00271140830591321, 0.0004758618015330285, 0.027936501428484917, -0.06132151931524277, 0.011578098870813847, -0.01394254993647337, 0.0013211690820753574, 0.0336163230240345, -0.000667812826577574, 0.014315208420157433, 0.04667220637202263, -0.005487068090587854, -0.06964849680662155, 0.015291829593479633, 0.015895793214440346, 0.04114658758044243, -0.015111925080418587, -0.02088169939815998, -0.026445869356393814, 0.0028029666282236576, 0.01602429524064064, -0.008378379978239536, 0.035929374396800995, -0.03235699608922005, -0.016474055126309395, 0.04970487207174301, -0.016101397573947906, 0.027088383212685585, -0.04184050112962723, 0.021472811698913574, -0.03161168098449707, 0.012920953333377838, 0.046081092208623886, 0.056746821850538254, -0.04487316682934761, -0.04068397730588913, -0.007819393649697304, 0.0008441025274805725, 0.05921407416462898, 0.08805009722709656, 0.0575692392885685, -0.019609522074460983, 0.01425095647573471, -0.015189027413725853, -0.015253278426826, 0.03073786199092865, -0.028887422755360603, -0.0446675606071949, -0.05355995148420334, 0.01867145113646984, -0.026008959859609604, -0.024993788450956345, 0.027705196291208267, 0.0352354571223259, -0.008378379978239536, 0.06409718096256256, 0.09576026350259781, 0.022950593382120132, -0.0389106385409832, -0.024119969457387924, -0.02097165212035179, 0.008282002992928028, 0.030789263546466827, -0.02401716634631157, -0.06106451526284218, -0.01802893914282322, 0.033487822860479355, -0.0008947005262598395, -0.007510986644774675, -0.018530098721385002, -0.047674525529146194, -0.03541536256670952, -0.016821011900901794, 0.012021433562040329, -0.012702498584985733, 9.160841727862135e-06, -0.026651473715901375, -0.012541869655251503, -0.001956454711034894, -0.04045267030596733, -0.004850979428738356, -0.04063257575035095, -0.04890815168619156, -0.026908479630947113, 0.020958801731467247, -0.01103838812559843, -0.0034117484465241432, -0.003745855763554573, -0.03780551254749298, -0.052043620496988297, -0.0273967906832695, -0.03027525171637535, 0.03518405929207802, -0.018504397943615913, -0.00047827124944888055, -0.0005039717652834952, -0.01913406141102314, -0.02035483904182911, -0.046363797038793564, -0.002647157059982419, -0.02433842420578003, 0.05535899102687836, -0.018825655803084373, 0.02341320365667343, -0.003379622707143426, 0.012207763269543648, -0.013210084289312363, 0.03739430382847786, -0.01637125201523304, 0.009978239424526691, -0.08100814372301102, 0.023888664320111275, -0.005564169958233833, 0.034181736409664154, -0.014675015583634377, -0.005416391417384148, -0.013454239815473557, 0.005307164508849382, 0.012233463115990162, 0.018530098721385002, 0.06553640961647034, -0.010813508182764053, -0.008834565058350563, -0.000167053600307554, -0.04227741062641144, -0.018363045528531075, -0.015600236132740974, -0.04618389531970024, 0.02431272342801094, -0.013351437635719776, -0.04806003347039223, 0.022436583414673805, 0.01747637614607811, -0.006547215860337019, -0.01998217962682247, 0.02986404299736023, 0.019069811329245567, 0.013518490828573704, -0.07185874879360199, -0.03652048483490944, -0.02649727091193199, 0.00633197370916605, 0.02399146743118763, 0.03564666584134102, -0.03207429125905037, -0.019391067326068878, 0.005496705882251263, -0.001765306806191802, 0.011423896066844463, 0.00801214762032032, 0.023721611127257347, 0.06718124449253082, 0.004356243647634983, 0.054690778255462646, 0.03608357533812523, -0.0006465295446105301, -0.015805840492248535, -0.02541784755885601, 0.046286698430776596, -0.0006421122816391289, 0.03564666584134102, -0.01957097090780735, -0.03132897615432739, -0.003832594957202673, 0.03382192924618721, -0.013274336233735085, 0.03672609105706215, -0.011366069316864014, -0.01471356675028801, -0.017849033698439598, -0.041043784469366074, -0.016307001933455467, 0.026651473715901375, -0.06214393675327301, 0.04531007632613182, 0.015972893685102463, -0.030814964324235916, -0.006197046022862196, 0.0015813871286809444, -0.013544191606342793, 0.006354461889714003, 0.019198313355445862, 0.02677997574210167, 0.029375731945037842, 0.02376016229391098, -0.07370918989181519, -0.007536687422543764, 0.06260655075311661, -0.05078429356217384, -0.025919009000062943, -0.02518654242157936, 0.05813465267419815, -0.009451378136873245, -0.011989308521151543, -0.0001738803111948073, 0.006502239964902401, 0.002740321448072791, -0.01515047624707222, 0.00032326477230526507, 0.02716548554599285, 0.03711159899830818, -0.03996435925364494, -0.009913988411426544, 0.009528480470180511, 0.06327476352453232, -0.015972893685102463, 0.016499755904078484, 0.04423065111041069, -0.0009348576422780752, -0.01910836063325405, 0.025430697947740555, 0.020341988652944565, 0.02573910355567932, 0.02152421325445175, -0.00767804030328989, -0.006431563291698694, -0.0692886933684349, 0.025751953944563866, 0.011064087972044945, -0.013132982887327671, -0.0217555183917284, 0.01957097090780735, 0.009053019806742668, 0.009644133038818836, -0.011327519081532955, 0.030557958409190178, 0.022282380610704422, -0.03677749261260033, 0.017746232450008392, -0.010055341757833958, 0.035929374396800995, -0.009258624166250229, 0.05988229066133499, -0.027525292709469795, 0.011526698246598244, -0.00025539923808537424, -0.03212569281458855, -0.013826897367835045, 0.029375731945037842, 0.051221203058958054, -0.011295393109321594, -0.0082884281873703, -0.060910310596227646, 0.028604716062545776, 0.015394631773233414, 0.0006220337236300111, -0.0379854179918766, 0.019198313355445862, -0.034618645906448364, -0.02419707179069519, -0.0010087466798722744, 0.03030095249414444, -0.019275415688753128, -0.020290587097406387, -0.005856513511389494, -0.01074283104389906, 0.011693751439452171, -0.03428453952074051, -0.007877219468355179, 0.0022793179377913475, 0.048753950744867325, -0.008603259921073914, 0.021884020417928696, 0.01858150027692318, 0.008712487295269966, 0.0019227226730436087, -0.02555919997394085, -0.016949515789747238, -0.01171945221722126, -0.01336428802460432, 0.02102305181324482, -0.010126017965376377, -0.01128254272043705, 0.050527289509773254, -0.04790583252906799, -0.0008135831449180841, -0.0003678391803987324, -0.030840663239359856, 0.009869012050330639, -0.028861721977591515, 0.04117228835821152, -0.03919334337115288, -0.02378586307168007, -0.001453687553294003, 0.01805463805794716, -0.01936536654829979, 0.025751953944563866, -0.027345389127731323, -0.013569892384111881, 0.011571674607694149, 0.00652794074267149, 0.028630416840314865, -0.017463525757193565, -0.018016088753938675, -0.04754602536559105, 0.05422816798090935, 0.0166925098747015, -0.00017679169832263142, 0.0032222068402916193, 0.008905242197215557, 0.014507962390780449, 0.03896204009652138, -0.017553478479385376, -0.02137001045048237, -0.014572213403880596, -0.061115916818380356, 0.039681654423475266, 0.007369633764028549, 0.036134976893663406, 0.017116568982601166, 0.027550993487238884, 0.03783121332526207, 0.003668753895908594, 0.01820884272456169, 0.004051049705594778, 0.021909721195697784, -0.03577516973018646, -0.004706413950771093, 0.002447977662086487, 0.04050407186150551, -0.0600878931581974, 9.441941801924258e-05, -0.016872413456439972, 0.015330379828810692, 0.0082884281873703, -0.01666680909693241, -0.04836844280362129, 0.020624693483114243, -0.0026294877752661705, -0.03587797284126282, 0.016499755904078484, 0.0280907042324543, 0.014790668152272701, 0.03824242204427719, 0.016769610345363617, -0.012400517240166664, 0.005143323447555304, -0.033025212585926056, -0.028142105787992477, -0.010980561375617981, 0.05417676642537117, 0.012471193447709084, 0.04818853735923767, -0.023079097270965576, -0.016538305208086967, 0.007491711527109146, 0.028476214036345482, 0.05278893560171127, 0.01867145113646984, -0.020547593012452126, -0.01241979282349348, 0.03276820480823517, 0.08882111310958862, -0.08208756893873215, 0.0030423030257225037, 0.02608606219291687, 0.0029957208316773176, 0.059573881328105927, -0.017193669453263283, 0.01579299010336399, 0.06831207126379013, 0.02701128087937832, 0.022667888551950455, 0.018067488446831703, 0.016615407541394234, 0.02413281984627247, 0.02143426239490509, -0.007395334076136351, 0.018517248332500458, 0.005997866857796907, 0.019185462966561317, 0.03646908700466156, 0.06173272803425789, -0.022513683885335922, 0.03192008659243584, -0.014032501727342606, -0.006862047594040632, -0.04158349707722664, -0.008712487295269966, -0.031251873821020126, 0.026805676519870758, 0.06959709525108337, -0.052274927496910095, -0.047443222254514694, 0.014520812779664993, -0.012496894225478172, -0.001975730061531067, 0.03168878331780434, 0.05080999433994293, -0.037471406161785126, -0.02198682352900505, -0.02523794397711754, 0.0023499943781644106, -0.018941307440400124, 0.04274002090096474, 0.029324332252144814, -0.01820884272456169, -0.047443222254514694, -0.009110846556723118, 0.02760239504277706, 0.029067326337099075, 0.013724095188081264, 0.005782624706625938, -0.01733502373099327, -0.00040638999780640006, 0.048959553241729736, -0.024903835728764534, 0.027062682434916496, 0.004298417363315821, -0.0166925098747015, 0.0511183999478817, -0.01712941937148571, 0.01754062809050083, 0.014019652269780636, -0.040786776691675186, -0.008063548244535923, -0.01948102004826069, 0.012394092045724392, 0.04716051369905472, 0.004989119712263346, 0.0437423400580883, -0.0033474969677627087, 0.08069973438978195, 0.016615407541394234, -0.020059281960129738, 0.02070179581642151, -0.003938609734177589, 0.011115489527583122, -0.03204859048128128, 0.019519571214914322, -0.01765627972781658, 0.010749256238341331, 0.04178909957408905, -0.02634306810796261, 0.05173521488904953, 0.023862963542342186, 0.018183141946792603, -0.0030856726225465536, 0.028373410925269127, 0.016962366178631783, 0.006499027367681265, -0.04199470579624176, 0.04158349707722664, -0.004487959202378988, 0.02422277070581913, 0.015073374845087528, -0.002709802007302642, 0.03248549997806549, -0.013274336233735085, -0.04379374161362648, -0.04464185982942581, 0.029889743775129318, 0.07812967896461487, 0.007819393649697304, 0.012606121599674225, -0.014893470332026482, 0.036160677671432495, 0.0009179916232824326, 0.031534578651189804, 0.03333361819386482, -0.020920250564813614, -0.01966092362999916, 0.0020849574357271194, -0.02088169939815998, -0.005268613342195749, 0.026098912581801414, 0.048317041248083115, 0.0002453599590808153, 0.020868849009275436, 0.015278979204595089, 0.019391067326068878, 0.00505337119102478, -0.06610182672739029, -0.00043209054274484515, -0.016538305208086967, 0.026124613359570503, 0.030660759657621384, 0.009663407690823078, -0.009149396792054176, -0.005165811162441969, -0.009984664618968964, -0.019802276045084, 0.01029307208955288, -0.051863715052604675, -0.017167970538139343, -0.005715160630643368, -0.03161168098449707, 0.007633064407855272, -0.0126639474183321, -0.03939894959330559, 0.01029307208955288, -0.014623614959418774, -0.009650558233261108, -0.008879541419446468, 0.014867770485579967, 0.020316287875175476, -0.017720531672239304, -0.006977700162678957, 0.009444952942430973, 0.030146749690175056, -0.008603259921073914, -0.02922152914106846, -0.01107693836092949, -0.006502239964902401, -0.0045843361876904964, -0.004783515352755785, -0.015497433952987194, 0.026831377297639847, 0.03847372904419899, 0.041275087743997574, -0.001456097001209855, -0.029272930696606636, 0.056952428072690964, -0.012946654111146927, 0.01289525255560875, -0.015253278426826, 0.02445407584309578, -0.01380119752138853, -0.02500663883984089, 0.002430308610200882, 0.020573293790221214, -0.04220030829310417, 0.018273092806339264, -0.0372915044426918, 0.029812641441822052, 0.0018938095308840275, -0.03472144901752472, 0.016743911430239677, 0.04937076196074486, 0.038782134652137756, -0.02675427682697773, 0.03449014201760292, 0.016846712678670883, 0.02047049067914486, -0.030866364017128944, -0.02742248959839344, -0.01599859446287155, -0.03893633931875229, 0.012914528138935566, -0.016949515789747238, -0.005111197475343943, -0.01225916389375925, -0.009907563216984272, -0.02719118632376194, 0.020688945427536964, -0.026137463748455048, -0.01195075735449791, 0.028450513258576393, -0.022693589329719543, 0.018183141946792603, 0.005522406194359064, -0.04823993891477585, -0.03071216121315956, 0.034413039684295654, 0.022398032248020172, 0.017669130116701126, -0.02827060967683792, 0.0073439329862594604, -0.026651473715901375, 0.0018183141946792603, -0.023477455601096153, 0.018401596695184708, 0.030121048912405968, -0.021678416058421135, -0.012798875570297241, -0.0013219722313806415, 0.023593107238411903, -0.01448226161301136, 0.013891149312257767, 0.02329755201935768, -0.023747311905026436, 0.016499755904078484, 0.0280907042324543, 0.014790668152272701, -0.014096753671765327, -0.027371089905500412, -0.034592945128679276, -0.004574698396027088, -0.016178498044610023, 0.033693425357341766, 0.04384514316916466, -0.03032665327191353, -0.010305921547114849, 0.019532419741153717, -0.011706601828336716, 0.016975214704871178, 0.03192008659243584, -0.016859563067555428, 0.021100154146552086, -0.025906158611178398, 0.016384102404117584, 0.07905489951372147, -0.028142105787992477, 0.020367689430713654, 0.0023066247813403606, 0.026445869356393814, 0.009605581872165203, 0.004455833230167627, 0.005805112421512604, -0.009155821986496449, -0.007196154911071062, -0.05057868734002113, 0.026368767023086548, 0.008237027563154697, 0.008256303146481514, -0.0076394896022975445, 0.017257921397686005, 0.02965843863785267, -0.015458882786333561, 0.009065870195627213, 0.03179158642888069, -0.006071755662560463, 0.007009826134890318, -0.03148317709565163, -0.004468683619052172, -0.002786903874948621, 0.03359062224626541, 0.026445869356393814, -0.0233746524900198, 0.0053649903275072575, -0.041711997240781784, -0.0057858373038470745, -0.007369633764028549, -0.013068731874227524, -0.018478697165846825, -0.004446195904165506, -0.010852058418095112, 0.04423065111041069, 0.023130498826503754, 0.010717131197452545, 0.009297175332903862, 0.004121726378798485, 0.006669293623417616, 0.02090740017592907, 0.02145996131002903, 0.02873321808874607, -0.005091922357678413, 0.0003078042936976999, 0.016821011900901794, -0.02242373302578926, -0.019622372463345528, 0.026651473715901375, -0.01188008114695549, -0.006720694713294506, -0.01602429524064064, 0.030018245801329613, 0.006605042144656181, -0.02102305181324482, 0.0034824248868972063, 0.03006964735686779, 0.03166308254003525, 0.05751783773303032, -0.0031113731674849987, -0.041480693966150284, 0.013826897367835045, -0.00041161043918691576, 0.028810320422053337, 0.013062306679785252, 0.030172450467944145, -0.006572916638106108, -0.00019476200395729393, -0.03816532343626022, -0.013312886469066143, 0.00019606710702646524, -0.018658602610230446, 0.007902920246124268, -0.0126639474183321, -0.013518490828573704, -0.003980373032391071, 0.017849033698439598, 0.030249550938606262, -0.02021348476409912, -0.02657437138259411, -0.003771556308493018, -0.031020568683743477, 0.001142068300396204, -0.022680738940835, -0.005307164508849382, 0.010929160751402378, -0.004953781608492136, 0.0379854179918766, -0.023156197741627693, -0.03287100791931152, 0.017553478479385376, -0.007748716976493597, -0.009142971597611904, 0.016384102404117584, -0.003916122019290924, 0.0033956856932491064, 0.028013603761792183, -0.03449014201760292, 0.011815829202532768, 0.0037587059196084738, -0.04060687497258186, -0.004500809591263533, -0.024466926231980324, -0.05926547572016716, -0.028887422755360603, -0.03420743718743324, 0.0005786640103906393, 0.007723016198724508, -0.005291101522743702, 0.013441389426589012, -0.018941307440400124, -0.002335537690669298, -0.010607903823256493, 0.009001619182527065, 0.02433842420578003, 0.0035434637684375048, 0.044796064496040344, -0.03757420927286148, 0.03700879588723183, -0.03585227206349373, 0.009091570973396301, -0.00271140830591321, -0.0036719664931297302, 0.008706062100827694, 0.026253115385770798, 0.025751953944563866, -0.008802439086139202, -0.024582579731941223, 0.01689811423420906, -0.0008059532847255468, 0.009252198971807957, -0.004211678169667721, 0.014636465348303318, -0.024505477398633957, -0.01567733846604824, -0.001570946304127574, 0.009168672375380993, -0.04461615905165672, 0.003337859408929944, 0.029941145330667496, -0.025597751140594482, -0.014829219318926334, -0.0068234968930482864, 0.0501931793987751, -0.01754062809050083, 0.004992332309484482, -0.028399111703038216, 0.014752117916941643, 0.012850277125835419, 0.01765627972781658, 0.022141026332974434, -0.018080338835716248, -0.0027242586947977543, 0.01837589591741562, -0.004635737277567387, -0.014854920096695423, -0.01736072450876236, -0.011224716901779175, -0.058957070112228394, -0.03742000460624695, -0.01666680909693241, 0.01198288332670927, 0.01666680909693241, 0.007767992094159126, 0.021511362865567207, 0.010331622324883938, -0.0663074254989624, -0.02744819037616253, 0.011173315346240997, -0.01222703792154789, -0.019802276045084, 0.041429292410612106, 0.010813508182764053, 0.030583659186959267, -0.008950217626988888, 0.020868849009275436, 0.03562096878886223, 0.01094843540340662, -0.026265965774655342, -0.014006801880896091, 0.01646120473742485, -0.009843312203884125, -0.0029170128982514143, -0.00243191490881145, 0.059573881328105927, -0.03317941352725029, -0.0543309710919857, -0.009573455899953842, -0.054485172033309937, 0.001264145947061479, 0.012323414906859398, 0.009856162592768669, -0.01637125201523304, 0.001002321601845324, -0.0010866515804082155, 0.0002915406657848507, -0.02104875259101391, -0.04040126875042915, -0.015805840492248535, -0.025662003085017204, -0.044127851724624634, 0.04423065111041069, 0.02207677625119686, 0.04291992262005806, 0.024466926231980324, 0.018363045528531075, 0.03685459494590759, -0.0023467817809432745, 0.02032913826406002, 0.008333404548466206, 0.0230276957154274, -0.021267207339406013, -0.0028415173292160034, 0.021421412006020546, -0.022732138633728027, 0.020624693483114243, 0.029761241748929024, 0.004433345515280962, 0.007723016198724508, -0.022552235051989555, 0.03772841393947601, 0.04669790714979172, -0.03824242204427719, 0.009836887009441853, 0.01243264228105545, 0.030146749690175056, -0.002504197647795081, -0.020200634375214577, 0.031740184873342514, 0.011995733715593815, -0.013852598145604134, -0.0015645212261006236, -0.004192402586340904, 0.015754438936710358, 0.03423313796520233, -0.019558120518922806, -0.03243409842252731, 0.027293987572193146, -0.0158829428255558, -0.015921492129564285, -0.014315208420157433, 0.00038048866554163396, 0.039912957698106766, -0.014340909197926521, 0.03235699608922005, 0.02762809582054615, 0.07627924531698227, 0.012657522223889828, 0.0034856374841183424, 0.04119798541069031, -0.02875891886651516, 0.0009621644858270884, -0.013646993786096573, -0.014790668152272701, -0.018799955025315285, 0.030352354049682617, 0.009399977512657642, -0.002764415694400668, -0.0033892604988068342, -0.0013219722313806415, 0.0165768563747406, 0.04574698582291603, -0.02477533370256424, 0.034413039684295654, 0.0012898464919999242, 0.005432454403489828, 0.031714484095573425, 0.039450351148843765, -0.023708760738372803, -0.002284136600792408, -0.04795723408460617, 0.029298631474375725, -0.007498136255890131, -0.018594350665807724, 0.024351274594664574, 0.025430697947740555, 0.030840663239359856, -0.011661626398563385, -0.050295982509851456, 0.0345415435731411, -0.010942010208964348, -0.03297381103038788, 0.06116731837391853, -0.038396626710891724, 0.012406942434608936, 0.015073374845087528, -0.006267722696065903, 0.017206519842147827, 0.010729980655014515, 0.02767949551343918, -0.03410463407635689, 0.018427297472953796, -0.035929374396800995, -0.024441225454211235, -0.002470465609803796, 0.004764240235090256, -0.00045337382471188903, 0.022950593382120132, -0.00962485745549202, 0.015523133799433708, 0.007626639213413, 0.008378379978239536, 0.021588465198874474, -0.026445869356393814, -0.05659261718392372, -0.017463525757193565, -0.01326148584485054, -0.018388746306300163, 0.02288634330034256, -0.03670039027929306, -0.04438485577702522, -0.030223850160837173, 0.01596004329621792, -0.022346630692481995, -0.013107282109558582, 0.007446735166013241, -0.028013603761792183, 0.0003144302172586322, 0.012413367629051208, 0.024942386895418167, -0.0432797335088253, 0.0338476300239563, -0.019211163744330406, -0.025173692032694817, -0.012361966073513031, -0.02767949551343918, -0.011610224843025208, 0.047417521476745605, 0.011912206187844276, -0.022616486996412277, -0.01959667168557644, -0.03600647673010826, -0.007890069857239723, -0.0040221367962658405, 0.00200303690508008, -0.027807999402284622, -0.025456398725509644, -0.027036981657147408, 0.02576480433344841, -0.04597828909754753, 0.007645914796739817, 0.014623614959418774, -0.006450838875025511, -0.022950593382120132, 0.013788347132503986, 0.05931687727570534, -0.013826897367835045, 0.03518405929207802, -0.0017074805218726397, -0.00862253550440073, 0.04430775344371796, 0.016589706763625145, 0.04063257575035095, 0.029093027114868164, -0.029067326337099075, 0.004706413950771093, 0.04777732864022255, 0.05787764489650726, -0.0379854179918766, 0.004253441467881203, -0.03297381103038788, 0.051838018000125885, 0.039244744926691055, -0.020598992705345154, 0.038550831377506256, 0.004735326860100031, 0.0054003288969397545, 0.016949515789747238, 0.008192051202058792, -0.012580420821905136, -0.002221491653472185, 0.05905987322330475, 0.017977537587285042, -0.014726417139172554, -0.012098535895347595, -0.0013412475818768144, -0.028810320422053337, 0.007819393649697304, 0.03556956723332405, -0.0010681792628020048, 0.003578802105039358, 0.011507422663271427, -0.026882778853178024, -0.021498512476682663, 0.0043690940365195274, -0.002864005509763956, -0.015651637688279152, -0.0021010201890021563, -0.008153500966727734, 0.018658602610230446, -0.017874734476208687, -0.010871334001421928, -0.01989222876727581, 0.015446032397449017, 0.027319688349962234, 0.021100154146552086, -0.012856701388955116, -0.004960206802934408, -0.029015924781560898, 0.01736072450876236, 0.017630578950047493, -0.02518654242157936, 0.019750874489545822, -0.008686787448823452, -0.0022054286673665047, 0.0166925098747015, 0.006971274968236685, 0.017694830894470215, 0.013788347132503986, 0.0006264509866014123, 0.01269607339054346, 0.03541536256670952, 0.012169212102890015, 0.021125854924321175, -0.005621996242552996, -0.014366609044373035, -0.014212406240403652, 0.028013603761792183, 0.01881280541419983, -0.015176177024841309, 0.014238107018172741, -0.03204859048128128, 0.0011846348643302917, -0.001667323405854404, -0.014456560835242271, 0.015163326635956764, 0.023541707545518875, 0.009425678290426731, -0.005666972137987614, -0.00018100818851962686, -0.0649195984005928, -0.0035177632234990597, -0.005143323447555304, 0.03400183096528053, -0.009399977512657642, -0.002494559856131673, -0.027319688349962234, -0.009939689189195633, 0.0317658856511116, 0.015009122900664806, -0.025340745225548744, -0.042123205959796906, -0.026265965774655342, 0.0064765396527945995, -0.02440267615020275, -0.04795723408460617, -0.021421412006020546, -0.004430132918059826, -0.019673774018883705, 0.011199016124010086, 0.03716300055384636, -0.05309734493494034, -0.006444413680583239, -0.025520648807287216, 0.016037145629525185, 0.019532419741153717, 0.006534365937113762, -0.022552235051989555, 0.008763888850808144, 0.018568649888038635, -0.0020592568907886744, -0.01826024241745472, -0.0036045026499778032, 0.005602720659226179, -0.009284324944019318, -0.004298417363315821, -0.008359105326235294, 0.04461615905165672, 0.003880783449858427, 0.011276117525994778, 0.03248549997806549, 0.0253278948366642, -0.013454239815473557, -0.033719126135110855, 0.02483958564698696, 0.0035370385739952326, -0.02767949551343918, -0.013222934678196907, 0.0033988982904702425, 0.006617892533540726, 0.02003358118236065, 0.044539060443639755, -0.02649727091193199, -0.0007766386261209846, -0.035955075174570084, 0.029041625559329987, -0.03027525171637535, 0.014507962390780449, 0.024145670235157013, -0.013518490828573704, 0.007883644662797451, -0.007819393649697304, 0.0011597374686971307, 0.01924971491098404, -0.004590761382132769, -0.04016996547579765, 0.007196154911071062, 0.006258084904402494, 0.02309194765985012, 0.01800323836505413, -0.04060687497258186, 0.025482099503278732, -0.055153388530015945, -0.002676070202142, 0.026471570134162903, -0.007960746064782143, -0.006605042144656181, -0.04929365962743759, 0.004777090158313513, -0.026098912581801414, -0.019815126433968544, -0.030917765572667122, -0.007446735166013241, 0.003164380555972457, 0.002621456515043974, 0.010819933377206326, 0.06877467781305313, -0.004275929648429155, 0.02611176297068596, 0.02300199493765831, 0.005011607892811298, 0.008211326785385609, -0.029272930696606636, 0.00633197370916605, 0.0005822781822644174, -0.031277574598789215, -0.007305382285267115, 0.0458240881562233, -0.0011372495209798217, 0.0030342715326696634, 0.03695739433169365, -0.002950744703412056, -0.03585227206349373, 0.028579015284776688, 0.015972893685102463, 0.005127260461449623, -0.0043273307383060455, 0.035903673619031906, 0.02399146743118763, -0.02919582836329937, 0.011976458132266998, 0.03731720522046089, 0.006450838875025511, -0.027987902984023094, 0.0338476300239563, -0.017527777701616287, 0.0023676634300500154, -0.021100154146552086, 0.0023676634300500154, 0.017977537587285042, -0.06712984293699265, 0.006605042144656181, 0.031714484095573425, 0.008179200813174248, 0.010203119367361069, 0.02811640501022339, -0.007260406389832497, 0.004545785486698151, 0.007825818844139576, -0.0067014191299676895, -0.028630416840314865, 0.00491523090749979, -0.021061602979898453, -0.030686460435390472, 0.012201338075101376, -0.013788347132503986, 0.016512606292963028, -0.014649315737187862, 0.016204198822379112, -0.020020730793476105, -0.0016641108086332679, -0.03186868503689766, -0.00045417697401717305, 0.004169914871454239, 0.019738024100661278, 0.021768368780612946, -0.022282380610704422, 0.00248331599868834, 0.010807082988321781, 0.003318584058433771, -0.0008320554043166339, 0.010023215785622597, -0.01579299010336399, -0.02178121916949749, -0.03341072052717209, 0.04823993891477585, -0.03551816567778587, -0.006020354572683573, 0.012978779152035713, 0.007671615108847618, 0.00310494820587337, 0.0034535119775682688, 0.012625397183001041, -0.010119592770934105, 0.019185462966561317, 0.010800657793879509, 0.03312801197171211, -0.0020881700329482555, -0.003101735608652234, 0.010588628239929676, -0.013981101103127003, -0.019802276045084, 0.016653958708047867, 0.016679659485816956, -0.04531007632613182, 0.019930779933929443, 0.018311643972992897, 0.01765627972781658, 0.0053682029247283936, 0.017283622175455093, 0.009329301305115223, 0.03156027942895889, 0.0036559037398546934, -0.012394092045724392, -0.005037308670580387, 0.01844014786183834, 0.020406238734722137, 0.008037848398089409, 0.008506882935762405, 0.016512606292963028, -0.023618808016180992, 0.029247229918837547, -0.02309194765985012, 0.004976269789040089, -0.01286955177783966, -0.008930942043662071, 0.030223850160837173, -0.0072539811953902245, 0.009348575957119465, -0.02152421325445175, -0.031097669154405594, -0.00451365951448679, -0.01613994687795639, 0.03335931897163391, -0.018401596695184708, -0.029786940664052963, 0.005268613342195749, -0.03274250403046608, -0.0013010904658585787, 0.013634143397212029, 0.01269607339054346, 0.012310565449297428, 0.017874734476208687, -0.02233378030359745, 0.0005099953850731254, 0.013968250714242458, -0.009194373153150082, 0.017232220619916916, -0.00048710580449551344, -0.02527649514377117, -0.019146911799907684, 0.00319168739952147, 0.01269607339054346, -0.018954157829284668, -0.010016790591180325, -0.003739430569112301, -0.01380119752138853, 0.04705771431326866, -0.008095674216747284, -0.01094843540340662, 0.00266803870908916, 0.0031097668688744307, -0.01315868366509676, -0.0046646506525576115, -0.021716967225074768, 0.03243409842252731, -0.006258084904402494, -0.013197233900427818, 0.01481636893004179, -0.019815126433968544, 0.018530098721385002, -0.03765131160616875, -0.006772095803171396, -0.023824412375688553, -0.010749256238341331, -0.029118727892637253, -0.008975918404757977, 0.009605581872165203, 0.009920413605868816, -0.00580832501873374, -0.009701958857476711, 0.03271680325269699, 0.01414815429598093, -0.018594350665807724, 0.015857242047786713, -0.011475296691060066, 0.015394631773233414, -0.033385019749403, 0.03664898872375488, 0.019236864522099495, 0.021819770336151123, -0.010036066174507141, -0.004764240235090256, -0.026625772938132286, 0.016268450766801834, 0.011019112542271614, -0.0026053935289382935, -0.039450351148843765, -0.00872533768415451, -0.011250417679548264, 0.01515047624707222, -0.02122865803539753, -0.02852761372923851, 0.006971274968236685, -0.003925759345293045, -0.021164406090974808, -0.000499152927659452, -0.02783370018005371, 0.0034181736409664154, -0.03335931897163391, 0.007588088512420654, 0.05150390788912773, -0.030429454520344734, -0.010909885168075562, 0.003861508099362254, 0.026882778853178024, 0.0072539811953902245, -0.014675015583634377, -0.010415148921310902, -0.01966092362999916, 0.016821011900901794, -0.02489098533987999, -0.0194553192704916, 0.006206683814525604, 0.02760239504277706, -0.01692381501197815, 0.0011806191178038716, 0.015754438936710358, 0.013036605902016163, -0.024556878954172134, 0.004854192025959492, 0.0019468169193714857, 0.029067326337099075, 0.040992382913827896, -0.029144426807761192, -0.03230559453368187, 0.016409803181886673, -0.004198827780783176, 0.009779060259461403, -0.01913406141102314, -0.013113707304000854, -0.029555635526776314, 0.03600647673010826, 0.009881862439215183, 0.001263342797756195, 0.006990550551563501, 0.040812477469444275, 0.025045190006494522, 0.009785485453903675, -0.004828491248190403, -0.013981101103127003, -0.020226335152983665, -0.03531255945563316, 0.008513308130204678, -0.003739430569112301, -5.137600965099409e-05, -0.005975378677248955, 0.03631488233804703, -0.007453160360455513, -0.018183141946792603, -0.030146749690175056, 1.396714651491493e-05, 0.029709840193390846, -0.0004316889971960336, -0.0016528668347746134, -0.001643229159526527, 0.010016790591180325, 0.0032575451768934727, 0.00995896477252245, -0.01425095647573471, -0.001474569202400744, -0.0676952600479126, -0.0015396238304674625, -0.0025122291408479214, 0.020316287875175476, 0.010074617341160774, -0.013402838259935379, -0.008539008907973766, -0.004786727949976921, 0.02634306810796261, -0.03621207922697067, 0.009020893834531307, -0.014315208420157433, -0.0016769610811024904, -0.024055717512965202, -0.01383974775671959, 0.023773012682795525, 0.043202631175518036, -0.02518654242157936, -0.009477078914642334, -0.014546513557434082, 0.003169199451804161, 0.00223916070535779, -0.04004146158695221, -0.018414447084069252, -0.0046293120831251144, 0.013865448534488678, 0.019840827211737633, 2.1885627575102262e-05, -0.007408184465020895, -0.03230559453368187, 0.017630578950047493, 0.0059207649901509285, 0.03279390558600426, 0.017232220619916916, -0.004227741155773401, 0.023040546104311943, -0.022577935829758644, -0.016358401626348495, -0.03762561082839966, 0.018298793584108353, -0.009078720584511757, 0.004732114262878895, -0.02878461964428425, -0.033976130187511444, -0.02143426239490509, -0.021768368780612946, 0.0062259589321911335, 0.020419089123606682, -0.007543112616986036, 0.012541869655251503, -0.010215969756245613, 0.004173127468675375, 0.010986986570060253, -0.04263721778988838, 0.03628918156027794, -0.0007260406273417175, -0.01721937023103237, -0.009631282649934292, 0.00015791784971952438, 0.0085775600746274, 0.04271432012319565, -0.0021749092265963554, -0.024364124983549118, -0.014777817763388157, 0.01115403976291418, 0.00859040953218937, 0.03166308254003525, 0.03816532343626022, -0.03443874046206474, 0.011166890151798725, -0.00818562600761652, 0.010537226684391499, -0.015947192907333374, -0.00561878364533186, -0.038602232933044434, -0.0002238759188912809, 0.013968250714242458, 0.01131466869264841, 0.0241713710129261, 0.015394631773233414, 0.022372331470251083, 0.027371089905500412, 0.007864369079470634, 0.05304594337940216, 0.012381241656839848, -0.015317529439926147, -0.010646454058587551, -0.012304140254855156, 0.04307412728667259, 0.013736945576965809, 0.018568649888038635, -0.00466786278411746, -0.02456972934305668, 0.021961122751235962, -0.02021348476409912, -0.02509658969938755, -0.002385332714766264, 0.02657437138259411, 0.005869363900274038, 0.00047746810014359653, -0.008718912489712238, 0.012516169808804989, 0.005384265910834074, -0.03469574823975563, 0.021241506561636925, -0.0013404444325715303, -0.024055717512965202, -0.005480642896145582, 0.009997515007853508, -0.007363208569586277, 0.02224382944405079, 0.003601290052756667, 0.013479940593242645, 0.005175448954105377, -0.003556314157322049, -0.012901677750051022, -0.023104798048734665, 0.023284701630473137, -0.03212569281458855, -0.043485336005687714, -0.04266291856765747, -0.012233463115990162, 0.010614329017698765, 0.015343230217695236, -0.04024706780910492, 0.021190106868743896, -0.010697855614125729, 0.03027525171637535, -0.03048085607588291, -0.008873116225004196, -0.005853300914168358, -0.028836021199822426, -0.020136384293437004, -0.039270445704460144]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-14T10:07:23.032683", "url_path": "/api/agent/", "chunk_size": 4558}
updated_dt: 2025-03-14T10:07:26.248188
---
```
defsystem_prompt(
  self,
  func: _system_prompt.SystemPromptFunc[AgentDepsT] | None = None,
  /,
  *,
  dynamic: bool = False,
) -> (
  Callable[[_system_prompt.SystemPromptFunc[AgentDepsT]], _system_prompt.SystemPromptFunc[AgentDepsT]]
  | _system_prompt.SystemPromptFunc[AgentDepsT]
):
"""Decorator to register a system prompt function.
  Optionally takes [`RunContext`][pydantic_ai.tools.RunContext] as its only argument.
  Can decorate a sync or async functions.
  The decorator can be used either bare (`agent.system_prompt`) or as a function call
  (`agent.system_prompt(...)`), see the examples below.
  Overloads for every possible signature of `system_prompt` are included so the decorator doesn't obscure
  the type of the function, see `tests/typed_agent.py` for tests.
  Args:
    func: The function to decorate
    dynamic: If True, the system prompt will be reevaluated even when `messages_history` is provided,
      see [`SystemPromptPart.dynamic_ref`][pydantic_ai.messages.SystemPromptPart.dynamic_ref]
  Example:
  ```python
  from pydantic_ai import Agent, RunContext
  agent = Agent('test', deps_type=str)
  @agent.system_prompt
  def simple_system_prompt() -> str:
    return 'foobar'
  @agent.system_prompt(dynamic=True)
  async def async_system_prompt(ctx: RunContext[str]) -> str:
    return f'{ctx.deps} is the best'
  ```
  """
  if func is None:
    defdecorator(
      func_: _system_prompt.SystemPromptFunc[AgentDepsT],
    ) -> _system_prompt.SystemPromptFunc[AgentDepsT]:
      runner = _system_prompt.SystemPromptRunner[AgentDepsT](func_, dynamic=dynamic)
      self._system_prompt_functions.append(runner)
      if dynamic:
        self._system_prompt_dynamic_functions[func_.__qualname__] = runner
      return func_
    return decorator
  else:
    assert not dynamic, "dynamic can't be True in this case"
    self._system_prompt_functions.append(_system_prompt.SystemPromptRunner[AgentDepsT](func, dynamic=dynamic))
    return func

```
  
---|---  
####  result_validator
```
result_validator(
  func: Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[
    [RunContext[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext "pydantic_ai.tools.RunContext")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")], ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")], ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")
  ],
) -> Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[
  [RunContext[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext "pydantic_ai.tools.RunContext")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")], ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")], ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")
]

```

```
result_validator(
  func: Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[
    [RunContext[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext "pydantic_ai.tools.RunContext")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")], ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")],
    Awaitable[](https://docs.python.org/3/library/collections.abc.html#collections.abc.Awaitable "collections.abc.Awaitable")[ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")],
  ],
) -> Callable[](https://docs.python.org/3/library/typing.html#typing.Callable "typing.Callable")[
  [RunContext[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext "pydantic_ai.tools.RunContext")[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT")], ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")],
  Awaitable[](https://docs.python.org/3/library/collections.abc.html#collections.abc.Awaitable "collections.abc.Awaitable")[ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")],
]

```