---
url: https://ai.pydantic.dev/api/agent/
session_id: pydantic_ai_docs
chunk_number: 10
title: Agent API Parameters and Return Values
summary: This section outlines the arguments required for invoking an agent API, including parameters for user input, result type, message history, model specifications, dependencies, and usage limits. It also describes the conditions under which the agent run will return results.
embedding: [0.022298121824860573, 0.05096713453531265, -0.024785388261079788, -0.02696719951927662, -0.006938163191080093, 0.027665380388498306, 0.046298056840896606, 0.06231255829334259, 0.02845083177089691, -0.009196339175105095, -0.013047237880527973, -0.0039899894036352634, -0.00044795332360081375, -0.024392660707235336, -0.029192648828029633, -0.037199899554252625, -0.04250170290470123, -0.0023168118204921484, -0.0061090742237865925, -0.002337266458198428, 0.009458156302571297, -0.0035099906381219625, -0.0216981228441, 0.024523569270968437, -0.02602902054786682, 0.019789038226008415, -0.06619618833065033, 0.06287983059883118, -0.035148996859788895, 0.014749051071703434, -0.019309038296341896, -0.012610875070095062, -0.024785388261079788, -0.016069047152996063, 0.02491629682481289, -0.023279936984181404, 0.015381776727735996, 0.023170847445726395, 0.003616353962570429, -0.000746588921174407, 0.019690856337547302, -0.06859617680311203, 0.032487183809280396, 0.016123592853546143, 0.02137085050344467, 0.04304715618491173, 0.01772722415626049, 0.026923563331365585, 0.049919866025447845, 0.0035727175418287516, -0.040821708738803864, 0.031156279146671295, 0.020989034324884415, -0.003507263259962201, 0.0016513591399416327, -0.03359990939497948, 0.018621768802404404, -0.003744535380974412, -0.014901777729392052, -0.05345440283417702, -0.007936342619359493, -0.023912662640213966, -0.037941716611385345, 0.005847257096320391, -0.030894462019205093, 0.0013949961867183447, 0.00868906732648611, 0.04647260159254074, -0.015665411949157715, 0.0058145299553871155, 0.01378905400633812, 0.012938146479427814, -0.04245806857943535, -0.017105408012866974, -0.047738052904605865, 0.015316322445869446, 0.042174432426691055, 0.01426905207335949, -0.009709064848721027, -0.027403563261032104, 0.012719965539872646, -0.027490835636854172, -0.026334473863244057, 0.027054471895098686, -0.0010554516920819879, -0.020378127694129944, -0.0646689161658287, -0.007161798886954784, 0.010581789538264275, -0.0675925463438034, 0.008978157304227352, 0.033098094165325165, 0.002147721592336893, 0.02467629685997963, 0.06837799400091171, 0.05816711485385895, 0.0007486343383789062, -0.0049390774220228195, 0.04025443643331528, 0.04367988184094429, 0.03953443840146065, -0.0240872073918581, -0.057774391025304794, 0.0019254493527114391, 0.0027872652281075716, 0.023694481700658798, -0.0074236164800822735, 0.031505368649959564, -0.017923587933182716, -0.02493811398744583, -0.01813085936009884, 0.0439198799431324, -0.0041536251083016396, -0.002736810827627778, -0.04450897127389908, -0.016647227108478546, -0.014290870167315006, -0.07780342549085617, -0.002481811447069049, -0.024894477799534798, -0.02164357714354992, 0.029738102108240128, -0.03458172455430031, 0.01035269908607006, 0.01735631749033928, -0.01780358888208866, -0.036479901522397995, -0.04415988177061081, -0.02051994390785694, -0.017072681337594986, 0.023650845512747765, -0.007303616497665644, 0.0037418080028146505, 0.002472266089171171, -0.013592690229415894, 0.018490858376026154, -0.041192617267370224, -0.015141777694225311, -0.038159895688295364, 0.01059269905090332, -0.032356277108192444, -0.018239950761198997, -0.03447263315320015, -0.001287951017729938, -0.03820353373885155, 0.02853810414671898, -0.08866885304450989, 0.04090898111462593, -0.04983259364962578, -0.005710893776267767, 0.012545420788228512, 0.01857813075184822, -0.04415988177061081, 0.03263991326093674, 0.003114537103101611, 0.003291809232905507, -0.016058137640357018, 0.0022404484916478395, -0.008798157796263695, -0.05319258198142052, -0.04826168715953827, 0.010969061404466629, -0.022058121860027313, -0.017050862312316895, -0.01663631945848465, -0.04230533912777901, 0.00927815679460764, 0.001508177723735571, -0.00728725316002965, -0.012370876036584377, -0.017978133633732796, 0.016407229006290436, -0.027861742302775383, 0.01839267835021019, 0.036959901452064514, -0.05266894772648811, -0.05903984233736992, -0.04516351595520973, -0.0022881757467985153, -0.05930165946483612, -0.03861807659268379, -0.01613450236618519, 0.003979080356657505, -0.03935989364981651, -0.02626902051270008, 0.002739537972956896, 0.0016840863972902298, -0.01003633625805378, 0.000385226245271042, 0.015959957614541054, 0.0036463537253439426, 0.04594896733760834, 0.029301738366484642, -0.019385403022170067, -0.0630980134010315, -0.020138127729296684, 0.06453800946474075, -0.03556353971362114, 0.03305445611476898, 0.01610177382826805, 0.016723591834306717, 0.01586177572607994, 0.02491629682481289, -0.03929444029927254, 0.02360720932483673, -0.027883561328053474, -0.015294504351913929, 0.02480720542371273, -0.02626902051270008, 0.009518155828118324, 0.03318536654114723, -0.01084906142205, 0.028385378420352936, -0.0031745368614792824, -0.02554902248084545, 0.006136347074061632, -0.019658129662275314, -0.005026350263506174, -0.011498150415718555, 0.018054496496915817, -0.008312704972922802, 0.04154170677065849, 0.006305437535047531, -0.031156279146671295, 0.014836323447525501, 0.026574473828077316, -0.024370843544602394, -0.007598161231726408, -0.005585439503192902, 0.038683533668518066, 0.006059983745217323, -0.023890845477581024, -0.0103799719363451, -0.023389028385281563, 0.06519255042076111, -0.021730849519371986, 0.041694432497024536, 0.005080895498394966, 0.0075927069410681725, -0.05703257396817207, -0.012719965539872646, -0.008312704972922802, 0.05925802141427994, -0.014487233944237232, 0.011334515176713467, 0.028734467923641205, -0.0018095405539497733, -0.037810806185007095, 0.03447263315320015, 0.033927179872989655, 0.009938155300915241, -0.06239983066916466, -0.02565811201930046, -0.03957807645201683, -0.00469089625403285, -0.011018152348697186, 0.00608180183917284, -0.0045463512651622295, -0.04370170086622238, -0.026465382426977158, 0.05131622403860092, -0.001105224248021841, -0.019079947844147682, 0.04634169489145279, 0.027054471895098686, -0.005841802340000868, 0.008214523084461689, -0.046254418790340424, 0.0343417264521122, -0.016145411878824234, -0.013876326382160187, -0.0057708933018147945, 0.006850890815258026, -0.027010835707187653, -0.06100347265601158, 0.0016336319968104362, 0.054501671344041824, 0.004221806768327951, -0.0023345390800386667, -0.021916303783655167, -0.044814422726631165, 0.04813078045845032, 0.02541811391711235, 0.043134428560733795, -0.00786543358117342, 0.00689452700316906, -0.003021809970960021, -0.010319972410798073, 0.00279817427508533, 0.031658098101615906, -0.0031718097161501646, -0.0020727217197418213, 0.01833813264966011, -0.000973633723333478, 0.019876310601830482, -0.029498102143406868, 0.02273448370397091, 0.010898152366280556, -0.022429030388593674, -0.00928906537592411, 0.01628722809255123, 0.016199955716729164, 0.019712673500180244, -0.014749051071703434, 0.023956298828125, 0.05288713052868843, -0.04429078847169876, -0.005168167874217033, 0.03215991333127022, -0.01974540203809738, -0.016309047117829323, 0.08927975594997406, -0.01281814742833376, 0.012556329369544983, 0.03329445421695709, -0.04381079226732254, 0.05266894772648811, 0.0030272644944489002, 0.041934430599212646, -0.007723615504801273, -0.02097812481224537, 0.018545404076576233, 0.023999935016036034, -0.016658136621117592, -0.020159944891929626, -0.023912662640213966, 0.048348959535360336, -0.007925433106720448, -0.03484354168176651, 0.043636247515678406, -0.037090808153152466, -0.03554172068834305, -0.03789807856082916, -0.019767219200730324, 0.034079909324645996, 0.011050879023969173, -0.032247185707092285, -0.014061780646443367, 0.05249440297484398, 0.05249440297484398, -0.0145745063200593, 0.014312688261270523, -0.05707620829343796, -0.0024218116886913776, 0.004949986469000578, 0.042654428631067276, 0.03894535079598427, -0.013712690211832523, -0.00716725317761302, 0.010019972920417786, 0.02589811198413372, 0.02962901070713997, 0.029454465955495834, 0.01916722021996975, 0.01804358698427677, -0.004677260294556618, -0.027272652834653854, 0.0186326764523983, -0.03270536661148071, 0.011672696098685265, -0.056334394961595535, 0.004562715068459511, -0.025352658703923225, -0.010516335256397724, -0.009534520097076893, -0.004739987198263407, -0.019287221133708954, -0.011672696098685265, -0.010538153350353241, 0.006981799378991127, 0.0726543515920639, 0.03844353184103966, -0.00279817427508533, 0.015010868199169636, -0.02493811398744583, -0.009807245805859566, -0.04396351799368858, 0.016941772773861885, 0.008934521116316319, 0.05973802134394646, 0.02818901464343071, 0.016549047082662582, 0.004794532433152199, -0.011650878004729748, -0.007979978807270527, 0.04042898118495941, -0.009141793474555016, -0.009703610092401505, -0.010401790030300617, -0.011269060894846916, 0.05672711879014969, -0.08478522300720215, -0.011045425198972225, 0.00934361107647419, -0.023389028385281563, 0.04402897134423256, -0.005304531194269657, 0.008138160221278667, 0.03848716989159584, 0.021839940920472145, 0.028516286984086037, 0.016254501417279243, -0.004292715806514025, 0.034428998827934265, 0.011056333780288696, -0.011999967508018017, 0.015938138589262962, -0.009447246789932251, 0.017923587933182716, 0.03970898315310478, 0.04743259772658348, -0.018512677401304245, 0.03196354955434799, -0.03654535487294197, -0.01607995666563511, -0.024392660707235336, -0.010625425726175308, -0.018512677401304245, 0.056683484464883804, 0.10987606644630432, -0.0029699918814003468, -0.06231255829334259, 0.02057448960840702, 0.025505386292934418, -0.014443597756326199, 0.07758524268865585, 0.026181748136878014, -0.03641444817185402, 0.0059836204163730145, 0.02251630276441574, 0.012589056976139545, -0.02164357714354992, 0.02650901861488819, 0.012218148447573185, -0.04778169095516205, 0.0021109033841639757, 0.0008665885543450713, -0.0045981695875525475, 0.0076472521759569645, -0.018774494528770447, 0.040734436362981796, -0.0065999822691082954, -0.0031581732910126448, 0.04136716201901436, -0.04213079437613487, 0.023759935051202774, -0.02709810808300972, 0.00753816170617938, 0.02209085039794445, -0.011956331320106983, -0.023629026487469673, -0.025352658703923225, -0.004420896992087364, -0.018589040264487267, -0.03909807652235031, -0.02637811005115509, 0.08325795829296112, 0.02589811198413372, 0.025090841576457024, 0.04400715231895447, 0.019549038261175156, -0.01852358691394329, -0.01754177175462246, 0.0026549927424639463, -0.007401798386126757, 0.023279936984181404, 0.0028827195055782795, 0.03942534700036049, -0.019658129662275314, 0.05877802148461342, 0.025374477729201317, 0.0009845427703112364, -0.02443629689514637, 0.02190539613366127, -0.026203565299510956, -0.039032623171806335, 0.008269068785011768, 0.044945333153009415, -0.0012661329237744212, -0.0163745004683733, 0.024479933083057404, 0.004003625363111496, 0.012501784600317478, 0.037330809980630875, -0.02829810604453087, -0.01589450240135193, -0.005394530948251486, -0.036130812019109726, -0.04721441864967346, 0.02687992714345455, 0.06039256602525711, 0.006414528004825115, -0.009850882925093174, -0.008290886878967285, 0.06239983066916466, -0.0171708632260561, 0.006098165176808834, 0.03416718170046806, -0.01281814742833376, -0.007472706958651543, -0.031156279146671295, 0.007505434099584818, -0.002663174644112587, 0.024370843544602394, -0.009829064831137657, -0.02286539226770401, 0.018087223172187805, -0.00841088593006134, 0.0303490087389946, 0.02565811201930046, -0.0306108258664608, -0.002866355935111642, -0.007805433589965105, 0.009452701546251774, -0.026814473792910576, 0.00551725784316659, -0.0032345366198569536, -7.870717672631145e-05, 0.007521797902882099, 0.020181763917207718, -0.004963622894138098, -0.013287236914038658, -0.008879976347088814, -0.014738142490386963, -0.021141761913895607, 0.009856336750090122, 0.005102713592350483, -0.04703987389802933, 0.011498150415718555, -0.011203605681657791, 0.0006224983371794224, 0.020956307649612427, -0.007456343621015549, 0.03015264682471752, 0.0016772681847214699, 0.0025390840601176023, 0.004696351010352373, 0.03109082579612732, -0.03229082375764847, -0.02419629879295826, -0.04271988570690155, -0.010467244312167168, -0.04887259379029274, 0.0068236179649829865, -0.016254501417279243, -0.0015981774777173996, 0.05594166740775108, -0.016538137570023537, 0.012534511275589466, -0.023759935051202774, 0.032596275210380554, 0.006730890832841396, 0.01974540203809738, -0.02893083170056343, 0.04813078045845032, 0.015938138589262962, -0.007712706457823515, -0.0026031748857349157, 0.005184531677514315, -0.0351271778345108, -0.012643602676689625, -0.019341766834259033, 0.02097812481224537, -0.019712673500180244, -0.002380902646109462, 0.010347245261073112, 0.03898898512125015, -0.000939542893320322, -0.01865449547767639, 0.034428998827934265, 0.009610882960259914, 0.023519936949014664, 0.011225424706935883, 0.008339977823197842, 0.026312656700611115, -0.03783262521028519, 0.019101766869425774, 0.013472691178321838, -0.07387616485357285, 0.025330841541290283, -0.009845428168773651, -0.02563629485666752, 0.008754521608352661, 0.01922176592051983, 0.021119942888617516, -0.017978133633732796, -0.0359344482421875, 0.026181748136878014, -0.015796320512890816, 0.009681791998445988, 0.004175443202257156, -0.021938122808933258, 0.013047237880527973, 0.01003633625805378, -0.05201440677046776, 0.022429030388593674, 0.010319972410798073, -0.004849077668040991, -0.034319907426834106, 0.0113781513646245, 0.06296709924936295, -0.00644725514575839, -0.012534511275589466, 0.042021702975034714, 0.020530853420495987, 0.005847257096320391, 0.031069006770849228, 0.00849270448088646, -0.01565450243651867, -0.013516327366232872, 0.00014028370787855238, -0.0356726311147213, -0.005225440487265587, -0.015872685238718987, -0.033927179872989655, 0.02358539029955864, -0.026901746168732643, 0.007696342654526234, 0.056334394961595535, 0.014290870167315006, -0.019090857356786728, 0.02962901070713997, 0.002515902277082205, 0.033687181770801544, -0.0007881796918809414, -0.04256715625524521, -0.03839989751577377, 0.04055989161133766, -0.012414512224495411, 0.048828959465026855, -0.03606535866856575, 0.015163595788180828, 0.032967183738946915, 0.032596275210380554, -0.026094475761055946, -0.0008672703988850117, -0.016494501382112503, -0.021556304767727852, -0.04267624765634537, -0.0014645415358245373, 0.03351263701915741, 0.021687213331460953, -0.001978631131350994, 0.0014563597505912185, -0.013309055007994175, 0.005350894760340452, -0.03711262717843056, 0.001048633479513228, 0.020989034324884415, -0.02925810217857361, -0.05581075698137283, -0.03949080407619476, 0.010947243310511112, -0.01228360366076231, 0.008574522100389004, 0.010363608598709106, -0.004461806267499924, 0.012774511240422726, -0.014018143527209759, -0.0003978398453909904, 0.012272694148123264, 0.028232650831341743, -0.007227253168821335, 0.014814505353569984, -0.024741752073168755, 0.021763578057289124, -0.0017059044912457466, 0.03837807849049568, 0.028843559324741364, -0.009005430154502392, -0.04079988971352577, -0.003008173778653145, 0.011956331320106983, 0.006436346098780632, 0.008154523558914661, -0.011519968509674072, -0.01216360367834568, -0.01433450635522604, -0.005263622384518385, 0.014247233979403973, -0.0070527084171772, -0.0004690896312240511, -0.02012721821665764, 0.03922898322343826, 0.03772353380918503, -0.025723567232489586, 0.012218148447573185, -0.012305421754717827, -0.0067090727388858795, 0.04586169496178627, -0.02733810804784298, -0.02493811398744583, -0.011749058961868286, 0.04378897324204445, 0.005738166160881519, 0.010309062898159027, -0.00959451962262392, -0.008634522557258606, 0.005541803315281868, -0.014312688261270523, -0.014498142525553703, -0.006730890832841396, 0.007396343629807234, 0.02805810607969761, 0.003940898459404707, -0.04352715611457825, -0.027141744270920753, -0.008165432140231133, 0.02147994190454483, 0.006556346081197262, -0.019636310636997223, 0.0016499955672770739, -0.02999991923570633, 0.02299630083143711, -0.02602902054786682, -0.009398156777024269, 0.005890893284231424, 0.012839965522289276, 0.0018190860282629728, 0.015327231027185917, -0.00022909029212314636, 0.009807245805859566, -0.02012721821665764, 0.029367193579673767, 0.007581797894090414, -0.04791259765625, 0.012196330353617668, 0.03785444423556328, 0.01961449161171913, 0.044465333223342896, -0.002033176366239786, -0.028712648898363113, 0.014530870132148266, -0.026792654767632484, -0.03944716602563858, -0.019843582063913345, -0.03796353563666344, -0.012741783633828163, -0.008999975398182869, -0.017345407977700233, 0.0092508839443326, -0.04256715625524521, 0.0012770419707521796, 0.0010274972300976515, 0.0006804527365602553, -0.010810879990458488, -0.004409987945109606, 0.0337962731719017, -0.012839965522289276, 0.005738166160881519, -0.04830532521009445, 0.004911805037409067, 0.0024231753777712584, 0.013276327401399612, 0.03783262521028519, 0.012970874086022377, 0.010587244294583797, -0.007014526519924402, -0.05358530953526497, 0.012305421754717827, -0.019145403057336807, -0.0024831751361489296, -0.00027289698482491076, 0.009801791980862617, -0.011334515176713467, 0.01580723002552986, 0.0238253902643919, 0.010058154352009296, -0.0044754426926374435, -0.0206290353089571, -0.049919866025447845, -0.00018784040003083646, -0.013167236931622028, 0.017029045149683952, 0.03178900480270386, -0.052581675350666046, 0.003049082588404417, 0.01107269711792469, 0.018665404990315437, -0.00725998030975461, -0.0010002246126532555, 0.019363583996891975, -0.030763553455471992, -0.005380894523113966, 0.012327239848673344, -0.012403602711856365, 0.005285440478473902, -0.0006262483075261116, -0.005841802340000868, -0.0024095389526337385, -0.05864711478352547, -0.02469811588525772, 0.01282905600965023, -0.0026590838097035885, 0.020956307649612427, -0.007565434090793133, -0.0006412482471205294, -0.06318528205156326, 0.0060545289888978004, -0.005312712863087654, -0.03602172061800957, -0.003913625609129667, -0.009212702512741089, 0.002994537353515625, 0.009098157286643982, -0.03010900877416134, 0.028494467958807945, 0.0306108258664608, 0.01741086132824421, -0.03037082776427269, -0.06545437127351761, 0.00744543457403779, -0.0016063592629507184, 0.008301795460283756, -0.020345399156212807, 0.05877802148461342, -0.01870904117822647, -0.03848716989159584, -0.03226900473237038, -0.0851779505610466, 0.05079258978366852, 0.004835441708564758, -0.019898127764463425, 0.0011147697223350406, 0.02563629485666752, 0.004069080110639334, -0.034428998827934265, -0.050312589854002, -0.005039986222982407, 0.014127234928309917, -0.03617444634437561, -0.023629026487469673, 0.02829810604453087, 0.006638163700699806, 0.03822535276412964, -0.01116542425006628, -0.017039954662322998, -0.00968724675476551, -0.0036845356225967407, 0.002567720366641879, -0.006196347065269947, 0.038901712745428085, 0.01306905597448349, -0.017454497516155243, 0.012458148412406445, 0.012905419804155827, 0.00949088390916586, -0.01783631555736065, -0.007565434090793133, -0.038661714643239975, 0.006856345105916262, 0.004379988182336092, 0.046036239713430405, -0.026683565229177475, 0.0163745004683733, -0.016516318544745445, 0.016974499449133873, 0.011596332304179668, -0.0007220435072667897, 0.0015968139050528407, -0.019549038261175156, -0.003556353971362114, -0.0018272678134962916, -0.031134461984038353, -0.0012102239998057485, 0.003209991380572319, -0.018610859289765358, -0.009954518638551235, 0.015261776745319366, -0.003021809970960021, -0.004371806513518095, 0.02602902054786682, -0.0109799699857831, -0.0014754505828022957, 0.03770171478390694, -0.007914524525403976, 0.023890845477581024, 0.04413806274533272, -0.024283571168780327, 0.02818901464343071, -0.001730449846945703, -0.0383344404399395, 0.012403602711856365, -0.009670883417129517, -0.01115451566874981, -0.025090841576457024, 0.02299630083143711, 0.018807221204042435, -0.02578902058303356, 0.007314525544643402, -0.03506172448396683, -0.0250253863632679, -0.0009299974772147834, -0.021021761000156403, 0.03711262717843056, 0.006889072246849537, -0.019450856372714043, 0.03953443840146065, -0.01012906339019537, -0.025679931044578552, 0.015403594821691513, -0.018719948828220367, 0.012469056993722916, -0.03765808045864105, 0.02212357707321644, 0.04396351799368858, 0.01868722215294838, -0.0018749949522316456, 0.0032072640024125576, -0.037810806185007095, 0.0009470428922213614, -0.0195599477738142, 0.01379996258765459, 0.047345325350761414, -0.05986892804503441, -0.03484354168176651, 0.013330873101949692, -0.013341782614588737, 0.036850810050964355, 0.022210849449038506, -0.02986901067197323, 0.007674524560570717, -0.009038157761096954, -0.010778152383863926, -0.06737436354160309, -0.028276287019252777, -0.0024899933487176895, -0.010794516652822495, 0.05541803315281868, -0.0109799699857831, 0.004126352723687887, -0.04230533912777901, 0.0007186344009824097, -0.010041791014373302, -0.022952664643526077, -0.024894477799534798, -0.040996253490448, 0.006899981293827295, -0.03436354547739029, 0.017138134688138962, -0.012807237915694714, -0.05751257389783859, -0.0008965884917415679, 0.034428998827934265, 0.006365437526255846, -0.020781762897968292, 0.017792679369449615, -0.0062781646847724915, -0.0291490126401186, 0.014399961568415165, 0.0011474968632683158, -0.014247233979403973, -0.013090874068439007, -0.0226253941655159, -0.011487241834402084, -0.028472650796175003, -0.014061780646443367, 0.016167229041457176, 0.050268955528736115, 0.011487241834402084, 0.038159895688295364, 0.0022881757467985153, -0.025483567267656326, -0.0011590877547860146, 0.0147054148837924, -0.04431260749697685, -0.0066927094012498856, -0.05218895152211189, 0.016919953748583794, -0.013079964555799961, -0.031767185777425766, 0.040734436362981796, 0.018403586000204086, 0.0224944856017828, -0.02147994190454483, 0.010270881466567516, 0.04040716215968132, 0.010843606665730476, 0.07069072127342224, 0.008181796409189701, -0.011879967525601387, -0.007914524525403976, 0.006021801847964525, -0.009485429152846336, 0.020727217197418213, -0.03397081792354584, -0.030654462054371834, 0.030283555388450623, 0.011716332286596298, -0.00737998029217124, 0.012741783633828163, -0.02576720342040062, 0.016058137640357018, 0.03861807659268379, -0.019570855423808098, -0.03183264285326004, -0.022778119891881943, 0.018610859289765358, 0.015981774777173996, 0.000603066582698375, -0.003717262763530016, -0.01748722605407238, 0.0508362278342247, 0.0022554483730345964, -0.005705439019948244, -0.04533806070685387, 0.0008120432612486184, -0.04134534299373627, -0.00877088587731123, -0.023498117923736572, 0.0025786294136196375, 0.013047237880527973, 0.009338156320154667, -0.01979994587600231, 0.005705439019948244, -0.0476507805287838, -0.0032727185171097517, -0.01313451025635004, -0.008099977858364582, -0.00568907568231225, 0.0027954468969255686, -0.00433907937258482, -0.004535442218184471, 0.008841793984174728, 0.011716332286596298, 0.016941772773861885, 0.013385418802499771, 0.018839949741959572, -0.00025909021496772766, 0.0056454394944012165, -0.011650878004729748, 0.032858092337846756, -0.02007267251610756, -0.008383614011108875, -0.019712673500180244, 0.047258052974939346, 0.005776348058134317, -0.006943617481738329, 0.038181714713573456, -0.04184715822339058, -0.025745384395122528, 0.02140357904136181, 0.021752668544650078, 3.8725038393749855e-06, 0.018938131630420685, 0.00677452702075243, -0.013581781648099422, -0.013243600726127625, 0.018196314573287964, 0.023279936984181404, -0.00799634214490652, 0.003703626338392496, -0.016178138554096222, 0.020716307684779167, 0.019821764901280403, -0.03534536063671112, 0.004813623148947954, 0.0014781778445467353, 0.022025395184755325, -0.031898096203804016, 0.002383630024269223, -0.009458156302571297, -0.01379996258765459, -0.00725998030975461, 0.02842901460826397, 0.008885430172085762, 0.029127193614840508, 0.008787249214947224, -0.03469081595540047, 0.030327191576361656, 0.035148996859788895, -0.01507632341235876, 0.005050895269960165, -0.0032481730449944735, -0.015250868164002895, -0.003452718025073409, 0.00843815878033638, -0.013145418837666512, 0.027927197515964508, -0.04559987783432007, -0.021741759032011032, 0.04154170677065849, -0.007625434082001448, -0.0055472576059401035, -0.03279263898730278, -0.017203589901328087, -0.008138160221278667, 0.02140357904136181, 0.009829064831137657, -0.046254418790340424, 0.016254501417279243, 0.02504720538854599, -0.009272702038288116, 0.05092350021004677, 0.00640907371416688, -0.01015633624047041, 0.001043860800564289, -0.028843559324741364, 0.005318167619407177, -0.012447238899767399, -0.010112700052559376, 0.020639944821596146, 0.02853810414671898, 0.018807221204042435, -0.016112683340907097, 0.01698540896177292, -0.005890893284231424, -0.07130162417888641, 0.006021801847964525, 0.02698901854455471, -0.004382715560495853, 0.013167236931622028, -0.0045545329339802265, -0.0057708933018147945, -0.002300448250025511, -0.022712666541337967, 0.022712666541337967, -0.03202900290489197, 0.006703618448227644, -0.020181763917207718, -0.010969061404466629, -0.016090866178274155, -0.00997088197618723, -0.010074518620967865, 0.017498133704066277, 0.00899452157318592, -0.025134477764368057, 0.03388354554772377, -0.002359084552153945, -0.027032654732465744, 0.009147248230874538, -0.03307627514004707, -0.012981783598661423, -0.040821708738803864, -0.011552696116268635, -0.006376346573233604, -0.01028724480420351, -0.02687992714345455, -0.010810879990458488, 0.010401790030300617, 0.01911267638206482, -0.0050372593104839325, 0.019494492560625076, -0.008672703988850117, 0.00861270446330309, 0.02890901267528534, 0.03737444430589676, 0.052581675350666046, -0.006185438018292189, 0.01831631362438202, 0.013625417836010456, 0.013079964555799961, -0.012239966541528702, 0.015250868164002895, 0.00012963033805135638, 0.016723591834306717, -0.019701765850186348, -0.008672703988850117, 0.01433450635522604, -0.005364531185477972, 0.021076306700706482, 0.035738084465265274, 0.014029053039848804, 0.021327214315533638, 0.024261752143502235, 0.024021754041314125, 0.006125438027083874, 0.03597808629274368, 0.04370170086622238, 0.01826176978647709, -0.014607232995331287, 0.0030518099665641785, 0.02051994390785694, -0.00019227221491746604, -0.02768719755113125, 0.021807214245200157, 0.04400715231895447, 0.025374477729201317, -0.01361450832337141, -0.016352683305740356, -0.005023622885346413, -0.06331619620323181, 0.0020659035071730614, 0.008018160238862038, -0.01898176781833172, -0.0062618013471364975, 0.009147248230874538, -0.005901802331209183, 0.007036344613879919, 0.0038154441863298416, -0.012469056993722916, -0.010516335256397724, 0.018567223101854324, 0.01615631952881813, -0.025330841541290283, 0.02236357517540455, -0.0054299854673445225, 0.007150889839977026, -0.00795816071331501, 0.026399929076433182, -0.01887267641723156, 0.006807254161685705, -0.0396653488278389, 0.004985440988093615, 0.02866901271045208, -0.019287221133708954, 0.032247185707092285, 0.019309038296341896, 0.004415442701429129, 0.0008359068306162953, 0.02504720538854599, 0.0023768118117004633, -0.020509036257863045, 0.007374525535851717, 0.01900358498096466, -0.03263991326093674, 0.054370760917663574, -0.01903631165623665, -0.015829049050807953, 0.006981799378991127, -0.03595626726746559, 0.0019377220887690783, 0.01597086526453495, 0.01294905599206686, -0.005618166644126177, 0.03905443847179413, 0.02310539223253727, 0.007314525544643402, -0.01698540896177292, -0.02430538833141327, -0.03338172659277916, -0.010647243820130825, 0.011705422773957253, 0.04612351208925247, 0.01708359085023403, -0.004543623887002468, 0.010838152840733528, 0.021141761913895607, 0.022429030388593674, 0.03922898322343826, 0.0030572644900530577, 0.00994360912591219, 0.033229000866413116, 0.018807221204042435, 0.003548172302544117, -0.02310539223253727, 0.004709987435489893, -0.014410870149731636, 0.0019036312587559223, 0.012065421789884567, 0.0015572685515508056, -0.021087216213345528, 0.017869042232632637, -0.03270536661148071, 0.016254501417279243, 0.011967240832746029, 0.01892722211778164, -0.008858158253133297, -0.000385226245271042, -0.0070308903232216835, -0.008749066852033138, -0.01269814744591713, -0.031658098101615906, 0.011934513226151466, 0.036588992923498154, -0.009976336732506752, -0.010085427202284336, -0.0112472428008914, 0.01329814549535513, 0.013887234963476658, 0.02578902058303356, -0.007554525043815374, 0.0010581789538264275, 0.014072689227759838, -0.01708359085023403, -0.0011113606160506606, -0.017814496532082558, 0.03920716792345047, 0.000729543506167829, 0.01894903928041458, -0.01693086326122284, -0.019930854439735413, 0.016843590885400772, -0.011214515194296837, -0.02687992714345455, 0.023432664573192596, -0.030654462054371834, -0.010199972428381443, 0.05690166354179382, 0.0011311332928016782, -0.015392685309052467, -0.02238539420068264, -0.003338172798976302, -0.017770860344171524, 0.002513175131753087, 0.03691626340150833, 0.0335344560444355, -0.005863620433956385, -0.006059983745217323, 0.01361450832337141, -0.003313627326861024, 0.03338172659277916, 0.00027426061569713056, -0.009070884436368942, -0.01767268031835556, -0.019930854439735413, -0.0007990887388586998, 0.010374517180025578, -0.012218148447573185, -0.005672711879014969, -0.014749051071703434, 0.001879085786640644, 0.00927815679460764, 0.03929444029927254, 0.022538121789693832, 0.00518998596817255, 0.012414512224495411, 0.005061804316937923, 0.004614532925188541, -0.012152694165706635, -0.003575444919988513, 0.03929444029927254, -0.001487723202444613, -0.004941804800182581, 0.0163745004683733, -0.023258119821548462, -0.006332710385322571, -0.01006360910832882, -0.03578172251582146, 0.0036327175330370665, 0.012643602676689625, -0.007805433589965105, -0.00647452799603343, -0.01634177379310131, 0.007739979308098555, -0.007390889339148998, -0.017323588952422142, -0.01894903928041458, -0.03497445210814476, -0.011552696116268635, 0.011421787552535534, 0.013963598757982254, 0.021152669563889503, -0.037679899483919144, -0.01329814549535513, 0.02166539616882801, 0.04053807258605957, -0.005487258080393076, 0.010718152858316898, -0.009818155318498611, 0.01426905207335949, -0.011487241834402084, 0.0058690751902759075, -0.006256346590816975, 0.03416718170046806, -0.002579993102699518, -0.005672711879014969, -0.0038018079940229654, 0.018196314573287964, -0.003109082579612732, -0.021621759980916977, 0.04306897521018982, -0.0018354495987296104, 0.022581757977604866, 0.004794532433152199, -0.0017877224599942565, 0.013658144511282444, 0.016003593802452087, 0.012207239866256714, -0.020672671496868134, -0.030305372551083565, -0.0034390815999358892, -0.008694522082805634, -0.0056999847292900085, 0.015469049103558064, -0.012196330353617668, -0.013429054990410805, 0.03191991522908211, 0.00469089625403285, 0.04226170480251312, -0.0071999807842075825, -0.002825446892529726, -0.010810879990458488, -0.03130900487303734, -0.0417817048728466, 0.04226170480251312, -0.026094475761055946, -0.007559979800134897, 0.052101679146289825, -0.03604353964328766, 0.014399961568415165, -0.013276327401399612, 0.01565450243651867, 0.025701748207211494, -0.011890877038240433, -0.0063163465820252895, 0.008912703022360802, 0.03724353760480881, 0.023912662640213966, -0.0351271778345108, -0.043614428490400314, 0.021272670477628708, -0.021501760929822922, -0.0003074991691391915, -0.02965082973241806, -0.004748168867081404, 0.037090808153152466, -0.02445811592042446, -0.00959451962262392, 0.010243608616292477, 0.022756302729249, -0.006670891307294369, -0.009709064848721027, -0.005863620433956385, -0.036458082497119904, 0.0053781671449542046, 0.01222905796021223, 0.04016716405749321, 0.0037881715688854456, -0.010107245296239853, -0.011454514227807522, -0.01489086914807558, 0.021567214280366898, 0.013199964538216591, -0.048698049038648605, 0.01565450243651867, -0.04804350808262825, -0.022778119891881943, 0.02842901460826397, -0.03181082382798195, -0.0029045375995337963, -0.010598152875900269, 0.009365429170429707, -0.0027122653555125, -0.005890893284231424, 0.02081448957324028, -0.031396277248859406, 0.011399969458580017, -0.016909046098589897, 0.016112683340907097, -0.03765808045864105, 0.00601634755730629, -0.021894486621022224, 0.01948358304798603, -0.043374426662921906, -0.03311990946531296, -0.03643626347184181, -0.038050808012485504, 0.020247217267751694, 0.01994176395237446, -0.007090889848768711, -0.0030736280605196953, 0.0021736305207014084, -0.029214465990662575, 0.02528720535337925, -0.044814422726631165, 0.010745425708591938, 0.00789270643144846, -0.031287189573049545, 0.008170886896550655, -0.023498117923736572, 0.01885085739195347, 0.0348653607070446, 0.016276320442557335, -0.0029699918814003468, -0.019952673465013504, -0.01116542425006628, 0.01385450828820467, 0.01826176978647709, 0.016909046098589897, -0.0020986306481063366, 0.012927237898111343, 0.007778160739690065, -0.02975991927087307, 0.01695268228650093, 0.029214465990662575, -0.018916312605142593, 0.023672662675380707, 0.032116275280714035, 0.02648720145225525, 0.02345448173582554, 0.01549086719751358, -0.0028227197472006083, 0.009758155792951584, -0.0051545314490795135, -0.006005438510328531, -0.004448169842362404, -0.018589040264487267, -0.020399944856762886, 0.0015313595067709684, 0.008421795442700386, -0.026792654767632484, 0.024894477799534798, -0.035498086363077164, -0.03399263694882393, -0.03250900283455849, -0.03253082185983658, -0.030654462054371834, 0.052319858223199844, 0.031243551522493362, 0.019210856407880783, -0.00014582347648683935, -0.0016199955716729164, -0.0013806781498715281, 0.050748955458402634, -0.014203597791492939, 0.049308959394693375, -0.034428998827934265, 0.011814513243734837, -0.009856336750090122, 0.004617260303348303, -0.05240713059902191, 0.036348991096019745, -0.004450897220522165, 0.023389028385281563, 0.018359949812293053, -0.01628722809255123, -0.04295988380908966, 0.0002831242454703897, 0.024239934980869293, -0.023803571239113808, -0.024021754041314125, -0.026923563331365585, -0.0238253902643919, -0.004799987189471722, -0.0071017988957464695, -0.04564351215958595, 0.0005171577213332057, -0.019505402073264122, 0.015872685238718987, -0.0008563613519072533, 0.013036328367888927, -0.006921799387782812, -0.014367233961820602, -0.005754529964178801, -0.02251630276441574]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:03.536347", "url_path": "/api/agent/", "chunk_size": 3360}
updated_dt: 2025-03-15T11:17:03.536347
---
```
    Args:
      user_prompt: User input to start/continue the conversation.
      result_type: Custom result type to use for this run, `result_type` may only be used if the agent has no
        result validators since result validators would expect an argument that matches the agent's result type.
      message_history: History of the conversation so far.
      model: Optional model to use for this run, required if `model` was not set when creating the agent.
      deps: Optional dependencies to use for this run.
      model_settings: Optional settings to use for this model's request.
      usage_limits: Optional limits on model request count or token usage.
      usage: Optional usage to start with, useful for resuming a conversation or agents used in tools.
      infer_name: Whether to try to infer the agent name from the call frame if it's not set.
    Returns:
      The result of the run.
    """
    if infer_name and self.name is None:
      self._infer_name(inspect.currentframe())
    return get_event_loop().run_until_complete(
      self.run(
        user_prompt,
        result_type=result_type,
        message_history=message_history,
        model=model,
        deps=deps,
        model_settings=model_settings,
        usage_limits=usage_limits,
        usage=usage,
        infer_name=False,
      )
    )
  @overload
  defrun_stream(
    self,
    user_prompt: str | Sequence[_messages.UserContent],
    *,
    result_type: None = None,
    message_history: list[_messages.ModelMessage] | None = None,
    model: models.Model | models.KnownModelName | None = None,
    deps: AgentDepsT = None,
    model_settings: ModelSettings | None = None,
    usage_limits: _usage.UsageLimits | None = None,
    usage: _usage.Usage | None = None,
    infer_name: bool = True,
  ) -> AbstractAsyncContextManager[result.StreamedRunResult[AgentDepsT, ResultDataT]]: ...
  @overload
  defrun_stream(
    self,
    user_prompt: str | Sequence[_messages.UserContent],
    *,
    result_type: type[RunResultDataT],
    message_history: list[_messages.ModelMessage] | None = None,
    model: models.Model | models.KnownModelName | None = None,
    deps: AgentDepsT = None,
    model_settings: ModelSettings | None = None,
    usage_limits: _usage.UsageLimits | None = None,
    usage: _usage.Usage | None = None,
    infer_name: bool = True,
  ) -> AbstractAsyncContextManager[result.StreamedRunResult[AgentDepsT, RunResultDataT]]: ...
  @asynccontextmanager
  async defrun_stream( # noqa C901
    self,
    user_prompt: str | Sequence[_messages.UserContent],
    *,
    result_type: type[RunResultDataT] | None = None,
    message_history: list[_messages.ModelMessage] | None = None,
    model: models.Model | models.KnownModelName | None = None,
    deps: AgentDepsT = None,
    model_settings: ModelSettings | None = None,
    usage_limits: _usage.UsageLimits | None = None,
    usage: _usage.Usage | None = None,
    infer_name: bool = True,
  ) -> AsyncIterator[result.StreamedRunResult[AgentDepsT, Any]]:
"""Run the agent with a user prompt in async mode, returning a streamed response.
    Example:
```python
    from pydantic_ai import Agent
    agent = Agent('openai:gpt-4o')
    async def main():
      async with agent.run_stream('What is the capital of the UK?') as response:
        print(await response.get_data())
        #> London