---
url: https://ai.pydantic.dev/api/agent/
session_id: pydantic_ai_docs
chunk_number: 8
title: Agent API - Parameters and Return Value
summary: This section outlines the parameters accepted by the agent API, including user input, result type, conversation history, model specifications, and optional settings for dependencies, usage limits, and agent name inference. It also notes that the method returns the result of the execution.
embedding: [0.031411416828632355, 0.05726105347275734, -0.02839878760278225, -0.027050476521253586, -0.01869727298617363, 0.035814493894577026, 0.020646002143621445, 0.01259827520698309, 0.005393241532146931, 0.0024266953114420176, -0.030737262219190598, -0.015242227353155613, 0.02734541893005371, -0.024353856220841408, 0.0013864949578419328, -0.026881936937570572, -0.0020474831108003855, 0.005203635431826115, -0.0236796997487545, 0.018539266660809517, 0.009690980426967144, -0.014041388407349586, 0.028461989015340805, 0.015084221959114075, -0.011197295971214771, 0.04508412629365921, -0.029030807316303253, 0.03408697247505188, -0.028188113123178482, 0.029789231717586517, -0.029199346899986267, -0.004034397192299366, -0.02119375392794609, -0.02096201293170452, 0.0072840359061956406, -0.032822929322719574, 0.020677603781223297, 0.030358050018548965, -0.030231645330786705, 0.022457795217633247, 0.026608062908053398, -0.026228850707411766, 0.028735864907503128, 0.04156588017940521, -0.023174084722995758, -0.011460637673735619, 0.011713446117937565, 0.028188113123178482, 0.04087065905332565, -0.011302633211016655, -0.03762628510594368, 0.013398834504187107, 0.004055464640259743, 0.046938054263591766, -0.007410440128296614, -0.015484501607716084, 0.01975063979625702, -0.024796269834041595, -0.018644604831933975, -0.03988049179315567, -0.02153083123266697, -0.013230294920504093, 0.014115124009549618, 0.02414318174123764, -0.03760521858930588, 0.0071576316840946674, -0.013567373156547546, 0.05928352102637291, -0.00022795530094299465, 0.02391144074499607, 0.01254560612142086, 0.014399533160030842, -0.024564528837800026, -0.026881936937570572, -0.04567401483654976, -0.02107788249850273, 0.05174141004681587, 0.04896051809191704, 0.011576508171856403, -0.043483007699251175, 0.0014259961899369955, -0.023574363440275192, 0.04984534904360771, 0.05144646763801575, 0.0206986702978611, -0.05814588442444801, -0.01680121012032032, -0.038174036890268326, -0.01224012952297926, -0.0958143025636673, -0.001524749444797635, 0.008000326342880726, 0.020667070522904396, 0.07584245502948761, 0.040765319019556046, 0.03216984122991562, -0.00845327414572239, -0.0066678160801529884, 0.03065299242734909, 0.020077183842658997, 0.03842684626579285, -0.018033651635050774, -0.01600065268576145, 0.003067932790145278, -0.02294234372675419, 0.019719038158655167, -0.015558237209916115, 0.026608062908053398, -0.04803355783224106, -0.041586946696043015, -0.03893246129155159, -0.0018907946068793535, -0.03764735162258148, -0.009443439543247223, -0.09994350373744965, -0.0556178018450737, -0.004979794844985008, -0.01253507286310196, 0.019729573279619217, -0.00012352378689683974, -0.0031469352543354034, 0.026355253532528877, -0.04790715128183365, 0.005809321533888578, 0.046811651438474655, 0.028799066320061684, -0.027766766026616096, -0.031032204627990723, -0.0004842198686674237, 0.014989418908953667, 0.02696620672941208, -0.010149195790290833, -0.016653738915920258, 0.0069048237055540085, -0.024058911949396133, -0.01858140155673027, -0.04131307080388069, -0.012703611515462399, -0.06547731906175613, 0.02496480941772461, -0.04150267690420151, 0.003017897717654705, -0.05882003903388977, -0.02686087042093277, 0.009127428755164146, 0.0532582588493824, -0.056629035621881485, 0.029768165200948715, -0.04190295934677124, -0.010022791102528572, 0.05346893146634102, 0.022289255633950233, -0.046348169445991516, 0.002505697775632143, -0.009396038018167019, -0.002659752732142806, 0.005287904758006334, -0.004692751914262772, 0.02673446573317051, -0.06021048501133919, 0.004790188744664192, 0.032380517572164536, -0.05254196748137474, -0.03286506608128548, -0.03174849599599838, -0.060758236795663834, -0.009870053268969059, 0.0032233044039458036, -0.006704683881253004, -0.04474705085158348, -0.006578279659152031, 0.0050535304471850395, -0.032464783638715744, -0.008337403647601604, -0.012334932573139668, -0.009417105466127396, -0.052499834448099136, -0.010028058663010597, 0.008637613616883755, -0.03524567559361458, -0.052247025072574615, -0.025596829131245613, -0.06054756045341492, -0.02768249623477459, -0.06686776876449585, -0.01402032095938921, 0.01774924248456955, 0.009317034855484962, 0.010380936786532402, -0.0036051501519978046, -0.0016090187709778547, 0.018307525664567947, 0.026060311123728752, 0.0006731676403433084, -0.03337068110704422, -0.0040054298005998135, 0.03950127959251404, -0.003847424639388919, -0.002762456191703677, 0.04356727749109268, -0.022689534351229668, -0.022436726838350296, 0.05435376241803169, -0.010096526704728603, -0.0027308552525937557, -0.03514033928513527, 0.013167093507945538, 0.019855976104736328, -0.024564528837800026, 0.008379538543522358, 0.012082125060260296, -0.0343608483672142, 0.025512559339404106, 0.013704311102628708, -0.019919179379940033, 0.03587769716978073, -0.05705038085579872, -0.0017011885065585375, -0.017570169642567635, 0.05030883103609085, 0.012587741017341614, 0.0046743182465434074, 0.016632672399282455, -0.035814493894577026, 0.025280818343162537, 0.06185373663902283, -0.02378503791987896, -0.008095129393041134, -0.00823206640779972, 0.041355207562446594, -0.04211363196372986, -0.02296341024339199, 0.005535446107387543, -0.03914313390851021, 0.038174036890268326, -0.0567975752055645, 0.03206450492143631, 0.0036736191250383854, 0.050477370619773865, -0.055449262261390686, -0.03027378022670746, 0.014599673449993134, 0.03535101190209389, -0.025849636644124985, -0.00970151461660862, 0.05464870482683182, 0.01963477022945881, -0.016959216445684433, 0.024585597217082977, 0.014452201314270496, 0.011144627816975117, -0.02593390643596649, 0.004642717074602842, -0.020403727889060974, -0.0007748834323137999, -0.013440968468785286, -0.02308981493115425, -0.02686087042093277, -0.027429688721895218, -0.0401965007185936, 0.02603924460709095, -0.022815939038991928, -0.01800204999744892, 0.03861645236611366, -0.01573731005191803, -0.006372873205691576, -0.006494010332971811, -0.0627385675907135, 0.0039185271598398685, -0.06324417889118195, 0.0004220053378958255, -0.019571566954255104, 0.011460637673735619, -0.013198694214224815, -0.017454298213124275, 0.0059831272810697556, 0.033181075006723404, 0.04165014997124672, 0.0019355627009645104, -0.03208557143807411, 0.009301234968006611, 0.040786389261484146, 0.01610598899424076, 0.025596829131245613, 0.016390398144721985, -0.010944487527012825, 0.016759077087044716, -0.037478815764188766, 0.011039290577173233, 0.027134746313095093, 0.04921332746744156, 0.010749614797532558, 0.013704311102628708, -0.048918385058641434, -0.0075737121514976025, -0.03688892722129822, 0.030863666906952858, -0.007262968458235264, -0.01654840260744095, -0.00612006476148963, 0.004403076134622097, 0.014178326353430748, 0.03227517753839493, 0.006752085406333208, 0.001756490208208561, 0.033770959824323654, -0.005261570680886507, -0.0058883242309093475, 0.016179723665118217, -0.015326496213674545, -0.02023518830537796, 0.060294754803180695, -0.039480213075876236, -0.00845327414572239, 0.00689428998157382, 0.004084432497620583, 0.04403075948357582, -0.022099649533629417, 0.012966953217983246, 0.01646413281559944, -0.017443764954805374, -0.03771055489778519, 0.03573022410273552, 0.042050428688526154, -0.00940657127648592, 0.008200465701520443, 0.0017604404129087925, -0.009343369863927364, -0.032254111021757126, 0.038047634065151215, 0.006504544056952, -0.042176831513643265, -0.010028058663010597, 0.025512559339404106, 0.03208557143807411, -0.0038447913248091936, -0.05612341687083244, -0.0046506174840033054, 0.04664311185479164, 0.05869363620877266, -0.022099649533629417, -0.019603168591856956, -0.02034052647650242, -0.006846888456493616, 0.014747144654393196, 0.05431162565946579, 0.012482404708862305, 0.027535025030374527, -0.016843345016241074, -0.020403727889060974, 0.040786389261484146, 0.020045582205057144, 0.02509121224284172, -0.005451176781207323, 0.010128128342330456, -0.0064255413599312305, -0.023742903023958206, 0.02163616754114628, -0.01906595192849636, 0.0027492891531437635, -0.033433884382247925, -0.009996457025408745, 0.04118666797876358, -0.03398163616657257, -0.061348121613264084, 0.03952234610915184, -0.04685378447175026, 0.018433930352330208, 0.02450132742524147, 0.009585644118487835, 0.055786341428756714, 0.02473306842148304, -0.030821532011032104, 0.015473968349397182, -0.014778745360672474, -0.03623583912849426, -0.013440968468785286, 0.019108084961771965, 0.017422698438167572, 0.041144534945487976, 0.04120773449540138, 0.02448025904595852, -0.0070470282807946205, -0.008969424292445183, 0.010238731279969215, 0.04769647866487503, 0.016516800969839096, 0.005967326462268829, 0.0025280818808823824, 0.01681174524128437, 0.044452108442783356, -0.0686795562505722, -0.009443439543247223, 0.008900955319404602, -0.00933810230344534, 0.02555469423532486, 0.006072663236409426, 0.009780516847968102, 0.02498587593436241, 0.009827918373048306, -0.00337077584117651, -0.018718339502811432, -0.007884455844759941, 0.0378790944814682, 0.00031568107078783214, 0.020498530939221382, 0.05856722965836525, -0.03157995641231537, 0.029388953000307083, -0.0013509438140317798, 0.06939584761857986, -0.020972546190023422, 0.009343369863927364, -0.03760521858930588, -0.024058911949396133, -0.05279477685689926, 0.013672709465026855, -0.009032625705003738, 0.0438200868666172, 0.07036494463682175, -0.0061411322094500065, -0.040638916194438934, 0.00199613138101995, 0.025744300335645676, -0.007947657257318497, 0.03926954045891762, 0.01986651122570038, -0.03893246129155159, -0.020445862784981728, 0.018771007657051086, 0.005145700182765722, 0.012387601658701897, 0.022226054221391678, 0.024185316637158394, -0.012229596264660358, -0.01988757774233818, 0.0007037811446934938, -0.022563131526112556, -0.023469027131795883, 0.0062833367846906185, 0.025954974815249443, -0.017475366592407227, 0.05127792805433273, 0.04131307080388069, -0.04529480263590813, 0.010602143593132496, -0.03880605846643448, -0.03646758198738098, -0.006831088103353977, -0.05254196748137474, -0.007415706757456064, -0.01962423510849476, -0.050477370619773865, -0.028946537524461746, -0.05553353205323219, -0.04449424147605896, 0.07832840830087662, 0.02696620672941208, 0.038152970373630524, 0.03541421517729759, 0.025512559339404106, 0.003038965165615082, -0.009854252450168133, 0.03278079628944397, -0.03250692039728165, 0.008511208929121494, -0.00627280306071043, -0.01764390431344509, -0.05928352102637291, 0.035203538835048676, 0.021846842020750046, -0.017454298213124275, -0.005988393910229206, 0.0030284314416348934, -0.013209228403866291, -0.006246468983590603, 0.027619294822216034, 0.04179761931300163, 0.0580194815993309, 0.01904488354921341, 0.023384757339954376, -0.031306080520153046, 0.03168529272079468, 0.006178000010550022, -0.030695127323269844, 0.03360242024064064, 0.005930458661168814, -0.06808967143297195, -0.014462735503911972, 0.020761873573064804, 0.03825830668210983, -0.0009216965408995748, 0.010681145824491978, -0.007089163176715374, 0.04647457227110863, 0.019023817032575607, 0.018897412344813347, 0.025154415518045425, -0.04592682048678398, -0.011639710515737534, -0.015884781256318092, 0.017612304538488388, 0.014947284013032913, 0.048581305891275406, -0.013124958612024784, 0.0015734676271677017, -0.01870780624449253, 0.029768165200948715, 0.01024399884045124, 0.03351815417408943, -0.03701533377170563, 0.030442319810390472, 0.03771055489778519, 0.027492890134453773, 0.014041388407349586, -0.006109531503170729, 0.0001513392780907452, -0.01041780412197113, -0.01017552986741066, -0.0013759612338617444, -0.0067942203022539616, -0.017686039209365845, 0.013135491870343685, -0.02047746255993843, 0.014978885650634766, 0.003923793788999319, 0.027387553825974464, 0.025954974815249443, -0.0005197710124775767, 0.021720437332987785, 0.024058911949396133, 0.009985923767089844, -0.011713446117937565, 0.025280818343162537, 0.005116732325404882, -0.010091260075569153, 0.01561090536415577, 0.03811083361506462, -0.04862344264984131, -0.013830714859068394, -0.00019372085807844996, 0.008621812798082829, -0.025386156514286995, -0.026418456807732582, -0.0001287906343350187, 0.020751338452100754, 0.02877799980342388, -0.006662548985332251, -0.0016774876276031137, -0.03349708393216133, 0.020140385255217552, 0.0200982503592968, 0.026460589841008186, -0.02719794772565365, 0.010839151218533516, -0.02532295323908329, -0.04047037661075592, 0.013504170812666416, 0.0013107841368764639, -0.0067942203022539616, -0.014641807414591312, 0.003233838127925992, -0.006109531503170729, -0.015800511464476585, -0.019192354753613472, 0.01749643310904503, 0.02235245704650879, -0.008837752975523472, -0.023258354514837265, 0.030737262219190598, 0.0012462653685361147, 0.020667070522904396, 0.013577906414866447, 0.026018176227808, -0.019202888011932373, -0.021931109949946404, 0.04424143210053444, 0.012176928110420704, -0.03334961459040642, 0.020140385255217552, -0.006625681184232235, -0.04887625202536583, 0.009864786639809608, -0.012735212221741676, -0.0035050802398473024, -0.004592682234942913, -0.02852519042789936, 0.000282104971120134, -0.008437473326921463, 0.008237333968281746, -0.015684641897678375, -0.01586371473968029, 0.017949381843209267, 0.004387275315821171, -0.04874984547495842, 0.025997109711170197, 0.012650943361222744, 0.0212885569781065, -0.019455697387456894, 0.014346865005791187, 0.0366782546043396, 0.006767885759472847, -0.00870081502944231, 0.01478927955031395, 0.02865159511566162, -0.015042087063193321, 0.02804064191877842, 0.011407969519495964, -0.07053348422050476, -0.014273129403591156, 0.011334233917295933, -0.007805452682077885, -0.021720437332987785, -0.015684641897678375, -0.01904488354921341, 0.015600372105836868, -0.042640313506126404, 0.022689534351229668, 0.06252789497375488, -0.016622139140963554, 0.002327942056581378, 0.06252789497375488, -0.023384757339954376, 0.0040291305631399155, 0.020414261147379875, -0.035793427377939224, -0.030610859394073486, 0.01395711861550808, -0.00556178018450737, 0.038026563823223114, -0.03499286621809006, 0.0053300391882658005, 0.015895314514636993, 0.019318759441375732, -0.046558842062950134, -0.011481705121695995, -0.009696247056126595, -0.01750696636736393, -0.03621477261185646, -0.0016669540200382471, 0.03267545998096466, 0.008363737724721432, -0.023953575640916824, -0.014441668055951595, -0.004374108277261257, 0.0027413887437433004, -0.0002190675149904564, 0.02806170843541622, 0.01000699121505022, -0.014599673449993134, -0.03351815417408943, -0.0401965007185936, -0.012556140311062336, -0.008505942299962044, 0.006720484234392643, -0.007794919423758984, -0.004579515196382999, 0.007405173499137163, -0.01788618043065071, -0.01821272261440754, -0.020972546190023422, 0.03208557143807411, -0.012082125060260296, 0.018402328714728355, -0.0331600084900856, 0.019097551703453064, 0.0051641338504850864, -0.002310824813321233, 0.05384814366698265, 0.017212023958563805, -0.05844082683324814, -0.00970678124576807, 0.00870081502944231, -0.009374970570206642, 0.03227517753839493, 0.01355683896690607, -0.019245022907853127, -0.03985942527651787, -0.01702241785824299, 0.03101113811135292, 0.003275972791016102, -0.03821616992354393, -0.0496768094599247, 0.06800540536642075, 0.044452108442783356, 0.003025798127055168, -0.0009947739308699965, -0.01040727086365223, 0.037099603563547134, 0.024353856220841408, -0.011650243774056435, -0.004900792147964239, -0.03231731429696083, 0.03273865953087807, 0.02106734924018383, 0.00721556693315506, 0.0031653691548854113, 0.01622185856103897, 0.015452900901436806, 0.030147377401590347, -0.00022663859999738634, -0.006725751329213381, -0.007805452682077885, -0.004998228512704372, -0.017243625596165657, -0.019687438383698463, -0.032254111021757126, 0.005656583234667778, -0.004355674609541893, -0.022394591942429543, 0.01810738630592823, 0.008563877083361149, -0.0272190161049366, -0.017117220908403397, -0.017928313463926315, 0.02060386724770069, 0.003281239653006196, 0.029978837817907333, 0.02924147993326187, -0.00852700974792242, -0.0034287110902369022, -0.004160801414400339, -0.021383360028266907, 0.00594625947996974, 0.020171986892819405, -0.024564528837800026, 0.001936879474669695, 0.01930822618305683, -0.011407969519495964, -0.00025708749308250844, 0.015621439553797245, -0.020846141502261162, 0.00852174311876297, -0.005179934669286013, -0.013282964006066322, -0.01704348623752594, -0.019466230645775795, 0.00900102499872446, -0.00045525224413722754, -0.014778745360672474, -0.009353903122246265, -0.02163616754114628, -0.01112356036901474, -0.01726469211280346, 0.012050523422658443, -0.013904450461268425, 0.005403775256127119, 0.03463472053408623, -0.0008789034909568727, 0.005693451035767794, -0.011587042361497879, 0.003252272028476, 0.005343206226825714, 0.014926216565072536, 0.05157287046313286, 0.03920633718371391, 0.014915683306753635, -0.026418456807732582, -0.056376226246356964, -0.0014523303834721446, 0.012693078257143497, 0.025596829131245613, -0.020509064197540283, 0.020909344777464867, -0.0007880505290813744, 0.006430808454751968, 0.02780890092253685, 0.03099007159471512, -0.016253460198640823, -0.012029455974698067, -0.023110881447792053, -0.006162199657410383, -0.016137588769197464, 0.008042460307478905, 0.011239430867135525, -0.0366993211209774, 0.02603924460709095, -0.03482432663440704, -0.009396038018167019, -0.01172398030757904, -0.004329340066760778, 0.0033339080400764942, -0.0056987181305885315, 0.014094056561589241, -0.002202854724600911, -0.004592682234942913, 0.009854252450168133, -0.014273129403591156, -0.0034366112668067217, 0.009211698547005653, -0.04769647866487503, -0.03052658960223198, 0.009964856319129467, -0.022815939038991928, -0.005872523412108421, 0.005019295960664749, 0.016727475449442863, -0.05553353205323219, 0.038974594324827194, 0.014905150048434734, -0.01607438735663891, 0.045041993260383606, -0.026228850707411766, -0.02188897505402565, -0.02047746255993843, -0.05161500722169876, 0.006968025583773851, -0.015905847772955894, 0.01573731005191803, 0.0024029945489019156, -0.03208557143807411, 0.020509064197540283, 0.006973292678594589, 0.004642717074602842, -0.0066994172520935535, 0.023131949827075005, -0.03703640028834343, -0.016179723665118217, 0.0005260253674350679, -0.06383407115936279, 0.0039343275129795074, 0.014304730109870434, -0.003936960827559233, -0.025765368714928627, 0.03541421517729759, 0.017664972692728043, -0.028609460219740868, -0.024227451533079147, 0.0017959915567189455, 0.013809647411108017, -0.026481658220291138, -0.029367884621024132, 0.024564528837800026, -0.007742250803858042, 0.02498587593436241, -0.006588813383132219, 0.006578279659152031, 0.013535771518945694, -0.016896015033125877, 0.03337068110704422, 0.0016801210585981607, 0.023174084722995758, -0.012830015271902084, -0.003728920826688409, 0.011997855268418789, 0.024522393941879272, 0.045379068702459335, -0.0015629340196028352, 0.004626916721463203, -0.004134467337280512, -0.00618326710537076, 0.014315263368189335, 0.02000344730913639, -0.030695127323269844, 0.015294895507395267, 0.0001343043550150469, -0.001998764695599675, -0.008953623473644257, -0.02001398243010044, -0.011007689870893955, -0.04038610681891441, -0.008137263357639313, -0.02107788249850273, -0.033202141523361206, -0.013009088113904, 0.00037526217056438327, -0.032843995839357376, -0.02140442654490471, 0.02249992825090885, -0.018549801781773567, 0.004255604464560747, -0.005582847632467747, 0.02294234372675419, -0.0025214983616024256, 0.012408669106662273, -0.004173968452960253, 0.00356564880348742, 0.00285462592728436, -0.021235888823866844, 0.02768249623477459, 0.02214178442955017, -0.027408622205257416, 0.021741503849625587, -0.0106495451182127, 0.01212425995618105, -0.008337403647601604, 0.024058911949396133, 0.0016682706773281097, -0.003449778538197279, 0.012461337260901928, -0.009185364469885826, -0.03878498822450638, 0.009617244824767113, -0.013209228403866291, 0.011745046824216843, 0.0013943951344117522, 0.009859519079327583, 0.01550556905567646, 0.012650943361222744, -0.008969424292445183, 0.013135491870343685, -0.01425206195563078, 0.0278299693018198, -0.043483007699251175, 0.0072840359061956406, -0.01622185856103897, 0.0710812360048294, -0.01693814806640148, -0.006299137603491545, -0.0025623163674026728, 0.004129200242459774, -0.025723233819007874, -0.019445164129137993, 0.0781177282333374, -0.06185373663902283, -0.024922674521803856, -0.015358097851276398, -0.021499229595065117, 0.01403085421770811, 0.038532182574272156, 0.032359447330236435, 0.012176928110420704, 0.03610943630337715, 0.01088128611445427, -0.024543462321162224, -0.018433930352330208, 0.008353203535079956, -0.003036331618204713, 0.01941356249153614, -0.015800511464476585, 0.04874984547495842, -0.04992961883544922, 0.01845499873161316, 0.013103891164064407, -0.05026669427752495, -0.01572677679359913, -0.025365088135004044, 0.007615846581757069, 0.011924119666218758, 0.0212990902364254, -0.014673409052193165, -0.060294754803180695, -0.03088473342359066, 0.011955720372498035, -0.01965583674609661, 0.002762456191703677, 0.010860218666493893, 0.007663248106837273, -0.02850412391126156, 0.027766766026616096, -0.0023266253992915154, -0.024311721324920654, 0.027492890134453773, -0.013293497264385223, 0.0066046142019331455, -0.0037499882746487856, 0.009343369863927364, 0.0030942668672651052, 0.07124977558851242, -0.0033444417640566826, 0.014209927059710026, -0.037331342697143555, -0.0159901175647974, -0.01950836554169655, -0.014884082600474358, -0.016759077087044716, 0.027956372126936913, -0.05043523386120796, -0.01550556905567646, -0.023237286135554314, -0.02995777130126953, 0.025596829131245613, 0.04251391068100929, 0.01987704448401928, -0.00396329490467906, -0.0028361917939037085, 0.07036494463682175, -0.0055091120302677155, 0.06021048501133919, -0.010760148987174034, 0.0023029246367514133, -0.0183285940438509, 0.027851035818457603, 0.0015405499143525958, 0.015063154511153698, -0.022984478622674942, 0.015189559198915958, 0.013430435210466385, 0.012429735623300076, -0.006536145228892565, 0.022520996630191803, -0.013525238260626793, 0.00017792034486774355, 0.022078581154346466, -0.03480326011776924, -0.03541421517729759, -0.019266091287136078, -0.035098202526569366, 0.018528733402490616, 0.0033286411780864, -0.026903005316853523, 0.03943807631731033, 0.04449424147605896, 0.015189559198915958, -0.011239430867135525, -0.02924147993326187, -0.01550556905567646, -0.005008762236684561, -0.02639738842844963, 0.01189251895993948, -0.007679048925638199, -0.0021133185364305973, -0.002399044344201684, -0.034508317708969116, 0.007331437431275845, -0.0034392448142170906, -0.002295024460181594, 0.0023911441676318645, -0.019561033695936203, -0.011302633211016655, 0.0206986702978611, 0.003939594142138958, 0.009348636493086815, -0.006883756257593632, 0.016032252460718155, 0.027535025030374527, 0.018749941140413284, 0.006125331856310368, -0.02534402161836624, -0.0026163014117628336, -0.04643243923783302, 0.04308272898197174, -0.011818783357739449, 0.02496480941772461, -0.02273166924715042, -0.01136583462357521, 0.016400931403040886, 0.01811791956424713, 0.018560335040092468, -0.025976041331887245, -0.018012583255767822, 0.040280770510435104, 0.014894615858793259, 0.02023518830537796, 0.0627385675907135, 0.006594080477952957, -0.017075086012482643, 0.008084595203399658, -0.0035946164280176163, -0.002401677891612053, -0.004458377603441477, -0.011513306759297848, -0.038152970373630524, 0.031959168612957, 0.020287856459617615, 0.009201164357364178, 0.006325471680611372, -0.009274900890886784, 0.02521761693060398, -0.01765443943440914, -0.005106198601424694, -0.02972603030502796, 0.0021989045199006796, 0.003162735840305686, 0.017454298213124275, 0.026249917224049568, 0.021973244845867157, 0.006841621827334166, -0.02119375392794609, 0.04202936217188835, 0.013272429816424847, -0.015705708414316177, -0.02143602818250656, -0.017317360267043114, -0.02911507710814476, 0.010828617960214615, 0.013567373156547546, -0.03503500297665596, -0.009037893265485764, -0.02037212625145912, 0.01378857996314764, 0.012703611515462399, 0.0055670468136668205, -0.018981682136654854, -0.037900160998106, -0.008179398253560066, 0.0031311349011957645, 0.02058280073106289, 0.013525238260626793, -0.02083560824394226, 0.0018605103250592947, 0.020287856459617615, -0.006536145228892565, 0.04883411526679993, 0.01741216331720352, -0.019740106537938118, 0.013683243654668331, -0.0027440222911536694, -0.015463434159755707, -0.01348310336470604, -0.04436783865094185, 0.006451875902712345, 0.005372174084186554, 0.018623536452651024, -0.019603168591856956, -0.012082125060260296, 0.006293870508670807, -0.041228801012039185, 0.008837752975523472, 0.010070192627608776, -0.0004466936516109854, 0.0008104345761239529, 0.00036341178929433227, -0.026776600629091263, -0.013282964006066322, -0.03979622200131416, -0.009011558257043362, -0.028019575402140617, 0.01526329480111599, 0.015368631109595299, -0.0556599386036396, -0.05102511867880821, -0.017464833334088326, 0.006852155551314354, 0.01544236671179533, 0.0008150430512614548, -0.03077939711511135, 0.01716988906264305, 0.019318759441375732, -0.025006944313645363, 0.011976787820458412, -0.04428356885910034, 0.027387553825974464, -0.021615101024508476, -0.04815996065735817, -0.015221159905195236, -0.01976117305457592, -0.0029388952534645796, -0.0019105452811345458, -0.028356652706861496, 0.0055565135553479195, 0.01521062571555376, -0.014683942310512066, -0.007694849278777838, 0.02591283991932869, 0.01787564530968666, 0.01905541680753231, 0.03168529272079468, 0.014104590751230717, -0.015284362249076366, 0.013683243654668331, -0.034276578575372696, -0.020161453634500504, -0.0013812280958518386, 0.002475413493812084, 0.00988058652728796, 0.0052589369006454945, -0.008600745350122452, 0.022542063146829605, -0.003660451853647828, 0.0005576264229603112, 0.016053320840001106, 0.019329292699694633, 0.002996830502524972, 0.021446561440825462, 0.020972546190023422, 0.008437473326921463, 0.03326534479856491, 0.04521053284406662, 0.01260880846530199, 0.0062833367846906185, 0.01176611427217722, 0.02048799768090248, -0.003668352263048291, -0.03560382127761841, 0.040175434201955795, 0.053553201258182526, -0.0050061289221048355, -0.0036183171905577183, -0.02025625668466091, 0.011018224060535431, -0.05397455021739006, 0.01751750148832798, 0.010517873801290989, 0.04202936217188835, 0.0016919714398682117, 0.0025030644610524178, 0.0048849917948246, 0.009748916141688824, 0.0056039150804281235, -0.0018591935513541102, -0.024311721324920654, 0.013756979256868362, 0.04512626305222511, -0.030105242505669594, 0.021372824907302856, -0.01035460177809, 0.0008091178606264293, -0.019950779154896736, -0.002830925164744258, -0.018876345828175545, -0.000638933212030679, -0.04874984547495842, 0.005898857954889536, 0.024901606142520905, -0.0016300861025229096, 0.03421337530016899, -0.019687438383698463, -0.033560287207365036, 0.0213096234947443, 0.062190815806388855, -0.013430435210466385, -0.038869258016347885, 0.027977440506219864, -0.0013009088579565287, -0.02355329692363739, 0.059325654059648514, -0.014810346998274326, -0.024206385016441345, -0.009269633330404758, -0.01952943205833435, 0.004060731735080481, 0.019687438383698463, 0.004805989097803831, -0.015884781256318092, 0.028672661632299423, 0.03918527066707611, 0.03924847021698952, -0.004866557661443949, -0.0011883301194757223, 0.001569517538882792, -0.01858140155673027, -0.008210998959839344, 0.0461796298623085, 0.028335584327578545, -0.0038632252253592014, -0.007910789921879768, 0.04933973029255867, 0.011565974913537502, 0.0025267652235925198, 0.017338428646326065, -0.018486598506569862, 0.04356727749109268, 0.02355329692363739, -0.018012583255767822, -0.02732435241341591, 0.0006251077284105122, -2.4708873752388172e-05, 0.008800884708762169, 0.008110929280519485, 0.00822679977864027, -0.025891771540045738, 0.018433930352330208, -0.030126309022307396, -0.0022015380673110485, -0.0009868736378848553, 0.006609880831092596, -0.019476763904094696, 0.014957818202674389, -0.04318806529045105, -0.0005628932267427444, -0.004937659949064255, -0.053173989057540894, -0.02237352542579174, 0.015484501607716084, -0.03240158408880234, -0.02652379311621189, -0.008495409041643143, -0.01017026323825121, 0.0034392448142170906, 0.00689428998157382, -0.0056987181305885315, -0.007536844350397587, 0.021120017394423485, -0.03990155830979347, 0.024543462321162224, -0.012798414565622807, 0.03326534479856491, -0.013272429816424847, 0.04160801321268082, -0.012882684357464314, -0.01574784331023693, 0.005280004348605871, -0.009985923767089844, -0.017949381843209267, -0.010238731279969215, 0.00751577690243721, -0.020287856459617615, 0.05182567983865738, 0.005719785112887621, -0.016706407070159912, -0.0011396119371056557, -0.025976041331887245, 0.01372537761926651, -0.001543183345347643, 0.02900974079966545, -0.006968025583773851, -0.016738008707761765, -0.014188859611749649, 0.014589139260351658, -0.0014444300904870033, 0.03004203923046589, -2.3783062715665437e-05, 0.0020869842264801264, -0.008063527755439281, -0.002046166220679879, 0.029999906197190285, 0.013219761662185192, 0.005577580537647009, 0.014578606002032757, -0.005108832381665707, 0.006230668630450964, -0.012155860662460327, 0.012461337260901928, 0.014504870399832726, -0.0011086692102253437, 0.021130550652742386, 0.019834909588098526, -0.0015286995330825448, 0.030147377401590347, 0.00482178945094347, 0.037794824689626694, 0.004518946632742882, -0.0003380651178304106, -0.004461011383682489, 0.004758587572723627, 0.007110230159014463, 0.005316872149705887, -0.012830015271902084, 0.002347692847251892, 0.02342689223587513, -0.0032891398295760155, -0.024817338213324547, -0.0390167310833931, -0.010554742068052292, -0.0319381020963192, -0.01915021985769272, -0.0029625960160046816, -0.012650943361222744, -0.01797044835984707, -0.01846553198993206, -0.021572966128587723, 0.06488743424415588, -0.036973197013139725, 0.008205732330679893, 0.0079845255240798, 0.01798098348081112, 0.011102492921054363, -0.00490605877712369, -0.018655138090252876, -0.026671264320611954, -0.029304683208465576, 0.0013173676561564207, -0.0050772312097251415, 0.016843345016241074, 0.02258419804275036, -0.04150267690420151, 0.007968724705278873, 0.03516140580177307, -0.013978186063468456, -0.03288613259792328, 0.06054756045341492, -0.005272103939205408, -0.0015708341961726546, -0.002173887100070715, 0.022668467834591866, -0.02637632191181183, 0.0003145289374515414, 0.02391144074499607, 0.003900093026459217, -0.005014029331505299, -0.015926916152238846, -0.023258354514837265, 0.011439570225775242, -0.0005006787250749767, -0.036025166511535645, -0.009696247056126595, 0.04837063327431679, 0.002988930093124509, 0.030147377401590347, -0.005545979831367731, 0.009922721423208714, -0.014051921665668488, -0.06762619316577911, -0.020329991355538368, 0.02156243287026882, -0.0048165228217840195, -0.035667020827531815, 0.03752094879746437, -0.044789183884859085, 0.010143928229808807, -0.008948356844484806, -0.0025504659861326218, 0.06530877947807312, -0.0024596131406724453, -0.010807550512254238, -0.01182931661605835, 0.017696572467684746, -0.002636051969602704, -0.027050476521253586, -0.03469792380928993, 0.004629550036042929, -0.02035105973482132, 0.013430435210466385, -0.05641836300492287, 0.003944861236959696, 0.010686412453651428, -0.013177626766264439, -0.011407969519495964, -0.004553180653601885, 0.019561033695936203, 0.0295785591006279, -0.012956419959664345, -0.005688184406608343, -0.01975063979625702, -0.017949381843209267, -0.0005862648249603808, 0.008558610454201698, 0.0402386374771595, -0.019497832283377647, -0.00304949888959527, -0.01142903696745634, 0.03204343840479851, 0.007442041300237179, -0.06969079375267029, 0.010022791102528572, -0.035203538835048676, -0.004258237779140472, 0.022520996630191803, 0.004176601767539978, -0.008247867226600647, -0.013598973862826824, 0.014136191457509995, 0.0030942668672651052, 0.01571624167263508, 0.01473661046475172, -0.014631274156272411, -0.010575809516012669, -0.008969424292445183, 0.04912905767560005, -0.03221197798848152, 0.00316800270229578, -0.01182931661605835, -0.00026745657669380307, -0.015179025009274483, -0.02675553411245346, -0.016485201194882393, -0.013430435210466385, -0.015221159905195236, 0.021867908537387848, -0.008953623473644257, 0.011565974913537502, 0.0053774407133460045, -0.022984478622674942, -0.009601444005966187, -0.02983136661350727, 0.03393949940800667, -0.012745746411383152, -0.021572966128587723, 0.0272190161049366, -0.04942400008440018, 0.0007952924352139235, 0.00727876927703619, -0.0026255184784531593, 0.0016722208820283413, -0.04070211946964264, 0.004871824290603399, 0.014620739966630936, -0.00223313900642097, 0.009985923767089844, 0.001865777070634067, 0.0047322534956038, 0.018549801781773567, -0.05481724441051483, 0.023595431819558144, 0.03265438973903656, -0.03943807631731033, -0.006309671327471733, 0.00547751085832715, 0.011102492921054363, 0.006731017958372831, -0.03452938422560692, 0.011228897608816624, 0.001519482582807541, -0.0018328593578189611, 0.018170589581131935, 0.017096154391765594, -0.015242227353155613, -0.0049824281595647335, 0.005069330800324678, 0.014367932453751564, -0.013219761662185192, 0.01166077796369791, -0.025870705023407936, -0.0343187116086483, -0.047401536256074905, -0.012872150167822838, -0.010317734442651272, 0.031643159687519073, 0.0013878116151317954, 0.03181169554591179, 0.02344796061515808, 0.0236586332321167, -0.020266789942979813, 0.034129105508327484, -0.013188160955905914, 0.04462064430117607, -0.04630603268742561, -0.01207159087061882, -0.0029915636405348778, -0.0020593334920704365, -0.031285014003515244, 0.024754134938120842, 0.01585317961871624, 0.02462773211300373, 0.026228850707411766, -0.023974644020199776, -0.018613003194332123, -0.010154462419450283, 0.016738008707761765, -0.02332155592739582, -0.015115822665393353, -0.017327895388007164, 0.00368415261618793, -0.017117220908403397, 0.004034397192299366, -0.024817338213324547, 0.04133414104580879, -0.02094094455242157, 0.01998238079249859, -0.03004203923046589, 0.005251036956906319, -0.02321621961891651, -0.016611604019999504, -0.027535025030374527, -0.01254560612142086]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:25:07.396299", "url_path": "/api/agent/", "chunk_size": 2122}
updated_dt: 2025-03-15T11:25:07.397568
---
```
    Args:
      user_prompt: User input to start/continue the conversation.
      result_type: Custom result type to use for this run, `result_type` may only be used if the agent has no
        result validators since result validators would expect an argument that matches the agent's result type.
      message_history: History of the conversation so far.
      model: Optional model to use for this run, required if `model` was not set when creating the agent.
      deps: Optional dependencies to use for this run.
      model_settings: Optional settings to use for this model's request.
      usage_limits: Optional limits on model request count or token usage.
      usage: Optional usage to start with, useful for resuming a conversation or agents used in tools.
      infer_name: Whether to try to infer the agent name from the call frame if it's not set.
    Returns:
      The result of the run.
    """
    if infer_name and self.name is None:
      self._infer_name(inspect.currentframe())
    model_used = self._get_model(model)
    del model
    deps = self._get_deps(deps)
    new_message_index = len(message_history) if message_history else 0
    result_schema: _result.ResultSchema[RunResultDataT] | None = self._prepare_result_schema(result_type)
    # Build the graph
    graph = self._build_graph(result_type)
    # Build the initial state
    state = _agent_graph.GraphAgentState(
      message_history=message_history[:] if message_history else [],
      usage=usage or _usage.Usage(),
      retries=0,
      run_step=0,
    )
    # We consider it a user error if a user tries to restrict the result type while having a result validator that
    # may change the result type from the restricted type to something else. Therefore, we consider the following
    # typecast reasonable, even though it is possible to violate it with otherwise-type-checked code.
    result_validators = cast(list[_result.ResultValidator[AgentDepsT, RunResultDataT]], self._result_validators)
    # TODO: Instead of this, copy the function tools to ensure they don't share current_retry state between agent
    # runs.