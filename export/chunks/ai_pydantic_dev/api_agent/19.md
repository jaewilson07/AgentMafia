---
url: https://ai.pydantic.dev/api/agent/
session_id: pydantic_ai_docs
chunk_number: 19
title: Instrumentation Settings
summary: Defines the `instrument` parameter for automatic instrumentation with OpenTelemetry. Setting this to True enables instrumentation, while customization is possible through an instance of `InstrumentationSettings`. If neither is configured, the last set value from `Agent.instrument_all()` is applied, defaulting to False.
embedding: [-0.00014026572171133012, 0.02905646339058876, 0.015447343699634075, -0.04725069925189018, -0.028889352455735207, 0.030727576464414597, 0.017578011378645897, -0.008987450040876865, -0.016241122037172318, 0.03367291018366814, -0.0013329731300473213, -0.03425779938697815, 0.002236418193206191, -0.047292474657297134, -0.014580453746020794, -0.02533823996782303, -0.03066490963101387, -0.003639891277998686, 0.019238678738474846, -0.010904007591307163, 0.039062246680259705, 0.0010444450890645385, 0.0017285567009821534, -0.0010894868755713105, -0.01075778529047966, -0.01857023499906063, 0.009426116943359375, 0.01858067885041237, -0.03697335720062256, -0.03160490840673447, 0.03093646466732025, -0.005619114730507135, -0.025547128170728683, 0.008183227851986885, 0.016857344657182693, -0.024857794865965843, 0.036075133830308914, 0.008292894810438156, -0.04275958240032196, 0.08012983202934265, 0.01669023372232914, -0.031375132501125336, 0.04042002558708191, 0.0433235839009285, -0.04207025095820427, 0.003827891545370221, 0.01655445620417595, 0.05756981670856476, -0.031333353370428085, -0.0008316394523717463, -0.05076003447175026, 0.022100459784269333, 0.013483786955475807, 0.027155574411153793, -0.010011007077991962, -0.022768903523683548, -0.008031782694160938, 0.00802656076848507, -0.030100908130407333, 0.03534402325749397, 0.013661342673003674, -0.01089356280863285, -0.013671786524355412, 0.03902047127485275, -0.015363788232207298, -0.00020366680109873414, -0.017682455480098724, 0.036764468997716904, -0.06254137307405472, 0.0057862261310219765, 0.02032490260899067, -0.018225567415356636, -0.05025869980454445, -0.024711571633815765, -0.06726226955652237, -0.02041890285909176, 0.01843445748090744, 0.05222225561738014, -0.020617347210645676, -0.011645562946796417, -0.007097004912793636, -0.011384451761841774, 0.017766011878848076, 0.014590898528695107, -0.039250247180461884, -0.017410900443792343, -0.03973069414496422, -0.020627791061997414, 0.004410169553011656, -0.06174759566783905, 0.001368223107419908, 0.019656457006931305, 0.019458012655377388, 0.04275958240032196, 0.08848538994789124, 0.026445351541042328, -0.02726001851260662, 0.01046011783182621, 0.015792010352015495, 0.01655445620417595, 0.024816015735268593, -0.00877856183797121, -0.027970241382718086, 0.03574091196060181, -0.014423787593841553, -0.012345341965556145, -0.033171579241752625, -2.2480049665318802e-05, -0.024147571995854378, 0.03047690913081169, -0.06070315092802048, 0.014131342992186546, -0.006674004253000021, -0.005096892360597849, -0.11605874449014664, -0.008663672022521496, -0.014486454427242279, 0.011927563697099686, -0.0012246118858456612, -0.04904714226722717, 0.0036451134365051985, 0.033213354647159576, 0.028262685984373093, 0.005765337031334639, 0.044200919568538666, 0.0021241402719169855, -0.007681894116103649, -0.028931129723787308, -0.025964906439185143, -0.018006233498454094, 0.02078445814549923, 0.025735128670930862, 0.0034988911356776953, 0.006924671120941639, -0.0020562512800097466, -0.031834688037633896, -0.03235691040754318, -0.009744673036038876, -0.0199593473225832, 0.01009456254541874, 0.017901789397001266, -0.0012683480745181441, -0.001993584679439664, 0.0038983915001153946, 0.0031960022170096636, 0.028012018650770187, -0.009029228240251541, 0.009645450860261917, -0.027197351679205894, 0.0423835851252079, 0.001936140120960772, 0.029724908992648125, -0.015687566250562668, -0.03820580244064331, -0.004681725520640612, 0.03674358129501343, 0.0008525283192284405, -0.025212906301021576, 0.06028537452220917, -0.04198669642210007, 0.003843558020889759, 0.040566250681877136, -0.018779123201966286, -0.03062313236296177, -0.016032231971621513, -0.027072018012404442, -0.01949978992342949, -0.0034075023140758276, -0.015008676797151566, -0.029348907992243767, 0.031228909268975258, -0.009279894642531872, -0.01416267640888691, 0.010674228891730309, 0.0033213356509804726, -0.03361024335026741, -0.0707298219203949, -0.020565124228596687, -0.005339725874364376, -0.02579779550433159, -0.04654047638177872, -0.034362245351076126, -0.05180447921156883, 0.013932897709310055, -0.03367291018366814, -0.0026842239312827587, 0.02193334698677063, -0.011165118776261806, 0.024022238329052925, 0.010329562239348888, 0.029202686622738838, -0.02097245864570141, -0.008157116360962391, -0.03292091190814972, -0.0006260143127292395, 0.021996013820171356, 0.04123469442129135, 0.008428672328591347, 0.02358357049524784, 0.04378313943743706, 0.0049193366430699825, -0.020398013293743134, 0.0054833367466926575, -0.01441334281116724, 0.019687790423631668, -0.018455345183610916, 0.02109779231250286, 0.013348008506000042, -0.010481007397174835, 0.013504675589501858, 0.0042900582775473595, -0.08965516835451126, 0.03699424862861633, -0.013389786705374718, -0.019802680239081383, 0.04716714099049568, -0.0434071384370327, -0.01135311834514141, -0.018538901582360268, 0.00360333570279181, -0.020241346210241318, -0.00720667140558362, 0.006042114924639463, -0.06078670546412468, -0.012481119483709335, 0.007399893831461668, -0.021264903247356415, -0.019071567803621292, 0.002840890781953931, 0.04219558462500572, -0.04532891884446144, -0.01427756529301405, -0.0012148203095421195, -0.009687229059636593, 0.04378313943743706, 0.007624449674040079, 0.030644020065665245, 0.020377125591039658, 0.03104090876877308, -0.03371468931436539, -0.00019746541511267424, 0.0018134178826585412, -0.0048671141266822815, 0.00046869475045241416, -0.005984670482575893, 0.023207571357488632, 0.01023034006357193, -0.04620625451207161, 0.019416235387325287, 0.015760676935315132, 0.06575826555490494, -0.04290580749511719, 0.011071118526160717, -0.005049892235547304, 0.007765449583530426, 0.020721791312098503, -0.02013690210878849, -0.06768004596233368, -0.05401870235800743, -0.016544010490179062, 0.026320017874240875, -0.0034962801728397608, 0.0062666707672178745, -0.0077027827501297, 0.019792234525084496, 0.007634893991053104, -0.008214561268687248, -0.004169947002083063, 0.0033396133221685886, -0.01971912384033203, 0.02786579541862011, -0.023876015096902847, 0.01944756880402565, -0.04674936458468437, -0.029766686260700226, 0.0039375582709908485, 0.028576018288731575, 0.02606935054063797, 0.0038957803044468164, -0.03196002170443535, -0.040252916514873505, -0.01760934479534626, 0.05117781087756157, 0.007175337988883257, 0.001064681215211749, 0.013442008756101131, -0.0028382795862853527, -0.031563133001327515, -0.027385352179408073, 0.06947649270296097, 0.026591572910547256, 0.023688016459345818, 0.020335346460342407, -0.002801724011078477, 0.008292894810438156, -0.05305781215429306, -0.02032490260899067, 0.002446612808853388, 0.0018525845371186733, -0.03212713077664375, 0.04704180732369423, 0.04315647482872009, 0.03741202503442764, 0.00764533830806613, 0.0026555017102509737, 0.036534689366817474, -0.0024022238794714212, -0.01925956830382347, 0.0548124797642231, -0.034278690814971924, 0.03196002170443535, 0.04975736513733864, -0.03737024590373039, -0.04336536303162575, 0.029871130362153053, -0.0007147921132855117, 0.03379824385046959, -0.004357947502285242, -0.005394559353590012, 0.009661117568612099, -0.07595205307006836, -0.030309798195958138, -0.015311566181480885, 0.006120448466390371, -0.03580357879400253, 0.021808015182614326, 0.006856782361865044, -0.018507568165659904, -0.04298936203122139, 0.010240784846246243, -0.0036451134365051985, -0.03494713455438614, -0.01760934479534626, -0.017755568027496338, 0.0618729293346405, -0.030080020427703857, -0.0013851954136043787, -0.015781566500663757, 0.03941735997796059, 0.04833691939711571, -0.056024037301540375, -0.02771957404911518, -0.0378715805709362, 0.006251004058867693, -0.025066683068871498, 0.027928462252020836, 0.012334897182881832, 0.018424011766910553, -0.022372014820575714, 0.027239128947257996, 0.02339557185769081, 0.0017468344885855913, -0.007368560414761305, 0.006475559901446104, 0.0027573350816965103, -0.045997362583875656, -0.005311003420501947, 0.01723334565758705, -0.04275958240032196, -0.004083780571818352, -0.0640871524810791, 0.031333353370428085, 0.015645788982510567, 0.0002194966800743714, -0.053266700357198715, 0.010945784859359264, 0.002822612877935171, -0.011603785678744316, -0.06467204540967941, 0.04027380421757698, 0.027072018012404442, -0.008277228102087975, -0.05673426017165184, -0.020680014044046402, -0.005008114501833916, -0.059658706188201904, 0.004065502900630236, -0.01585467718541622, 0.01756756752729416, 0.04033647105097771, 0.08372272551059723, -0.00532144820317626, -0.0013525563990697265, 0.005431114695966244, 0.02565157227218151, 0.020293569192290306, 0.041172027587890625, 0.01385978702455759, -0.008089227601885796, 0.03789246827363968, 0.03283735364675522, -0.06224893033504486, -0.008324227295815945, 0.01609489880502224, -0.019301345571875572, 0.023604460060596466, 0.0054206703789532185, -0.004031558055430651, 0.037036024034023285, -0.007311115972697735, -0.018215123564004898, 0.004206502810120583, 0.011969340965151787, 0.015384676866233349, 0.02717646211385727, -0.008590561337769032, 0.06132981926202774, 0.02147379145026207, 0.02464890480041504, -0.013588231056928635, 0.08084005117416382, -0.011958897113800049, 0.021808015182614326, 0.017202012240886688, -0.017390010878443718, -0.03640935570001602, 0.004316169768571854, -0.014152231626212597, 0.048754699528217316, 0.023834237828850746, -0.02331201545894146, -0.05105247721076012, 0.021578237414360046, 0.016899121925234795, -0.05314137041568756, -0.012564674951136112, 0.020356236025691032, 0.013473342172801495, 0.0027599462773650885, 0.012940675020217896, 0.02542179450392723, -0.002989724278450012, 0.03576180338859558, -0.0036372800823301077, -0.004109891597181559, -0.029265353456139565, -0.044618695974349976, -0.014538676477968693, 0.018361344933509827, 0.03594980016350746, 0.0050159478560090065, -0.02385512739419937, 0.03193913400173187, 0.06960182636976242, -0.025442684069275856, 0.012637786567211151, -0.019207345321774483, -0.018048012629151344, -0.00025180919328704476, -0.004890614189207554, -0.030184464529156685, -0.008235449902713299, -0.024669794365763664, 0.027364462614059448, 0.027009351179003716, -0.06341870874166489, 0.05080180987715721, 0.040712472051382065, 0.023103127256035805, 0.018131567165255547, 0.05899026244878769, -0.02350001595914364, -0.010084117762744427, 0.03158402070403099, -0.0297457966953516, 0.025776905938982964, -0.024335572496056557, -0.029996464028954506, -0.05435292422771454, 0.012951119802892208, 0.00793256051838398, -0.014371565543115139, 0.00912322849035263, -0.004407558590173721, 0.0006198129267431796, -0.016763344407081604, -0.021170902997255325, 0.015687566250562668, 0.040106695145368576, -0.03705691173672676, 0.03876980394124985, -0.05573159083724022, 0.03112446516752243, 0.04578847438097, -0.03785069286823273, 0.012261785566806793, -0.02629912830889225, -0.006313670892268419, 0.0002472397463861853, 0.004360558465123177, 0.05314137041568756, 0.035281356424093246, 0.0525982566177845, -0.006193559616804123, 0.07244271785020828, -0.0022194460034370422, 0.024210238829255104, 0.006982115563005209, -0.05886492878198624, -0.003180335508659482, -0.0014896398643031716, 0.014726676046848297, -0.0007010838016867638, 0.040023136883974075, -0.023458238691091537, -0.009384339675307274, -0.03791335970163345, 0.0343831330537796, -0.04649869725108147, 0.05197158828377724, -0.030790243297815323, 0.029850242659449577, 0.017212456092238426, 0.008188449777662754, 0.012460230849683285, -0.023332905024290085, 0.0228106826543808, 0.02220490388572216, -0.025588905438780785, -0.007525227032601833, 0.020481569692492485, -0.008747228421270847, -0.04200758412480354, 0.017943566665053368, 0.007734116166830063, -0.00954100675880909, -0.013389786705374718, -0.03672268986701965, -0.032294243574142456, 0.00013398272858466953, 0.00598989287391305, -0.005070781335234642, -0.0009021394653245807, -0.0018930567894130945, -0.022267570719122887, 0.03177202120423317, 0.032524023205041885, 0.04390847310423851, -0.036764468997716904, -0.029724908992648125, -0.027886684983968735, 0.04574669525027275, -0.020512903109192848, -0.027072018012404442, -0.011833563446998596, 0.017525790259242058, 0.020084679126739502, 0.00747300498187542, 0.006449448876082897, -0.005292725749313831, 0.02782401815056801, 0.01636645570397377, -0.0005953337531536818, -0.026445351541042328, 0.014308898709714413, 0.007995227351784706, -0.01360912062227726, 0.012627341784536839, 0.011687341146171093, -0.028074685484170914, 0.0019100290955975652, -0.009447006508708, -0.0070761158131062984, -0.006355448625981808, 0.0060160038992762566, 0.009520117193460464, 0.005368447862565517, 0.006167448591440916, -0.014580453746020794, -0.01697223260998726, -0.0014400287764146924, -0.01894623413681984, -0.009969228878617287, 0.000765708857215941, -6.617539474973455e-05, 0.010914451442658901, 0.01697223260998726, -0.03885335847735405, -0.02993379719555378, 0.011896230280399323, -0.006496448535472155, -0.0010366118513047695, 0.025129349902272224, 0.005995115265250206, 0.01243934128433466, 0.0014269731473177671, -0.03987691551446915, 0.029599575325846672, 0.010303451679646969, -0.016251565888524055, -0.01916556805372238, -0.011760451830923557, 0.0332760214805603, -0.009661117568612099, -0.052347589284181595, 0.004026336129754782, 0.004185613710433245, 0.003256057621911168, -0.01999068073928356, 0.013201786205172539, 0.047292474657297134, 0.006365892942994833, -0.026675129309296608, 0.046039141714572906, -0.005634781438857317, -0.032336022704839706, 0.04012758284807205, 0.025233794003725052, -0.05084358900785446, -0.023750683292746544, 0.01439245417714119, 0.018465790897607803, -0.011718674562871456, -0.0009230283903889358, 0.014674453996121883, 0.0388115830719471, 0.004848836455494165, 0.018142012879252434, 0.060076482594013214, -0.02955779805779457, 0.0044441139325499535, 0.02041890285909176, -0.02266445942223072, 0.03732847049832344, -0.009415673092007637, -0.019854901358485222, -0.03425779938697815, -0.009065783582627773, -0.019938457757234573, 0.0481698103249073, -0.0503004789352417, 0.001985751325264573, 0.008543561212718487, 0.03377735614776611, -0.04386669397354126, -0.026090240105986595, 0.01098756305873394, -0.003143779933452606, -0.02943246439099312, -0.010272118262946606, 0.006757560186088085, 0.011269562877714634, -0.00023695849813520908, -0.007452115882188082, -0.02809557504951954, -0.0028565574903041124, -0.012585563585162163, 0.02087845839560032, 0.02694668434560299, -0.03160490840673447, -0.005713114980608225, 0.005504225846379995, 0.01163511909544468, -0.017713788896799088, 0.03329690918326378, 0.024795128032565117, 0.006799337919801474, -0.0024596683215349913, -0.020471123978495598, 0.03177202120423317, -0.03599157929420471, 0.024398239329457283, 0.017588455229997635, 0.013442008756101131, 0.023228459060192108, 0.048253364861011505, 0.027531573548913002, 0.02220490388572216, 0.016940901055932045, -0.008856894448399544, -0.01340023148804903, -0.007029115688055754, -0.01595912128686905, 0.017630234360694885, -0.020168235525488853, 0.013045120052993298, 0.028116462752223015, -0.043240029364824295, -0.027134684845805168, 0.018549345433712006, 0.018089789897203445, -0.04486936330795288, -0.03720313683152199, 0.029850242659449577, 0.04520358517765999, -0.025714239105582237, 0.011457563377916813, -0.013421120122075081, 0.006846338044852018, -0.004626892041414976, -0.0031646688003093004, -0.02955779805779457, -0.020429346710443497, 0.02552623860538006, 0.02629912830889225, -0.004767891950905323, -0.018789568915963173, 0.0017611955991014838, -0.024252016097307205, -0.05155381187796593, -0.040900472551584244, -0.0040393914096057415, 0.000373062735889107, 0.010606340132653713, -0.0013525563990697265, -0.009504450485110283, -0.044117361307144165, 0.023834237828850746, 0.019102901220321655, -0.0239595714956522, -0.009086673147976398, 0.010282562114298344, -0.010799562558531761, 0.009838673286139965, -0.019510235637426376, 0.009713339619338512, 0.018998457118868828, 0.0548124797642231, -0.005368447862565517, -0.0075513385236263275, -0.020481569692492485, 0.0054258923046290874, -0.032628465443849564, 0.012136452831327915, 0.02469068393111229, -0.015332454815506935, 0.0012422369327396154, 0.017713788896799088, -0.007044782396405935, -0.01581289991736412, -0.010841340757906437, -0.00038415996823459864, 0.033401355147361755, -0.005791448522359133, 0.0014530842890962958, -0.00604733731597662, -0.03728669136762619, 0.00737900473177433, -0.0062092263251543045, 0.012773564085364342, -0.0010039728367701173, 0.014768454246222973, 0.006731448695063591, 0.02235112525522709, -0.024440016597509384, -0.009039673022925854, 0.024168459698557854, 0.03760002553462982, -0.0014374175807461143, 0.03916669264435768, -0.031521353870630264, 0.003854002570733428, -0.03300446644425392, 0.019980235025286674, -0.020084679126739502, 0.04787736386060715, -0.0108726741746068, -0.03590802475810051, -0.04046180471777916, -0.0036868914030492306, 0.00014744627696927637, -0.02671690657734871, 0.01121734082698822, 0.037349358201026917, -0.012773564085364342, 0.0034388357307761908, 0.03379824385046959, 0.006736671086400747, -0.012815342284739017, -0.004955891985446215, -0.0200429018586874, 0.004454558715224266, -0.004786169622093439, 0.009964006952941418, -0.020711347460746765, -0.04039913788437843, -0.001551000983454287, -0.03716135770082474, -0.03246135637164116, -0.021066458895802498, 0.0007363338372670114, 0.026361795142292976, -0.019437124952673912, 0.027009351179003716, 0.06642670929431915, -0.01552045438438654, 0.0014961676206439734, -0.012481119483709335, -0.041777804493904114, -0.018361344933509827, -0.035281356424093246, 0.034508466720581055, 0.0015953899128362536, 0.015384676866233349, 0.013556897640228271, -0.019092457368969917, -0.012397564016282558, -0.04725069925189018, -0.0009191117133013904, 0.000747431069612503, -0.00013047404354438186, 0.0296622421592474, -0.04654047638177872, -0.013327119871973991, 0.003274335525929928, -0.01835090108215809, -0.01682601124048233, -0.03590802475810051, 0.04353247210383415, 0.016909567639231682, -0.015447343699634075, 0.02069045789539814, 0.0031542242504656315, -0.04399202764034271, 0.010303451679646969, 0.010648118332028389, 0.015113120898604393, -0.033902689814567566, 0.007488671690225601, -0.06768004596233368, 0.009969228878617287, -0.007901227101683617, -0.010340007022023201, -0.014006009325385094, 0.0064598931930959225, 0.02040845714509487, -0.030309798195958138, -0.002079751342535019, -0.01797490008175373, -0.009530561976134777, 0.007681894116103649, -0.020805347710847855, 0.04574669525027275, 0.014632676728069782, 0.01824645698070526, 0.02431468293070793, -0.0009386950405314565, 0.007833338342607021, 0.014893787913024426, 0.044159140437841415, 0.0435742512345314, -0.0015940844314172864, -0.007880338467657566, -0.019458012655377388, 0.027322685346007347, -0.012063341215252876, 0.040712472051382065, 0.019207345321774483, 0.00578100373968482, 0.007739338558167219, 0.006000337190926075, -0.019760901108384132, 0.050592921674251556, -0.046832919120788574, -0.017870455980300903, -0.0023917793296277523, 0.02726001851260662, -0.004692169837653637, 0.009812561795115471, 0.005389336962252855, -0.010277340188622475, -0.03484268859028816, -0.0017846956616267562, -0.0160844549536705, -0.0013799731386825442, -0.0022194460034370422, -0.023437349125742912, -0.03398624435067177, 0.02652890607714653, -0.02840890735387802, -0.020857568830251694, -0.019917568191885948, 0.008063116110861301, -0.01848667860031128, 0.031061798334121704, -0.0042900582775473595, -0.019980235025286674, 0.02552623860538006, -0.021369347348809242, 0.018455345183610916, -0.010512339882552624, -0.04695825278759003, 0.009379117749631405, -0.014173120260238647, 0.015541343949735165, 0.0007865977240726352, 0.053726259618997574, 0.025693349540233612, -0.002707723993808031, 0.02189156971871853, -0.025400904938578606, -0.02932802028954029, 0.014288009144365788, -0.03674358129501343, 0.017901789397001266, 0.016470899805426598, 0.0240013487637043, 0.03304624557495117, 0.005697448272258043, 0.004619058687239885, 0.033171579241752625, -0.006715782452374697, 0.0228106826543808, -0.001146278576925397, -0.02074268087744713, -0.005916781723499298, 0.044994696974754333, 0.002455751644447446, 0.026508018374443054, -0.028262685984373093, 0.03674358129501343, -0.031876467168331146, -0.027782240882515907, 0.0682649314403534, -0.024293793365359306, -0.014987788163125515, 0.00665311561897397, -0.012972008436918259, 0.03264935687184334, 0.008068338967859745, 0.0015170566039159894, 0.005833226256072521, -0.02339557185769081, -0.004908892326056957, -0.01328534260392189, -0.033860910683870316, -0.027552463114261627, 0.0047652809880673885, 0.005744448397308588, -0.021212680265307426, 0.015489120967686176, -0.0285969078540802, 0.012021563947200775, 0.03177202120423317, -0.07047915458679199, -0.011697785928845406, -0.04303114116191864, 0.0028382795862853527, -0.012157341465353966, 0.015134010463953018, -0.016157565638422966, -0.03998136147856712, 0.00018604178330861032, 0.020565124228596687, -0.0331089124083519, 0.005619114730507135, 0.0048671141266822815, -0.03112446516752243, -0.017316900193691254, 0.008564449846744537, -0.007969116792082787, -0.0354902446269989, 8.822705240163486e-06, -0.022768903523683548, -0.026194684207439423, -0.044994696974754333, -0.039709802716970444, -0.015259343199431896, 0.03711957857012749, 0.004371002782136202, -0.016805121675133705, 0.005431114695966244, -0.006496448535472155, -0.012721342034637928, -0.025400904938578606, -0.00834511686116457, -0.02878490835428238, -0.01834045723080635, -0.015927787870168686, 0.001252028625458479, -0.016993122175335884, 0.02473246119916439, 0.02817912958562374, 0.00021460083371493965, -0.002547140698879957, -0.06872449070215225, 0.05610759183764458, -0.007285004947334528, 0.029390687122941017, -0.028847575187683105, 0.0064598931930959225, 0.020512903109192848, -0.0011377923656255007, -0.006929893512278795, -0.002919224090874195, -0.004117724951356649, 0.01697223260998726, 0.02166179195046425, -0.031876467168331146, -0.0377044677734375, -0.001493556541390717, -0.012334897182881832, 0.00665311561897397, 0.035469356924295425, 0.0046686697751283646, -0.0048096696846187115, -0.02538001723587513, 0.017118455842137337, -0.00589589262381196, -0.01418356504291296, 0.010601118206977844, 0.051470257341861725, 0.02074268087744713, 0.02327023819088936, 0.0012304869014769793, -0.023520903661847115, -0.015604010783135891, -0.026633350178599358, -0.030790243297815323, -0.015322010032832623, 0.0034414466936141253, 0.021317124366760254, 0.00616222620010376, -0.03697335720062256, 0.02189156971871853, -0.05640003830194473, -0.013556897640228271, -0.01632467843592167, -0.027239128947257996, -0.016794677823781967, 0.0017455288907513022, 0.007744560483843088, -0.010601118206977844, 0.006585226394236088, 0.024983128532767296, 0.0154055655002594, 0.007232782430946827, -0.02235112525522709, -0.0006743199191987514, -0.0060943374410271645, -0.0017559734405949712, 0.05769515037536621, -0.0038748914375901222, 0.013180897571146488, 0.012512452900409698, -0.012303563766181469, -0.005566892679780722, 0.001955723622813821, 0.01100845169275999, -0.02041890285909176, -0.012084229849278927, 0.01454912032932043, 0.042738694697618484, 0.032440464943647385, 0.05163736641407013, 0.027552463114261627, -0.03189735487103462, 0.002129362430423498, 0.0048227254301309586, 0.0011397507041692734, -0.035699136555194855, 0.017755568027496338, -0.011624674312770367, 0.05769515037536621, 0.023458238691091537, -0.018685122951865196, 0.002590223914012313, -0.0020680013112723827, 0.025275573134422302, 0.004509391728788614, 0.03904135897755623, -0.03212713077664375, -0.038957804441452026, 0.02606935054063797, 0.013170452788472176, -0.01723334565758705, 0.02575601637363434, -0.01673201099038124, -0.013932897709310055, 0.032440464943647385, 0.022372014820575714, 0.013327119871973991, -0.01737956702709198, -0.02247645892202854, -0.043198250234127045, 0.015917344018816948, 0.003237779950723052, -0.03461291268467903, -0.02270623669028282, -0.014110453426837921, -0.034550245851278305, 0.0387280248105526, -0.02170356921851635, -0.04620625451207161, -0.02763601765036583, 0.009295561350882053, 0.007880338467657566, 0.028952019289135933, 0.031228909268975258, -0.02239290438592434, 0.010272118262946606, 0.01994890160858631, -0.0057026706635952, 0.016157565638422966, 0.020074235275387764, -0.00804744940251112, -0.012428897432982922, 0.027113795280456543, -0.0045355032198131084, -0.04495291784405708, -0.0020575569942593575, 0.0015927788335829973, 0.007990005426108837, 0.003263890976086259, -0.030873797833919525, -0.004762670025229454, -0.0032847800757735968, -0.07937783002853394, -0.00811533909291029, 0.013243564404547215, -0.03574091196060181, 0.024523571133613586, 0.006658337544649839, -0.031228909268975258, 0.011812674812972546, -0.02694668434560299, 0.001389112090691924, -0.0022781959269195795, 0.02993379719555378, 0.04407558590173721, -0.018058456480503082, -0.014037342742085457, -0.03350580111145973, 9.351047629024833e-05, -0.003172502154484391, 0.010799562558531761, -0.0027965018525719643, 0.0211500134319067, 0.004927169997245073, 0.009018783457577229, 0.007446893956512213, -0.02648712880909443, -0.008924784138798714, -0.07482405006885529, -0.022998681291937828, -0.02105601318180561, -0.01135311834514141, 0.01232445240020752, -0.005561670288443565, -0.03858180344104767, 0.00444933632388711, -0.003822669154033065, -0.01628289930522442, 0.007159671280533075, -0.022037792950868607, 0.03465468809008598, 0.00033487522159703076, 0.043657805770635605, -0.0037051690742373466, -0.04023202508687973, 0.01816290058195591, 0.018330011516809464, -0.008977006189525127, 0.03250313177704811, 0.013337564654648304, -0.005775781814008951, -0.0046112253330647945, -0.025212906301021576, 0.012773564085364342, 0.019604235887527466, 0.01416267640888691, 0.013828453607857227, 0.007974338717758656, -0.006214448716491461, -0.0503840334713459, 0.014131342992186546, -0.008757672272622585, 0.04142269492149353, 0.029599575325846672, -0.02201690338551998, -0.013577787205576897, 0.01870601251721382, 0.00473655853420496, 0.005922004114836454, -0.04019024968147278, 0.005572114605456591, 0.024335572496056557, 0.03070668689906597, -0.009958784095942974, 0.031876467168331146, -0.018403124064207077, -0.0480026975274086, 0.012021563947200775, 0.015217565931379795, -0.006726226769387722, -0.01858067885041237, 0.016147121787071228, 0.015781566500663757, 0.004462392069399357, -0.007963893935084343, -0.02542179450392723, -0.00424044718965888, 0.02087845839560032, 0.00033944466849789023, -0.03145868703722954, 0.01167689636349678, 0.0028643908444792032, 0.0015953899128362536, 0.0038331137038767338, 0.008935227990150452, -0.02018912509083748, -0.03678535670042038, -0.03862358257174492, -0.008303338661789894, 0.027552463114261627, 0.02579779550433159, 0.03544846922159195, -0.007211893796920776, -0.013598675839602947, 0.002446612808853388, 0.035156022757291794, 0.0014256676658988, -0.005002892110496759, 0.03851913660764694, -0.003827891545370221, 0.022267570719122887, 0.08940450102090836, -0.009410451166331768, 0.00969767291098833, 0.019604235887527466, -0.010287784971296787, -0.008736783638596535, -0.003945391625165939, 0.004733947571367025, -0.03145868703722954, 0.01211556326597929, 0.044200919568538666, 0.007290226873010397, -0.01913423463702202, -0.024335572496056557, -0.008914339356124401, -0.016993122175335884, -0.028388019651174545, 0.015248899348080158, -0.006867226678878069, -0.009003116749227047, 0.026654239743947983, 0.012397564016282558, 0.008073560893535614, 0.015980010852217674, 0.031187132000923157, 0.022748015820980072, 0.026006683707237244, -0.00977078452706337, -0.013577787205576897, -0.004543336573988199, 0.02166179195046425, 0.021620014682412148, -0.002352612791582942, 0.009133672341704369, 0.039104025810956955, -0.04261336103081703, 0.020586013793945312, -0.011154673993587494, 0.01009456254541874, 0.026215573772788048, 0.003556335810571909, 0.031876467168331146, 0.02726001851260662, -0.003979336004704237, 0.0020484179258346558, -0.0046556140296161175, -0.010810007341206074, -0.0017220289446413517, 0.016397789120674133, -0.027427129447460175, -0.037767134606838226, 0.01000056229531765, -0.011280007660388947, -0.004002836067229509, -0.023750683292746544, -0.0018421401036903262, 0.006914226803928614, 0.00621967064216733, -0.03012179769575596, -0.0020666958298534155, -0.03578269109129906, 0.013598675839602947, -0.015301121398806572, -0.0009373895009048283, -0.0308111310005188, 0.006486004218459129, -0.01299289707094431, 0.0251084603369236, -0.018507568165659904, -0.021724458783864975, -0.0037626135163009167, -0.027740463614463806, 0.003786113578826189, 0.016199344769120216, -0.012303563766181469, -0.019280457869172096, -0.024064015597105026, 0.026215573772788048, -0.0034336133394390345, 0.012648230418562889, 0.025860462337732315, 0.003585058031603694, -0.022142237052321434, 0.007755005266517401, -0.027239128947257996, 0.0022899459581822157, -0.033401355147361755, 0.00967678427696228, -0.020512903109192848, 0.003989780321717262, 0.0026568074245005846, 0.0033108911011368036, 0.0003182293730787933, 0.008590561337769032, -0.03089468739926815, -0.007692338433116674, 0.012449786067008972, 0.023896904662251472, 0.011802230030298233, 0.025212906301021576, -0.006893337704241276, 0.03586624562740326, -0.0026359183248132467, 0.013045120052993298, -0.003305668942630291, 0.04578847438097, 0.015917344018816948, 0.028972908854484558, 0.007217115722596645, 0.010611562989652157, -0.027134684845805168, -0.0035928913857787848, -0.0021045568864792585, 0.029808463528752327, -0.004924559034407139, -0.015656232833862305, -0.00923811737447977, -0.02097245864570141, -0.01156200747936964, -0.017713788896799088, -0.03158402070403099, -0.018549345433712006, -0.013619564473628998, 0.010454895906150341, -0.0046556140296161175, 0.013442008756101131, 0.03315068781375885, -0.013567342422902584, -0.012867564335465431, 0.027468906715512276, 0.0016567511484026909, -0.001802973449230194, -0.012460230849683285, 0.032983578741550446, -0.02441912703216076, -0.029599575325846672, 0.02220490388572216, 0.005859337281435728, -0.010966673493385315, 0.017504900693893433, -0.01617845520377159, 0.002783446339890361, 0.022142237052321434, -0.0014478621305897832, -0.017316900193691254, 0.03534402325749397, -0.029599575325846672, 0.038832470774650574, 0.01296156458556652, 0.03166757524013519, -0.028158240020275116, -0.008413005620241165, 0.026967573910951614, 0.03269113227725029, -0.016544010490179062, 0.03517691045999527, -0.03854002431035042, -0.006721004378050566, 0.026215573772788048, -0.0020771403796970844, 0.003572002286091447, 0.035427577793598175, 0.039333805441856384, 0.03062313236296177, 0.009342561475932598, -0.005203947890549898, -0.061538707464933395, -0.03258669003844261, 0.0171915665268898, 0.034821800887584686, -0.018256900832057, -0.022560015320777893, 0.05944981798529625, -0.03296268731355667, 0.0022586125414818525, -0.01885223388671875, 0.0006952087860554457, -0.004243058152496815, -0.0043031140230596066, -0.007525227032601833, 0.024711571633815765, 0.016794677823781967, 0.026591572910547256, -0.032753799110651016, -0.006752337794750929, 0.004044613800942898, 0.009572339244186878, 0.015050454065203667, -0.02077401429414749, -0.012418452650308609, 0.016335122287273407, -0.00045629197848029435, 0.0004954586620442569, 0.004360558465123177, 0.038038693368434906, 0.008183227851986885, 0.010924896225333214, -0.011990230530500412, -0.03367291018366814, -0.014194009825587273, -0.0424671396613121, 0.03237779811024666, 0.008162339217960835, -0.03296268731355667, -1.6717242033337243e-05, 0.013107786886394024, -0.015551787801086903, -0.00811533909291029, -0.02583957277238369, 0.0017194178653880954, -0.0434906966984272, 0.0080213388428092, 0.02851335145533085, 0.012376674450933933, -0.025630684569478035, 0.016157565638422966, 0.03617957979440689, -0.0016423900378867984, 0.010528006590902805, 0.011060673743486404, -0.006564337760210037, 0.018371790647506714, -0.018831346184015274, 0.03964713588356972, -0.027761351317167282, 0.016533566638827324, 0.0002651911345310509, 0.0031333353836089373, 0.01977134682238102, -0.03323424607515335, -0.025776905938982964, -0.021620014682412148, -0.019322235137224197, 0.025484461337327957, 0.022915126755833626, -0.0074938940815627575, 0.00566611485555768, -2.8293856303207576e-05, -0.014256675727665424, -0.05610759183764458, 0.019228234887123108, 0.01420445367693901, -0.010340007022023201, 0.040211137384176254, -0.03116624243557453, 0.02262268215417862, 0.009447006508708, -0.011280007660388947, -0.037265803664922714, -0.03672268986701965, 0.033443134278059006, 0.005864559672772884, 0.00045433363993652165, 0.04399202764034271, 0.007781116291880608, 0.03333868831396103, -0.02258090302348137, -0.0319182425737381, 0.018256900832057, 0.03108268789947033, -0.014444676227867603, 0.01982356794178486, -0.026466239243745804, 0.027072018012404442, -0.0027965018525719643, 0.017734678462147713, 0.017139345407485962, -0.0228106826543808, -0.007013448979705572, 0.024753348901867867, 0.016011344268918037, -0.01276311930269003, 0.014570009894669056, -0.030999131500720978, -0.003506724489852786, -0.017964456230401993, 0.008010894060134888, 0.01450734306126833, -0.015395121648907661, -0.0389786921441555, -0.0193640124052763, 0.014455121010541916, 0.021599125117063522, 0.027782240882515907, -0.0035955023486167192, 0.014246231876313686, -0.021724458783864975, -0.02828357368707657, 0.02496223896741867, -0.016168011352419853, 0.018998457118868828, -0.011468007229268551, 0.004773114342242479, 0.0030680575873702765, 0.012428897432982922, -0.011969340965151787, 0.022100459784269333, 0.025776905938982964, -0.020794901996850967, 0.03047690913081169, 0.01475800946354866, -0.00604733731597662, 0.012136452831327915, 0.03260757774114609, -0.03686891496181488, -0.018768679350614548, -0.006130892783403397, -0.025275573134422302, 0.022685348987579346, 0.010214673355221748, 0.013212230987846851, -0.003984558396041393, -0.025672461837530136, 0.029954686760902405, 0.005869781598448753, -0.028576018288731575, -0.0019400567980483174, -0.02625735104084015, -0.03256579861044884, -0.02143201418220997]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-14T10:14:19.033181", "url_path": "/api/agent/", "chunk_size": 3635}
updated_dt: 2025-03-14T10:14:19.034716
---
|  `'early'`  
`instrument` |  `InstrumentationSettings[](https://ai.pydantic.dev/api/agent/#pydantic_ai.agent.InstrumentationSettings "pydantic_ai.models.instrumented.InstrumentationSettings") | bool[](https://docs.python.org/3/library/functions.html#bool) | None` |  Set to True to automatically instrument with OpenTelemetry, which will use Logfire if it's configured. Set to an instance of [`InstrumentationSettings`](https://ai.pydantic.dev/api/agent/#pydantic_ai.agent.InstrumentationSettings) to customize. If this isn't set, then the last value set by [`Agent.instrument_all()`](https://ai.pydantic.dev/api/agent/#pydantic_ai.agent.Agent.instrument_all) will be used, which defaults to False. |  `None`  
Source code in `pydantic_ai_slim/pydantic_ai/agent.py`
```
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
```
| ```
def__init__(
  self,
  model: models.Model | models.KnownModelName | None = None,
  *,
  result_type: type[ResultDataT] = str,
  system_prompt: str | Sequence[str] = (),
  deps_type: type[AgentDepsT] = NoneType,
  name: str | None = None,
  model_settings: ModelSettings | None = None,
  retries: int = 1,
  result_tool_name: str = 'final_result',
  result_tool_description: str | None = None,
  result_retries: int | None = None,
  tools: Sequence[Tool[AgentDepsT] | ToolFuncEither[AgentDepsT, ...]] = (),
  defer_model_check: bool = False,
  end_strategy: EndStrategy = 'early',
  instrument: InstrumentationSettings | bool | None = None,
):
"""Create an agent.
  Args:
    model: The default model to use for this agent, if not provide,
      you must provide the model when calling it.
    result_type: The type of the result data, used to validate the result data, defaults to `str`.
    system_prompt: Static system prompts to use for this agent, you can also register system
      prompts via a function with [`system_prompt`][pydantic_ai.Agent.system_prompt].
    deps_type: The type used for dependency injection, this parameter exists solely to allow you to fully
      parameterize the agent, and therefore get the best out of static type checking.
      If you're not using deps, but want type checking to pass, you can set `deps=None` to satisfy Pyright
      or add a type hint `: Agent[None, <return type>]`.
    name: The name of the agent, used for logging. If `None`, we try to infer the agent name from the call frame
      when the agent is first run.
    model_settings: Optional model request settings to use for this agent's runs, by default.
    retries: The default number of retries to allow before raising an error.
    result_tool_name: The name of the tool to use for the final result.
    result_tool_description: The description of the final result tool.
    result_retries: The maximum number of retries to allow for result validation, defaults to `retries`.
    tools: Tools to register with the agent, you can also register tools via the decorators
      [`@agent.tool`][pydantic_ai.Agent.tool] and [`@agent.tool_plain`][pydantic_ai.Agent.tool_plain].
    defer_model_check: by default, if you provide a [named][pydantic_ai.models.KnownModelName] model,
      it's evaluated to create a [`Model`][pydantic_ai.models.Model] instance immediately,
      which checks for the necessary environment variables. Set this to `false`
      to defer the evaluation until the first run.