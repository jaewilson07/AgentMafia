---
url: https://ai.pydantic.dev/api/agent/
session_id: pydantic_ai_docs
chunk_number: 7
title: Agent API Arguments and Return
summary: This section outlines the arguments available for the Agent API, including user input, result types, message history, model options, and usage limits. It also describes the return value of the API call, which is the result of the run.
embedding: [0.013994891196489334, 0.050385814160108566, -0.018463583663105965, -0.06418093293905258, -0.026202306151390076, 0.01918908767402172, 0.03795759379863739, 0.03116518259048462, 0.01187094859778881, 0.012838289141654968, -0.021071195602416992, 0.004957619123160839, -0.01227050181478262, -0.059512462466955185, 0.009799578227102757, -0.014920173212885857, -0.01610831916332245, 0.013490191660821438, 0.015435387380421162, 0.03715848550200462, 0.038693614304065704, -0.010309535078704357, 0.0057146684266626835, 0.044623829424381256, -0.046011753380298615, 0.030366076156497, -0.04811466857790947, 0.04521264508366585, -0.017191320657730103, 0.015088406391441822, 0.005283570848405361, -0.005961760878562927, -0.04744173586368561, 0.008932126685976982, 0.026181276887655258, -0.008138276636600494, 0.0016350154764950275, 0.008285480551421642, -0.010277991183102131, 0.0488717183470726, 0.05930216982960701, -0.013963347300887108, 0.005170539487153292, 0.04043903201818466, 0.015593105927109718, -0.026959355920553207, 0.03379382565617561, 0.05459164083003998, 0.025529373437166214, 0.014015920460224152, -0.03364662081003189, 0.021575896069407463, -0.026265393942594528, 0.012154841795563698, -0.047736141830682755, -0.018032485619187355, 0.005851357709616423, 0.006729324348270893, 0.009967811405658722, -0.011355734430253506, 0.017937853932380676, -0.00340934912674129, 0.015267154201865196, 0.04727350175380707, -0.04946053400635719, 0.036022912710905075, 0.005472833290696144, 0.05093257129192352, -0.03108106553554535, 0.011292647570371628, 0.03280545398592949, 0.014688853174448013, -0.07208788394927979, -0.022080594673752785, -0.03267928212881088, 0.00035815249430015683, 0.06733530014753342, 0.022564265877008438, 0.0008306509698741138, -0.008027873001992702, 0.022417061030864716, -0.03436161205172539, 0.03898802027106285, 0.03013475425541401, -0.0038588468451052904, -0.06464356929063797, -0.05025963857769966, -0.01127161830663681, -0.0020595411770045757, -0.06338182091712952, 0.011629112996160984, 0.02565554901957512, -0.0006762182456441224, 0.0373687781393528, 0.06725118309259415, 0.05278313532471657, -0.012638512067496777, -0.024730267003178596, 0.020713701844215393, 0.031102094799280167, 0.047820258885622025, -0.029756231233477592, -0.006550576537847519, 0.023447489365935326, 0.00671355240046978, -0.005073279608041048, -0.025255994871258736, 0.03166988119482994, -0.054255176335573196, -0.031627822667360306, -0.0661156103014946, -0.0005033849738538265, -0.001341264694929123, 0.02487746998667717, -0.047021154314279556, -0.045044414699077606, 0.0003850960929412395, -0.005415003281086683, 0.052614904940128326, -0.015508989803493023, 0.000931853661313653, 0.007318140007555485, -0.026475684717297554, -0.009526199661195278, 0.03600188344717026, -0.006061648949980736, -0.024583062157034874, -0.018821079283952713, 0.005359801463782787, -0.018789535388350487, -0.009920495562255383, -0.010667030699551105, -0.02660186029970646, -0.007733465638011694, -0.014699367806315422, -0.0330578051507473, -0.03884081915020943, -0.026370538398623466, -0.020892448723316193, 0.020682157948613167, -0.02178618684411049, -0.023636750876903534, -0.015635164454579353, -0.0009285678970627487, 0.04243680089712143, 0.07679840922355652, -0.03978712856769562, 0.050806399434804916, -0.01662353426218033, 0.032847512513399124, 0.0473155602812767, 0.0046947551891207695, -0.015330241993069649, 0.00524939876049757, -0.0013360073789954185, 0.017107203602790833, -0.026307452470064163, -0.012575424276292324, 0.015351271256804466, -0.05404488369822502, -0.011198015883564949, 0.018032485619187355, -0.0264125969260931, -0.00822239276021719, -0.01618192158639431, -0.014100037515163422, -0.036800991743803024, -0.004053366370499134, -0.015698252245783806, -0.04571734741330147, -0.011502938345074654, -0.03133341670036316, -0.033604562282562256, 0.01428929902613163, 0.023804984986782074, -0.04521264508366585, -0.08033131062984467, 0.00045968382619321346, -0.0008924240246415138, -0.028431395068764687, -0.034382641315460205, -0.02229088544845581, -0.027001412585377693, -0.015435387380421162, -0.055222515016794205, 0.003283174242824316, 0.002116057090461254, -0.00025136390468105674, -0.014909658581018448, -0.02117634192109108, 0.009647116996347904, 0.0692279189825058, 0.0023644636385142803, 0.03288957104086876, 0.005683124531060457, -0.001763818901963532, 0.02841036580502987, 0.011376763693988323, 0.03080768696963787, 0.018116602674126625, 0.004205827601253986, 0.02170206978917122, 0.03286854177713394, 0.004316230770200491, 0.030765628442168236, -0.02220677025616169, 0.02382601425051689, -0.0013452076818794012, 0.01071434561163187, 0.009105617180466652, 0.0185056421905756, -0.021975450217723846, 0.015435387380421162, -0.016907427459955215, -0.018137631937861443, -0.020619070157408714, -0.033436328172683716, 0.020009225234389305, 0.005157396197319031, 0.02668597549200058, 0.024204537272453308, 0.03823097422719002, 0.003766844281926751, 0.001590328523889184, 0.01721234992146492, 0.041259169578552246, -0.017180806025862694, -0.03434058278799057, 0.04424530640244484, 0.06212007254362106, -0.026959355920553207, -0.013668939471244812, -0.05513840168714523, -0.04163769260048866, 0.03349941596388817, -0.06926997750997543, -0.01329041551798582, 0.0035749534144997597, 0.02418350800871849, -0.03478219360113144, -0.02032466232776642, 0.005283570848405361, 0.03333118557929993, -0.02384704351425171, 0.0030387104488909245, 0.018642330542206764, -0.0013084067031741142, -0.015330241993069649, 0.044623829424381256, 0.031291358172893524, 0.027085529640316963, -0.0057619838044047356, -0.032321784645318985, -0.04424530640244484, 0.005096937529742718, 0.02348954789340496, -0.013511220924556255, -0.015393328852951527, -0.01661301963031292, -0.01093515194952488, 0.06775588542222977, 0.005520148668438196, -0.03209046646952629, 0.013805628754198551, 0.0036485553719103336, -0.00014531462511513382, 0.025066733360290527, -0.028704773634672165, -0.010709088295698166, -0.03366765007376671, -0.0008313081343658268, -0.022480148822069168, -0.004731555934995413, -0.056231915950775146, -0.021113254129886627, 0.029503880068659782, 0.02899918146431446, 0.04744173586368561, -0.004192684311419725, -0.0550963431596756, 0.0023329199757426977, 0.05475987493991852, 0.03383588418364525, 0.04899789020419121, 0.0063087414018809795, -0.015603620558977127, -0.010593428276479244, 0.01929423399269581, 0.041027847677469254, 0.029819317162036896, 0.03715848550200462, -0.007433800492435694, 0.043320026248693466, 0.012312560342252254, 0.0244358591735363, -0.048577308654785156, 0.022017506882548332, 0.007386484649032354, 0.000323323009070009, -0.029566967859864235, -0.002497210167348385, -0.015004290267825127, 0.015309212729334831, -0.012281016446650028, 0.026896268129348755, 0.046179987490177155, -0.029735201969742775, -0.036022912710905075, 0.01626603864133358, 0.006340285297483206, -0.026370538398623466, 0.06119479238986969, -0.019315263256430626, 0.013910775072872639, 0.003217458026483655, 0.015603620558977127, 0.04967082291841507, -0.03659069910645485, 0.044035013765096664, -0.0005953874788247049, -0.02176515758037567, -0.03148062154650688, 0.01694948598742485, 0.03907213732600212, -0.015214581042528152, -0.0018203348154202104, 0.020797817036509514, -0.007644091732800007, -0.025319082662463188, 0.010682801716029644, 0.0067818970419466496, -0.036443497985601425, 0.014068493619561195, 0.01227050181478262, 0.03217457979917526, -0.013111667707562447, -0.006503261160105467, 0.0026141847483813763, 0.056316033005714417, 0.03556027263402939, -0.024646149948239326, -0.006934358272701502, -0.03253207728266716, -0.017170291393995285, 0.016423756256699562, 0.06153125688433647, -0.013311444781720638, -0.014341872185468674, -0.044371481984853745, 0.01764344610273838, 0.03614908829331398, -0.000707761908415705, 0.01565619371831417, 0.025676578283309937, 0.00791221298277378, 0.00967866089195013, -0.019830476492643356, 0.021533837541937828, -0.03211149200797081, 0.010299020446836948, -0.05635809153318405, -0.022332943975925446, 0.014057978987693787, -0.002200173679739237, -0.05534869059920311, -0.004705269820988178, -0.02838933654129505, 0.04521264508366585, 0.0017559330444782972, 0.05147932842373848, 0.0809621810913086, 0.027905665338039398, -0.009084587916731834, -0.025340111926198006, -0.019346807152032852, -0.01153448224067688, -0.024898499250411987, -0.009668146260082722, 0.018810564652085304, 0.05896570160984993, 0.0330578051507473, 0.028641685843467712, 0.028073899447917938, 0.01987253502011299, 0.029461821541190147, -0.0010488282423466444, -0.017002057284116745, -0.007491630502045155, -0.03656966984272003, 0.04449765756726265, 0.03381485491991043, -0.06224624812602997, 0.011618598364293575, 0.003630154998973012, -0.03513969108462334, -0.0198830496519804, 0.011303161270916462, -0.004847216419875622, 0.028284190222620964, 0.011765803210437298, -0.014667823910713196, 0.015645679086446762, -0.04571734741330147, 0.04983905702829361, 0.01644478552043438, -0.02254323661327362, 0.00795952882617712, -0.0032016863115131855, 0.03423543646931648, 0.02323719672858715, 0.04538087919354439, 0.007843868806958199, 0.004066509660333395, 0.0012959205778315663, -0.029461821541190147, -0.004500235430896282, -0.03194326162338257, -0.054002825170755386, 0.020345691591501236, 0.07461138069629669, -0.05051198974251747, -0.07431697100400925, 0.004907675087451935, 0.036885108798742294, 0.000932510825805366, 0.05501222610473633, 0.04554911330342293, -0.038525380194187164, -0.0559375062584877, 0.013826658017933369, 0.03135444596409798, 0.059512462466955185, 0.010157073847949505, 0.02237500250339508, -0.030408132821321487, -0.017517272382974625, 0.048324957489967346, -0.013647910207509995, -0.016245009377598763, -0.015540532767772675, 0.053582243621349335, -0.0526990182697773, 0.04138534516096115, 0.04184798523783684, -0.03802068158984184, 0.006403372623026371, -0.05766189843416214, -0.026118189096450806, 0.0016994172474369407, -0.03501351550221443, -0.008916354738175869, -0.020587526261806488, -0.009347451850771904, 0.009599801152944565, -0.05446546897292137, -0.003193800337612629, 0.06653619557619095, 0.02376292645931244, 0.04432942345738411, 0.002870477270334959, 0.006745095830410719, 0.0033278611954301596, -0.02771640382707119, 0.02685420960187912, 0.013111667707562447, 0.03858846798539162, -0.01678125187754631, -0.024120422080159187, 0.002770588966086507, 0.05362430214881897, 0.047021154314279556, -0.02729582041501999, -0.0203036330640316, -0.017937853932380676, -0.017506757751107216, -0.022143682464957237, -0.0018361066468060017, 0.020429806783795357, -0.00015927929780445993, -0.03661172837018967, 0.007481115870177746, -0.011986608617007732, 0.030765628442168236, 0.04039697349071503, -0.025171877816319466, -0.004389832727611065, -0.02187030389904976, -0.030260929837822914, -0.026181276887655258, 0.010830006562173367, 0.024751296266913414, 0.010945666581392288, -0.001740161213092506, -0.006997445598244667, 0.04378266632556915, -0.019052399322390556, -0.03656966984272003, -0.02116582728922367, -0.034046173095703125, -0.028158016502857208, -0.024751296266913414, 0.004631667863577604, -0.007060532923787832, 0.057535722851753235, -0.03539203852415085, -0.047021154314279556, -0.007828096859157085, 0.007418028544634581, 0.02367880940437317, 0.036191146820783615, -0.0342564657330513, 0.027821550145745277, 0.005207340233027935, 0.03934551775455475, 0.010777433402836323, 0.014857086353003979, 0.004689497873187065, 0.004718412645161152, -0.011092870496213436, -0.00852205790579319, -0.0019833105616271496, -0.009626087732613087, 0.002807389944791794, -0.0028179045766592026, 0.01918908767402172, 0.022332943975925446, 0.041953131556510925, -0.03957683965563774, 0.004897160455584526, 0.04201621934771538, -0.0036748419515788555, 0.022564265877008438, -0.012964463792741299, 0.02376292645931244, -0.010630229488015175, -0.0018071915255859494, 0.015162008814513683, 0.021144798025488853, -0.06022744998335838, -0.0335414744913578, -0.014079008251428604, 0.03595982491970062, -0.03469807654619217, 0.011723744682967663, -0.024246595799922943, -0.0045186360366642475, 0.021617954596877098, -0.03181708604097366, 0.03450881689786911, -0.007880669087171555, 0.025255994871258736, 0.00018729075964074582, 0.02468820847570896, -0.03190120309591293, 0.02254323661327362, -0.01055136974900961, -0.036191146820783615, -0.006624178495258093, 0.019756875932216644, -0.025508344173431396, -0.020587526261806488, -0.007544203195720911, 0.03692716732621193, -0.012880346737802029, -0.001642901450395584, 0.042647093534469604, 0.009657631628215313, -0.02548731490969658, -0.037579070776700974, -0.00524939876049757, 0.02599201537668705, -0.004618524573743343, -0.0025997271295636892, -0.01402643509209156, 0.01703360117971897, -0.03190120309591293, 0.01860027201473713, 0.008317024447023869, -0.035833653062582016, 0.038693614304065704, -0.025066733360290527, -0.01978841982781887, 0.0070184748619794846, -0.010193875059485435, 0.04296252876520157, 0.011702715419232845, -0.04088064283132553, 0.024498945102095604, -0.0001329107180936262, -0.0042531429789960384, -0.005415003281086683, -0.018453069031238556, 0.0015995288267731667, -0.013006522320210934, -0.0535401850938797, 0.009846894070506096, 0.025150848552584648, 0.007885926403105259, -0.03551821410655975, 0.005499119404703379, 0.04361443221569061, 0.008027873001992702, -0.017580360174179077, 0.055811330676078796, 0.010830006562173367, 0.007549460511654615, 0.010351593606173992, 0.010766918770968914, -0.048577308654785156, -0.003220086684450507, -0.010730117559432983, -0.011134929023683071, -0.02727479301393032, -0.015151494182646275, -0.0174857284873724, 0.04121711105108261, -0.031796056777238846, 0.00920550525188446, 0.06413887441158295, -0.005307228770107031, 0.007071047555655241, 0.04073344171047211, -0.0007991072488948703, 0.02100810967385769, 0.005089051555842161, -0.003953477833420038, -0.03959786519408226, -0.0009548543021082878, -0.014173639006912708, 0.01609780453145504, -0.06035362556576729, 0.022017506882548332, 0.0295249093323946, 0.013658424839377403, -0.05248872935771942, -0.006476974580436945, -0.037473924458026886, -0.018810564652085304, -0.01295394916087389, 0.015246124938130379, 0.05698896571993828, 0.01591905765235424, -0.044876180589199066, 0.01806402951478958, -0.02031414769589901, 0.004337259568274021, 0.009799578227102757, 0.0017809051787480712, 0.007885926403105259, -0.03091283328831196, -0.042920470237731934, -0.030176812782883644, 0.0044765779748559, 0.0037011282984167337, -0.010214903391897678, 0.0033304898533970118, -0.012333589605987072, -0.0061457655392587185, -0.023720867931842804, 0.00023230626538861543, -0.013143211603164673, 0.013584823347628117, -0.011124414391815662, 0.005930216982960701, -0.07036349922418594, 0.005252027418464422, 0.015466931276023388, -0.008380111306905746, 0.02323719672858715, 0.022143682464957237, -0.02883094921708107, 0.013311444781720638, 0.010057184845209122, 0.01797991245985031, 0.02229088544845581, 0.008737606927752495, -0.007943756878376007, -0.010030899196863174, -0.022585295140743256, 0.03888287767767906, 0.017885282635688782, -0.018463583663105965, -0.03839920461177826, 0.07381227612495422, 0.06905969232320786, -0.002154172398149967, -0.02075575850903988, -0.006760867778211832, 0.03238487243652344, 0.02212265320122242, -0.0048288158141076565, 0.003992907702922821, -0.011387278325855732, 0.04483412206172943, -0.0008805951802060008, -0.00434777420014143, -0.0038719901349395514, 0.01800094172358513, -0.01763293147087097, -0.021575896069407463, -0.00804890226572752, -0.007496887817978859, 0.0033462615683674812, 0.03753701224923134, -0.0077544949017465115, -0.019988195970654488, 0.003690613666549325, 0.001119801658205688, 0.017937853932380676, -0.015940086916089058, -0.00809621810913086, 0.01308012381196022, -0.04525470361113548, 0.008332796394824982, -0.023005876690149307, -0.009231791831552982, 0.005867129657417536, 0.01239667646586895, -0.012459764257073402, -0.004132225643843412, -0.02110273949801922, 0.01687588356435299, -0.00787541177123785, 0.02290073223412037, -0.005588493309915066, -0.03316295146942139, 0.035413067787885666, 0.027779491618275642, 0.006655722390860319, -0.014699367806315422, 0.01544590201228857, -0.021891333162784576, 0.01320629846304655, -0.038693614304065704, -0.01627655327320099, 0.0010218847310170531, -0.031964290887117386, 0.009710204787552357, -0.032237667590379715, -0.011250589042901993, -0.02857859805226326, -0.006277197506278753, -0.01600317470729351, -0.013952832669019699, -0.0008970241760835052, -0.028073899447917938, 0.011849919334053993, 0.025508344173431396, -0.012627997435629368, 0.011355734430253506, -0.04226856678724289, 0.0036406696308404207, -0.011955064721405506, 0.017254408448934555, 0.025340111926198006, 0.0066925231367349625, 0.0191049724817276, -0.011008753441274166, -0.02546628564596176, -0.00643491605296731, -0.010467253625392914, 0.0018071915255859494, -0.01179734617471695, -0.004339888226240873, 0.008022616617381573, 0.025802752003073692, 0.0073286546394228935, 0.033520445227622986, -0.02908329851925373, 0.01636067032814026, -0.04546499624848366, 0.019998710602521896, -0.007234023418277502, 0.02005128376185894, 0.017180806025862694, -0.025445256382226944, 0.03867258504033089, -0.01815866120159626, 0.027695374563336372, -0.009883695282042027, 0.008921612054109573, 0.010220160707831383, -0.017748592421412468, 0.014383930712938309, 0.02262735180556774, -0.01653941720724106, -0.0052257408387959, -0.0052704275585711, -0.01227050181478262, -0.007386484649032354, -0.06355005502700806, -0.05551692470908165, 0.024583062157034874, 0.004013936500996351, 0.0017112460918724537, 0.008311767131090164, 0.013395560905337334, -0.046768803149461746, -0.011240074411034584, -0.004976019728928804, -0.008737606927752495, 0.020640099421143532, 0.0028389336075633764, 0.002510353457182646, 0.015214581042528152, 0.016045233234763145, 0.009336937218904495, -0.002520867856219411, -0.0019438809249550104, -0.03419337794184685, -0.04954465106129646, 0.011608084663748741, 0.013406075537204742, -0.019073428586125374, 0.01367945410311222, 0.04344619810581207, -0.0014615250984206796, -0.027337878942489624, -0.01470988243818283, -0.048913776874542236, 0.007581004407256842, 0.01954658329486847, -0.006161537487059832, 0.012638512067496777, 0.0394086055457592, 0.023132052272558212, 0.01179734617471695, -0.0428784117102623, -0.05467575788497925, -0.022417061030864716, -0.01063548680394888, -0.03810479864478111, 0.04521264508366585, 0.026980383321642876, 0.05488605052232742, 0.010041413828730583, -0.0009088530787266791, -0.0002850433811545372, -0.007559975143522024, -0.000684104161337018, 0.0019951395224779844, 0.02073472924530506, -0.0018860507989302278, -0.028347278013825417, 0.011713230051100254, 0.02176515758037567, -0.002385492902249098, -0.0009548543021082878, -0.006450688000768423, 0.0022198883816599846, 0.00223828898742795, 0.04697909578680992, 0.03457190468907356, -0.03444572910666466, 0.009557743556797504, 0.011713230051100254, 0.042731206864118576, 0.02271146886050701, -0.01046199630945921, 0.007197222672402859, -0.024814382195472717, -0.0327003113925457, 0.014036949723958969, -0.009321165271103382, 0.0018032485386356711, 0.0008115933160297573, -0.00708156218752265, -0.006482231896370649, 0.0026391567662358284, 0.008280223235487938, -0.010987725108861923, 0.03442469984292984, 0.0026378424372524023, -0.010977210476994514, 0.024456888437271118, 0.016423756256699562, -0.0157508235424757, -0.004337259568274021, -0.024667179211974144, 0.03751598298549652, 0.029903434216976166, -0.0061878240667283535, -0.006939615588635206, -0.011639627628028393, -0.004997048992663622, -0.019567612558603287, 0.013574308715760708, -0.005604265257716179, -0.01875799149274826, 0.02504570409655571, -0.009794320911169052, -0.037579070776700974, 0.002796875312924385, 0.01329041551798582, 0.03219560906291008, -0.01063548680394888, 0.005441289395093918, 0.026034072041511536, 0.02941976487636566, 0.014909658581018448, 0.030765628442168236, -0.03011372499167919, 0.04571734741330147, -0.022438090294599533, -0.021060680970549583, 0.017622416839003563, 0.027758462354540825, -0.006524289958178997, 0.017969397827982903, -0.05223637819290161, -0.012196900323033333, -0.024814382195472717, 0.012112783268094063, 0.03143856301903725, -0.06350799649953842, -0.06233036518096924, -0.00213971477933228, 9.873837552731857e-05, 0.002390750218182802, 0.021617954596877098, -0.020251059904694557, 0.011755288578569889, 0.00132943585049361, -0.004111196380108595, -0.024246595799922943, 0.0001951766898855567, 0.021207885816693306, -0.014604736119508743, 0.032763395458459854, -0.017012571915984154, 0.018011456355452538, -0.03450881689786911, 0.00434777420014143, 0.029566967859864235, -0.02908329851925373, -0.005309857428073883, -0.0024380655959248543, -0.01424724142998457, -0.011155957356095314, 0.055474866181612015, 0.014615250751376152, -0.05518045648932457, 0.0002470923645887524, 0.0034592931624501944, -0.014751940034329891, -0.021660013124346733, 0.015330241993069649, -0.01544590201228857, -0.0009660260402597487, 0.03349941596388817, 0.03488733991980553, -0.02685420960187912, 0.012470278888940811, -0.018305864185094833, -0.012102268636226654, -0.023720867931842804, 0.004686869215220213, -0.03190120309591293, 0.07170935720205307, -0.009547228924930096, 0.032574135810136795, -0.013458648696541786, -0.0016744451131671667, 0.0016113576712086797, -0.0028257903177291155, -0.024562032893300056, -0.0046342965215444565, -0.003893019165843725, -0.0014496962539851665, 0.004568580072373152, 0.004623781889677048, 0.03002960979938507, 0.048661425709724426, 0.043151792138814926, -0.014257756061851978, -0.008968926966190338, 0.0377262718975544, -0.010020384564995766, 0.04920818284153938, -0.012302045710384846, 0.01635015569627285, -0.00445292005315423, -0.005204711575061083, -0.021323546767234802, 0.024498945102095604, -0.03934551775455475, 0.02571863681077957, 0.02290073223412037, 0.026097159832715988, -0.009841636754572392, 0.022753527387976646, 0.00350660877302289, 0.009137160144746304, -0.002723273355513811, -0.008721834979951382, -0.015140979550778866, -0.011618598364293575, -0.006093192845582962, 0.03419337794184685, -0.001553527545183897, -0.03333118557929993, 0.02237500250339508, 0.04115402325987816, -0.0025142962113022804, -0.04441354051232338, -0.0637182891368866, 0.012564909644424915, 0.017853738740086555, 0.01662353426218033, -0.0334152989089489, -0.0012854060623794794, 0.018463583663105965, 0.0028389336075633764, -0.002079256111755967, 0.005117966327816248, -0.01909445784986019, 0.01509892102330923, -0.004686869215220213, -0.013542764820158482, 0.020871419459581375, 0.017254408448934555, 0.0026378424372524023, 0.013784600421786308, 0.01037787925451994, -0.019147031009197235, 0.023026905953884125, 0.005323000717908144, -0.007623062469065189, 0.020093342289328575, -0.005446546711027622, -0.0011920892866328359, 0.041953131556510925, -0.0283262487500906, 0.014878115616738796, -0.012049696408212185, 0.008217135444283485, 0.013700483366847038, -0.02927256003022194, 0.03345735743641853, -0.04975493997335434, -0.014310328289866447, 0.030618425458669662, 0.04098578914999962, -0.005514891352504492, 0.04369854927062988, -0.004713155794888735, -0.01472039707005024, -0.018610786646604538, -0.00566209526732564, 0.015088406391441822, -0.0180850587785244, -0.020692672580480576, -0.004492349456995726, 0.03055533766746521, 0.000410068198107183, -0.014110551215708256, 0.009668146260082722, 0.012649026699364185, 0.014394445344805717, -0.020640099421143532, -0.013658424839377403, -0.011134929023683071, -0.009074073284864426, -0.01825329102575779, 0.012470278888940811, 0.02323719672858715, 0.025087762624025345, -0.004839330445975065, -0.018474098294973373, 0.029587997123599052, 0.01660250499844551, -0.028809919953346252, -0.011355734430253506, -0.028536539524793625, -0.006182566750794649, -0.01653941720724106, -0.002459094859659672, -0.015771852806210518, 0.013311444781720638, -0.04104887694120407, -0.0016757594421505928, 0.01281725987792015, 0.0006243025418370962, -0.02315308153629303, -0.05492810904979706, -0.01909445784986019, 0.010751146823167801, 0.012407191097736359, 0.0035118660889565945, -0.030155783519148827, 0.010766918770968914, 0.04268915206193924, -0.00427942955866456, 0.04533882066607475, 0.0008812523446977139, -0.01472039707005024, -0.00865874718874693, -0.01653941720724106, -0.01239667646586895, -0.04054417833685875, -0.024646149948239326, -0.005278313532471657, -0.00960505846887827, -0.0023066336289048195, -0.04508647322654724, -0.01731749437749386, 0.005291456822305918, -0.05311960354447365, 0.00288362056016922, -0.010372621938586235, 0.0011086298618465662, 0.01693897135555744, 0.025781722739338875, -0.04571734741330147, -0.005441289395093918, -0.03337324038147926, 0.0009555114666000009, -0.007991072721779346, 0.011082355864346027, -0.007854383438825607, -0.017159776762127876, -0.013374531641602516, -0.013921289704740047, -0.026118189096450806, 0.0024354371707886457, 0.007349683903157711, -0.02977725863456726, 0.014531134627759457, 0.013311444781720638, -0.028263160958886147, 0.036275263875722885, -0.041616663336753845, 0.0040875389240682125, -0.033268097788095474, -0.02632848173379898, -0.02039826475083828, -0.016507873311638832, 0.006582120433449745, 0.01574031077325344, -0.00423474283888936, -0.0005812585004605353, 0.03242693096399307, 0.004615895915776491, -0.0037878735456615686, 0.01584545522928238, 0.03324706852436066, 0.03459293395280838, 0.04525470361113548, 0.018211234360933304, -0.02796875312924385, 0.027989782392978668, 0.00606690626591444, -0.0018032485386356711, 0.008027873001992702, -0.0003456664562691003, 0.0021423434372991323, -0.02918844297528267, -0.012470278888940811, -0.0019951395224779844, -0.003527637803927064, -0.0014194668037816882, 0.006387600675225258, -0.016928456723690033, 0.007023732177913189, 0.005693639162927866, 0.010220160707831383, -0.003945591859519482, 0.054255176335573196, 0.06127890944480896, -0.012974978424608707, -0.012249472551047802, 0.026980383321642876, 0.009021500125527382, 0.008369596675038338, -0.024036305025219917, 0.015498475171625614, 0.04466588795185089, 0.03543409705162048, -0.0416797511279583, -0.015140979550778866, 0.016497358679771423, -0.04193210229277611, 0.024814382195472717, 0.028978152200579643, -0.002760074334219098, 0.013921289704740047, 0.033436328172683716, 0.021239429712295532, 0.00576724112033844, -0.020282603800296783, -0.03612805902957916, -0.02632848173379898, 0.007586261723190546, 0.019041884690523148, -0.017958883196115494, 0.006792411673814058, -0.023258225992321968, 0.0030518537387251854, 0.023552633821964264, 0.028368307277560234, -0.010819491930305958, 0.006729324348270893, -0.05812453851103783, 0.010125529952347279, 0.06826058030128479, 0.01653941720724106, 0.02624436467885971, -0.0057146684266626835, 0.0015219838824123144, 0.009825864806771278, 0.02771640382707119, -0.00671355240046978, -0.03854640945792198, 0.010130787268280983, 0.015698252245783806, -0.0015259268693625927, 0.05337195098400116, -0.026454655453562737, -0.0186843890696764, 0.009189733304083347, -0.007050018757581711, 0.01131367590278387, 0.026265393942594528, 0.008416912518441677, -0.025445256382226944, 0.035770565271377563, 0.028936093673110008, 0.020545467734336853, -0.02477232553064823, -0.023720867931842804, 0.006403372623026371, -0.01153448224067688, -0.0092528210952878, 0.039892274886369705, 0.03230075538158417, 0.020871419459581375, 0.045927636325359344, 0.031291358172893524, 0.02460409142076969, 0.0022304030135273933, 0.01449959073215723, -0.007743980269879103, 0.027569200843572617, -0.0026877867057919502, -0.0311441533267498, -0.048156727105379105, -0.006739838980138302, -0.007743980269879103, 0.024309683591127396, 0.0023276626598089933, 0.00911613181233406, -0.006760867778211832, 0.03135444596409798, -0.006897557061165571, 0.025108790025115013, -0.021807216107845306, 0.017454184591770172, -0.004261028952896595, -0.006387600675225258, -0.00587238697335124, -0.009909980930387974, -0.01509892102330923, -0.022585295140743256, -0.0008970241760835052, 0.009626087732613087, -0.03812582790851593, -0.01764344610273838, 0.0032122009433805943, -0.009999355301260948, 0.015782367438077927, 0.006229882128536701, 0.00865874718874693, 0.016234494745731354, 0.04697909578680992, -0.0349714569747448, -0.008064674213528633, -0.0008786236867308617, -0.0012827774044126272, -0.014436502940952778, -0.0005418288637883961, -0.028010811656713486, 0.007349683903157711, 0.015025319531559944, -0.004413490183651447, -0.003254259005188942, 0.014268269762396812, -0.042562976479530334, -0.028094928711652756, 0.0354551263153553, -0.018642330542206764, -0.02151280827820301, 0.0035749534144997597, -0.000255306891631335, 0.014205182902514935, 0.019683273509144783, 0.03108106553554535, 0.043151792138814926, -0.014404959976673126, -0.028557568788528442, -0.00869554840028286, 0.02254323661327362, 0.0042689149267971516, -0.0244358591735363, 0.002796875312924385, 0.005173168145120144, -0.012323074974119663, -0.005252027418464422, 0.002046397887170315, -0.019504524767398834, 0.01619243621826172, -0.017180806025862694, 0.02015642821788788, -0.005888158455491066, -0.011387278325855732, 0.03917728364467621, 0.014941202476620674, 0.01367945410311222, 0.005220483522862196, 0.022690439596772194, 0.012543881312012672, -0.012375648133456707, 0.0319853201508522, -0.019599156454205513, 0.016549931839108467, -0.0059827896766364574, 0.001167774316854775, -0.009268593043088913, -0.028179045766592026, 0.007544203195720911, 0.018894679844379425, 0.007176193408668041, -0.014741425402462482, -0.0022553750313818455, -0.033015746623277664, -0.01484657172113657, -0.0060721635818481445, -0.020187972113490105, 0.0022908616811037064, -0.029630055651068687, 0.0004090824513696134, -0.0007728208438493311, -0.0014562677824869752, 0.0456332303583622, -0.02004076912999153, -0.021828245371580124, 0.013258871622383595, 0.044455599039793015, 0.027337878942489624, -0.013416590169072151, -0.03242693096399307, 0.002436751266941428, 0.003341004252433777, 0.013952832669019699, 0.0041795410215854645, 0.02538217045366764, 0.01962018571794033, -0.046516451984643936, 0.023783955723047256, 0.024288654327392578, -0.01545641664415598, -0.02668597549200058, 0.01582442596554756, 0.01188146322965622, 0.011913007125258446, -0.008784922771155834, 0.024246595799922943, -0.0061878240667283535, -0.0024774952325969934, -0.00010457067401148379, -0.005425517447292805, -0.05274107679724693, -0.005614779889583588, -0.0015390700427815318, 0.011303161270916462, -0.001466782414354384, -0.03501351550221443, -0.01797991245985031, 0.029735201969742775, 0.026034072041511536, 0.005998561624437571, -0.027169646695256233, 0.0198830496519804, -0.02066112868487835, -0.03518174961209297, -0.03055533766746521, 0.02262735180556774, 0.0042215995490550995, -0.0026509857270866632, 0.05034375563263893, -0.026139218360185623, 0.00946836918592453, -0.0025405827909708023, -0.03021887131035328, 0.0295249093323946, -0.0026943583507090807, -0.021197371184825897, -0.007906955666840076, 0.004508121404796839, 0.03108106553554535, -0.027148617431521416, -0.037221573293209076, 0.008763893507421017, 0.007365455385297537, 0.01608728989958763, -0.041364315897226334, -0.02271146886050701, 0.022774556651711464, -0.012764686718583107, 0.004132225643843412, -0.021975450217723846, 0.009058301337063313, 0.0006016304832883179, -0.009967811405658722, -0.009221277199685574, -0.012112783268094063, -0.026980383321642876, 0.010309535078704357, 0.0240152757614851, 0.012680570594966412, -0.015593105927109718, 0.026370538398623466, -0.013795114122331142, 0.03148062154650688, -0.018305864185094833, -0.06165743246674538, 0.01875799149274826, -0.0007511345320381224, -0.01608728989958763, 0.0197043027728796, -0.03097592107951641, -0.021554866805672646, -0.009258078411221504, 0.011155957356095314, 0.016907427459955215, 0.014131580479443073, 0.01669713482260704, -0.014951717108488083, 0.0034592931624501944, -0.024646149948239326, 0.025234965607523918, -0.055643100291490555, 0.0070920768193900585, -0.03436161205172539, 0.013605852611362934, -0.03608600050210953, -0.03135444596409798, -0.02719067595899105, -0.02616024762392044, -0.0002602355962153524, 0.022921759635210037, -0.0033462615683674812, 0.002102913800626993, 0.012186385691165924, -0.01574031077325344, 0.012712113559246063, -0.012722628191113472, 0.0009187104878947139, 0.004734184592962265, -0.02933564782142639, 0.013668939471244812, -0.025781722739338875, 0.039892274886369705, 0.013837172649800777, -0.01660250499844551, -0.0047683571465313435, -0.0397660993039608, 0.005425517447292805, 0.016823310405015945, 0.014394445344805717, 0.0004931989824399352, 0.003908791113644838, 0.024583062157034874, 0.012649026699364185, -0.03434058278799057, 0.0034356354735791683, 0.02178618684411049, -0.015498475171625614, 0.01415260974317789, 0.009026757441461086, 0.020114369690418243, 0.01971481740474701, 0.018221748992800713, 0.011471394449472427, 0.012091754004359245, 0.0016613019397482276, 0.020787302404642105, 0.008217135444283485, -0.013784600421786308, -0.011513452976942062, 0.007654606364667416, 0.004862988367676735, -0.013321959413588047, 0.010893093422055244, -0.002534011146053672, -0.018484612926840782, -0.04310973361134529, -0.0003358090471010655, -0.028788890689611435, 0.046095870435237885, 0.040838588029146194, 0.022480148822069168, 0.0021068567875772715, 0.010966695845127106, 0.007134134881198406, 0.020124884322285652, -0.03097592107951641, 0.05059610679745674, -0.0012072039535269141, -0.009163446724414825, 0.024982616305351257, -0.02290073223412037, -0.02462512068450451, 0.025697607547044754, 0.016591990366578102, 0.014383930712938309, 0.00830650981515646, -0.0034776937682181597, -0.014068493619561195, -0.01166065689176321, 0.003417234867811203, -0.01995665207505226, -0.02744302526116371, -0.0185056421905756, -0.006913329008966684, -0.0046526966616511345, -0.006087935529649258, -0.030849745497107506, 0.011618598364293575, -0.03286854177713394, 0.0022934903390705585, -0.01582442596554756, -0.023552633821964264, 0.0015969001688063145, 0.006844984367489815, -0.01851615682244301, -0.01200763788074255]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:25:07.191581", "url_path": "/api/agent/", "chunk_size": 3769}
updated_dt: 2025-03-15T11:25:07.193201
---
```
    Args:
      user_prompt: User input to start/continue the conversation.
      result_type: Custom result type to use for this run, `result_type` may only be used if the agent has no
        result validators since result validators would expect an argument that matches the agent's result type.
      message_history: History of the conversation so far.
      model: Optional model to use for this run, required if `model` was not set when creating the agent.
      deps: Optional dependencies to use for this run.
      model_settings: Optional settings to use for this model's request.
      usage_limits: Optional limits on model request count or token usage.
      usage: Optional usage to start with, useful for resuming a conversation or agents used in tools.
      infer_name: Whether to try to infer the agent name from the call frame if it's not set.
    Returns:
      The result of the run.
    """
    if infer_name and self.name is None:
      self._infer_name(inspect.currentframe())
    async with self.iter(
      user_prompt=user_prompt,
      result_type=result_type,
      message_history=message_history,
      model=model,
      deps=deps,
      model_settings=model_settings,
      usage_limits=usage_limits,
      usage=usage,
    ) as agent_run:
      async for _ in agent_run:
        pass
    assert (final_result := agent_run.result) is not None, 'The graph run did not finish properly'
    return final_result
  @asynccontextmanager
  async defiter(
    self,
    user_prompt: str | Sequence[_messages.UserContent],
    *,
    result_type: type[RunResultDataT] | None = None,
    message_history: list[_messages.ModelMessage] | None = None,
    model: models.Model | models.KnownModelName | None = None,
    deps: AgentDepsT = None,
    model_settings: ModelSettings | None = None,
    usage_limits: _usage.UsageLimits | None = None,
    usage: _usage.Usage | None = None,
    infer_name: bool = True,
  ) -> AsyncIterator[AgentRun[AgentDepsT, Any]]:
"""A contextmanager which can be used to iterate over the agent graph's nodes as they are executed.
    This method builds an internal agent graph (using system prompts, tools and result schemas) and then returns an
    `AgentRun` object. The `AgentRun` can be used to async-iterate over the nodes of the graph as they are
    executed. This is the API to use if you want to consume the outputs coming from each LLM model response, or the
    stream of events coming from the execution of tools.
    The `AgentRun` also provides methods to access the full message history, new messages, and usage statistics,
    and the final result of the run once it has completed.
    For more details, see the documentation of `AgentRun`.
    Example:
```python
    from pydantic_ai import Agent
    agent = Agent('openai:gpt-4o')
    async def main():
      nodes = []
      async with agent.iter('What is the capital of France?') as agent_run:
        async for node in agent_run:
          nodes.append(node)
      print(nodes)
      '''
      [
        ModelRequestNode(
          request=ModelRequest(
            parts=[
              UserPromptPart(
                content='What is the capital of France?',
                timestamp=datetime.datetime(...),
                part_kind='user-prompt',
              )
            ],
            kind='request',
          )
        ),
        CallToolsNode(
          model_response=ModelResponse(
            parts=[TextPart(content='Paris', part_kind='text')],
            model_name='gpt-4o',
            timestamp=datetime.datetime(...),
            kind='response',
          )
        ),
        End(data=FinalResult(data='Paris', tool_name=None, tool_call_id=None)),
      ]
      '''
      print(agent_run.result.data)
      #> Paris