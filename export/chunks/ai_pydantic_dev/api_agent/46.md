---
url: https://ai.pydantic.dev/api/agent/
session_id: pydantic_ai_docs
chunk_number: 46
title: Agent Node Parameters and Returns
summary: This document chunk outlines the parameters required for an agent node in a graph, specifically detailing the mandatory 'node' parameter of type 'AgentNode'. It also describes the return type, which is another 'AgentNode' or an endpoint representing the final result.
embedding: [0.006708239205181599, 0.03929198160767555, 0.015028394758701324, -0.07722655683755875, -0.0037904276978224516, 2.1635509256157093e-05, 0.0028905419167131186, 0.012665058486163616, 0.012907451950013638, 0.002067919122055173, 0.004790300969034433, -0.020082298666238785, -0.04847869277000427, -0.05468396469950676, 0.0015801023691892624, -0.029111454263329506, -0.02386363595724106, -0.009822995401918888, 0.026857195422053337, 0.039631329476833344, 0.04450343921780586, 0.009095815010368824, 0.02280922420322895, 0.01657971367239952, -0.037037719041109085, 0.005941669922322035, -0.001191515359096229, 0.06185881048440933, -0.0033359399531036615, -0.012568101286888123, 0.045327577739953995, -0.016191883012652397, -0.03461378440260887, -0.013065007515251637, 0.001611916464753449, -0.02280922420322895, 0.009980550967156887, -0.00017175849643535912, -0.012980169616639614, 0.02428782545030117, 0.017561405897140503, -0.03282007575035095, -0.008526190184056759, 0.017282653599977493, -0.027511658146977425, -0.016870584338903427, -0.0020406499970704317, 0.02324553206562996, 0.03582575172185898, -0.006508264224976301, -0.028214598074555397, 0.01920968107879162, -0.020688282325863838, 0.04549725353717804, -0.04251581430435181, -0.0024148449301719666, 0.009998730383813381, 0.011531868949532509, 0.019282400608062744, -0.05313264578580856, 0.030323421582579613, 0.007974744774401188, 0.030929405242204666, 0.06573710590600967, -0.023136455565690994, 0.040019161999225616, -0.00984723400324583, 0.039655569940805435, -0.030832448974251747, -0.030105268582701683, 0.02610577642917633, 0.056671589612960815, -0.07475414127111435, -0.030808208510279655, -0.00562655832618475, -0.01149551011621952, 0.025378596037626266, 0.03776489943265915, -0.0077323513105511665, -0.016131285578012466, 0.027487417683005333, -0.007380880881100893, 0.01797347515821457, 0.026372408494353294, 0.020967034623026848, -0.04801814630627632, -0.04898772016167641, -0.05138741433620453, -0.024081790819764137, -0.05196915939450264, -0.021003393456339836, -0.014422411099076271, 0.003957073204219341, 0.05216307193040848, 0.030832448974251747, 0.05264785885810852, -0.01457996666431427, 0.019282400608062744, 0.015282907523214817, 0.04365506395697594, 0.00047456094762310386, -0.03764370456337929, -0.04278244450688362, 0.017367491498589516, 0.023451566696166992, 0.020167136564850807, -0.0015316236531361938, 0.02959624119102955, -0.006096195429563522, -0.04084329679608345, -0.08178355544805527, -0.021900249645113945, -0.0007862637867219746, 0.030226465314626694, -0.05686550587415695, -0.034444112330675125, -0.007065769284963608, 0.0036449916660785675, 0.05628376081585884, -0.04120688885450363, -0.024699892848730087, 0.00578714394941926, -0.0020770090632140636, 0.0037328593898564577, 0.010210824199020863, 0.0009135203436017036, -0.015767695382237434, -4.102225284441374e-05, 0.003923743963241577, 0.0008703439962118864, 0.002269408665597439, -0.012555981054902077, -0.011647005565464497, -0.036068145185709, -0.022118402644991875, -0.0011589437490329146, -0.05308416858315468, 0.00740512041375041, -0.06093771755695343, 0.03754674643278122, -0.0012021200964227319, -0.03858903795480728, -0.0178765170276165, 0.01596160978078842, 0.01707661896944046, 0.07979592680931091, -0.05003001168370247, 0.04729096591472626, -0.04149775952100754, 0.021160949021577835, 0.0678216889500618, 0.036601413041353226, -0.025354355573654175, -0.03248072415590286, -0.033183664083480835, 0.011380372568964958, -0.00111197994556278, 0.0388314314186573, -0.025354355573654175, -0.03652869537472725, -0.024990765377879143, 0.035801514983177185, -0.008362574502825737, -0.02342732809484005, -0.024796850979328156, -0.0063870674930512905, -0.03209289535880089, -0.02007017843425274, -0.039534375071525574, 0.01276201568543911, 0.013925503939390182, -0.020167136564850807, -0.0046266852878034115, 0.0047842408530414104, 0.04280668497085571, -0.0157192163169384, -0.07005170732736588, -0.01367099117487669, -0.014155778102576733, -0.002172451466321945, -0.013016528449952602, -0.020724641159176826, -0.04944826662540436, 0.011937878094613552, -0.04401865229010582, -0.014337573200464249, -0.013210443779826164, 0.006732478272169828, -0.03221409022808075, -0.006344649009406567, 0.02588762156665325, 0.038298167288303375, 0.03337758034467697, 0.006799136754125357, -0.019767187535762787, 0.009235191158950329, 0.05594440922141075, -0.014034581370651722, 0.013246802613139153, 0.01901576668024063, 0.01691906340420246, 0.017222056165337563, 0.0542476549744606, 0.014834479428827763, 0.007799009792506695, -0.037837620824575424, -0.0508541464805603, -0.018070433288812637, 0.01548894215375185, -0.014749642461538315, 0.012592339888215065, -0.019379356876015663, 0.03180202096700668, -0.012737776152789593, -0.027051109820604324, -0.002158816670998931, -0.0591924823820591, 0.032601919025182724, 0.024118149653077126, 0.03434715420007706, 0.019961101934313774, 0.042709726840257645, 0.012125733308494091, -0.0028981168288737535, 0.025281637907028198, 0.0033177605364471674, 0.009774516336619854, -0.03505009412765503, 0.023839397355914116, 0.04542453587055206, 0.008944318629801273, -0.01719781570136547, -0.014276974834501743, -0.048405975103378296, 0.020676162093877792, -0.04983609542250633, 0.026614801958203316, 0.011913638561964035, 0.013525554910302162, -0.05846530199050903, -0.018846090883016586, -0.015440463088452816, 0.022615309804677963, -0.00014411048323381692, 0.0023784858640283346, 0.012895331718027592, 0.024360543116927147, -0.032941270619630814, 0.03187473863363266, 0.03674684837460518, 0.03631053864955902, -0.0008309551049023867, -0.00762933399528265, -0.028893301263451576, -0.003920714370906353, -0.006635521072894335, -0.00947758462280035, 0.010647132992744446, 0.013658871874213219, -0.003111726138740778, 0.04074634239077568, 0.01917332224547863, -0.05482940003275871, -0.010041149333119392, -0.02872362546622753, 0.00015121186152100563, 0.05943487584590912, 0.0032177732791751623, 0.0009067030623555183, -0.05628376081585884, -0.0020421650260686874, -0.014083060435950756, 0.01018658559769392, -0.02003381960093975, -0.045666929334402084, 0.04779998958110809, 0.01537986472249031, 0.045448772609233856, -0.020276213064789772, -0.04712129011750221, 0.0004900892963632941, 0.039534375071525574, 0.03866175562143326, 0.06883974373340607, 0.010059328749775887, 0.0010998602956533432, -0.02099127322435379, 0.006926393136382103, 0.030032549053430557, 0.011404612101614475, 0.012749896384775639, 0.007508137263357639, 0.03621358424425125, -0.008526190184056759, 0.0164948757737875, -0.041473522782325745, 0.044988226145505905, 0.0013536160113289952, 0.004532757680863142, -0.025620989501476288, 0.0035722735337913036, -0.02792372740805149, 0.0032389825209975243, -0.011247056536376476, 0.014834479428827763, -0.0014361812500283122, 0.005026634316891432, -0.001784621854312718, 0.02860242873430252, 0.008974618278443813, -0.02622697316110134, 0.05953183397650719, -0.03815273195505142, -0.01899152807891369, 0.005084202624857426, -0.0007597520016133785, 0.0780022144317627, -0.04515790194272995, 0.020361050963401794, -0.01169548463076353, -0.005417493637651205, 0.002149726962670684, 0.032504964619874954, 0.04152199998497963, -0.02552403137087822, 2.7079893698100932e-05, 0.016664549708366394, 0.022554712370038033, -0.00011968176841037348, 0.004923617001622915, -0.015743454918265343, -0.03279583528637886, 0.008677685633301735, 0.030226465314626694, -0.015149591490626335, -0.011846980080008507, -0.03866175562143326, 0.02065192349255085, 0.01967022940516472, 0.07780829817056656, -0.03788609802722931, -0.019827784970402718, -0.026154253631830215, -0.01873701438307762, -0.008550429716706276, 0.05206611379981041, 0.005953789222985506, 0.028117641806602478, -0.023936353623867035, -0.0023451566230505705, 0.02986287511885166, 0.00017308407404925674, 0.03701348230242729, 0.02077312022447586, -0.018640056252479553, -0.00511753186583519, -0.013246802613139153, 0.0157192163169384, -0.019827784970402718, 0.006653700489550829, -0.08328638970851898, -0.022300198674201965, -0.0020633742678910494, -0.0031056662555783987, -0.039316218346357346, -0.02734198234975338, -0.024639295414090157, 0.010507756844162941, 0.017525047063827515, 0.05153284966945648, 0.08401357382535934, 0.00955636240541935, -0.01985202357172966, -0.008586788550019264, -0.026372408494353294, 0.016094926744699478, -0.0345168299973011, -0.007065769284963608, 0.014083060435950756, 0.05356895551085472, 0.009707857854664326, 0.020482247695326805, 0.018724894151091576, -0.012319647707045078, 0.018724894151091576, -0.0029284160118550062, -0.013683110475540161, 0.024990765377879143, 0.00984723400324583, 0.017779560759663582, 0.0339108444750309, -0.06084075942635536, -0.014434530399739742, -0.024481739848852158, -0.03824968636035919, 0.040552426129579544, 0.03599542751908302, 0.03134147450327873, 0.031147560104727745, 0.023221293464303017, 0.027269264683127403, 0.027535896748304367, -0.0013680080883204937, 0.02802068367600441, 0.00045335153117775917, -0.022881941869854927, 0.05715637654066086, 0.004405501298606396, -0.011834860779345036, 0.04399441182613373, 0.024990765377879143, 0.002657238394021988, -0.005847742315381765, -0.04586084187030792, -0.008295916020870209, -0.04697585105895996, 0.021718453615903854, -0.015670737251639366, -0.01188333984464407, 0.03841936215758324, -0.031365714967250824, -0.07625698298215866, 0.00952606275677681, 0.026493605226278305, -0.030662773177027702, 0.029887113720178604, 0.032165613025426865, -0.027390461415052414, -0.0071869660168886185, -0.029935592785477638, 0.04947250708937645, 0.07048802077770233, 0.0012218145420774817, -0.018409783020615578, -0.005017544608563185, -0.011756082996726036, 0.03107484243810177, -0.026614801958203316, -0.01327104214578867, 0.018579458817839622, 0.02768133394420147, -0.06651276350021362, 0.018082551658153534, 0.03674684837460518, -0.019124843180179596, -0.01537986472249031, -0.029014497995376587, -0.04826053977012634, 0.012234809808433056, -0.03589847311377525, -0.032626159489154816, 0.005153891164809465, -0.04183711111545563, -0.011719724163413048, -0.07140911370515823, -0.023015258833765984, 0.11353709548711777, 0.0010725910542532802, 0.05046631768345833, -0.011713664047420025, 0.0069385129027068615, -0.018264347687363625, -0.019258160144090652, 0.018046192824840546, -0.03151115030050278, 0.026857195422053337, 0.011240996420383453, 0.017924996092915535, 0.01030778232961893, 0.02949928492307663, 0.04389745742082596, -0.02826307713985443, 0.012325707823038101, -0.016506994143128395, -0.03202017769217491, 0.020639803260564804, -0.010883466340601444, 0.01963387057185173, -0.011537929065525532, -0.044406481087207794, -0.029814396053552628, -0.012677177786827087, 0.01867641694843769, 0.010841047391295433, 0.00024277220654767007, 0.015113232657313347, 0.037158917635679245, -0.0017134187510237098, -0.028796343132853508, 0.012858972884714603, 0.025330116972327232, 0.01670091040432453, 0.03958285227417946, -0.011956057511270046, 0.016288841143250465, 0.025717945769429207, -0.014882958494126797, -0.02937808819115162, -0.0388314314186573, -0.020603444427251816, -0.03439563140273094, -0.005153891164809465, -0.02080947905778885, 0.03211713209748268, -0.018567338585853577, -0.07611154764890671, 0.054296135902404785, 0.041352324187755585, -0.005084202624857426, 0.06748233735561371, -0.0758206769824028, 0.014870839193463326, 0.0077384114265441895, -0.0029329608660191298, -0.03662565350532532, 0.009265489876270294, -0.004590325988829136, 0.01997322030365467, -0.006780956871807575, 0.0063870674930512905, 0.0038298165891319513, -0.010428979061543941, -0.021063990890979767, -0.005232668947428465, 0.018240107223391533, -0.014204257167875767, 0.05162980780005455, -0.029475044459104538, -0.00558716943487525, 0.0016073716105893254, 0.027269264683127403, 0.003341999836266041, -0.005323566496372223, 0.03255344182252884, -0.02406967058777809, 0.026372408494353294, 0.03611662611365318, 0.011913638561964035, -0.05958031117916107, -0.01825222745537758, -0.004920587409287691, 0.0339108444750309, -0.027996445074677467, -0.004653954412788153, -0.017743201926350594, -0.01213179249316454, 0.003523794934153557, -0.04537605494260788, 0.017767440527677536, -0.007180906366556883, 0.005323566496372223, 0.014773881062865257, 0.027487417683005333, -0.036940764635801315, 0.019645990803837776, -0.0037358892150223255, -0.022021446377038956, -0.02087007649242878, 0.032189853489398956, 0.0021709364373236895, 0.0035601540002971888, -0.003990402445197105, 0.018821852281689644, -0.007811129093170166, -0.01193181797862053, 0.03369269147515297, 0.047606077045202255, -0.024190867319703102, -0.02102763205766678, 0.0007074858876876533, 0.016143403947353363, 0.018421903252601624, 0.007453599013388157, -0.02540283463895321, 0.003905564546585083, -0.02059132419526577, 0.03505009412765503, 0.011398552916944027, -0.04460039734840393, 0.01751292683184147, -0.008998856879770756, -0.038758713752031326, 0.02974167838692665, 0.019718708470463753, -0.00795050524175167, -0.008017163723707199, -0.030250703915953636, -0.001657365239225328, -0.01166518498212099, -0.0186521764844656, -0.017343252897262573, -0.022082043811678886, 0.006032567471265793, -0.005926520098000765, -0.032626159489154816, 0.0023360669147223234, 0.0016967542469501495, -0.021039752289652824, -0.03645597770810127, 0.009750276803970337, 0.021924488246440887, 0.009768456220626831, -0.012749896384775639, 0.034104760736227036, 0.023536404594779015, -0.004005551803857088, 0.007665693294256926, 0.00038896576734259725, -0.03325638175010681, 0.00939880684018135, -0.015040514059364796, -0.013513435609638691, -0.024299943819642067, -0.03769218176603317, -0.013925503939390182, 0.03221409022808075, -0.0373043529689312, 0.060646843165159225, 0.0477757528424263, -0.03029918298125267, 0.03967981040477753, 0.019124843180179596, -0.0004105539119336754, 0.004057060461491346, -0.00529326731339097, -0.0049751256592571735, -0.030832448974251747, -0.004038881044834852, -0.014652684330940247, 0.013307400979101658, -0.040213074535131454, 0.0010059329215437174, 0.03308670595288277, -0.004481249023228884, -0.0551687516272068, -0.011828800663352013, -0.010901645757257938, -0.027754051610827446, -0.01356191374361515, -0.004614565521478653, 0.03177778422832489, 0.024918047711253166, -0.035462163388729095, -0.0054205236956477165, -0.009544242173433304, -0.002676932839676738, -0.01407094020396471, -0.006593102123588324, 0.010095687583088875, -0.023294011130928993, -0.051338933408260345, -0.012065134942531586, 0.014143658801913261, -0.0031268757302314043, -0.0020497397053986788, -0.03725587576627731, -0.016567593440413475, 0.00735058169811964, -0.001901273732073605, 0.0057507846504449844, -0.04450343921780586, 0.024299943819642067, -0.011925757862627506, -0.009938132017850876, -0.051435891538858414, -0.006447665859013796, 0.032747358083724976, 0.004881198517978191, 0.026154253631830215, 0.002448173938319087, -0.03994644060730934, 0.03366845101118088, 0.02456657774746418, 0.016191883012652397, -0.00022307773178908974, 0.005765934474766254, -0.0021997205913066864, -0.024142388254404068, -0.026057297363877296, 0.04906043782830238, -0.012568101286888123, 0.010071448050439358, -0.044770073145627975, 0.05681702867150307, 0.08270464837551117, -0.011519749648869038, -0.007998984307050705, -0.00037741419509984553, 0.02654208429157734, 0.03177778422832489, -0.01114403922110796, 0.00025318755069747567, -0.015767695382237434, 0.023899994790554047, 0.02576642483472824, 0.002939020749181509, 0.009344267658889294, 0.020542845129966736, -0.006502204574644566, -0.06302230060100555, -0.014204257167875767, -0.0072778635658323765, -0.01825222745537758, 0.02265166863799095, -0.025281637907028198, -0.009883593767881393, -0.004866048693656921, -0.007823249325156212, 0.0060386271215975285, -0.027026871219277382, -0.002001261105760932, 0.011307654902338982, -0.05061175301671028, 0.008677685633301735, -0.04527909681200981, -0.02428782545030117, -0.017100859433412552, 0.017985595390200615, -0.010247183963656425, -0.03594695031642914, -0.0008938258979469538, 0.0015740424860268831, -0.007623274344950914, 0.01941571570932865, -0.0016437306767329574, -0.0037449789233505726, -0.01165306568145752, 0.01979142613708973, -0.002237594686448574, -0.0024860480334609747, -0.006538563407957554, -0.02690567448735237, -0.01508899312466383, -0.02620273269712925, -0.02053072676062584, -0.009768456220626831, -0.06762777268886566, 0.01695542223751545, -0.0017149337800219655, -0.025596749037504196, -0.00029617451946251094, -0.01174396276473999, -0.01584041304886341, -0.013634632341563702, -0.008732224814593792, -0.007508137263357639, 0.014410290867090225, 0.05119349807500839, -0.029305368661880493, 0.005447792820632458, -0.022106284275650978, 0.007399060297757387, -0.0027360161766409874, -0.010968304239213467, 0.042491573840379715, 0.0045206379145383835, 0.01725841499865055, -0.0065688625909388065, -0.022542592138051987, 0.005926520098000765, -0.05289025232195854, -0.011119799688458443, 0.0033086708281189203, 0.03560759872198105, -0.0037813379894942045, 0.005287207197397947, -0.008192898705601692, 0.0032814014703035355, -0.03393508493900299, 0.02642088755965233, -0.021306384354829788, 0.006811256054788828, 0.0019103634404018521, 0.031244516372680664, 0.022385036572813988, -0.026808716356754303, 0.010738030076026917, -0.028505470603704453, 0.02154877781867981, 0.0036995301488786936, 0.014204257167875767, -0.016567593440413475, -0.0027799499221146107, 0.008914019912481308, 0.03177778422832489, -0.02123366668820381, 0.012543861754238605, 0.0023906053975224495, -0.019027886912226677, -0.00436914199963212, -0.07824461162090302, -0.0403827503323555, 0.015270788222551346, -0.0012415089877322316, 0.0051569207571446896, -0.004681223537772894, 0.008726164698600769, -0.07863243669271469, -0.002613304415717721, 0.011162218637764454, -0.034880418330430984, 0.024336302652955055, -0.02506348304450512, 0.015173831023275852, 0.009077634662389755, 0.006993051152676344, -0.004738792311400175, 0.002686022548004985, 0.0023724259808659554, -0.014046700671315193, -0.04336418956518173, 0.016749387606978416, -0.025572510436177254, -0.0033329101279377937, -0.012568101286888123, 0.032044414430856705, -0.02093067578971386, -0.029911352321505547, 0.003832846647128463, -0.0699547529220581, 0.0075505562126636505, -0.0015588928945362568, 0.022894062101840973, -0.00824743788689375, 0.009883593767881393, 0.04733944311738014, 0.008998856879770756, -0.03163234516978264, -0.036698371171951294, 0.0034207776188850403, 0.004866048693656921, -0.016264600679278374, 0.023912115022540092, -0.0012074224650859833, 0.02780253067612648, 0.0009968430968001485, 0.0009491218952462077, 0.00939880684018135, -0.027487417683005333, 0.012895331718027592, 0.019027886912226677, 0.024021191522479057, -0.0045297276228666306, -0.006099225487560034, -0.018627937883138657, 0.006223452277481556, 0.009562421590089798, 0.028335794806480408, -0.0028814522083848715, -0.004796360619366169, -0.029911352321505547, 0.023742439225316048, 0.02244563400745392, -0.023803038522601128, 0.011216757819056511, 0.005166010465472937, 0.02440902218222618, 0.031123319640755653, 0.04620019346475601, -0.02586338296532631, -0.02474837191402912, -0.018603697419166565, 0.0038661756552755833, 0.0062295119278132915, 0.0042570349760353565, 6.703694089083001e-05, -0.026639040559530258, -0.004214616492390633, 0.011925757862627506, -0.013574033975601196, 0.0006003025337122381, 0.01717357710003853, 0.009586661122739315, 0.007077889051288366, -0.022894062101840973, 0.020458007231354713, -0.045909322798252106, 0.013016528449952602, -0.004744851961731911, 0.008144420571625233, 0.02194872871041298, -0.022033564746379852, -0.007017290685325861, 0.01356191374361515, -0.016228241845965385, -0.009041275829076767, 0.0023966652806848288, 0.011313715018332005, -0.005817443132400513, -0.00828985683619976, 0.015246548689901829, -0.056574635207653046, -0.04144928231835365, 0.011659125797450542, 0.0332806222140789, 0.016761507838964462, 0.006290110293775797, 0.021779052913188934, 0.030662773177027702, -0.02949928492307663, 0.037958815693855286, -0.05075719207525253, 0.05017544701695442, -0.030905166640877724, -0.023451566696166992, -0.02406967058777809, 0.03400780260562897, 0.011319774203002453, 0.02746317908167839, -0.028650907799601555, 0.0058416821993887424, -0.006708239205181599, 0.032674640417099, 0.032941270619630814, -0.033426057547330856, -0.04583660513162613, -0.008392873220145702, -0.023378849029541016, 0.0030359781812876463, 0.017282653599977493, 0.02494228631258011, -0.015101112425327301, 0.036019667983055115, -0.014786001294851303, -0.0348319411277771, -0.025548269972205162, 0.011525808833539486, 0.016882704570889473, 0.02608153596520424, -0.024760492146015167, -0.012301468290388584, -0.02031257189810276, -0.010725910775363445, 0.030347662046551704, -0.03832240775227547, -0.016822107136249542, -0.009974490851163864, 0.0019043036736547947, -0.013295281678438187, 0.01723417453467846, -0.028432752937078476, -0.04799390584230423, -0.005341745913028717, -0.012186331674456596, -0.04081906005740166, -0.00037002877797931433, 0.026348169893026352, -0.006217392161488533, 0.01781591959297657, 0.025378596037626266, 0.04404289275407791, -0.001901273732073605, 0.0434611476957798, -0.0014399687061086297, -0.01729477383196354, -0.029305368661880493, 0.0030541575979441404, -0.012628699652850628, 0.051241979002952576, -0.0033238204196095467, 0.01086528692394495, -0.006193153094500303, -0.0034177477937191725, -0.019003646448254585, 0.00012290106678847224, -0.023463686928153038, 0.0007188480813056231, -0.011901519261300564, 0.01569497585296631, 0.00602650735527277, 0.013258921913802624, 0.05909552425146103, 0.025790663436055183, 0.0400676392018795, 0.013622512109577656, -0.017343252897262573, 0.04207950457930565, 0.0016982691595330834, -0.005584139376878738, 0.0056932163424789906, 0.003169294446706772, 0.029765916988253593, -0.0004832719569094479, 0.0345168299973011, 0.021560898050665855, -0.007338461931794882, 0.014410290867090225, 0.016543352976441383, 0.0348319411277771, 0.008508010767400265, 0.04847869277000427, -0.010453217662870884, 0.00865950621664524, 0.020300451666116714, -0.004396411590278149, -0.0022997078485786915, -0.031826261430978775, 0.004614565521478653, 0.0278994869440794, -0.010653192177414894, -0.01751292683184147, 0.04428528621792793, 0.04460039734840393, -0.006008327938616276, 0.003305640770122409, 0.005305387079715729, 0.010628953576087952, 0.005423553753644228, 0.015295027755200863, -0.016591832041740417, -0.014107299037277699, 0.0051629808731377125, 0.021318504586815834, -0.019585391506552696, 0.016761507838964462, 0.0006287080468609929, 0.014749642461538315, -0.03538944572210312, -0.013840666972100735, -0.0054356735199689865, 0.01985202357172966, 0.017840158194303513, -0.00652038399130106, 0.019682349637150764, -0.005311446730047464, 0.009053396061062813, -0.013065007515251637, -0.008695865049958229, -0.0032177732791751623, -0.025233158841729164, -0.03643173724412918, 0.03134147450327873, -0.03337758034467697, 0.006835495587438345, -0.0037419490981847048, 0.010701671242713928, 0.004805450327694416, -0.0039298040792346, 0.005632617976516485, -0.0106350127607584, -0.024081790819764137, 0.013598273508250713, 0.02688143402338028, 0.030347662046551704, 0.06447666138410568, -0.012640818953514099, -0.005759874824434519, -0.03837088495492935, -0.011101620271801949, 0.024918047711253166, -0.020954914391040802, 0.0018633997533470392, 0.008005044423043728, 0.02213052287697792, 0.018421903252601624, 0.014519368298351765, 0.002081553917378187, 0.009768456220626831, 0.027196547016501427, -0.01979142613708973, 0.011234937235713005, 0.000818835396785289, -0.004566086921840906, -0.03122027777135372, 0.030226465314626694, 0.03834664449095726, 0.03662565350532532, 0.0032814014703035355, 1.5291618183255196e-05, 0.0072112055495381355, 0.028990257531404495, -0.03325638175010681, -0.005032694432884455, 0.006326469127088785, -0.017052380368113518, -0.027947966009378433, -0.012568101286888123, -0.004790300969034433, 0.0047842408530414104, 0.0016725148307159543, 0.0035056155174970627, -0.03029918298125267, -0.010604714043438435, -0.0029829544946551323, -0.0323595255613327, -0.005635648034512997, 0.02071252092719078, 0.026130015030503273, -0.009986610151827335, -0.016761507838964462, 0.02007017843425274, 0.03255344182252884, 0.01809467189013958, 0.02093067578971386, 0.0023724259808659554, -0.022481992840766907, -0.04581236466765404, 0.0214275810867548, -0.0044388300739228725, -0.015731336548924446, 0.0038995048962533474, -0.0018633997533470392, 0.00813836045563221, 0.016361558809876442, -0.053956784307956696, -0.011859100311994553, 0.007502077613025904, -0.03849207982420921, -0.0043630823493003845, -0.018446141853928566, 0.015452583320438862, 0.03548640385270119, 0.04127960652112961, -0.02392423525452614, -0.008120181038975716, -0.03495313599705696, 0.027705572545528412, 0.009410926140844822, -0.003248072462156415, -0.02253047190606594, -0.005135711282491684, -0.01683422550559044, -0.014761761762201786, -0.04028579220175743, -0.014386052265763283, 0.02302737906575203, -0.014555727131664753, -0.003178384155035019, 0.019246039912104607, -0.01679786667227745, 0.020506486296653748, -0.023294011130928993, -0.0028981168288737535, -0.012337827123701572, -0.010398679412901402, -0.04220070317387581, -0.028214598074555397, 0.002684507519006729, -0.00358742312528193, -0.018240107223391533, 0.004350962582975626, 0.02959624119102955, 0.005050873849540949, 0.023003138601779938, 0.03383812680840492, 0.028408514335751534, 0.04603051766753197, 0.08648598939180374, 0.011350073851644993, -0.02845699153840542, 0.026954153552651405, 0.00037362679722718894, -0.0012225720565766096, 0.008750404231250286, 0.007544496562331915, -0.003857085946947336, -0.025039244443178177, -0.04365506395697594, 0.04266124963760376, 0.022942541167140007, 0.010859226807951927, 0.040891777724027634, 0.009641200304031372, 0.0211124699562788, -0.023730318993330002, -0.006986991502344608, -0.010816807858645916, 0.027511658146977425, 0.07402696460485458, -0.02622697316110134, -0.00960484053939581, 0.022833464667201042, -0.008653446100652218, 0.008423172868788242, -0.007835368625819683, 0.032844312489032745, 0.03895263001322746, 0.005720485467463732, -0.02768133394420147, 0.00848983135074377, 0.02244563400745392, -0.03141419216990471, 2.5257209927076474e-05, 0.04336418956518173, -0.015295027755200863, -0.012471143156290054, 0.015913130715489388, 0.028990257531404495, 0.012907451950013638, -0.013755829073488712, -0.014786001294851303, 0.02588762156665325, 0.016022207215428352, 0.017549285665154457, -0.013719470240175724, 0.010222944431006908, 0.004517608322203159, -0.02139122225344181, 0.006526444107294083, 0.02166997455060482, 0.000445776735432446, 0.005641707684844732, -0.04835749417543411, 0.013998222537338734, 0.037401311099529266, 0.021500300616025925, 0.027851007878780365, -0.014107299037277699, -0.01765836402773857, -0.002757225651293993, 0.029668958857655525, -0.010216884315013885, -0.05298721045255661, 0.016967542469501495, -0.00391465425491333, -0.02676023729145527, 0.05153284966945648, -0.015295027755200863, -0.006993051152676344, 0.007326342165470123, -0.014483009465038776, 0.009459405206143856, 0.020918555557727814, 0.015331386588513851, -0.03415323793888092, 0.008992797695100307, 0.036237820982933044, 0.02484533004462719, -0.015028394758701324, -0.01701602153480053, 0.00836863461881876, -0.01815526932477951, -0.03151115030050278, 0.034104760736227036, 0.03381388634443283, -0.0366741307079792, 0.01781591959297657, 0.010362320579588413, 0.011925757862627506, 0.00533265620470047, -0.0012634758604690433, -0.004496398847550154, 0.0029693199321627617, -0.01765836402773857, -0.0008105031447485089, -0.043412670493125916, 0.0010339595610275865, 0.016300959512591362, 0.01508899312466383, -0.025960339233279228, 0.0007078646449372172, 0.009792695753276348, 0.00015566205547656864, -0.004578206688165665, 0.0006158308824524283, 0.004650924354791641, 0.02915993332862854, -0.019549032673239708, 0.008398933336138725, 0.016531234607100487, -0.014567847363650799, -0.0022057804744690657, -0.013428597711026669, -0.029765916988253593, 0.00371467974036932, -0.045666929334402084, 0.004993305075913668, -0.0010771359084174037, -0.021003393456339836, -0.0013763403985649347, 0.011537929065525532, 0.009132173843681812, 0.010677431710064411, 0.037619464099407196, -0.013610392808914185, 0.00513268169015646, 0.00016948605480138212, 0.0072778635658323765, -0.005553840193897486, 0.01169548463076353, -0.006393127609044313, -0.0018618847243487835, 0.02971743792295456, -0.01731901243329048, -0.009738157503306866, -0.0007256654207594693, -0.0023693961557000875, -0.02216688171029091, 0.038395125418901443, -0.012289348058402538, -0.01097436435520649, -0.004160077776759863, 0.00841711275279522, 0.03752250596880913, 0.009113994427025318, 0.04050394892692566, 0.01193181797862053, -0.0004635774821508676, -0.001975506776943803, 0.014119419269263744, 0.02176693268120289, 0.006290110293775797, -0.07504501193761826, 0.00963514018803835, -0.02823883853852749, -0.027851007878780365, -0.017464449629187584, 0.030371900647878647, -0.02392423525452614, 0.0012505988124758005, -0.005108442157506943, -0.014192136935889721, 0.013186204247176647, -0.011362193152308464, 0.004281274508684874, -0.015476822853088379, 0.00742935948073864, 0.025960339233279228, 0.01137431338429451, 0.003438957268372178, 0.02222748100757599, 0.022663788869976997, -0.01018658559769392, -0.0027178367599844933, -0.020021699368953705, -0.026057297363877296, 0.012101493775844574, -0.0152586679905653, -0.005559899844229221, -0.01058653462678194, -0.008883720263838768, -0.009950251318514347, 0.0001806588697945699, -0.007653573527932167, -0.024893809109926224, 0.000528341974131763, -0.020797358825802803, 0.018749134615063667, -0.03502585366368294, 0.004929677117615938, 0.00220426544547081, 0.006190123036503792, 0.02610577642917633, -0.013295281678438187, -0.036068145185709, 0.014919317327439785, 0.037498269230127335, 0.004832719452679157, 0.002558765932917595, -0.07296042889356613, 0.001018052571453154, -0.001737658167257905, 0.037619464099407196, -0.015864651650190353, 0.020118657499551773, -0.013925503939390182, -0.023730318993330002, -0.004299453925341368, 0.016046447679400444, -0.002629969036206603, -0.0031814142130315304, 0.04700009152293205, -0.00768387271091342, -0.001182425650767982, -0.015282907523214817, 0.013477076776325703, -0.009507883340120316, 0.005087232682853937, 0.010980423539876938, -0.012980169616639614, -0.010501696728169918, -0.01627672091126442, -0.014034581370651722, 0.026154253631830215, 0.008047463372349739, -0.030129507184028625, -0.013210443779826164, 0.05230850726366043, -0.022494113072752953, 0.005323566496372223, -0.01751292683184147, 0.015828292816877365, -0.03769218176603317, 0.009944192133843899, -0.04988457262516022, 0.03122027777135372, -0.015925250947475433, 0.0036177223082631826, 0.04028579220175743, -0.035098571330308914, 0.03063853271305561, 0.0022906181402504444, -0.002984469523653388, 0.018191630020737648, -0.000619239523075521, -0.017840158194303513, -0.008229258470237255, 0.02654208429157734, 0.026954153552651405, -0.03172930330038071, -0.02620273269712925, 0.014652684330940247, 0.020760999992489815, 0.025620989501476288, -0.03778913989663124, -0.014434530399739742, 0.022578950971364975, 0.013477076776325703, -0.0018467351328581572, -0.008241377770900726, 0.005968939047306776, 0.033765409141778946, 0.010289601981639862, -0.013852786272764206, -0.010453217662870884, -0.037401311099529266, 0.008501950651407242, 0.017100859433412552, 0.007489957846701145, 0.011701544746756554, 0.021645735949277878, 0.027947966009378433, 0.03800729289650917, 0.0054265838116407394, -0.03621358424425125, -0.004390351474285126, -0.02394847385585308, -0.00034522131318226457, 0.009907832369208336, -0.005123591981828213, -0.005496271885931492, -0.02722078561782837, 0.00027439696714282036, -0.013174084946513176, 0.04154624044895172, 0.021282145753502846, -0.012592339888215065, -0.0006779442192055285, -0.004196436610072851, 0.029790155589580536, -0.0594833567738533, -0.004650924354791641, -0.005905310623347759, 0.01430121436715126, -0.0028253986965864897, -0.01769472286105156, -0.017840158194303513, -0.03434715420007706, -0.007611154578626156, 0.010859226807951927, 0.008901899680495262, 0.007871727459132671, 0.0033995683770626783, 0.005169040523469448, 0.0015770724276080728, -0.03063853271305561, 0.011053142137825489, 0.020882196724414825, 0.002195175737142563, 0.015828292816877365, -0.016325199976563454, 0.005535660777240992, 0.008992797695100307, -0.016749387606978416, -0.0008567093755118549, -0.04489126801490784, 0.0028981168288737535, 0.012101493775844574, 0.004811509978026152, 0.01621612347662449, 0.0010165375424548984, 0.03231104835867882, -0.024239346385002136, -0.04200678691267967, 0.02314857579767704, 0.02037317119538784, -0.0035480342339724302, 0.0004204011638648808, 0.022372916340827942, 0.03621358424425125, 0.014628445729613304, 0.03473498299717903, 0.03926774114370346, 0.011428851634263992, 0.0036086325999349356, 0.0533265620470047, 0.016931183636188507, -0.0249665267765522, -0.018458262085914612, 0.01083498727530241, -0.026130015030503273, -0.015161710791289806, 0.01027748268097639, -0.0025724004954099655, -0.03480770066380501, -0.014822360128164291, 0.007283923681825399, -0.002955685369670391, 0.027875248342752457, 0.00012422664440236986, 0.013319520279765129, 0.024675654247403145, 0.004241885617375374, 0.002127002691850066, 0.02474837191402912, -0.03395932540297508, 0.026299690827727318, -0.029135694727301598, -0.0016982691595330834, 0.010653192177414894, -0.007580855395644903, -0.019682349637150764, 0.010489577427506447, 0.022082043811678886, 0.01979142613708973, 0.007895966991782188, -0.014143658801913261, -0.007514197379350662, -0.00241938978433609, 0.03475922346115112, -0.0215730182826519, -0.007871727459132671, -0.011356133967638016, -0.018858211115002632, -0.021876009181141853, 0.0025436163414269686, -0.02688143402338028, 0.008901899680495262, -0.04287940263748169, -0.006683999672532082, -0.016773628070950508, 0.009719978086650372, 0.0033904784359037876, -0.0112531166523695, -0.013246802613139153, -0.011901519261300564]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:11.178892", "url_path": "/api/agent/", "chunk_size": 4875}
updated_dt: 2025-03-15T11:17:11.178892
---
```

Parameters:
Name | Type | Description | Default  
---|---|---|---  
`node` |  `AgentNode[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT"), ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")]` |  The node to run next in the graph. |  _required_  
Returns:
Type | Description  
---|---  
`AgentNode[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT"), ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")] | End[](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.End "pydantic_graph.End")[FinalResult[ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")]]` |  The next node returned by the graph logic, or an [`End`](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.End) node if  
`AgentNode[AgentDepsT[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.AgentDepsT "pydantic_ai.tools.AgentDepsT"), ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")] | End[](https://ai.pydantic.dev/api/pydantic_graph/nodes/#pydantic_graph.nodes.End "pydantic_graph.End")[FinalResult[ResultDataT[](https://ai.pydantic.dev/api/result/#pydantic_ai.result.ResultDataT "pydantic_ai.result.ResultDataT")]]` |  the run has completed.  
Source code in `pydantic_ai_slim/pydantic_ai/agent.py`
```
1372
1373
1374
1375
1376
1377
1378
1379
1380
1381
1382
1383
1384
1385
1386
1387
1388
1389
1390
1391
1392
1393
1394
1395
1396
1397
1398
1399
1400
1401
1402
1403
1404
1405
1406
1407
1408
1409
1410
1411
1412
1413
1414
1415
1416
1417
1418
1419
1420
1421
1422
1423
1424
1425
1426
1427
1428
1429
1430
1431
1432
1433
1434
1435
1436
1437
1438
1439
1440
1441
1442
1443
1444
1445
1446
```
| ```
async defnext(
  self,
  node: _agent_graph.AgentNode[AgentDepsT, ResultDataT],
) -> _agent_graph.AgentNode[AgentDepsT, ResultDataT] | End[FinalResult[ResultDataT]]:
"""Manually drive the agent run by passing in the node you want to run next.
  This lets you inspect or mutate the node before continuing execution, or skip certain nodes
  under dynamic conditions. The agent run should be stopped when you return an [`End`][pydantic_graph.nodes.End]
  node.
  Example:
  ```python
  from pydantic_ai import Agent
  from pydantic_graph import End
  agent = Agent('openai:gpt-4o')
  async def main():
    async with agent.iter('What is the capital of France?') as agent_run:
      next_node = agent_run.next_node # start with the first node
      nodes = [next_node]
      while not isinstance(next_node, End):
        next_node = await agent_run.next(next_node)
        nodes.append(next_node)
      # Once `next_node` is an End, we've finished:
      print(nodes)
      '''
      [
        UserPromptNode(
          user_prompt='What is the capital of France?',
          system_prompts=(),
          system_prompt_functions=[],
          system_prompt_dynamic_functions={},
        ),
        ModelRequestNode(
          request=ModelRequest(
            parts=[
              UserPromptPart(
                content='What is the capital of France?',
                timestamp=datetime.datetime(...),
                part_kind='user-prompt',
              )
            ],
            kind='request',
          )
        ),
        CallToolsNode(
          model_response=ModelResponse(
            parts=[TextPart(content='Paris', part_kind='text')],
            model_name='gpt-4o',
            timestamp=datetime.datetime(...),
            kind='response',
          )
        ),
        End(data=FinalResult(data='Paris', tool_name=None, tool_call_id=None)),
      ]
      '''
      print('Final result:', agent_run.result.data)
      #> Final result: Paris
  ```
  Args:
    node: The node to run next in the graph.
  Returns:
    The next node returned by the graph logic, or an [`End`][pydantic_graph.nodes.End] node if
    the run has completed.
  """
  # Note: It might be nice to expose a synchronous interface for iteration, but we shouldn't do it
  # on this class, or else IDEs won't warn you if you accidentally use `for` instead of `async for` to iterate.
  next_node = await self._graph_run.next(node)
  if _agent_graph.is_agent_node(next_node):
    return next_node
  assert isinstance(next_node, End), f'Unexpected node type: {type(next_node)}'
  return next_node

```
  
---|---  
####  usage
```
usage() -> Usage[](https://ai.pydantic.dev/api/usage/#pydantic_ai.usage.Usage "pydantic_ai.usage.Usage")

```

Get usage statistics for the run so far, including token usage, model requests, and so on.
Source code in `pydantic_ai_slim/pydantic_ai/agent.py`
```
1448
1449
1450
```
|