---
url: https://ai.pydantic.dev/api/models/openai/
session_id: pydantic_ai_docs
chunk_number: 8
title: OpenAI Streamed Response Implementation
summary: This document details the implementation of the `OpenAIStreamedResponse` class, which handles streaming responses for OpenAI models. It includes an asynchronous method to iterate over response chunks, manage usage tracking, and process both text content and tool call events from the response.
embedding: [0.025568919256329536, 0.015568410977721214, 0.004173459485173225, -0.0368824228644371, 0.0023384701926261187, 0.0009680896182544529, -0.01626933552324772, -0.06610404700040817, 0.0030282880179584026, -0.043950896710157394, 0.013663082383573055, -0.05852222070097923, 0.01037564966827631, -0.015025441534817219, 0.0018436276586726308, -0.02503582090139389, -0.027464374899864197, 0.01705910824239254, 0.009689534083008766, 0.033881284296512604, 0.03583597391843796, -0.0008693679119460285, -0.021935960277915, 0.0035638532135635614, 0.013900014571845531, 0.003146753879263997, -0.05536312609910965, 0.06468245387077332, -0.04620175063610077, -0.007818758487701416, 0.014709532260894775, -0.007877991534769535, -0.025766361504793167, -0.014275156892836094, 0.01217238511890173, -0.008386407978832722, -0.026062527671456337, -0.007833566516637802, 0.0062984442338347435, -0.014196179807186127, 0.01624959148466587, -0.05595545470714569, -0.009595748968422413, 0.026358691975474358, -0.00994621030986309, 0.025272753089666367, -0.04699152708053589, -0.004003164824098349, 0.02774079516530037, 0.05852222070097923, -0.028471335768699646, 0.02203468233346939, -0.015815215185284615, -0.05864068493247032, 0.02055385708808899, -0.012044046074151993, 0.005794963333755732, 0.052835848182439804, -0.01142209954559803, -0.03711935505270958, -0.025075310841202736, 0.013840781524777412, -0.029182132333517075, -0.039251744747161865, -0.01232046727091074, -0.02505556493997574, -0.07763473689556122, 0.02934008650481701, -0.028589801862835884, 8.144539606291801e-05, -0.026161247864365578, 0.01351499930024147, -0.02554917335510254, 0.017078852280974388, -0.03599392995238304, -0.0239498820155859, -0.05137477070093155, 0.03828427195549011, -0.01636805757880211, -0.0144726000726223, -0.020099736750125885, -3.414768070797436e-05, -0.014492344111204147, -0.015430200845003128, 0.03704037889838219, -0.006688394583761692, -0.04256879538297653, -0.01949753426015377, -0.020869765430688858, -0.012922669760882854, -0.036053162068128586, 0.01821415312588215, -0.013495255261659622, -0.013870397582650185, 0.050229597836732864, 0.004457284230738878, 0.0014092521741986275, -0.04347703233361244, 0.036467794328927994, 0.008184028789401054, 0.004425199702382088, -0.0002335385070182383, -0.0214423518627882, -0.020168842747807503, -0.010642198845744133, 0.01757246069610119, 0.05595545470714569, -0.008559171110391617, 0.006105936598032713, -0.012389572337269783, -0.03927148878574371, 0.00877635832875967, 0.05619238689541817, -0.013090496882796288, -0.02902417816221714, -0.02126465179026127, -0.05563954636454582, 0.0016683966387063265, -0.011816986836493015, -0.01252778246998787, 0.007098089903593063, 0.05915403738617897, 0.005498798098415136, 0.04071282595396042, -0.0008934313082136214, 0.005330971442162991, 0.02015896886587143, -0.06634097546339035, -0.045135557651519775, -0.01991216465830803, -0.0018683080561459064, -0.014314645901322365, -0.008149475790560246, -0.06365574896335602, -0.009817872196435928, -0.011856474913656712, -0.02872801199555397, -0.013041135855019093, -0.0234562736004591, -0.010365777648985386, -0.0048151505179703236, -0.049518801271915436, -0.04967675730586052, 0.010020251385867596, -0.04008100554347038, -0.03001139499247074, -0.008169219829142094, -0.032854579389095306, -0.04446424916386604, 0.033052023500204086, -0.003778572892770171, 0.07605519145727158, -0.014285028912127018, 0.04181851074099541, -0.00032763261697255075, -0.01834249123930931, 0.011264145374298096, 0.027780285105109215, 0.002625996945425868, -0.03528313338756561, -0.03253867104649544, 0.027780285105109215, -0.03632958233356476, 0.04943982511758804, -0.04098924621939659, -0.0018460956634953618, -0.014739148318767548, -0.0019472853746265173, -0.026852300390601158, -0.03729705512523651, 0.05773244425654411, 0.07617365568876266, -0.02102772146463394, -0.0052618663758039474, 0.006150361616164446, -0.028649035841226578, -0.0697764903306961, -0.0244434904307127, 0.005720922257751226, -0.03352588787674904, -0.04347703233361244, 0.0026556134689599276, -0.05248045176267624, -0.014354133978486061, 0.0053803324699401855, 0.006273763719946146, 0.008297557942569256, -0.0034552591387182474, 0.021600306034088135, 0.026674602180719376, -0.01676294393837452, 0.030544491484761238, 0.0008403683896176517, -0.018530061468482018, -0.05078243836760521, -0.015045185573399067, 0.001710353302769363, -0.012063791044056416, 0.02252829074859619, 0.01629895158112049, 0.044345784932374954, 0.038146063685417175, 0.018470829352736473, -0.10022225975990295, 0.005582711659371853, -0.03719833493232727, -0.03682319074869156, 0.024700166657567024, -0.036448050290346146, 0.04556993395090103, 0.03378256410360336, -0.0259243156760931, 0.029952161014080048, -0.030307559296488762, 0.012547527439892292, -0.01562764309346676, -0.020573601126670837, -0.0066587780602276325, 0.022390080615878105, 0.00419073598459363, -0.01649639569222927, 0.07214581221342087, 0.018303001299500465, -0.011856474913656712, 0.0028481208719313145, -0.006525503937155008, -0.014699660241603851, -0.02991267293691635, 0.004200608003884554, -0.04430629685521126, -0.03184761852025986, -0.0047040884383022785, -0.001579547068104148, -0.03471054881811142, 0.007068473380059004, -0.06961853802204132, 0.02004050277173519, 0.002443361794576049, 0.015588155016303062, -0.049834709614515305, -0.00822351686656475, -0.014640427194535732, 0.00795203261077404, 0.0294388085603714, 0.05216454342007637, 0.004193203989416361, 0.030366793274879456, -0.0747915580868721, 0.038264527916908264, 0.04793925583362579, 0.04679408296942711, -0.061088982969522476, -0.02254803478717804, 0.004030313342809677, -0.024700166657567024, -0.03281509131193161, -0.04635970667004585, 0.021106697618961334, -0.05745602399110794, 0.005814707837998867, 0.02134362980723381, 0.01416656281799078, -0.03798810765147209, 0.002759271301329136, -0.017937730997800827, -0.01844121143221855, -0.006816732697188854, -0.05595545470714569, 0.010503987781703472, -0.018865715712308884, 0.008924441412091255, 0.024305280297994614, 0.009171245619654655, -0.011086446233093739, -0.07463359832763672, 0.053704600781202316, 0.003467599395662546, 0.004881787579506636, 0.04142362251877785, -0.02622048184275627, 0.054217953234910965, 0.020830277353525162, 0.05019010975956917, 0.05034806206822395, -0.028194915503263474, 0.007014176342636347, 0.011649159714579582, -0.018006836995482445, 0.00875167828053236, 0.0016572903841733932, 0.008263005875051022, -0.003948867786675692, -0.011659031733870506, -0.052204031497240067, 0.030702445656061172, -0.030189093202352524, 0.06310290843248367, 0.03245969116687775, -0.0013524872483685613, 0.0003085052885580808, 0.010602709837257862, -0.005592583678662777, -0.04940033331513405, 0.012547527439892292, 0.012448805384337902, 0.03309151157736778, 0.004879319574683905, 0.03423668444156647, 0.0013574232580140233, -0.025983549654483795, 0.008667764253914356, 0.04718896746635437, -0.01750335656106472, -0.019161880016326904, 0.007142514456063509, 0.011135807260870934, 0.06002278998494148, 0.0214423518627882, 0.01137273944914341, 0.008124795742332935, -0.02185698226094246, 0.02373269572854042, -0.016427289694547653, -0.030505003407597542, -0.017878498882055283, 0.035381853580474854, 0.04327959194779396, -0.001772054354660213, -0.027365652844309807, 0.006012151017785072, -0.003544108709320426, -0.06227364391088486, -0.03251892700791359, 0.000951430294662714, 0.02525300905108452, 0.03301253542304039, -0.034276172518730164, -0.013258323073387146, 0.029794206842780113, 0.03508568927645683, -0.0031270096078515053, -0.0018929884536191821, -0.09824782609939575, 0.020149096846580505, -0.014551577158272266, -0.02274547889828682, 0.032578159123659134, 0.01615086942911148, -0.044148340821266174, -0.022409824654459953, 0.025213520973920822, -0.008386407978832722, -0.004173459485173225, -0.008312366902828217, -0.023357553407549858, -0.016407545655965805, 0.00918111763894558, 0.03159094229340553, 0.029873184859752655, -0.0166938379406929, -0.009862297214567661, 0.020771043375134468, -0.006880902219563723, -0.02981395088136196, -0.006801924668252468, 0.010346033610403538, 0.022311102598905563, -0.02614150382578373, -0.015548666939139366, -0.054099489003419876, 0.026812812313437462, 0.013208962045609951, -0.005982534494251013, -0.02464093454182148, -0.05058499425649643, 0.010661942884325981, -0.014403495006263256, -0.002297747414559126, 0.012517910450696945, 0.030682701617479324, 0.0042993295937776566, 0.029300598427653313, -0.010365777648985386, -0.022488800808787346, 0.008287685923278332, 0.010908747091889381, -0.01915200799703598, -0.01794760301709175, -0.027365652844309807, 0.035065945237874985, 0.009028098545968533, -0.03615188226103783, 0.008080370724201202, -0.013485383242368698, 0.011362866498529911, 0.04248981550335884, 0.000367429805919528, 0.015598027035593987, 0.052204031497240067, -0.006540311966091394, 0.0458858422935009, 0.027898751199245453, 0.004585622809827328, 0.019902292639017105, -0.007364638149738312, 0.010711303912103176, 0.0269312784075737, -0.006328060291707516, 0.060694098472595215, 0.04718896746635437, 0.0202083308249712, -0.041265666484832764, 0.03251892700791359, -0.005933173932135105, 0.01367295440286398, -0.018253641203045845, -0.021225163713097572, -0.005715986248105764, 0.010286800563335419, 0.047425899654626846, 0.02523326501250267, -0.09121884405612946, 0.01775016076862812, 0.0008317302563227713, -0.05638983100652695, 0.08308417350053787, 0.03767219930887222, -0.06764410436153412, 0.004215416498482227, -0.008949121460318565, 0.0011019809171557426, -0.039074044674634933, 0.02983369491994381, -0.022291358560323715, 0.02195570431649685, 0.008450577035546303, -0.010197950527071953, -0.02831338159739971, 0.00548399006947875, -0.031275033950805664, 0.07076370716094971, 0.024325024336576462, -0.031985826790332794, 0.010632325895130634, -0.04857107251882553, -0.01989242061972618, 0.009511834941804409, 0.036546770483255386, 0.002621060935780406, 0.0062490832060575485, 0.03103809989988804, 0.02831338159739971, -0.016634605824947357, -0.010286800563335419, 0.004657195881009102, -0.019359324127435684, 0.02085002139210701, 0.031156565994024277, 0.02225187048316002, -0.02454221248626709, -0.028767501935362816, -0.04470118135213852, 0.0012549995444715023, 0.0001729172217892483, -0.03315074369311333, -0.0629054605960846, 0.011392483487725258, 0.012922669760882854, -0.0021891535725444555, 0.021106697618961334, 0.0031047973316162825, 0.03717859089374542, -0.00705366488546133, -0.011757753789424896, 0.006357676815241575, -0.017414506524801254, 0.06440602988004684, 0.024818632751703262, -0.0005830749869346619, 0.013208962045609951, 0.006609417498111725, -0.008297557942569256, -0.05943045765161514, -0.008559171110391617, -0.021086953580379486, 0.022666500881314278, -0.033466652035713196, -0.03812631964683533, 0.029201876372098923, -0.020711811259388924, 0.0015968233346939087, 0.005558031145483255, 0.005024934187531471, -0.0056814332492649555, 0.01934945210814476, -0.03352588787674904, -0.06258955597877502, 0.027563096955418587, -0.0030899890698492527, -0.009363752789795399, -0.04367447644472122, -0.028056705370545387, 0.009018226526677608, 0.07573927938938141, 0.008031009696424007, 0.006031895522028208, -0.021067209541797638, 0.006120745092630386, 0.023673461750149727, 0.01732565648853779, 0.0005781389190815389, 0.0294388085603714, 0.012409316375851631, 0.02505556493997574, 0.023002155125141144, 0.0075818258337676525, -0.006816732697188854, -0.012290851213037968, -0.012843692675232887, -0.001348785124719143, 0.01092849113047123, -0.0010723643936216831, 0.010197950527071953, -0.021797750145196915, -0.04635970667004585, 0.013179345987737179, -0.006426782347261906, -0.037455011159181595, 0.0004754066467285156, 0.01246854942291975, 0.04896596074104309, -0.004185799974948168, 0.003926655277609825, 0.04426680877804756, -0.02673383429646492, -0.017039364203810692, 0.0066587780602276325, -0.01166890375316143, -0.021165931597352028, -0.0033762818202376366, -0.041344646364450455, 0.020149096846580505, -0.02464093454182148, 0.009659918025135994, 0.003800785169005394, 0.012429061345756054, -0.0107211759313941, -0.032558415085077286, 0.006801924668252468, 0.02653639018535614, 0.008371599949896336, 0.010148590430617332, 0.01531173475086689, -0.058601196855306625, -0.006737755611538887, 0.02722744271159172, -0.040159985423088074, 0.011757753789424896, -0.011244400404393673, 0.002902417676523328, 0.006792052648961544, -0.012142768129706383, 0.02853056974709034, 0.029873184859752655, -0.009970891289412975, 0.010346033610403538, 0.018352363258600235, -0.009812936186790466, 8.499320392729715e-05, -0.011757753789424896, -0.012498166412115097, 0.0027839518152177334, 0.006456398870795965, 0.0005222994368523359, -0.022784966975450516, 0.00865295622497797, 0.0329335555434227, 0.015282117761671543, -0.014393622986972332, -0.005449437536299229, 0.004047589376568794, -0.006545248441398144, -0.026161247864365578, 0.004741109441965818, -0.025470197200775146, 0.02185698226094246, -0.0056715612299740314, 0.020672323182225227, -0.017394762486219406, 0.00523718586191535, 0.07412024587392807, -0.03374307602643967, -0.022192636504769325, 0.015183396637439728, -0.024561956524848938, -0.05145374685525894, 0.025292497128248215, -0.0061997221782803535, -0.028589801862835884, 0.001841159537434578, 0.06950007379055023, 0.023989371955394745, -0.024364514276385307, 0.020376157015562057, -0.006377421319484711, 0.0157066211104393, 0.007586762309074402, 0.01211315207183361, -0.020514367148280144, 0.022587522864341736, 0.013436022214591503, -0.031373754143714905, 0.013278068043291569, -0.010760664939880371, -0.025114798918366432, 0.0009174947044812143, -0.04920289292931557, 0.009561195969581604, 0.041463110595941544, -0.004074737895280123, -0.050624482333660126, -0.0032454757019877434, 0.024581702426075935, 0.03052474744617939, 0.007093153428286314, 0.006352740805596113, -0.0018732440657913685, 0.011056829243898392, -0.02513454295694828, 0.05097988247871399, 0.024680422618985176, -0.014008608646690845, 0.023791927844285965, 0.0012155108852311969, -0.01770079880952835, 0.015114291571080685, 0.06033869832754135, -0.006525503937155008, -0.00028629289590753615, -0.03320997580885887, -0.0003541640762705356, 0.053704600781202316, 0.03228199481964111, 0.013278068043291569, 0.001177256228402257, -0.03143298625946045, -0.024779144674539566, 0.025213520973920822, -0.00838147196918726, 0.005918365437537432, 0.0011476397048681974, -0.027780285105109215, -0.031472474336624146, 0.0033886220771819353, 0.0002771920117083937, -0.030426025390625, 0.0026605497114360332, 0.00043036488932557404, -0.004126566927880049, 0.04876851662993431, -0.014482472091913223, -0.01890520378947258, -0.028372613713145256, 0.03003113903105259, -0.024206558242440224, 0.01770079880952835, 0.005103911738842726, 0.019132263958454132, -0.004052525386214256, -0.013850653544068336, -0.021422607824206352, -0.011659031733870506, 0.03563852980732918, -0.007715100422501564, 0.03372333198785782, -0.00899848248809576, 0.009072523564100266, -0.019625872373580933, -0.02294292114675045, 0.04699152708053589, 0.012537655420601368, 0.04446424916386604, -0.03062346950173378, -0.007823694497346878, 0.008820783346891403, -0.003082584822550416, 0.033861540257930756, -0.013791420497000217, -0.022271614521741867, 0.014294900931417942, -0.03249918296933174, -0.03348639979958534, -0.006555120460689068, -0.005938109941780567, 0.06097051873803139, 0.013129984959959984, -0.02173851616680622, 0.0007823694031685591, 0.017266424372792244, -0.012794331647455692, 0.01865839958190918, 0.009679662063717842, -0.0244434904307127, -0.01086925808340311, 0.027602585032582283, 0.00640703784301877, 0.012942413799464703, 0.00431413808837533, 0.02631920389831066, 0.0014499748358502984, -0.009166309610009193, 0.013100368902087212, -0.0010112803429365158, 0.0777926966547966, -0.030603725463151932, -0.03222275897860527, 0.0002404798724455759, 0.009136692620813847, -0.005947981961071491, 0.006031895522028208, 0.0038995067588984966, -0.005395140498876572, -0.02922162041068077, -0.004585622809827328, 0.0038476779591292143, -0.00895899347960949, 0.005893684923648834, 0.03563852980732918, -0.026615368202328682, 0.032657135277986526, -0.018776865676045418, -0.013544616289436817, -0.005340843461453915, -0.014995825476944447, 0.012162512168288231, -0.020168842747807503, -0.04837362840771675, 0.012517910450696945, -0.03032730333507061, 0.01742437854409218, -0.01679255999624729, 0.014196179807186127, 0.007789141498506069, -0.001505505759268999, 0.013347173109650612, -0.03208455070853233, -0.031097333878278732, 0.04229237139225006, -0.01700974814593792, -0.03978484123945236, 0.008746742270886898, 0.0007916245958767831, 0.009768511168658733, -0.011293761432170868, -0.02213340438902378, -0.00865295622497797, 0.046517662703990936, -0.01000544335693121, -0.033861540257930756, 0.011787369847297668, -0.01811543107032776, -0.03498696908354759, 0.014324517920613289, 0.024404002353549004, -0.030860401690006256, -0.013702571392059326, 0.002754335291683674, 0.0264376699924469, 0.0031492221169173717, -0.05034806206822395, -0.0057307942770421505, -0.006811796687543392, -0.023515507578849792, 0.01969497837126255, 0.02126465179026127, 0.006071384064853191, 0.012251362204551697, 0.014946464449167252, 0.008855335414409637, -0.003973548300564289, 0.016733326017856598, -0.014778637327253819, 0.022587522864341736, -0.011145679280161858, 0.014156690798699856, 0.01357423234730959, 0.006920390762388706, 0.006782180164009333, -0.012863436713814735, 0.013129984959959984, -0.00016366205818485469, 0.028273893520236015, -0.013100368902087212, 0.01659511588513851, 0.03484875708818436, -0.039074044674634933, 0.024917354807257652, -0.06243159994482994, 0.0199615266174078, 0.028708267956972122, 0.011135807260870934, 0.03830401599407196, 0.0005753623554483056, -0.012182257138192654, -0.02233084663748741, 0.022113658487796783, -0.038758136332035065, -0.0006308933370746672, 0.000687349762301892, -0.012577143497765064, -0.03409847244620323, 0.05394153296947479, -0.0334271639585495, -0.004908936098217964, -0.035441089421510696, 0.0017461399547755718, -0.01281407568603754, -0.010503987781703472, -0.008450577035546303, -0.022390080615878105, 0.051611702889204025, -0.005720922257751226, -0.022982409223914146, 0.02533198706805706, -0.0033047087490558624, 0.010355905629694462, -0.05733755975961685, -0.010306544601917267, 0.01974433846771717, 0.03897532448172569, 0.0019189028535038233, -0.008065562695264816, 0.04924238100647926, -0.016210101544857025, -0.000948962289839983, 0.008070498704910278, -0.014877359382808208, -0.002474212320521474, -0.04568839818239212, 0.023476019501686096, -0.0010168334702029824, 0.05556057021021843, -0.010632325895130634, -0.029300598427653313, -0.022883689031004906, -0.026477158069610596, -0.01725655235350132, -0.007562081795185804, -0.0023273639380931854, -0.04509606957435608, 0.04347703233361244, 0.010642198845744133, 0.023278575390577316, -0.03788938745856285, -0.015094546601176262, -0.010849514044821262, -0.015538794919848442, -0.021620050072669983, 0.01999114267528057, 0.0004892894066870213, -0.008805975317955017, -0.005032338201999664, -0.01506493054330349, 0.011816986836493015, 0.03311125561594963, -6.829536141594872e-05, -0.007310341577976942, 0.03103809989988804, -0.002677825978025794, -0.00834691897034645, -0.011441844515502453, 0.0030455642845481634, -0.0013709975173696876, 0.008884952403604984, 0.03830401599407196, 0.0008311132551170886, 0.02981395088136196, 0.010217695496976376, -0.011056829243898392, 0.020889509469270706, 0.01562764309346676, -0.02772105112671852, -0.009886977262794971, -0.011560310609638691, -0.015894193202257156, 0.018125303089618683, 0.036369070410728455, 0.02781977318227291, 0.0033244530204683542, -0.0229626651853323, -0.00705366488546133, -0.047623343765735626, -0.006451462861150503, -0.008475257083773613, -0.036072906106710434, 0.04272674769163132, -0.004874383565038443, 0.03082091175019741, -0.0021533670369535685, 0.01222174521535635, 0.01735527440905571, 0.023002155125141144, -0.01266599353402853, -0.02233084663748741, 0.02008986473083496, 0.003993292339146137, 0.03858043625950813, 0.006362613290548325, 0.013199090026319027, -0.0009828978218138218, -0.01860903948545456, -0.007458423729985952, -0.016575371846556664, 0.08790179342031479, -0.010355905629694462, 0.01271535363048315, 0.006550184451043606, -0.023377297446131706, -0.006204658187925816, 0.009877105243504047, -0.014136946760118008, 0.007724972441792488, -0.012547527439892292, 0.00708328140899539, -0.007038856856524944, 0.006091128569096327, -0.04849209636449814, 0.01232046727091074, 0.007157322950661182, -0.011540565639734268, 0.028471335768699646, -0.04616226255893707, -0.0028925456572324038, -0.004578218329697847, 0.007127706427127123, -0.06634097546339035, -0.037376031279563904, 0.03583597391843796, -0.03295329958200455, 0.02961650863289833, 0.010197950527071953, -0.020395901054143906, 0.0029715229757130146, 0.008613468147814274, 0.010346033610403538, -0.02562815137207508, 0.02803696133196354, 0.01592380926012993, -0.015765855088829994, -0.020968487486243248, 0.007423871196806431, 0.012843692675232887, 0.008578915148973465, -0.03577674180269241, -0.020830277353525162, -0.02294292114675045, 0.028708267956972122, 0.021679284051060677, 0.003800785169005394, -0.01281407568603754, 0.012053919024765491, 0.028471335768699646, -0.02483837865293026, 0.0033787498250603676, 0.024897610768675804, -0.04308214783668518, 0.05011112987995148, -0.010365777648985386, 0.0009273668983951211, 0.026161247864365578, -0.002561827888712287, 0.016950514167547226, -0.01646677777171135, 0.0244434904307127, -0.005711049772799015, 0.030485259369015694, 0.041463110595941544, -0.011096318252384663, 0.03611239418387413, 0.048650048673152924, -0.007517656777054071, 0.024186814203858376, 0.03251892700791359, -0.006639034021645784, 0.0279184952378273, -0.028787245973944664, -0.006861157715320587, -0.03883711248636246, 0.016486521810293198, -0.008470321074128151, 0.007981648668646812, -0.013051007874310017, -0.00957600399851799, 0.03409847244620323, 0.013090496882796288, -0.04995317757129669, 0.013663082383573055, 0.03828427195549011, 0.03253867104649544, -0.006550184451043606, -0.01976408250629902, -0.018372107297182083, 0.024285536259412766, -0.011155551299452782, 0.02653639018535614, -0.01012884546071291, -0.0058393883518874645, 0.03170940652489662, -0.036072906106710434, -0.02225187048316002, 0.00994621030986309, -0.05007164180278778, -0.031985826790332794, -0.009768511168658733, 0.0014869954902678728, -0.005168080795556307, 0.0052174413576722145, 0.005474118050187826, 0.013988863676786423, -0.03492773324251175, 0.021935960277915, -0.013593977317214012, -0.021402863785624504, -0.02314036525785923, 0.04529351368546486, 0.010138717480003834, -0.016802432015538216, 0.02483837865293026, -0.03439463675022125, -0.005972662474960089, 0.00969940610229969, 0.032676879316568375, -0.04920289292931557, -0.0032479437068104744, -0.015548666939139366, 0.032894067466259, 0.02602303773164749, -0.01829312928020954, 0.047031015157699585, -0.021007975563406944, -0.029379576444625854, -0.008815847337245941, 0.020810533314943314, 0.01659511588513851, -0.00023400125792250037, 0.021935960277915, 0.026575880125164986, -0.029063666239380836, 0.02353525161743164, -0.004523921757936478, 0.014739148318767548, -0.006940134800970554, -0.015015569515526295, -0.011461588554084301, 0.03113682195544243, -0.006347804795950651, 0.02505556493997574, 0.0025322113651782274, 0.03398000821471214, 0.019329708069562912, 0.022093914449214935, -0.004447412211447954, -0.03650728240609169, -0.026852300390601158, 0.030248327180743217, -0.005094039253890514, 0.04679408296942711, -0.03184761852025986, 0.01654575578868389, -0.009714214131236076, 0.05334920436143875, 0.006752563640475273, 0.019122391939163208, 0.00899848248809576, -0.0009372390923090279, 0.0031936466693878174, 0.0012037876294925809, -0.02252829074859619, 0.0015647388063371181, -0.02404860407114029, -0.008973801508545876, 0.03172915056347847, -0.017138086259365082, 0.012695609591901302, 0.012744970619678497, 0.012024302035570145, 0.001890520448796451, 0.003946399781852961, 0.020050376653671265, -0.025904571637511253, -0.029991650953888893, 0.01784888282418251, 0.02624022588133812, 0.037652455270290375, -0.032163526862859726, 0.02464093454182148, 0.013663082383573055, -0.02533198706805706, 0.006441590376198292, -0.0072807250544428825, -0.02146209590137005, -0.001020535477437079, 0.03828427195549011, -0.009926466271281242, -0.05927250534296036, -0.0204551350325346, -0.008006329648196697, -0.03553980961441994, -0.005469181574881077, 0.04655715078115463, 0.023199597373604774, -0.013663082383573055, -0.005370459984987974, 0.028787245973944664, -0.03553980961441994, 0.022390080615878105, 0.010770536959171295, -0.015509177930653095, 0.021600306034088135, -0.0012957222061231732, 0.018697889521718025, 0.06397165358066559, -0.02053411304950714, -0.008766486309468746, -0.03591495007276535, -0.04221339523792267, -0.0029098219238221645, 0.014285028912127018, -0.02264675684273243, 0.018105559051036835, 0.014709532260894775, -0.02533198706805706, -0.02163979597389698, -0.004358562640845776, -0.0001390587567584589, -0.033466652035713196, -0.024818632751703262, -0.021383117884397507, -0.013238579034805298, -0.014117201790213585, 0.018549805507063866, -0.024897610768675804, 0.01201443001627922, 0.0016252058558166027, -0.023574739694595337, 0.013455767184495926, 0.02902417816221714, 0.049123913049697876, 0.002410043263807893, 0.030149605125188828, -0.002899949671700597, 0.003998228348791599, -0.004955829121172428, 0.01710847020149231, 0.026516646146774292, 0.011738009750843048, -0.002259492641314864, 0.014808254316449165, 4.689280467573553e-05, 0.0021755793131887913, 0.027069488540291786, 0.012478422373533249, 0.0072313640266656876, 0.058008868247270584, -0.006505759432911873, 0.016871538013219833, 0.01654575578868389, 0.009931402280926704, 0.018075941130518913, 0.010138717480003834, 0.00018772546900436282, 0.03952816501259804, -0.002598848659545183, 0.01804632507264614, 0.030959123745560646, 0.04718896746635437, 0.031373754143714905, 0.010760664939880371, -0.000548213894944638, -0.010405266657471657, 0.010148590430617332, 0.012429061345756054, -0.021778006106615067, -0.0033836860675364733, -0.015499305911362171, -0.026200737804174423, -0.017335528507828712, 0.042134419083595276, -0.029261110350489616, 0.015035313554108143, -0.007527529262006283, 0.012350083328783512, -0.0104743717238307, -0.021916216239333153, -0.03577674180269241, -0.0007249874179251492, 0.0012044046306982636, -0.017621822655200958, -0.0006210211431607604, -0.005701177753508091, -0.014679915271699429, 0.006051639560610056, -0.01386052556335926, 0.015262373723089695, 0.005967726465314627, -0.0229626651853323, 0.008880016393959522, 0.012053919024765491, 0.017829136922955513, -0.02963625267148018, 0.029162388294935226, 0.020593345165252686, -0.03372333198785782, -0.0021447287872433662, -0.0005938726826570928, -0.003075180808082223, -0.0021583030465990305, 0.02203468233346939, 0.012438933365046978, 0.01302139088511467, -0.021126441657543182, -0.01475889328867197, 0.021817494183778763, -0.014788509346544743, -0.005750538781285286, 0.03378256410360336, -0.0018300533993169665, -0.011738009750843048, 9.016066906042397e-05, -0.009812936186790466, -0.009166309610009193, -0.021383117884397507, -0.0014894634950906038, -0.005202633328735828, -0.0314527302980423, 0.022804711014032364, 0.0013623593840748072, 0.025410963222384453, 0.027306420728564262, 0.013603849336504936, -0.0019608596339821815, 0.005859132390469313, 0.032380715012550354, 0.0001925073011079803, -0.004217884503304958, 0.02173851616680622, -0.03411821648478508, 0.04217390716075897, 0.014600938186049461, -0.011234528385102749, 0.03668498247861862, -0.06025972217321396, -0.022666500881314278, -0.030307559296488762, -0.01426528487354517, -0.0005698092863894999, 0.019606128334999084, 0.005454373545944691, 0.015183396637439728, 0.011352994479238987, 0.00218791957013309, 0.004844767041504383, -0.010592837817966938, 0.002737059025093913, 0.019951654598116875, -0.03249918296933174, -0.03704037889838219, -0.010025188326835632, -0.003716871840879321, 0.009620429016649723, 0.01207366306334734, 0.022725732997059822, -0.0009606854873709381, -0.0026679537259042263, -0.0012260000221431255, -0.025193776935338974, 0.02774079516530037, 0.03684293478727341, 0.021383117884397507, -0.0019694978836923838, -0.01561777200549841, -0.014591066166758537, 0.026180993765592575, -0.006041767541319132, -0.014689788222312927, -0.040436405688524246, 0.024996332824230194, 0.0030998610891401768, 0.03364435210824013, -0.012577143497765064, -0.012448805384337902, 0.023969627916812897, 0.023870905861258507, -0.015499305911362171, -0.024996332824230194, 0.02884647808969021, 0.058008868247270584, 0.0009464942268095911, 0.0011593628441914916, -0.014492344111204147, 0.0020324329379945993, 0.017839010804891586, -0.04778129979968071, 0.019872676581144333, -0.030406281352043152, -0.027957983314990997, -0.018056197091937065, 0.01732565648853779, 0.003475003642961383, -0.05599494278430939, -0.02971522882580757, -0.00218791957013309, 0.023081131279468536, -0.005143400281667709, 0.0021064740139991045, -0.009437793865799904, 0.023397041484713554, -0.027563096955418587, -0.009348944760859013, -0.015992913395166397, 0.026951022446155548, 0.036250606179237366, -0.009926466271281242, 0.002502594841644168, -0.008420960046350956, 0.0020583472214639187, 0.012142768129706383, -0.01809568703174591, 0.005715986248105764, 0.0020250286906957626, -0.009669790044426918, 0.013455767184495926, 0.027385396882891655, 0.03684293478727341, -0.008588787168264389, -0.0033022405114024878, -0.03269662335515022, 0.026575880125164986, -0.013593977317214012, -0.044345784932374954, 0.02752360887825489, -0.007147450465708971, 0.002951778704300523, 0.030702445656061172, 0.02183723822236061, 0.022390080615878105, -0.022172892466187477, -0.030998611822724342, -0.0021940895821899176, -0.021995192393660545, 0.015499305911362171, 0.014956336468458176, 0.007433743681758642, -0.01086925808340311, 0.045727889984846115, 0.007014176342636347, -0.0018522657919675112, -0.035243645310401917, -0.010790280997753143, -0.022784966975450516, -0.00042974785901606083, 0.022725732997059822, -0.01855967752635479, -0.004871915560215712, 0.014136946760118008, -0.0035539809614419937, 0.00224962062202394, -0.019112519919872284, -0.006204658187925816, 0.026891788467764854, -0.011816986836493015, 0.01760207861661911, -0.0027888878248631954, 0.0017202255548909307, -0.013840781524777412, -0.009620429016649723, 0.026595624163746834, -0.014887231402099133, 0.009052779525518417, 0.022666500881314278, -0.013653210364282131, -0.01026705652475357, -0.008746742270886898, 0.01624959148466587, -0.055205170065164566, 0.04248981550335884, -0.0026284651830792427, -0.027760539203882217, 0.04229237139225006, -0.027089232578873634, 0.023100875318050385, -0.017167702317237854, 0.02454221248626709, -0.004153715446591377, 0.01649639569222927, -0.03350614383816719, 0.03214378282427788, 0.05034806206822395, 0.03599392995238304, -0.032973043620586395, -0.017365146428346634, -0.019507406279444695, 0.004521453753113747, -0.018786737695336342, 0.03184761852025986, 0.0018460956634953618, 0.016506267711520195, -0.03502645716071129, 0.015390711836516857, 0.025095054879784584, -0.04367447644472122, -0.01466017123311758, 0.02114618569612503, -0.009156436659395695, 0.005251993890851736, -0.026793068274855614, 0.021205419674515724, 0.01587444730103016, -0.018924947828054428, 0.013909886591136456, -0.009200861677527428, 0.015015569515526295, -0.011224656365811825, -0.017957475036382675, -0.0010643432615324855, 0.008880016393959522, -0.02195570431649685, -0.006105936598032713, -0.006431718356907368, -0.01266599353402853, -0.00628363573923707, 0.002737059025093913, 0.019655488431453705, -0.0057307942770421505, 0.007270852569490671, -0.008707253262400627, 0.010054804384708405, 0.004970637150108814, -0.00211141025647521, -0.0021866855677217245, -0.0144726000726223, -0.0030973930843174458, 0.006342868786305189, 0.030564235523343086, -0.025687385350465775, -0.01000544335693121, -0.002185451565310359, -0.01641741767525673, -0.021304141730070114, 0.00244953203946352, -0.011994685977697372, 0.018421467393636703, 0.032854579389095306, -0.007290597073733807, 0.019428428262472153, -0.04825516417622566, -0.01016833446919918, 0.005918365437537432, -0.012981902807950974, -0.011797241866588593, -0.017779776826500893, 0.012063791044056416, 0.05745602399110794, -0.0013018923345953226, -0.006273763719946146, 0.02025769092142582, -0.006328060291707516, 0.0019361792365089059, 0.011639287695288658, -0.011135807260870934, 0.012093407101929188, -0.012142768129706383, 0.012310595251619816, -0.022469056770205498, 0.008870144374668598, 0.03473029285669327, -0.017286168411374092, 0.0009267498971894383, -0.009679662063717842, 2.9365846785367467e-05, 0.035243645310401917, 0.030366793274879456, -0.011086446233093739, -0.0041808634996414185, 0.014887231402099133, -0.030860401690006256, 0.004773193970322609, 0.013248451054096222, -0.030860401690006256, -0.01846095733344555, -0.0164470337331295, -0.039547909051179886, 0.025371475145220757, -0.03320997580885887, -0.024680422618985176, -0.028767501935362816, -0.018599167466163635, -0.004457284230738878, 0.023002155125141144, 0.009437793865799904, 0.019142135977745056, 0.0025198711082339287, 0.023476019501686096, -0.031985826790332794, 0.020869765430688858, -0.03230173885822296, 0.0020373689476400614, 0.011056829243898392, 0.02884647808969021, -0.02513454295694828, 0.012942413799464703, -0.035559553653001785, 0.011461588554084301, -0.026970766484737396, 0.024186814203858376, -0.0028481208719313145, -0.010158462449908257, -0.03869890421628952, 0.021481839939951897, 0.02373269572854042, -0.02385116182267666, 0.012162512168288231, -0.029359830543398857, -0.025805851444602013, -0.0458858422935009, 0.030702445656061172, -0.0029739909805357456, 0.030149605125188828, -0.014275156892836094, 0.014867487363517284, 0.03798810765147209, 0.012498166412115097, 0.021916216239333153, 0.037158846855163574, 0.011905835941433907, -0.008820783346891403]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:49.413315", "url_path": "/api/models/openai/", "chunk_size": 1757}
updated_dt: 2025-03-15T11:17:49.413315
---
```
@dataclass
classOpenAIStreamedResponse(StreamedResponse):
"""Implementation of `StreamedResponse` for OpenAI models."""
  _model_name: OpenAIModelName
  _response: AsyncIterable[ChatCompletionChunk]
  _timestamp: datetime
  async def_get_event_iterator(self) -> AsyncIterator[ModelResponseStreamEvent]:
    async for chunk in self._response:
      self._usage += _map_usage(chunk)
      try:
        choice = chunk.choices[0]
      except IndexError:
        continue
      # Handle the text part of the response
      content = choice.delta.content
      if content is not None:
        yield self._parts_manager.handle_text_delta(vendor_part_id='content', content=content)
      for dtc in choice.delta.tool_calls or []:
        maybe_event = self._parts_manager.handle_tool_call_delta(
          vendor_part_id=dtc.index,
          tool_name=dtc.function and dtc.function.name,
          args=dtc.function and dtc.function.arguments,
          tool_call_id=dtc.id,
        )
        if maybe_event is not None:
          yield maybe_event
  @property
  defmodel_name(self) -> OpenAIModelName:
"""Get the model name of the response."""
    return self._model_name
  @property
  deftimestamp(self) -> datetime:
"""Get the timestamp of the response."""
    return self._timestamp

```
  
---|---  
####  model_name `property`
```
model_name: OpenAIModelName[](https://ai.pydantic.dev/api/models/openai/#pydantic_ai.models.openai.OpenAIModelName "pydantic_ai.models.openai.OpenAIModelName")

```

Get the model name of the response.
####  timestamp `property`
```
timestamp: datetime[](https://docs.python.org/3/library/datetime.html#datetime.datetime "datetime.datetime")

```

Get the timestamp of the response.
Â© Pydantic Services Inc. 2024 to present