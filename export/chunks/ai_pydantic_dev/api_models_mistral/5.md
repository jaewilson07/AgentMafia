---
url: https://ai.pydantic.dev/api/models/mistral/
session_id: pydantic_ai_docs
chunk_number: 5
title: Handling JSON Schema Properties in Python
summary: This section explains a function that determines the corresponding Python type for a single JSON schema property, addressing various cases including 'anyOf', simple type mappings, arrays, and objects. The approach utilizes recursion for nested structures and provides fallback options for undefined types.
embedding: [-0.0010486604878678918, 0.0313199944794178, 0.0015846425667405128, -0.01922544278204441, -0.0023099659010767937, 0.027241868898272514, 0.016825174912810326, -0.04656052589416504, 0.005837543401867151, -0.04527882859110832, -0.01009044423699379, -0.05984355881810188, 0.018025308847427368, 0.0011862971587106586, -0.0021949047222733498, -0.03339400887489319, -0.028313832357525826, 0.000410725362598896, -0.00791156105697155, 0.03581758216023445, 0.03959275782108307, 0.015228880569338799, 0.0037140059284865856, 0.04481275752186775, 0.011931425891816616, -0.014646291732788086, -0.02093825489282608, 0.0293158870190382, -0.006985243875533342, 0.0068687261082232, -0.024282315745949745, -0.011209015734493732, -0.011669260449707508, -0.016359103843569756, 0.008657274767756462, 0.0009904016042128205, 0.018724415451288223, 0.05620820075273514, -0.0027658420149236917, 0.015170621685683727, -0.04052490368485451, -0.027032136917114258, 0.014483166858553886, -0.02265106700360775, -0.02761472575366497, 0.04395052790641785, 0.02328026294708252, 0.07909230142831802, -0.008971872739493847, 0.00632109260186553, -0.016953345388174057, 0.027358386665582657, -0.0050364830531179905, 0.02933919057250023, 0.010381738655269146, -0.025703834369778633, -0.02733508311212063, 0.013154863379895687, 0.021765530109405518, -0.00815624836832285, 0.011156582273542881, -0.05867838114500046, 0.0025561100337654352, -0.021381022408604622, -0.006449262145906687, 0.002473091008141637, -0.01708151400089264, 0.006227877922356129, -0.023618165403604507, -0.007649395614862442, 0.006338570266962051, 0.02745160087943077, -0.03770517185330391, -0.015776515007019043, -0.02840704657137394, -0.008336850441992283, 0.0011921230470761657, 0.03819454461336136, 0.014564729295670986, -0.033603742718696594, -0.027195261791348457, -0.015100711025297642, -0.012304282747209072, 0.048657845705747604, -0.03719249367713928, -0.04527882859110832, -0.05434391647577286, -0.006734730675816536, 0.013178166933357716, -0.009979751892387867, -0.015893032774329185, -0.011651783250272274, -0.04266883060336113, 0.010515734553337097, 0.046793561428785324, -0.04329802468419075, -0.018817629665136337, -0.02637963742017746, -0.019936200231313705, -0.024585261940956116, 0.02684570848941803, -0.0025590229779481888, -0.02451535128057003, 0.05215338245034218, 0.014692898839712143, 0.0026740841567516327, 0.05182713270187378, 0.017186380922794342, -0.041200704872608185, -0.006315266713500023, -0.0331609733402729, 0.010370086878538132, -0.004083950072526932, 0.013527720235288143, -0.058724988251924515, -0.04075793921947479, -0.06520337611436844, 0.03150642290711403, 0.009653502143919468, -0.009105868637561798, -0.05271266773343086, -0.03073740378022194, 0.007060980424284935, 0.026612672954797745, -0.010894416831433773, 0.0056627667509019375, -0.03539811819791794, -0.01690673828125, -0.034046512097120285, 0.057792846113443375, 0.0006630592979490757, -0.0659957006573677, 0.0024221143685281277, -0.026099994778633118, -0.0071308910846710205, -0.015019148588180542, -0.024119190871715546, -0.004512153100222349, -0.0021905351895838976, 0.0556023083627224, -0.00038887825212441385, 0.008966047316789627, -0.031879279762506485, 0.0137374522164464, -0.014215175062417984, 0.04551186412572861, -0.04294847324490547, 0.0012176113668829203, -0.04485936462879181, -0.00782999861985445, 0.02421240508556366, 0.03304445743560791, -0.025028029456734657, 0.029991690069437027, 0.03138990327715874, -0.020378969609737396, 0.018712764605879784, 0.042925167828798294, 0.023536602035164833, -0.06785998493432999, -0.018561290577054024, -0.0012474689865484834, -0.00914082396775484, -0.06068248674273491, -0.0011841125087812543, -0.03269490227103233, -0.013364595361053944, 0.01288687251508236, -0.02668258361518383, -0.050941597670316696, -0.01940021850168705, 0.014087005518376827, -0.038893651217222214, 0.006099708378314972, 0.01569495163857937, -0.03292793780565262, -0.07186819612979889, -0.0549498088657856, -0.0049898759461939335, 0.009618546813726425, 0.008313546888530254, -0.007177498657256365, -0.04203963279724121, -0.06110195070505142, -0.019178835675120354, -0.020052717998623848, -0.009723412804305553, 0.030294636264443398, 0.034535884857177734, 0.0246551726013422, 0.0011578960111364722, -3.170104173477739e-05, 0.012001336552202702, 0.01892249658703804, -0.006501695141196251, -0.007066806312650442, 0.03278811648488045, -0.00682794488966465, -0.018258344382047653, 0.05247963219881058, -0.011290578171610832, 0.047702401876449585, 0.05513623729348183, -0.049263738095760345, 0.03660990297794342, -0.0010260851122438908, 0.013784059323370457, 0.017174728214740753, -0.021357718855142593, -0.018200084567070007, 0.009502029046416283, -0.049450166523456573, -0.046630434691905975, -0.015858076512813568, 0.004995701834559441, -0.030667493119835854, -0.08421909064054489, -0.036400169134140015, -0.02159075438976288, 0.003533403156325221, -0.02155579812824726, 0.08412587642669678, 0.03863731399178505, -0.027032136917114258, -0.030341243371367455, 0.011022587306797504, -0.0359807051718235, -0.054716773331165314, 0.0043898094445466995, 0.04231927543878555, 0.009129172191023827, 0.013119908049702644, 0.013853969983756542, -0.017955398187041283, 0.03819454461336136, -0.007684350945055485, -0.007363927084952593, 0.007963993586599827, 0.048657845705747604, -0.00616379315033555, 0.00029857695335522294, -0.015403657220304012, -0.012956783175468445, -0.005106394179165363, -0.04434668645262718, -0.001922544208355248, -0.02372303046286106, -0.02884981594979763, 0.004171338398009539, 0.01877102255821228, 0.04889088124036789, -0.0148210683837533, 0.009752542711794376, -0.02062365598976612, -0.01645231805741787, -0.004928704351186752, -0.004016952123492956, 0.018736068159341812, -0.0278011541813612, -0.028360439464449883, 0.03803142160177231, 0.02125285193324089, -0.054250702261924744, 0.05350498855113983, 0.00783582404255867, -9.330529428552836e-05, 0.008354328572750092, -0.022278210148215294, 0.014156916178762913, -0.03472231328487396, 0.014087005518376827, 0.00040963300853036344, 0.015601737424731255, 0.010818680748343468, -0.00632109260186553, -0.027125351130962372, 0.02572713792324066, 0.029688743874430656, -0.01689508557319641, 0.020716870203614235, -0.00900100264698267, 0.008319373242557049, 0.032019101083278656, 0.003909173421561718, -0.0018671982688829303, 0.00565694086253643, 0.057047128677368164, -0.017559237778186798, -0.023501645773649216, -0.05182713270187378, -0.021008165553212166, -0.007352275308221579, 0.016708657145500183, -0.04420686513185501, 0.01627754047513008, -0.023315217345952988, -0.02357155829668045, -0.000397617113776505, -0.011587698012590408, -0.011302229948341846, 0.036400169134140015, -0.016720307990908623, 0.006134663708508015, -0.06180105730891228, -0.020996512845158577, 0.008558235131204128, 0.03255508095026016, -0.04525552690029144, 0.003993648570030928, 0.013178166933357716, 0.015741558745503426, -0.02733508311212063, -0.03838097304105759, 0.015077407471835613, -0.04791213199496269, -0.017594192177057266, 0.032205529510974884, -0.003247934626415372, 0.028943030163645744, -0.00017823587404564023, -0.029106155037879944, -0.014599684625864029, 0.003984909970313311, 0.009321426972746849, -0.012059595435857773, 0.015415308997035027, 0.0005949691985733807, -0.02826722525060177, -0.003976170904934406, 0.02233646810054779, 0.0251445472240448, 0.02373468317091465, 0.03940632939338684, -0.00749209662899375, 0.021147986873984337, 0.02265106700360775, -0.017431067302823067, 0.012816961854696274, -0.02343173511326313, 0.05835213139653206, -0.02623981609940529, -0.03677302598953247, -0.009408814832568169, 0.003207153407856822, -0.04033847153186798, -0.01194307766854763, 0.010917720384895802, 0.012525666505098343, 0.0062045743688941, 0.026286423206329346, 0.013772407546639442, 0.022383075207471848, 0.00791156105697155, 0.01596294343471527, -0.005132610443979502, 0.043391238898038864, 0.012199416756629944, 0.03779838606715202, -0.04518561437726021, 0.031250081956386566, -0.04721302539110184, -0.0248182974755764, -0.03495534881949425, 0.003926651086658239, -0.05844534561038017, 0.04483606293797493, -0.037472136318683624, 0.015881380066275597, -0.026962226256728172, -0.020437227562069893, -0.011197363957762718, 0.008354328572750092, -0.015916336327791214, 0.004841316025704145, 0.03474561870098114, -0.01924874633550644, 0.0042266845703125, 0.007870779372751713, 0.029106155037879944, -0.031739458441734314, 0.04697998985648155, 0.006926984991878271, -0.018689461052417755, -0.0046228449791669846, -0.00838345754891634, 0.00015693495515733957, -0.014343345537781715, -0.027824457734823227, -0.01829329878091812, 0.030481064692139626, 0.00240754964761436, -0.046490613371133804, -0.03973257914185524, 0.03910338506102562, 0.03162293881177902, 0.008400935679674149, -0.0028080798219889402, 0.015112362802028656, 0.0434611514210701, -0.02668258361518383, 0.02978195808827877, -0.00020518062228802592, -0.0062045743688941, 0.011581872589886189, -0.02371137961745262, 0.01675526425242424, 0.009496203623712063, 0.001642901450395584, 0.002764385659247637, 0.004695668816566467, 0.029292583465576172, -0.026729190722107887, 0.006187096703797579, -0.005321952048689127, -0.0067580342292785645, -0.06445766240358353, 0.013609282672405243, 0.031250081956386566, 0.014529773965477943, -0.04050159826874733, -0.014634639956057072, -0.023361824452877045, -0.008966047316789627, 0.0246551726013422, -0.003175111021846533, 0.026309726759791374, 0.021509191021323204, -0.06236034259200096, 0.009134997613728046, -0.0124091487377882, -0.012980086728930473, -0.011133278720080853, 0.0378216877579689, 0.004637409932911396, 0.033603742718696594, -0.04206293821334839, 0.005688983015716076, 0.04364757984876633, -0.015788165852427483, 0.004098514560610056, 0.033743564039468765, 0.023175396025180817, -0.0135743273422122, 0.05056874081492424, -0.020577048882842064, -0.0014193328097462654, -0.002633302938193083, -0.0007118511130101979, 0.05835213139653206, -0.01559008564800024, -0.002977030584588647, 0.014588032849133015, -0.020693566650152206, -0.029525619000196457, -0.04008213430643082, -0.043973829597234726, 0.06310606002807617, -0.015357050113379955, 0.0359807051718235, -0.02143928036093712, 0.051873739808797836, -0.015904683619737625, -0.0018235041061416268, -0.04795873910188675, -0.005231650546193123, -0.019819682464003563, 0.0023041400127112865, -0.025377584621310234, 0.00473353685811162, 0.016032854095101357, 0.04022195562720299, 0.015392005443572998, -0.0035712714307010174, -0.0008738837204873562, 0.025494102388620377, -0.030527671799063683, 0.048331595957279205, 0.03027133271098137, 0.04851802438497543, 0.05970373749732971, 0.04234258085489273, -0.05881820246577263, -0.01893414743244648, -0.01542696077376604, -0.03365034982562065, 0.04851802438497543, -0.016988299787044525, -0.027987582609057426, -0.032974544912576675, 0.0019443912897258997, -0.028779905289411545, 0.019446825608611107, -0.04404374212026596, -0.010987631976604462, 0.035281598567962646, -0.013842318207025528, 0.02078678086400032, 0.003778090700507164, 0.05150088295340538, -0.05821231007575989, -0.014180219732224941, -0.02360651269555092, -0.009274819865822792, 0.0026070864405483007, 0.03866061568260193, 0.06380516290664673, 0.02064695954322815, -0.003300367621704936, -0.03211231529712677, 0.03397659957408905, -0.07363926619291306, -0.04269213229417801, -0.0020463443361222744, 0.03185597434639931, 0.006641516461968422, 0.01428508572280407, -0.01923709362745285, -0.003970345016568899, -0.015543478541076183, -0.0025328064803034067, 0.008371805772185326, -0.044136956334114075, -0.01938856765627861, 0.0030848095193505287, 0.02079843357205391, 0.02575044147670269, -0.021847093477845192, 0.0022152953315526247, -0.006332744378596544, 0.013376247137784958, 0.03803142160177231, -0.007649395614862442, -0.0067580342292785645, 0.006769686006009579, -0.01830495148897171, 0.009333078749477863, -0.04467293620109558, -0.019330307841300964, -0.0051588271744549274, 0.033883385360240936, -0.011506135575473309, -0.025680530816316605, -0.0005785838584415615, 0.006880377884954214, 0.0013428679667413235, 0.022452985867857933, -0.01226932741701603, 0.030644189566373825, 0.003917912021279335, 0.00971176102757454, 0.02096155844628811, -0.01055068988353014, 0.004544195253401995, -0.012653836980462074, 0.02015758492052555, -0.011500310152769089, -0.008045556023716927, -0.004046081565320492, 0.02607669122517109, 0.00012953505211044103, -0.00791156105697155, -0.0037693518679589033, -9.985942597268149e-05, 0.03737892210483551, -0.02978195808827877, 0.03462909907102585, -0.012968434952199459, 0.03726240247488022, -0.016964996233582497, 4.469551276997663e-05, 0.05835213139653206, -0.018840933218598366, 0.010154529474675655, -0.005589942913502455, -0.003772264812141657, -0.003227544017136097, 0.002856143284589052, -0.02078678086400032, 0.004608280025422573, 0.003326584119349718, -0.002253163605928421, 0.009094216860830784, 0.031413208693265915, -0.028663387522101402, -0.053784631192684174, 0.008441717363893986, -0.03288133069872856, -0.02185874432325363, -0.00531612616032362, -0.020204192027449608, 0.008068859577178955, -0.010107922367751598, -0.0010573993204161525, -0.0134927649050951, -0.009420466609299183, -0.020984861999750137, 0.021497540175914764, 0.02077513001859188, -0.05224659666419029, -0.010183658450841904, 0.02561062015593052, -0.015496871434152126, 0.006880377884954214, 0.014483166858553886, -0.009391337633132935, 0.04644400626420975, 0.03071410022675991, -0.003460579551756382, -0.019167182967066765, 0.016335800290107727, 0.003996561747044325, 0.01693004183471203, -0.006688123568892479, -0.03134329617023468, 0.03253177925944328, -0.04581481218338013, 0.00690950732678175, 0.004200467839837074, 0.03863731399178505, -0.011989684775471687, -0.010142877697944641, 0.02404928021132946, 0.019295353442430496, -0.011127453297376633, -0.0359807051718235, 0.019295353442430496, -0.01688343472778797, -0.026729190722107887, -0.0419464185833931, 0.0032887158449739218, 0.025843655690550804, -0.009670980274677277, 0.005514206364750862, 0.006635690573602915, 0.0029129458125680685, 0.02577374503016472, 0.022080129012465477, 0.0148210683837533, -0.00045951720676384866, -0.022697674110531807, -0.01999446004629135, -0.009199082851409912, 0.0046636261977255344, -0.02558731660246849, 0.012234372086822987, 0.0059890164993703365, 0.005773458629846573, 0.05583534389734268, 0.023385128006339073, 0.0014499187236651778, 0.012432452291250229, 0.009181604720652103, 0.031576331704854965, 0.02359486185014248, -0.001306456164456904, -0.01164595689624548, 0.02266271784901619, 0.0036440952681005, -0.027824457734823227, 0.00644343625754118, -0.03376686945557594, -0.014052050188183784, 0.0008651448879390955, 0.04395052790641785, 0.015007496811449528, 0.008092163130640984, 0.005219998769462109, 0.012828613631427288, 0.004701494704931974, 0.03612052649259567, 0.03299785032868385, 0.016009550541639328, 0.03458249196410179, 0.006792989559471607, -0.02345503866672516, -0.01846807636320591, -0.00027072191005572677, -0.028150707483291626, -0.01769905909895897, -0.024445440620183945, -0.01109249796718359, -0.00862231943756342, -0.06371194869279861, 0.00690950732678175, 0.041177403181791306, -0.017908791080117226, 0.01954003982245922, 0.01906231790781021, -0.016335800290107727, 0.007864953950047493, 0.0123275863006711, -0.05122124031186104, -0.006612387020140886, -0.02404928021132946, 0.04329802468419075, 0.007864953950047493, -0.017629148438572884, 0.05989016592502594, 0.015543478541076183, -0.005487990099936724, -0.01496088970452547, -0.004252900835126638, -0.014028746634721756, 0.0026668019127100706, 0.01599789783358574, -0.014448211528360844, -0.009822453372180462, -0.018724415451288223, 0.044463206082582474, 0.0125722736120224, -0.028756601735949516, -0.027078744024038315, 0.011622653342783451, 0.005639463197439909, -0.050056058913469315, 0.021299459040164948, 0.025843655690550804, 0.05448373779654503, -0.02407258376479149, 0.012840265408158302, 0.010445823892951012, 0.013364595361053944, -0.023956065997481346, 0.009670980274677277, -0.018106870353221893, -0.060449451208114624, -0.025936869904398918, 0.06683462858200073, 0.020693566650152206, -0.005388949532061815, -0.02670588716864586, 0.0007668329635635018, -0.011581872589886189, -0.022278210148215294, -0.046630434691905975, -0.005601594690233469, -0.002586695831269026, -0.00485296780243516, 0.012502362951636314, 0.0007675611996091902, 0.019679861143231392, 0.014483166858553886, -0.01736115664243698, -0.07321980595588684, -0.02668258361518383, 0.0058579337783157825, -0.003917912021279335, -0.01645231805741787, -0.03940632939338684, 0.03665651008486748, -0.028733298182487488, 0.006099708378314972, -0.0058491951785981655, 0.007847475819289684, 0.0030061600264161825, -0.028360439464449883, 0.016662050038576126, -0.003387755947187543, -0.09880711883306503, -0.03090052865445614, -0.004235423170030117, 0.02668258361518383, -0.06464409083127975, 0.02733508311212063, 0.0017273768316954374, 0.011756649240851402, 0.0007023840444162488, 0.0144948186352849, 0.014972541481256485, -0.04718972370028496, -0.010783725418150425, -0.0033032805658876896, 0.01185568980872631, 0.00779504282400012, 0.03649338334798813, -0.023000620305538177, -0.012618881650269032, -0.015415308997035027, 0.025797048583626747, -0.005788023117929697, -0.04441659897565842, -0.021369369700551033, -0.036516688764095306, -0.014669595286250114, 0.010906068608164787, 0.006239529699087143, -0.05989016592502594, -0.017932094633579254, 0.023047227412462234, -0.0139005770906806, -0.030784010887145996, -0.013084952719509602, 0.013539372012019157, 0.004203380551189184, -0.00970593560487032, -0.01109832338988781, 0.009478725492954254, -0.06953784078359604, -0.004302421119064093, 0.019924549385905266, -0.01069633662700653, 0.030201422050595284, -0.004631584044545889, -0.04348445311188698, -0.007276538759469986, -0.01512401457875967, -0.02345503866672516, 0.03257838636636734, 0.004180076997727156, -0.0136558897793293, -0.00015247450210154057, 0.035468026995658875, -0.015252184122800827, 0.0007023840444162488, 0.010841984301805496, -0.0004711689834948629, -0.0031081130728125572, 0.012292630970478058, 0.04856463149189949, -0.008097989484667778, 0.026030084118247032, -0.02127615548670292, -0.03665651008486748, -0.008820399641990662, 0.0007034764275886118, -0.0034722313284873962, -0.0006954658310860395, -0.022720977663993835, -0.020693566650152206, -0.018211737275123596, -0.007643569726496935, -0.03866061568260193, 0.030364546924829483, 0.02094990573823452, -0.007888257503509521, -0.023082181811332703, -0.06063587963581085, 0.012665488757193089, -0.0077659133821725845, 0.0054472084157168865, 0.006350222043693066, 0.013632586225867271, -0.007888257503509521, -0.044160258024930954, -0.04986963048577309, 0.022383075207471848, -0.002359486185014248, -0.027731243520975113, 0.01752428151667118, -0.017431067302823067, -0.04145704582333565, 0.05224659666419029, 0.05667427182197571, -0.04264552518725395, -0.018188433721661568, -0.014564729295670986, 0.028057493269443512, -0.018537987023591995, -0.005094742402434349, 0.04837820306420326, 0.010072966106235981, 0.0048034475184977055, -0.03129668906331062, -0.023152092471718788, -0.023385128006339073, 0.00883787777274847, 0.031273387372493744, -0.038404278457164764, 0.0015322094550356269, 0.017594192177057266, -0.01030600257217884, -0.025680530816316605, -0.001000596908852458, 0.04532543569803238, 0.020705219358205795, -0.027521511539816856, 0.031273387372493744, 0.023396780714392662, -0.020553745329380035, 0.014098657295107841, -0.012782006524503231, -0.0035887493286281824, 0.0273117795586586, 0.027847761288285255, 0.006513346917927265, 0.005211260169744492, 0.029688743874430656, 0.040594812482595444, -0.009822453372180462, -0.0060822307132184505, 0.008004775270819664, -0.02050713822245598, -0.008890310302376747, 0.013446157798171043, 0.032368652522563934, 0.005010266788303852, -0.01662709377706051, 0.014564729295670986, 0.0068046413362026215, -0.013306336477398872, 0.019959503784775734, -0.01941187120974064, -0.020367316901683807, -0.002293944824486971, -0.017466023564338684, 0.03290463611483574, 0.06576266139745712, 0.004995701834559441, 0.012828613631427288, 0.0278011541813612, 0.05751320347189903, -0.014028746634721756, -0.013632586225867271, 0.09834104776382446, -0.006495869252830744, -0.01955169253051281, 0.03369695693254471, -0.01719803176820278, 0.024794993922114372, -0.013236425817012787, -0.0065308245830237865, 0.033627044409513474, 0.03185597434639931, -0.021311111748218536, 0.005773458629846573, -0.025797048583626747, 0.0044451551511883736, 0.0019458477618172765, 0.04005882889032364, -0.03355713561177254, 0.0072066280990839005, -0.05154749006032944, 0.01343450602144003, 0.0032624993473291397, -0.04674695432186127, -0.05835213139653206, 0.0022415118291974068, -0.01797870174050331, -0.0022196646314114332, 0.022254906594753265, -0.041526954621076584, -0.032834723591804504, -0.028826512396335602, 0.024328922852873802, 0.022581156343221664, 0.009478725492954254, -0.028826512396335602, 0.006792989559471607, -0.03940632939338684, -0.0047073205932974815, 0.023466691374778748, -0.039010170847177505, 0.015764862298965454, -0.04045499116182327, -0.03609722480177879, -0.0149026308208704, 0.012467407621443272, -0.03539811819791794, 0.017034906893968582, -0.031156867742538452, 0.010707988403737545, 0.024864904582500458, -0.021346066147089005, -0.034372761845588684, 0.021975263953208923, -0.010498256422579288, 0.0632924884557724, -0.018060263246297836, 0.049729809165000916, 0.014506470412015915, -0.035770975053310394, -0.004418938886374235, 0.02126450464129448, 0.03621374070644379, 0.014168567955493927, -0.007043502759188414, 0.019272049888968468, -0.011034239083528519, 0.014646291732788086, -0.0005410796729847789, 0.012001336552202702, 0.036376867443323135, -0.05103481188416481, -0.008767967112362385, 0.035001955926418304, -0.02125285193324089, 0.011430399492383003, 0.05289909616112709, 0.03290463611483574, -0.020250799134373665, 0.03460579738020897, -0.012385845184326172, -0.015904683619737625, 0.03148311749100685, 0.04767909646034241, 0.004334463272243738, 0.006961940322071314, 0.025051333010196686, 0.023070530965924263, 0.0023551166523247957, -0.02822061814367771, -0.027381690219044685, 0.024794993922114372, -0.006146315485239029, -0.01908562146127224, -0.012980086728930473, 0.028127403929829597, 0.0014586575562134385, 0.0331609733402729, 0.009525332599878311, -0.008418413810431957, -0.012595577165484428, 0.010789550840854645, -0.024911511689424515, -0.034372761845588684, 0.012479059398174286, -0.010218613781034946, -0.04837820306420326, -0.024492047727108, 0.008936917409300804, 0.03134329617023468, -0.0016924215015023947, 0.022930709645152092, -0.010335131548345089, 0.0331609733402729, -0.012618881650269032, 0.004011126235127449, -0.01528713945299387, -0.03162293881177902, -0.018526336178183556, 0.008342676796019077, 0.06054266542196274, 0.001170275965705514, 0.027661332860589027, -0.025564013049006462, 0.003346974728628993, 0.01926039718091488, 0.0021628623362630606, 0.006507521029561758, -0.03285802900791168, -0.01596294343471527, 0.02298896759748459, -0.030201422050595284, 0.02591356635093689, 0.048471417278051376, -0.0005905997822992504, -0.004360680002719164, -0.002193448133766651, 0.025354281067848206, 0.020355666056275368, -0.002295401180163026, 0.02107807621359825, -0.010882765054702759, -0.0173961129039526, 0.0441136509180069, 0.0042266845703125, 0.04889088124036789, 0.02917606569826603, 0.013166515156626701, -0.014238478615880013, -0.0016807697247713804, -0.00821450725197792, -0.004885009955614805, 0.010643904097378254, 0.011774126440286636, 0.03784499317407608, 0.015322094783186913, -0.0344659760594368, 0.006822119001299143, 0.019668210297822952, -0.006524998694658279, 0.012921827845275402, -0.02500472590327263, -0.049916237592697144, -0.013481113128364086, -0.009484551846981049, -0.0036091399379074574, -0.05448373779654503, -0.013714148662984371, -0.01496088970452547, -0.0039412155747413635, 0.03707597404718399, -0.009344730526208878, -0.0001460114144720137, -0.03570106253027916, -0.0036353564355522394, -0.043228115886449814, -0.005246215499937534, 0.04579150676727295, 0.0035246643237769604, -0.035794276744127274, -0.017174728214740753, -0.006425958592444658, -0.005217086058109999, 0.012828613631427288, 0.008855354972183704, -0.023338520899415016, -0.011447876691818237, 0.004928704351186752, 0.04376409947872162, 0.004905400797724724, -0.02234812080860138, -0.009111694060266018, -0.00427037850022316, -0.005362733267247677, 0.0016283367294818163, -0.008779618889093399, -0.010818680748343468, 0.004014039412140846, 0.015054103918373585, 0.029991690069437027, 0.030947135761380196, 0.035468026995658875, -0.038078028708696365, -0.0072532352060079575, 0.006478391587734222, 0.005362733267247677, -0.034186333417892456, 0.0027003006543964148, 0.008092163130640984, 0.016382407397031784, 0.009268993511795998, -0.0017026168061420321, -0.015030800364911556, 0.007480444852262735, -0.010731291957199574, 0.013562675565481186, 0.008709708228707314, 0.0022837494034320116, -0.040851153433322906, 0.04234258085489273, -0.04635079205036163, -0.012653836980462074, -0.014704550616443157, -0.024445440620183945, -0.0014870588202029467, -0.005150088109076023, -0.026123298332095146, -0.012502362951636314, -0.01559008564800024, -0.01676691509783268, 0.007189150433987379, -0.006140489596873522, 0.00025379040744155645, 0.006000668276101351, -0.014180219732224941, -0.005855021066963673, 0.05975034460425377, 0.03276481479406357, 0.026123298332095146, 0.02619320899248123, -0.012560621835291386, 0.04441659897565842, -0.025074636563658714, 0.03588749095797539, -0.014261782169342041, -0.04579150676727295, 0.037006065249443054, 0.01782722771167755, -0.0008891766774468124, -0.028430350124835968, 0.004509239923208952, 0.021509191021323204, 0.010195310227572918, 0.027521511539816856, 0.006041449494659901, 0.013038345612585545, 8.34627280710265e-06, 0.011284751817584038, 0.008342676796019077, -0.01693004183471203, -0.0269855298101902, 0.00038050353759899735, 0.004456806927919388, -0.046793561428785324, 0.03991900756955147, 0.009321426972746849, -0.022219950333237648, -0.006548302248120308, 0.012176113203167915, -0.020087674260139465, -0.01799035258591175, 0.011028412729501724, 0.007026025094091892, -0.03723910078406334, 0.012455755844712257, -0.040711332112550735, -0.0063443961553275585, 0.014087005518376827, -0.04252900928258896, 0.003670311765745282, -0.004124731291085482, 0.06538980454206467, 0.005889976397156715, -0.019132228568196297, 0.003341148840263486, -0.005770545452833176, 0.01569495163857937, -0.00535690737888217, 0.007340623531490564, -0.018572943285107613, 0.0039878226816654205, 0.0037664389237761497, 0.008412587456405163, 0.02421240508556366, -0.0037140059284865856, 0.0506153479218483, -0.0018919582944363356, 0.013387898914515972, 0.02421240508556366, 0.011873167008161545, 0.014075353741645813, 0.013632586225867271, 0.0002918407553806901, -0.02374633401632309, -0.035328205674886703, 0.05355159565806389, -0.027032136917114258, 0.001663292059674859, 0.013702496886253357, -0.008663101121783257, -0.005511293653398752, 0.0034023206681013107, -0.005686070304363966, -0.0036761376541107893, 0.019609950482845306, -0.011273100040853024, -0.03621374070644379, -0.004617019090801477, -0.02216169238090515, 0.009187431074678898, -0.03595740348100662, -0.0038363495841622353, -0.007696002721786499, -0.013073300942778587, -0.02030905894935131, -0.008045556023716927, 0.05192034691572189, -0.01985463872551918, -0.047399453818798065, -0.018864236772060394, -0.028476957231760025, 0.031553030014038086, 0.02651945874094963, -0.004395635332912207, 0.009653502143919468, 0.026006780564785004, -0.0054850769229233265, 0.007818346843123436, 0.006332744378596544, 0.05317873880267143, -0.0123275863006711, 0.045395348221063614, -0.03474561870098114, -0.0067114271223545074, 0.014401604421436787, 0.013049997389316559, 0.0011520700063556433, -0.011768301017582417, -0.003973258193582296, 0.00884370319545269, 0.023198699578642845, -0.024398833513259888, 0.0009845757158473134, 0.05271266773343086, -0.000567296170629561, -0.05084838345646858, 0.024328922852873802, -0.017722362652420998, 0.006542476359754801, -0.005869585555046797, -0.013248077593743801, -0.004121818114072084, -0.013259729370474815, 0.012537318281829357, -0.006455088034272194, -0.008878658525645733, -0.003996561747044325, 0.04022195562720299, 0.013306336477398872, 0.003314932342618704, 0.012537318281829357, 0.003186762798577547, 0.013993791304528713, -0.016254236921668053, -0.029059547930955887, 0.007899909280240536, -0.02945570833981037, 0.037635259330272675, -0.005889976397156715, 0.01658048667013645, 0.005505467765033245, -0.007608614396303892, 0.002007019706070423, -0.008191203698515892, 0.01559008564800024, 0.002473091008141637, -0.0025138722267001867, -0.011838211677968502, 0.004963659681379795, -0.05802588164806366, -0.004567498806864023, -0.00938551127910614, -0.023023923859000206, -0.023956065997481346, -0.02651945874094963, 0.01123814471065998, 0.032182224094867706, 0.026775797829031944, 0.011884818784892559, -0.03148311749100685, -0.02065861225128174, -0.0021788834128528833, 0.01907396875321865, 0.0013741821749135852, 0.042435795068740845, -0.007072632201015949, -0.03290463611483574, 0.001551143592223525, 0.044742848724126816, -0.0021949047222733498, -0.019808031618595123, -0.023769637569785118, -0.03337070718407631, -0.006047275383025408, -0.045372042804956436, -0.031250081956386566, -0.013317988254129887, -0.02112468332052231, 0.04364757984876633, 0.004185902886092663, 0.005799674894660711, -0.009735064581036568, 0.002637672470882535, 0.0030207247473299503, -0.007288190536201, -0.03334740176796913, -0.0135743273422122, 0.01987794227898121, -0.0011491570621728897, -0.008103814907371998, 0.010667207650840282, 0.0002565212780609727, 0.02216169238090515, 0.0338134765625, 0.02328026294708252, 0.0014601140283048153, 0.022534549236297607, -0.0047539277002215385, -0.005010266788303852, 0.003830523695796728, -0.025540709495544434, -0.022464638575911522, -0.012537318281829357, 0.015054103918373585, -0.014588032849133015, -0.03211231529712677, -0.024398833513259888, 0.0009204908856190741, 0.008639797568321228, -0.026169905439019203, 0.013154863379895687, 0.030923832207918167, 0.03278811648488045, 0.005083090625703335, 0.02205682545900345, -0.050056058913469315, -0.04644400626420975, 0.037006065249443054, -0.012712095864117146, -0.04220275953412056, 0.01628919318318367, 0.01025356911122799, 0.0009620003402233124, -0.026263119652867317, -0.01844477280974388, 0.009024306200444698, -0.010102096013724804, 0.012315934523940086, 0.02868669107556343, 0.02854686789214611, 0.023641468957066536, 0.0010799746960401535, -0.020378969609737396, 0.012816961854696274, 0.04544195532798767, 0.01079537719488144, -0.011471180245280266, 0.021835440769791603, 0.011989684775471687, -0.0012234372552484274, 0.00406647240743041, -0.0020259537268429995, -0.01177995279431343, 0.0014695811551064253, 0.025354281067848206, 0.011628479696810246, -0.0011804712703451514, 0.0006139033357612789, -0.02375798672437668, -0.0030615059658885, 0.03027133271098137, -0.0032770640682429075, -0.016871782019734383, -0.009606895036995411, -0.0026143689174205065, 0.01751263067126274, 0.03609722480177879, 0.011034239083528519, 0.04224936664104462, 0.04558177664875984, -0.01923709362745285, 0.013003390282392502, -0.03688954561948776, -0.048005346208810806, -0.010160354897379875, -0.02018088847398758, -0.0036936153192073107, -0.011377966031432152, -0.007567833177745342, -0.015135666355490685, -0.013912228867411613, 0.0018657417967915535, 0.003958693239837885, -0.029292583465576172, -0.012362541630864143, -0.03786829486489296, -0.04127061739563942, -0.003373191226273775, 0.003014898858964443, -0.004054820630699396, 0.009018479846417904, 0.008313546888530254, 0.008820399641990662, -0.014704550616443157, -0.024701779708266258, -0.0036470082122832537, 0.041643474251031876, -0.025866959244012833, 0.02435222640633583, -0.03504856303334236, 0.007946516387164593, 0.03621374070644379, -0.003871304914355278, -0.024748386815190315, -0.005068525671958923, 0.00813877023756504, 0.013562675565481186, -0.012199416756629944, 0.00636187382042408, -0.008272766135632992, -0.0016021202318370342, 0.04670034721493721, -0.019796378910541534, 0.0032246310729533434, -0.06441105902194977, 0.005790936294943094, 0.014366649091243744, -0.026309726759791374, 0.003314932342618704, 0.004043168853968382, 0.006274485029280186, 0.019982807338237762, -0.04175999015569687, -0.013248077593743801, 0.04008213430643082, 0.028057493269443512, 0.02170727215707302, -0.009175779297947884, 0.03255508095026016, -0.050382308661937714, -0.01782722771167755, -0.0008462107507511973, -0.020076021552085876, 0.0006393915973603725, 0.016801871359348297, -0.0018016570247709751, 0.012770354747772217, 0.0013486938551068306, -0.0278011541813612, -0.007864953950047493, -0.019796378910541534, -0.031110260635614395, -0.011919774115085602, 0.02252289652824402, 0.016790218651294708, -0.027964279055595398, -0.012374193407595158, 0.025843655690550804, 0.01428508572280407, -0.030993742868304253, 0.0002821916132234037, -0.0017215509433299303, 0.015298791229724884, -0.009432118386030197, -0.005333603825420141, -0.007119239307940006, 0.0363069549202919, 0.010492430999875069, 0.0023274437990039587, -0.05261945351958275, 0.032834723591804504, 0.007899909280240536, -0.02854686789214611, -0.029595529660582542, -0.039639364928007126, 0.014343345537781715, 0.0062045743688941, 0.006460913922637701, 0.014087005518376827, 0.005887063220143318, -0.0036149658262729645, -0.020856691524386406, 0.030038297176361084, -0.004823838360607624, -0.007783391047269106, 0.029385797679424286, -0.005304474383592606, 0.027707939967513084, 0.027894368395209312, -0.005983190611004829, -0.004054820630699396, -0.003568358486518264, 0.013667541556060314, -0.006140489596873522, -0.02343173511326313, 0.010381738655269146, 0.03199579566717148, -0.0065774316899478436, -0.00971176102757454, 0.023163745179772377, 0.017279595136642456, 0.013143211603164673, 0.008989350870251656, -0.005374385043978691, -0.0004962931270711124]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-15T11:17:47.448317", "url_path": "/api/models/mistral/", "chunk_size": 5000}
updated_dt: 2025-03-15T11:17:47.448317
---
tion of the Python type for a single JSON schema property.
    This function handles recursion for nested arrays/objects and `anyOf`.
    """
    # 1) Handle anyOf first, because it's a different schema structure
    if any_of := value.get('anyOf'):
      # Simplistic approach: pick the first option in anyOf
      # (In reality, you'd possibly want to merge or union types)
      return f'Optional[{cls._get_python_type(any_of[0])}]'
    # 2) If we have a top-level "type" field
    value_type = value.get('type')
    if not value_type:
      # No explicit type; fallback
      return 'Any'
    # 3) Direct simple type mapping (string, integer, float, bool, None)
    if value_type in SIMPLE_JSON_TYPE_MAPPING and value_type != 'array' and value_type != 'object':
      return SIMPLE_JSON_TYPE_MAPPING[value_type]
    # 4) Array: Recursively get the item type
    if value_type == 'array':
      items = value.get('items', {})
      return f'list[{cls._get_python_type(items)}]'
    # 5) Object: Check for additionalProperties
    if value_type == 'object':
      additional_properties = value.get('additionalProperties', {})
      additional_properties_type = additional_properties.get('type')
      if (
        additional_properties_type in SIMPLE_JSON_TYPE_MAPPING
        and additional_properties_type != 'array'
        and additional_properties_type != 'object'
      ):
        # dict[str, bool/int/float/etc...]
        return f'dict[str, {SIMPLE_JSON_TYPE_MAPPING[additional_properties_type]}]'
      elif additional_properties_type == 'array':
        array_items = additional_properties.get('items', {})
        return f'dict[str, list[{cls._get_python_type(array_items)}]]'
      elif additional_properties_type == 'object':
        # nested dictionary of unknown shape
        return 'dict[str, dict[str, Any]]'
      else:
        # If no additionalProperties type or something else, default to a generic dict
        return 'dict[str, Any]'
    # 6) Fallback
    return 'Any'
  @staticmethod
  def_get_timeout_ms(timeout: Timeout | float | None) -> int | None:
"""Convert a timeout to milliseconds."""
    if timeout is None:
      return None
    if isinstance(timeout, float):
      return int(1000 * timeout)
    raise NotImplementedError('Timeout object is not yet supported for MistralModel.')
  @classmethod
  def_map_user_message(cls, message: ModelRequest) -> Iterable[MistralMessages]:
    for part in message.parts:
      if isinstance(part, SystemPromptPart):
        yield MistralSystemMessage(content=part.content)
      elif isinstance(part, UserPromptPart):
        yield cls._map_user_prompt(part)
      elif isinstance(part, ToolReturnPart):
        yield MistralToolMessage(
          tool_call_id=part.tool_call_id,
          content=part.model_response_str(),
        )
      elif isinstance(part, RetryPromptPart):
        if part.tool_name is None:
          yield MistralUserMessage(content=part.model_response())
        else:
          yield MistralToolMessage(
            tool_call_id=part.tool_call_id,
            content=part.model_response(),
          )
      else:
        assert_never(part)
  @classmethod
  def_map_message(cls, message: ModelMessage) -> Iterable[MistralMessages]:
"""Just maps a `pydantic_ai.Message` to a `MistralMessage`."""
    if isinstance(message, ModelRequest):
      yield from cls._map_user_message(message)
    elif isinstance(message, ModelResponse):
      content_chunks: list[MistralContentChunk] = []
      tool_calls: list[MistralToolCall] = []
      for part in message.parts:
        if isinstance(part, TextPart):
          content_chunks.append(MistralTextChunk(text=part.content))
        elif isinstance(part, ToolCallPart):
          tool_calls.append(cls._map_pydantic_to_mistral_tool_call(part))
        else:
          assert_never(part)
      yield MistralAssistantMessage(content=content_chunks, tool_calls=tool_calls)
    else:
      assert_never(message)
  @staticmethod
  def_map_user_prompt(part: UserPromptPart) -> MistralUserMessage:
    content: str | list[MistralContentChunk]
    if isinstance(part.content, str):
      content = part.content
    else:
      content = []
      for item in part.content:
        if isinstance(item, str):
          content.append(MistralTextChunk(text=item))
        elif isinstance(item, ImageUrl):
          content.append(MistralImageURLChunk(image_url=MistralImageURL(url=item.url)))
        elif isinstance(item, BinaryContent):
          base64_encoded = base64.b64encode(item.data).decode('utf-8')
          if item.is_image:
            image_url = MistralImageURL(url=f'data:{item.media_type};base64,{base64_encoded}')
            content.append(MistralImageURLChunk(image_url=image_url, type='image_url'))
          else:
            raise RuntimeError('Only image binary content is supported for Mistral.')
        elif isinstance(item, DocumentUrl):
          raise RuntimeError('DocumentUrl is not supported in Mistral.')
        else: # pragma: n