---
url: https://ai.pydantic.dev/tools/
session_id: pydantic_ai_docs
chunk_number: 3
title: Function Tools and Structured Results in PydanticAI
summary: This section explains the use of function tools in PydanticAI, highlighting how they utilize the model's API to access available functions and define schemas for structured responses. It discusses the extraction of function parameters from signatures to build call schemas, and how PydanticAI enhances these schemas by integrating parameter descriptions from function docstrings, leveraging the Griffe library for various docstring formats.
embedding: [-0.021587172523140907, 0.050723686814308167, -0.015690790489315987, -0.043297700583934784, 0.02400493435561657, 0.008270970545709133, -0.04245888441801071, -0.027853619307279587, -0.0010886102681979537, 0.020699013024568558, 0.022031251341104507, -0.049638159573078156, 0.025115132331848145, -0.03540296107530594, -0.008425164967775345, -0.017430098727345467, -0.004166324157267809, 0.022931743413209915, -0.018996711820364, 0.04961348697543144, 0.043741777539253235, 0.006605674512684345, 0.013532073237001896, 0.01631990261375904, 0.045197371393442154, 0.007765213958919048, -0.032985199242830276, 0.037993423640728, -0.0019875618163496256, 0.00429276330396533, 8.23492810013704e-05, -0.012236842885613441, -0.03611842170357704, -0.018848685547709465, -0.014765625819563866, -0.016578948125243187, 0.03046875074505806, 0.0021679687779396772, 0.00980057567358017, 0.04023848846554756, -0.013087993487715721, -0.005211759824305773, -0.009923931211233139, 0.005621916148811579, 0.010318668559193611, 0.009751234203577042, -0.0013384046033024788, 0.02965460531413555, -0.026324013248085976, 0.002979029668495059, -0.02505345456302166, 0.050402961671352386, 0.016862664371728897, 0.008875411003828049, -0.021907895803451538, -0.015345395542681217, -0.0452713817358017, 0.007851562462747097, -0.014370888471603394, 0.02755756676197052, -0.011835938319563866, -0.02901315875351429, 0.010805921629071236, 0.05338815972208977, -0.0717434212565422, -0.0015912828966975212, -0.03276316076517105, 0.04169407859444618, -0.018404606729745865, 0.010201480239629745, 0.0043297698721289635, 0.038486842066049576, -0.04068256542086601, 0.0011695621069520712, -0.02876644767820835, -0.060542766004800797, 0.003867187537252903, 0.06858552992343903, 0.010898438282310963, -0.007672697771340609, -0.027508225291967392, -0.014605263248085976, 0.020069902762770653, -0.011490543372929096, -0.033922698348760605, -0.02977796085178852, -0.0395970419049263, -0.029605263844132423, -0.018441611900925636, -0.03624177724123001, -0.027261514216661453, -0.025312500074505806, -0.007080592215061188, 0.03175164759159088, 0.09745065867900848, 0.02368421107530594, -0.03150493651628494, 0.013223684392869473, 0.006186266429722309, 0.0061030020006000996, 0.06429276615381241, -0.0017007607966661453, -0.07144737243652344, -0.006109169684350491, 0.035945724695920944, 0.009603207930922508, 0.0395970419049263, -0.0006830797647126019, -0.04897204041481018, 0.005125411320477724, -0.0884210541844368, -0.001047748839482665, 0.011212993413209915, 0.020094573497772217, -0.0934046059846878, 0.006858552806079388, -0.04726973921060562, 0.017923520877957344, -0.007074424531310797, -0.02319079078733921, -0.036266449838876724, -0.029555922374129295, 0.013063322752714157, 0.002607421949505806, 0.0008696546428836882, 0.009381168521940708, -0.030320724472403526, -0.043667763471603394, -0.051661185920238495, -0.029925987124443054, 0.02736019901931286, -0.013507401570677757, -0.019699836149811745, -1.7093860151362605e-05, -0.03254111856222153, -0.015530427917838097, -0.061480265110731125, -0.028470395132899284, -0.03263980522751808, 0.04877467080950737, 0.0023221629671752453, -0.012816612608730793, -0.016714638099074364, -0.002106291241943836, -0.04218750074505806, 0.04435855522751808, -0.021192435175180435, -0.009325657971203327, -0.03453947603702545, 0.02541118487715721, 0.034490130841732025, 0.008628700859844685, -0.01798519864678383, -0.01390213891863823, -0.01081208884716034, -0.0056959292851388454, 0.012915296480059624, 0.030394738540053368, 0.028988488018512726, -0.008752056397497654, 0.0075616780668497086, 0.02597861923277378, -0.06187500059604645, 0.019058389589190483, -0.04623355343937874, 0.019860198721289635, 0.0038024261593818665, -0.0072409543208777905, -0.037796054035425186, -0.04162006825208664, -0.016097862273454666, -0.0305427648127079, -0.04428454115986824, 0.00891241803765297, 0.012576069682836533, -0.014654605649411678, -0.03616776317358017, -0.06809210777282715, -0.038116779178380966, -0.030962172895669937, -0.04902138188481331, -0.015937499701976776, -0.07914473861455917, -0.025485198944807053, -0.015209704637527466, -0.027409540489315987, 0.04028782993555069, -0.030690791085362434, 0.015690790489315987, 0.04630756750702858, 0.006371299736201763, 0.02157483622431755, 0.03318256512284279, 0.011095806024968624, -0.008715049363672733, -0.02933388203382492, 0.06000000238418579, -0.03333059325814247, -0.004462376702576876, 0.01983552612364292, 0.034564144909381866, 0.05106908082962036, 0.026940790936350822, -0.033601973205804825, -0.00015294125478249043, -0.029605263844132423, -0.01400082278996706, 0.016048520803451538, -0.012298519723117352, -0.032269738614559174, -0.006207854021340609, -0.044383224099874496, 0.012002467177808285, 0.0003473221731837839, -0.014395560137927532, -0.007950247265398502, -0.03180098906159401, 0.025263158604502678, -0.0072532896883785725, 0.02379523031413555, 0.003972039557993412, 0.035822369158267975, 0.060542766004800797, 0.011342517100274563, -0.03819078952074051, 0.021796876564621925, -0.015123356133699417, -0.04376645013689995, -0.005356702487915754, 0.022685034200549126, 0.027705593034625053, 0.020908717066049576, 0.013717105612158775, -0.026694079861044884, 0.022154606878757477, -0.03863487020134926, 0.014950658194720745, -0.007105263415724039, 0.008671875111758709, -0.039621710777282715, -0.035624999552965164, -0.03167763352394104, 0.003666735254228115, 0.017948191612958908, -0.00451480271294713, 0.033108554780483246, 0.02279605343937874, -0.02807565964758396, 0.030123356729745865, 0.02824835665524006, 0.09256578981876373, -0.0513157919049263, 0.02024259977042675, -0.013199013657867908, -0.020057566463947296, -0.0072656250558793545, -0.013371710665524006, -0.02832236886024475, -0.03833881765604019, -0.0225493423640728, 0.017553454264998436, 0.004354441072791815, -0.0569901317358017, 0.02040296047925949, -0.01809621788561344, -0.002773951506242156, -0.013063322752714157, -0.004326685797423124, 0.004289679229259491, -0.032985199242830276, 0.031184211373329163, 0.06384868919849396, 0.061726976186037064, 0.007648026570677757, -0.026200659573078156, -0.028840461745858192, 0.002120168646797538, 0.0440378300845623, 0.016615955159068108, -0.055707238614559174, 0.01928042806684971, 0.02629934251308441, 0.02642269805073738, 0.03357730433344841, 0.0027662417851388454, -0.010984786786139011, -0.004382195882499218, 0.004921874962747097, -0.024337993934750557, 0.005572574213147163, 0.02287006564438343, 0.02699013240635395, 0.03634046018123627, -0.035945724695920944, -0.0422615148127079, -0.02423930913209915, 0.03740131855010986, 0.007870065979659557, 0.005325863603502512, -0.013236019760370255, 0.0045579769648611546, 0.006269531324505806, 0.02723684348165989, 0.0018965872004628181, 0.02036595530807972, 0.01412417832762003, 0.031455591320991516, 0.005109991878271103, 0.022931743413209915, -0.01377878338098526, 0.034243423491716385, 0.026694079861044884, -0.0344407893717289, -0.006568667944520712, -0.01777549460530281, -0.016554277390241623, 0.028297698125243187, 0.013532073237001896, 0.015949836000800133, -0.010121299885213375, -0.021241776645183563, -0.03490953892469406, 0.00203073606826365, -0.02064967155456543, -0.04053454101085663, 0.009220805950462818, -0.012008635327219963, 0.013729440979659557, -0.0065131583251059055, 0.0025657895021140575, 0.014148849062621593, -0.027582237496972084, -0.0015442537842318416, 0.03624177724123001, 0.03130756691098213, -0.0032565791625529528, -0.034243423491716385, 0.017800165340304375, 0.004400698933750391, 0.05921052768826485, -0.018244244158267975, 0.013125000521540642, -0.0735197365283966, -0.01062705647200346, -0.0013245271984487772, 0.015296053141355515, 0.00814144778996706, 0.03907894715666771, -0.03236842155456543, 0.007401315961033106, 0.041521381586790085, 0.0083449836820364, -0.00418174359947443, 0.038166120648384094, -0.011576891876757145, -0.027409540489315987, -0.020921053364872932, 0.004076891578733921, -0.025633225217461586, -0.009689556434750557, -0.016665296629071236, 0.016739308834075928, 0.018515625968575478, 0.0011456620413810015, -0.06986842304468155, 0.05625000223517418, -0.014247532933950424, 0.017195723950862885, -0.04902138188481331, 0.008733552880585194, 0.0009297903161495924, 0.009658717550337315, -0.022290296852588654, -0.02876644767820835, 0.016184210777282715, -0.021846218034625053, -0.01960115134716034, -0.01086759939789772, 0.0014979955740272999, -0.00495888153091073, 0.052746713161468506, 0.0015388570027425885, -0.008986431173980236, -0.020711349323391914, 0.023166120052337646, 0.02134046144783497, 0.02844572439789772, 0.02775493450462818, -0.03935033082962036, 0.0034323602449148893, 0.016492599621415138, -0.061282895505428314, -0.0065316613763570786, -0.009344161488115788, 0.004209498409181833, 0.023647204041481018, 0.028593750670552254, 0.009738897904753685, 0.026250001043081284, -0.02517681010067463, -0.008055099286139011, -0.003429276403039694, 0.0014432566240429878, -0.015727795660495758, -0.027656251564621925, 0.05703947693109512, 0.01184210553765297, -0.002251233672723174, 0.009344161488115788, -0.02185855247080326, 0.07095395028591156, -0.02851973846554756, 0.014765625819563866, -0.0073519740253686905, -0.006244860589504242, -0.061677634716033936, -0.0025596218183636665, 0.039745066314935684, 0.03910361975431442, 0.028223685920238495, -0.005732935853302479, -0.06986842304468155, 0.004585732240229845, -0.017023026943206787, -0.014469573274254799, 0.09616776555776596, 0.013914474286139011, -0.05916118621826172, 0.0058994656428694725, -0.03091282956302166, 0.025164473801851273, 0.0019073807634413242, 0.0681907907128334, -0.02081003412604332, -0.02953125163912773, -0.028273027390241623, 0.004298930987715721, 0.04921875149011612, -0.005732935853302479, 0.0309868436306715, 0.020785363391041756, -0.04934210702776909, 0.0045579769648611546, 0.036907896399497986, -0.0513157919049263, -0.017750822007656097, -0.008079770021140575, 0.0042310855351388454, 0.03466283157467842, -0.026940790936350822, 0.037722039967775345, -0.013791118748486042, -0.05087171122431755, 0.007210115436464548, 0.029358552768826485, -0.02372121810913086, 0.04480263218283653, 0.005439967382699251, 0.045074015855789185, -0.006164679303765297, 0.06572368741035461, 0.01834292896091938, -0.03730263188481331, 0.013199013657867908, -0.023782895877957344, -0.014913652092218399, -0.0057761105708777905, 0.001292146393097937, -0.020193256437778473, 0.02807565964758396, -0.005921052768826485, -0.0030360815580934286, -0.009899260476231575, 0.009991776198148727, 0.028618421405553818, -0.027458881959319115, 0.022734375670552254, -0.019095394760370255, 0.03952302783727646, 0.026003289967775345, 0.006790707353502512, -0.03244243562221527, -0.0206003300845623, 0.026743421331048012, -0.05250000208616257, 0.05111842229962349, -0.011712582781910896, -0.0058994656428694725, 0.012138158082962036, 0.015777138993144035, -0.04255756735801697, -0.02476973831653595, 0.0360444076359272, -0.013038652017712593, 0.03429276496171951, 0.03560033068060875, 0.0008110608905553818, 0.023462172597646713, -0.022919408977031708, -0.028371712192893028, -0.002542660338804126, -0.026151316240429878, -0.0005427631549537182, 0.05161184445023537, -0.01266858633607626, 0.00407072389498353, 0.032343752682209015, 0.016862664371728897, -0.020057566463947296, 0.04307565838098526, -0.053486842662096024, 0.0041724918410182, -0.0007173880003392696, 0.021463816985487938, 0.03046875074505806, -0.0013499691849574447, -0.0014625309268012643, 0.007314967457205057, -0.002346833935007453, -0.019181743264198303, 0.021266447380185127, -0.010170641355216503, 0.0009914679685607553, 0.009677221067249775, 0.022981086745858192, -0.018071547150611877, 0.0006900185253471136, -0.012360197491943836, -0.04845394939184189, -0.017923520877957344, 0.01608552597463131, 0.005927220452576876, 0.03357730433344841, -0.01915707252919674, -0.025287829339504242, -0.029235199093818665, -0.008283305913209915, -0.0026398026384413242, -0.004055304452776909, 0.008530016988515854, 0.0020091489423066378, 0.025028783828020096, -0.03431743383407593, -0.007931743748486042, 0.005076069384813309, 0.04053454101085663, 0.027828948572278023, 0.003339843824505806, 0.015974506735801697, -0.014185856096446514, 0.0504276342689991, -0.01837993413209915, 0.0112746711820364, -0.024979442358016968, 0.004295847378671169, 0.01564144715666771, 0.007179276552051306, 0.012964638881385326, -0.01050370093435049, -0.01887335628271103, 0.01329769752919674, 0.026447368785738945, 0.042976975440979004, 0.015888158231973648, 0.0019166324054822326, 0.045764803886413574, 0.027730263769626617, -0.016800986602902412, 0.0006688168505206704, -0.016800986602902412, 0.02851973846554756, -0.0083449836820364, 0.010694901458919048, -0.019934210926294327, 0.008369654417037964, 0.0023344983346760273, 0.015789473429322243, 0.00917146448045969, -0.03328125178813934, -0.004989720415323973, -0.00024401213158853352, -0.019255757331848145, 0.02027960680425167, 0.009424342773854733, -0.048626646399497986, -0.026743421331048012, 0.03091282956302166, 0.0032319079618901014, -0.0049619656056165695, -0.06631579250097275, -0.007604852318763733, -0.014987665228545666, -0.010855263099074364, 0.004776932764798403, -0.02407894842326641, -0.010886101983487606, -0.014728618785738945, 0.02565789595246315, -0.018935034051537514, 0.013593750074505806, 0.03296052664518356, -0.04334704205393791, 0.002629009075462818, 0.05886513367295265, -0.04199013113975525, -0.010768914595246315, 0.032023027539253235, 0.021426809951663017, -0.0889638215303421, 0.01931743510067463, -0.01240337174385786, 0.022882401943206787, -0.01810855232179165, -0.05205592140555382, -0.0022589433938264847, -0.0009205386741086841, -0.022006578743457794, 0.0005138517590239644, 0.056743424385786057, -0.018207237124443054, -0.02945723757147789, 0.02541118487715721, 0.005335115361958742, 0.012631579302251339, 0.015407073311507702, 0.012865954078733921, 0.02109375037252903, 0.012156661599874496, -0.0022049753461033106, 0.02748355269432068, -0.023301810026168823, -0.0062171053141355515, 0.03841283172369003, 0.02206825651228428, -0.0022589433938264847, 0.04100329056382179, 0.02558388188481331, -0.020587993785738945, -0.006988076027482748, -0.03821546211838722, 0.04287829250097275, 0.020008224993944168, 0.034613486379384995, -0.025756578892469406, -0.02908717282116413, 0.011151316575706005, -0.03162829205393791, 0.03545230254530907, -0.001221217098645866, -0.004197163041681051, 0.009430509991943836, -0.018453948199748993, -0.024942435324192047, 0.007715872023254633, 0.011219161562621593, 0.02061266452074051, -0.013926809653639793, -0.008517681621015072, -0.012391036376357079, 0.0036729031708091497, -0.04312499985098839, 0.00846833921968937, -0.019909540191292763, -0.005819284822791815, 0.01311266515403986, 0.044506579637527466, 0.027212172746658325, 0.0085670230910182, 0.027138158679008484, -0.005227179266512394, -0.047787830233573914, -0.026175986975431442, -0.03520559147000313, -0.009436678141355515, 0.02040296047925949, 0.007105263415724039, 0.021315790712833405, -0.05422697588801384, -0.05560855567455292, 0.06049342453479767, -0.04958881810307503, -0.011225329712033272, -0.05082236975431442, 0.010053453966975212, 0.06952302902936935, 0.01197779644280672, 0.04662829264998436, 0.0007790655945427716, 0.018861019983887672, 0.02274671196937561, -0.016258224844932556, -0.030493421480059624, 0.013137335889041424, 0.008412829600274563, 0.028988488018512726, -0.006482319440692663, 0.0007964124670252204, 0.03308388218283653, -0.026620065793395042, -0.04445723816752434, -0.0035742188338190317, -0.007993421517312527, -0.028618421405553818, -0.03066611848771572, -0.021833881735801697, -0.01387746725231409, -0.014962993562221527, 0.00700041139498353, 0.030690791085362434, -0.02908717282116413, -0.02819901332259178, 0.021106086671352386, -0.0314309224486351, 0.012902961112558842, -0.021636513993144035, -0.004067639820277691, 0.010275493375957012, 0.007771381642669439, 0.02480674348771572, 0.00542454794049263, -0.028865132480859756, 0.009362665005028248, -0.020538652315735817, -0.00869037862867117, 0.03377467393875122, -0.05427631735801697, -0.017282072454690933, 0.02395559288561344, -0.008678043261170387, -0.024498356506228447, -0.009319490753114223, 0.006149259861558676, -0.009726562537252903, -0.02748355269432068, -0.006288034841418266, -0.022808389738202095, -0.04524671286344528, 0.0023884663823992014, -0.02056332305073738, -0.006846217438578606, 0.02496710605919361, 0.03419407829642296, -0.023869244381785393, 0.018984375521540642, -0.03653782978653908, -0.025682566687464714, -0.02105674333870411, 0.03616776317358017, -0.030863488093018532, 0.03643914684653282, 0.011027961038053036, 0.008443668484687805, -0.009017270058393478, 0.010102796368300915, -0.005507812835276127, 0.011897615157067776, -0.030271383002400398, -0.01834292896091938, -0.020452303811907768, 0.019946547225117683, -0.0034570314455777407, 0.009677221067249775, -0.0036143092438578606, 0.02368421107530594, -0.030863488093018532, -0.030962172895669937, 0.031134869903326035, -0.0037808390334248543, 0.013149671256542206, -0.009738897904753685, -0.006803043186664581, -0.007974918000400066, -0.03236842155456543, 0.0016514186281710863, 0.04870066046714783, -0.014185856096446514, 0.009905427694320679, -0.0004957339842803776, 0.0017315995646640658, -0.019699836149811745, 0.007759046275168657, 0.01745476946234703, -0.028618421405553818, 0.02448602020740509, 0.019687499850988388, -0.017713816836476326, -0.030370065942406654, -0.029185855761170387, -0.023980263620615005, -0.003870271611958742, -0.013087993487715721, -0.0016051604179665446, -0.0020985815208405256, 0.014802631922066212, 0.014987665228545666, -0.03342927619814873, -0.0005416067433543503, -0.10055921226739883, -0.0349835529923439, 0.0449259877204895, 0.0009475226397626102, -0.002286698203533888, -0.0034477796871215105, 0.0008087479509413242, 0.016455592587590218, -0.04500000178813934, -0.029161185026168823, -0.017639802768826485, -0.018922697752714157, -0.012255345471203327, 0.020057566463947296, 0.03402138128876686, -0.0022203947883099318, 0.004098478704690933, -0.03244243562221527, 0.005285773426294327, -0.011040296405553818, -0.021796876564621925, 0.0358717106282711, -0.02844572439789772, -0.024091282859444618, -0.020032895728945732, -0.011003289371728897, -0.0349835529923439, 0.021081415936350822, 0.07425986975431442, -0.013137335889041424, -0.03239309415221214, 0.010145970620214939, -0.0011125103337690234, 0.015345395542681217, -0.044703949242830276, 0.009430509991943836, 0.01368009950965643, 0.01571546122431755, 0.03841283172369003, 0.0043236021883785725, 0.007752878591418266, -0.039128292351961136, -0.032097041606903076, 0.01967516541481018, 0.05353618413209915, -0.0021232524886727333, -0.045715462416410446, 0.008215460926294327, -0.002306743524968624, 0.02420230396091938, 0.006389802787452936, 0.022253289818763733, -0.017245065420866013, 0.01883634924888611, 0.02097039483487606, 0.0023267886135727167, -0.04287829250097275, -0.02233963832259178, 0.01403782982379198, 0.03530427813529968, 0.009368832223117352, 0.008456003852188587, -0.0073458063416182995, 0.0018719162326306105, -0.008560855872929096, -0.022438323125243187, -0.04087993502616882, -0.017121711745858192, -0.021833881735801697, -0.023005757480859756, -0.020699013024568558, 0.024152960628271103, 0.006883224006742239, -0.011583060026168823, -0.019502468407154083, 0.0030314556788653135, -0.018034540116786957, -0.01567845419049263, 0.017837172374129295, -0.010497532784938812, 0.04574013128876686, -0.024337993934750557, 0.02723684348165989, 0.04825657978653908, -0.03185033053159714, 0.010398848913609982, -0.02295641601085663, 0.04833059385418892, 0.009751234203577042, -0.003039165399968624, 0.02157483622431755, 0.015444079414010048, 0.02331414632499218, -0.017590461298823357, -0.039695724844932556, 0.015283717773854733, -0.04206414520740509, 0.00495888153091073, 0.022648027166724205, 0.007740543223917484, 0.012292352505028248, 0.04574013128876686, -0.027927633374929428, -0.008246299810707569, 0.002263569040223956, 0.021217105910182, -0.028544409200549126, -0.01745476946234703, -0.021550165489315987, 0.020415296778082848, -0.003709909738972783, 0.004527138080447912, 0.01871299371123314, -0.004764597397297621, -0.04423519968986511, 0.012717927806079388, 0.10470394790172577, -0.012742599472403526, -0.03199835494160652, 0.03204770013689995, 0.007308799773454666, 0.04112664610147476, 0.013717105612158775, -0.0110526317730546, -0.015949836000800133, 0.027458881959319115, -0.025509869679808617, 0.014864309690892696, -0.026126645505428314, 0.02775493450462818, 0.008610197342932224, 0.03856085613369942, -0.0065193260088562965, 0.01878700777888298, -0.019169408828020096, -0.004419202450662851, 0.03197368606925011, -0.030296053737401962, -0.031702302396297455, 0.0004186369478702545, 0.002235814230516553, -0.020982731133699417, 0.04840460792183876, 0.006821546237915754, -0.00587787851691246, -0.009590871632099152, 0.011613897979259491, 0.0074753290973603725, 0.024991776794195175, -0.0026536802761256695, -0.00011670564708765596, 0.023893915116786957, 0.00815995130687952, 0.04122532904148102, -0.014148849062621593, 0.006463815923780203, -0.017911184579133987, -0.03263980522751808, -0.018861019983887672, -0.004749177955091, -0.04097861796617508, 0.06912828981876373, -0.024054277688264847, -0.05383224040269852, -0.010429687798023224, -0.0112746711820364, -0.004249589052051306, -0.020452303811907768, -0.006587171461433172, 0.05358552932739258, -0.012446545995771885, -0.0025549959391355515, 0.05240131914615631, -0.02303042821586132, 0.04586348682641983, 0.01749177649617195, 0.010312500409781933, -0.007179276552051306, -0.002457853639498353, 0.05555921047925949, 0.0158018097281456, 0.010207648389041424, 0.015382401645183563, -0.03256579115986824, 0.012162829749286175, -0.012428043410182, 0.010028783231973648, 0.004357524681836367, 0.010639391839504242, 0.01875000074505806, 0.04339638352394104, -0.009627878665924072, -0.014370888471603394, 0.003134765662252903, 0.00824013166129589, -0.0019104647217318416, 0.052796054631471634, 0.014740954153239727, 0.003564967308193445, 0.03666118532419205, 0.015345395542681217, 0.03066611848771572, 0.011336348950862885, 0.011749588884413242, 0.010121299885213375, 0.03192434459924698, -0.011564556509256363, -0.02654605358839035, -0.021426809951663017, 0.022006578743457794, 0.008579358458518982, -0.019428454339504242, 0.040263157337903976, -0.0003372995706740767, -0.01628289557993412, -0.02493009902536869, -0.03725329041481018, 0.0162458885461092, -0.009004934690892696, -0.026398027315735817, -0.010997122153639793, -0.0362171046435833, -0.03789473697543144, -0.030444080010056496, 0.014975329861044884, 0.009436678141355515, 0.021106086671352386, 0.025879934430122375, 0.01444490160793066, -0.001120990957133472, -0.014420230872929096, 0.008085938170552254, -0.028297698125243187, -0.0009683388634584844, 0.059703949838876724, -0.009479852393269539, 0.02565789595246315, -0.0049619656056165695, -0.035008225589990616, 0.014765625819563866, 0.0002681049518287182, 0.023178454488515854, 0.021217105910182, -0.008437500335276127, 0.02464638277888298, 0.017923520877957344, 0.04060855507850647, 0.03560033068060875, 0.007438322529196739, -0.013236019760370255, 0.011570723727345467, 0.01644325628876686, 0.012409539893269539, -0.003827097127214074, 0.0166899673640728, -0.0229934211820364, -0.010195313021540642, 0.03325657919049263, -0.0031208882573992014, 0.004271176178008318, 0.006383635103702545, 0.020982731133699417, 0.02068667858839035, -0.0036975741386413574, -0.0009035773109644651, -0.02476973831653595, -0.01765213906764984, -0.004126233514398336, 0.030049342662096024, 0.033725328743457794, -0.0002540347632020712, 0.014518914744257927, 0.010879934765398502, 0.01575246825814247, 0.022475330159068108, -0.009128290228545666, -0.024350330233573914, -0.025312500074505806, 0.01850328966975212, 0.009122122079133987, -0.012354030273854733, 0.0033583471085876226, 0.05758224055171013, 0.006624178029596806, 0.005871710833162069, -0.039374999701976776, 0.009868421591818333, -0.03920230269432068, 0.004823191091418266, -0.006155428010970354, 0.017800165340304375, 0.013063322752714157, 0.012828947976231575, -0.02958059310913086, 0.02263569086790085, -0.0053782896138727665, 0.03809210658073425, -0.016517270356416702, 0.023832237347960472, -0.009017270058393478, 0.008449835702776909, -0.010577714070677757, -0.002729235216975212, -0.003993626683950424, -0.005217927973717451, -0.018688322976231575, 0.007413651328533888, -0.04828125238418579, -0.015530427917838097, 0.014333882369101048, -0.027631578966975212, -0.034810855984687805, 0.01761513203382492, 0.008659539744257927, 0.020008224993944168, 0.002658305922523141, -0.0221052635461092, -0.0006464587058871984, -0.008116776123642921, -0.00915296096354723, 0.004832442384213209, 0.003494038013741374, 0.023869244381785393, -0.012008635327219963, 0.0072471220046281815, -0.02525082230567932, 0.005754522979259491, -0.00983758270740509, -0.006232524756342173, -0.018638981506228447, 0.03103618510067463, 0.0054769739508628845, 0.019860198721289635, 0.0017732320120558143, -0.025164473801851273, -0.018737664446234703, -0.04307565838098526, -0.028618421405553818, 0.001492598676122725, -0.043865133076906204, 0.003090049372985959, 0.00032438579364679754, -0.017158716917037964, -0.023536184802651405, 0.01931743510067463, 0.006038240157067776, 0.019095394760370255, -0.0013407175429165363, 0.00799958873540163, 0.013889802619814873, 0.05156250298023224, 0.013199013657867908, 0.01830592192709446, 0.01599917747080326, 0.011835938319563866, 0.013926809653639793, -0.0015851152129471302, 0.0031100946944206953, 0.004650493618100882, -0.01672697439789772, -0.023375822231173515, 0.03286184370517731, 0.01782483607530594, -0.009812911041080952, 0.04445723816752434, 7.685611490160227e-05, -0.01947779580950737, -0.008079770021140575, 0.0207730270922184, 0.033675987273454666, 0.01729440875351429, -0.003234991803765297, -0.018330592662096024, -0.015320723876357079, 0.0034755347296595573, -0.014629934914410114, 0.009449013508856297, -0.01967516541481018, 0.013063322752714157, 0.049638159573078156, -0.02335115149617195, -0.028988488018512726, 0.015185032971203327, -0.016221217811107635, -0.02391858585178852, 0.016455592587590218, 0.012027138844132423, 0.0008025802089832723, -0.0029250618536025286, -0.00854851957410574, 0.032220397144556046, -0.006220189388841391, 0.021809211000800133, 0.009782073087990284, 0.011552221141755581, 0.02970394864678383, 0.0103865135461092, -0.012656250037252903, 0.01139802671968937, 0.013495066203176975, -0.0027492805384099483, -0.019305098801851273, -0.019009046256542206, -0.008067434653639793, 0.015912828966975212, -0.01523437537252903, -0.005156250204890966, 0.006127672735601664, 0.028050987049937248, 0.02185855247080326, 0.0030252879951149225, 0.0006499280571006238, -0.008431332185864449, 0.007851562462747097, -0.014605263248085976, -0.03175164759159088, 0.007691200822591782, -0.03135690838098526, 0.013618421740829945, 0.04401315748691559, -0.010497532784938812, 0.02869243547320366, 0.003367598867043853, 0.003796258242800832, 0.012557566165924072, 0.015172697603702545, 0.018564967438578606, -0.04682565852999687, 0.017319079488515854, 0.010497532784938812, 0.017886513844132423, -0.021907895803451538, -0.028988488018512726, 0.03187499940395355, -0.027532896026968956, -0.034613486379384995, -0.0026043381076306105, -0.004339021630585194, -0.011391858570277691, 0.010651727207005024, 0.03434210643172264, 0.000665347499307245, 0.000997635768726468, 0.03964638337492943, 0.022648027166724205, 0.00021510075021069497, 0.014432566240429878, 0.01677631586790085, 0.022574013099074364, -0.005705181043595076, 0.02251233533024788, 0.007025082595646381, -0.003790090559050441, 0.029629934579133987, 0.0001977539068320766, 0.0007887027459219098, -0.043544407933950424, -0.006796875037252903, -0.006883224006742239, 0.025929277762770653, 0.009072779677808285, 0.0051932567730546, 0.003996710758656263, 0.008764391764998436, 0.010287829674780369, -0.00293893925845623, -0.0333799347281456, 0.03508223965764046, -0.03034539520740509, -0.046529605984687805, 0.03964638337492943, -0.0008411287562921643, 0.005819284822791815, -0.017602795735001564, -0.006266447715461254, 0.021796876564621925, 0.022240955382585526, -0.0584210529923439, -0.005276521667838097, -0.006084498483687639, -0.015592105686664581, 0.007302631624042988, 0.019773850217461586, -0.03661184385418892, -0.0009321032557636499, -0.019502468407154083, 0.009122122079133987, -0.03357730433344841, -0.009664884768426418, 0.013223684392869473, -0.005930304527282715, 0.01400082278996706, -0.03212171047925949, -0.05338815972208977, 0.020427633076906204, 0.011373355984687805, 0.024634046480059624, -0.001426295260898769, -0.023992599919438362, 0.001025390694849193, 0.0019258841639384627, -0.0013800370506942272, 0.024251645430922508, -0.02509046159684658, 0.0032719983719289303, -0.020699013024568558, 0.005649671424180269, 0.0013491982826963067, -0.060542766004800797, -0.0005389082944020629, 0.03140624985098839, -0.012964638881385326, -0.006969572510570288, 0.013606086373329163, 0.009529194794595242, 0.03964638337492943, 0.026521382853388786, 0.015024671331048012, 0.01773848757147789, -0.014765625819563866, 0.013013980351388454, 0.005510896444320679, 0.023585526272654533, -0.006975740194320679, -0.0002203047915827483, -0.02748355269432068, 0.04258223995566368, -0.013050987385213375, -0.004289679229259491, -0.03801809251308441, -0.0009012644295580685, -0.005896381568163633, 0.020267270505428314, 0.023647204041481018, 0.020760690793395042, 0.03466283157467842, -0.0030114103574305773, -0.019983552396297455, -0.03463815897703171, 0.003063836367800832, 0.010213816538453102, -0.008733552880585194, 0.010411184281110764, -0.0020291940309107304, 0.0008411287562921643, 0.035896383225917816, -0.022364309057593346, -0.0030931332148611546, 0.0043174345046281815, 0.005113075952976942, -0.010522204451262951, -0.01466694101691246, -0.009344161488115788, -0.006365131586790085, -0.008733552880585194, -0.009276316501200199, -0.006611842196434736, 0.016800986602902412, -0.00869037862867117, 0.018688322976231575, 0.0023715049028396606, -0.0007705849129706621, 0.016788652166724205, -0.0072532896883785725, 0.034120067954063416, 0.020217929035425186, 0.0062047699466347694, 0.010620888322591782, 0.01834292896091938, -0.01858963817358017, 0.021513158455491066, -0.02056332305073738, 0.026126645505428314, -0.017035363242030144, -0.010201480239629745, -0.004548725672066212, 0.032590460032224655, 0.0006969572859816253, 0.004576480481773615, 0.041521381586790085, 0.015123356133699417, -0.03572368621826172, -0.0011379523202776909, 0.004875617101788521, -0.0033367599826306105, -0.02553454041481018, -0.04201480373740196, -0.011404194869101048, 0.00891241803765297, -0.012489721179008484, -0.01870065927505493, 0.03547697514295578, -0.016924342140555382, 0.018577303737401962, -0.0048632812686264515, 0.012865954078733921, 0.020008224993944168, 0.008523848839104176, 0.03268914669752121, -0.025201480835676193, 0.0036790708545595407, 0.021870888769626617, -0.013532073237001896, -0.021648850291967392, 0.021907895803451538, -0.023042764514684677, 0.006041324231773615, -0.03204770013689995, 0.0036019738763570786, 0.021476151421666145, -0.022006578743457794, 0.01656661182641983, 0.028174342587590218, -0.002934313379228115, 0.005328947678208351, 0.007382812909781933, -0.023129113018512726, -0.023659540340304375, -0.01434621773660183, 0.018330592662096024, -0.007660361938178539, -0.013495066203176975, 0.004265008494257927, 0.003595805959776044, 0.027212172746658325, 0.006358963903039694, 0.0013168174773454666, -0.00996093824505806, 0.01050370093435049, -0.02400493435561657, 0.00542454794049263, -0.011219161562621593, -0.021328125149011612, -0.027902960777282715, -0.01644325628876686, 0.036389805376529694, -0.017676809802651405, 0.017578125, -0.001519582699984312, 0.017060033977031708, 0.0008727385429665446, -0.01766447350382805, 0.01983552612364292, -0.017676809802651405, 0.018133224919438362, 0.03666118532419205, 0.027014803141355515, -0.005140830762684345, 0.0029266036581248045, -0.014925987459719181, 0.0047584292478859425, -0.06384868919849396, 0.027656251564621925, -0.0018426192691549659, -0.022722039371728897, 0.03685855492949486, 0.009886925108730793, 0.00996093824505806, -0.04680098965764046, 0.030444080010056496, 0.05555921047925949, 0.003996710758656263, 0.01234169490635395, -0.0064268093556165695, -0.005446135066449642, 0.012582236900925636, 0.02807565964758396, -0.004798519890755415, 0.003765419591218233, 0.0097203953191638, 0.01894736848771572, -0.02755756676197052, 0.03552631661295891, -0.019971217960119247, 0.024029606953263283, -0.0033151728566735983, -0.030863488093018532, 0.00902960542589426, 0.023523850366473198, -0.0021278783679008484, -0.0014964535366743803, 0.030863488093018532, 0.025509869679808617, 0.0013993113534525037, -0.013852796517312527, -0.01619654707610607, -0.013087993487715721, -0.0029096424113959074, -0.0007894737063907087, 0.006402138154953718, -0.012816612608730793, -0.0114967105910182, -0.019009046256542206, 0.037968751043081284, -0.014198191463947296, 0.06305921077728271, 0.009936266578733921, -0.01887335628271103, -0.018725330010056496, 0.01351973693817854, -0.0044407895766198635, 0.02546052634716034, -0.004989720415323973, -0.03407072648406029, -0.03629111871123314, 0.011225329712033272, -0.021599506959319115, -0.003975123632699251, -0.027582237496972084, -0.015000000596046448, -0.00664884876459837, 0.02970394864678383, 0.0197121724486351, 0.01599917747080326, 0.014309210702776909, -3.695839404826984e-05, 0.007031250279396772, 0.011613897979259491, -0.016258224844932556, -0.005362870171666145, -0.025152139365673065, -0.009640214033424854, 0.020995065569877625, -0.04924342408776283, 0.003134765662252903, -0.029753290116786957, -0.03789473697543144, -0.0009960937313735485, 0.017319079488515854, -0.02008223719894886, 0.03382401540875435, -0.010719573125243187, -0.0018642065115272999, -0.017269738018512726, -0.012144326232373714, -0.004511719103902578, 0.018811678513884544, -0.008412829600274563, 0.011354852467775345]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-14T10:14:15.124295", "url_path": "/tools/", "chunk_size": 4600}
updated_dt: 2025-03-14T10:14:15.124596
---
```

_(This example is complete, it can be run "as is")_
## Function Tools vs. Structured Results
As the name suggests, function tools use the model's "tools" or "functions" API to let the model know what is available to call. Tools or functions are also used to define the schema(s) for structured responses, thus a model might have access to many tools, some of which call function tools while others end the run and return a result.
## Function tools and schema
Function parameters are extracted from the function signature, and all parameters except `RunContext` are used to build the schema for that tool call.
Even better, PydanticAI extracts the docstring from functions and (thanks to [griffe](https://mkdocstrings.github.io/griffe/)) extracts parameter descriptions from the docstring and adds them to the schema.
[Griffe supports](https://mkdocstrings.github.io/griffe/reference/docstrings/#docstrings) extracting parameter descriptions from `google`, `numpy`, and `sphinx` style docstrings. PydanticAI will infer the format to use based on the docstring, but you can explicitly set it using [`docstring_format`](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.DocstringFormat). You can also enforce parameter requirements by setting `require_parameter_descriptions=True`. This will raise a [`UserError`](https://ai.pydantic.dev/api/exceptions/#pydantic_ai.exceptions.UserError) if a parameter description is missing.
To demonstrate a tool's schema, here we use [`FunctionModel`](https://ai.pydantic.dev/api/models/function/#pydantic_ai.models.function.FunctionModel) to print the schema a model would receive:
tool_schema.py```
frompydantic_aiimport Agent
frompydantic_ai.messagesimport ModelMessage, ModelResponse, TextPart
frompydantic_ai.models.functionimport AgentInfo, FunctionModel
agent = Agent()

@agent.tool_plain(docstring_format='google', require_parameter_descriptions=True)
deffoobar(a: int, b: str, c: dict[str, list[float]]) -> str:
"""Get me foobar.
  Args:
    a: apple pie
    b: banana cake
    c: carrot smoothie
  """
  return f'{a}{b}{c}'

defprint_schema(messages: list[ModelMessage], info: AgentInfo) -> ModelResponse:
  tool = info.function_tools[0]
  print(tool.description)
  #> Get me foobar.
  print(tool.parameters_json_schema)
"""
  {
    'properties': {
      'a': {'description': 'apple pie', 'title': 'A', 'type': 'integer'},
      'b': {'description': 'banana cake', 'title': 'B', 'type': 'string'},
      'c': {
        'additionalProperties': {'items': {'type': 'number'}, 'type': 'array'},
        'description': 'carrot smoothie',
        'title': 'C',
        'type': 'object',
      },
    },
    'required': ['a', 'b', 'c'],
    'type': 'object',
    'additionalProperties': False,
  }
  """
  return ModelResponse(parts=[TextPart('foobar')])

agent.run_sync('hello', model=FunctionModel(print_schema))

```

_(This example is complete, it can be run "as is")_
The return type of tool can be anything which Pydantic can serialize to JSON as some models (e.g. Gemini) support semi-structured return values, some expect text (OpenAI) but seem to be just as good at extracting meaning from the data. If a Python object is returned and the model expects a string, the value will be serialized to JSON.
If a tool has a single parameter that can be represented as an object in JSON schema (e.g. dataclass, TypedDict, pydantic model), the schema for the tool is simplified to be just that object.
Here's an example where we use [`TestModel.last_model_request_parameters`](https://ai.pydantic.dev/api/models/test/#pydantic_ai.models.test.TestModel.last_model_request_parameters) to inspect the tool schema that would be passed to the model.
single_parameter_tool.py```
frompydanticimport BaseModel
frompydantic_aiimport Agent
frompydantic_ai.models.testimport TestModel
agent = Agent()

classFoobar(BaseModel):
"""This is a Foobar"""
  x: int
  y: str
  z: float = 3.14

@agent.tool_plain
deffoobar(f: Foobar) -> str:
  return str(f)

test_model = TestModel()
result = agent.run_sync('hello', model=test_model)
print(result.data)
#> {"foobar":"x=0 y='a' z=3.14"}
print(test_model.last_model_request_parameters.function_tools)
"""
[
  ToolDefinition(
    name='foobar',
    description='This is a Foobar',
    parameters_json_schema={
      'properties': {
        'x': {'title': 'X', 'type': 'integer'},
        'y': {'title': 'Y', 'type': 'string'},
        'z': {'default': 3.14, 'title': 'Z', 'type': 'number'},
      },
      'required': ['x', 'y'],
      'title': 'Foobar',
      'type': 'object',
    },
    outer_typed_dict_key=None,
  )
]
"""