---
url: https://ai.pydantic.dev/tools/
session_id: pydantic_ai_docs
chunk_number: 2
title: Dice Game Interaction Example
summary: This code snippet demonstrates a simple interaction for a dice game, where the user makes a guess, and the system rolls a die to determine if the guess matches the result. It illustrates the structure of requests and responses, including system prompts and user prompts.
embedding: [-0.007156954146921635, 0.04536985605955124, -0.0007478916668333113, -0.02004215493798256, -0.006117284297943115, 0.02763509936630726, 0.006365463603287935, 0.01697009801864624, -0.021008042618632317, -0.013213870115578175, 0.004276062361896038, -0.04370638728141785, 0.050735898315906525, -0.0423380471765995, 0.014582210220396519, -0.01597738079726696, -0.0447259321808815, 0.051594462245702744, -0.005594095215201378, 0.07244152575731277, 0.04035261273384094, 0.01959945634007454, 0.020967796444892883, 0.02259102277457714, 0.00446722749620676, 0.011885776184499264, 0.017466455698013306, 0.037830572575330734, -0.02103487215936184, -0.01939823105931282, 0.02854732610285282, -0.011657719500362873, -0.015454191714525223, -0.03734762966632843, -0.027353383600711823, -0.025917967781424522, 0.012630313634872437, 0.03174011781811714, -0.0010505698155611753, 0.0028691538609564304, -0.016232267022132874, -0.01927749440073967, 0.02234955132007599, 0.03224989399313927, -0.0515408031642437, 0.01707741804420948, -0.040916044265031815, 0.030988873913884163, 0.040164798498153687, -4.621920015779324e-05, -0.028037551790475845, 0.049528539180755615, 0.014595625922083855, 0.014018775895237923, -0.00831735972315073, -0.025354532524943352, -0.036945175379514694, 0.018016474321484566, 0.009155803360044956, -0.0306132510304451, -0.0036120149306952953, -0.013012643903493881, -0.0030234274454414845, 0.05956302955746651, -0.03125717490911484, -0.008142963983118534, -0.08875428140163422, 0.028735138475894928, 0.00858566164970398, 0.023852042853832245, 0.017372550442814827, 0.026588723063468933, -0.01851283386349678, -0.014743191190063953, -0.028359515592455864, -0.005748369265347719, 0.009048483334481716, 0.04993098974227905, 0.027366798371076584, 0.011396124958992004, -0.002860769396647811, -0.016031041741371155, 0.03879646211862564, 0.007056341040879488, -0.03648906201124191, -0.07625140994787216, -0.035415854305028915, -0.035093892365694046, -0.015561512671411037, -0.06594861298799515, -0.014112682081758976, 0.0007713680970482528, 0.0046483310870826244, 0.01839209720492363, 0.11268681287765503, 0.03273283690214157, 0.019009191542863846, -0.007391718216240406, 0.002257090061903, 0.03182061016559601, 0.04883095249533653, -0.017037173733115196, -0.05532386153936386, -0.016822531819343567, 0.04888461157679558, 0.0026058824732899666, -0.014474889263510704, 0.01101379469037056, -0.08939820528030396, 0.0036489064805209637, -0.10587194561958313, 0.007257567252963781, -0.012040049768984318, 0.0023006892297416925, -0.05167495459318161, 0.046201594173908234, 0.026065533980727196, -0.004936755634844303, 0.0008719813195057213, -0.057684917002916336, -0.05443846434354782, -0.03434264659881592, 0.016044456511735916, -0.00039239157922565937, 0.0002756383328232914, 0.02226906083524227, -0.04606744274497032, -0.05484091490507126, 0.003368866164237261, -0.008290530182421207, 0.010316209867596626, 0.0026964345015585423, 0.014380984008312225, -0.017909154295921326, -0.01793598383665085, -0.023100797086954117, -0.013247407972812653, -0.020297041162848473, -0.033967025578022, 0.036193933337926865, 0.013844380155205727, -0.01498466357588768, -0.013609616085886955, 0.0016223882557824254, 0.0028725075535476208, 0.05411650240421295, -0.053714048117399216, 0.013153502717614174, -0.05688001215457916, 0.039037931710481644, 0.03050593100488186, -0.012637021020054817, 0.0115705206990242, -0.030210798606276512, -0.034423138946294785, -0.01471636164933443, -0.019237248227000237, 0.031686458736658096, -0.005473359487950802, -0.006710902322083712, 0.0004825242795050144, 0.0239191185683012, -0.030881553888320923, -0.009933879598975182, -0.04681868851184845, -0.015548096969723701, -0.015467606484889984, -0.018257947638630867, -0.04072823375463486, 0.020471438765525818, 0.007170369382947683, -0.026521647348999977, -0.012811417691409588, 0.008424680680036545, 0.0004039201885461807, -0.05827518180012703, -0.03600611910223961, -0.04727480188012123, -0.02465694770216942, -0.037615932524204254, -0.030049817636609077, -0.01973360776901245, -0.05784589797258377, -0.03356457129120827, -0.03388653323054314, -0.005647755693644285, 0.04773091524839401, -0.04107702523469925, 0.012522992677986622, 0.0418551042675972, 0.03573781996965408, 0.054706767201423645, 0.05607510358095169, -0.021008042618632317, -0.02025679685175419, -0.04381370544433594, 0.09009578824043274, -0.01992141827940941, 0.018472587689757347, -0.04724797233939171, -0.0034275571815669537, 0.012154078111052513, 0.04362589493393898, -0.011966266669332981, -0.017453040927648544, -0.03461094945669174, -0.007398426067084074, 0.0038467790000140667, 0.00040874123806133866, -0.014032191596925259, 0.007955152541399002, -0.08081254363059998, 0.029352232813835144, -0.04118434712290764, -0.04480642452836037, 0.014689531177282333, -0.01730547472834587, 0.019653117284178734, -0.005956302862614393, 0.01525296550244093, 0.006915482692420483, 0.013509002514183521, 0.033215779811143875, -0.05870446562767029, -0.028815628960728645, 0.024589871987700462, 0.016835946589708328, -0.039386723190546036, 0.02666921354830265, 0.05924106761813164, -0.006194421090185642, 0.01481026690453291, 0.008129549212753773, -0.029271742329001427, 0.06154846400022507, -0.04260634630918503, 0.017466455698013306, -0.010101567953824997, -0.01585664413869381, -0.015561512671411037, 0.010081445798277855, -0.030157137662172318, 0.0024365170393139124, 0.0005672070547007024, -0.014501719735562801, 0.04266000911593437, -0.006298387888818979, 0.0029362293425947428, 0.014246832579374313, 0.023623986169695854, 0.09025677293539047, -0.0499846525490284, 0.03375238552689552, -0.0019535734318196774, -0.0015620203921571374, -0.0030301350634545088, 0.008961284533143044, -0.025824062526226044, -0.03334993124008179, 0.0015335133066400886, 0.0119595592841506, -0.007076463662087917, -0.0376695916056633, 0.02147757075726986, -0.0013289330527186394, -0.015118814073503017, 0.004138557240366936, 0.0009189341217279434, -0.015521267428994179, -0.00036388449370861053, 0.014622455462813377, -0.005057491362094879, 0.016339588910341263, 0.018137210980057716, -0.018351852893829346, -0.0005546304164454341, 0.04113068804144859, 0.057684917002916336, -0.009880218654870987, -0.013435219414532185, 0.012315059080719948, 0.0460406132042408, 0.03284015879034996, 0.012938860803842545, -0.02477768436074257, -0.013978530652821064, -0.04343808442354202, 0.0034258803352713585, -0.019908003509044647, 0.010202181525528431, 0.018579909577965736, 0.03968185558915138, 0.0363549143075943, -0.017815249040722847, -0.002042448613792658, -0.013965115882456303, 2.5913146600942127e-05, -0.03369872272014618, -0.029996156692504883, -0.008015520870685577, 0.0016198729863390326, 0.0019066206878051162, -0.01706400327384472, 0.022108079865574837, -0.009424105286598206, 0.011879068799316883, 0.020686078816652298, -0.013730351813137531, 0.051406651735305786, -0.003184408647939563, 0.01829819194972515, 0.06396318227052689, 0.009162511676549911, -0.002258766908198595, -0.030720572918653488, 0.0015519590815529227, 0.0209275521337986, -0.02709849551320076, 0.02943272329866886, -0.03702566772699356, -0.039708685129880905, -0.0013406712096184492, 0.04770408570766449, 0.002317457925528288, -0.013804134912788868, -0.0004825242795050144, 0.009719237685203552, -0.01206687930971384, -0.02433498576283455, 0.005044076591730118, 0.008632615208625793, -0.03356457129120827, -0.03715981915593147, 0.10088153183460236, 0.014702945947647095, 0.018257947638630867, -0.03517438471317291, 0.01839209720492363, 0.00023979485558811575, 0.06525103002786636, -0.0423380471765995, 0.02876196801662445, -0.04504789412021637, -0.03042544052004814, -0.0053928690031170845, 0.03890378028154373, 0.027474118396639824, 0.040379442274570465, -0.034959740936756134, 0.00870639830827713, 0.01796281524002552, 0.014702945947647095, -0.00821674708276987, 0.0548945777118206, -0.029996156692504883, -0.01892870105803013, -0.03989649936556816, 0.012368719093501568, 0.014166342094540596, 0.008699689991772175, -0.04826751723885536, 0.015387116000056267, -0.002350995782762766, -0.009350322186946869, -0.024388646706938744, 0.04008430987596512, -0.02170562744140625, -0.02919125184416771, 0.011469908058643341, 0.03879646211862564, 0.04011113941669464, 0.03434264659881592, -0.05014563351869583, 0.003558354452252388, -0.024643532931804657, 0.00525871803984046, -0.013965115882456303, 0.0055203125812113285, 0.018096966668963432, 0.017479870468378067, 0.04376004636287689, -0.020216550678014755, 0.024080099537968636, -0.021665381267666817, 0.026374081149697304, 0.039064761251211166, 0.02666921354830265, 0.006167590618133545, -0.036086611449718475, 0.0006590166594833136, 0.04392102733254433, -0.057792238891124725, -0.012241275981068611, 0.000427815830335021, -0.027366798371076584, 0.006831638049334288, 0.01663471944630146, 0.05103102698922157, 0.0295400433242321, -0.028708307072520256, -0.02590455301105976, -0.0008158055716194212, -0.024952080100774765, -0.022658098489046097, 0.007592944893985987, 0.041157517582178116, 0.04904559627175331, 0.005379453767091036, 0.02644115686416626, 0.022175155580043793, 0.07839782536029816, -0.002476762281730771, 0.030130308121442795, -0.017546946182847023, -0.04193559288978577, -0.07110001146793365, 0.02048485353589058, -0.024482551962137222, 0.03085472248494625, 0.03568415716290474, -0.030559590086340904, -0.06272899359464645, 0.026078948751091957, -0.026280174031853676, 0.016165191307663918, 0.04982367157936096, 0.008833841420710087, -0.029915666207671165, 0.04021846130490303, -0.03968185558915138, -0.008163086138665676, 0.021786117926239967, 0.062192387878894806, -0.006888652220368385, -0.028681477531790733, -0.01709083281457424, 0.02060558833181858, 0.01719815470278263, -0.004410213325172663, -0.0001553216716274619, 0.006697487086057663, -0.014931002631783485, 0.035845138132572174, 0.06610959768295288, -0.03270600736141205, -0.023114211857318878, -0.03638174384832382, -0.04440397024154663, 0.05256034806370735, -0.03485242277383804, 0.0027769249863922596, -0.02613260969519615, -0.028386345133185387, 0.024267910048365593, 0.0018999130697920918, -0.052828650921583176, 0.10367187112569809, 0.013978530652821064, 0.03533536568284035, -0.028466835618019104, 0.05288231372833252, -0.008196623995900154, -0.01651398465037346, 0.038850121200084686, -0.023275192826986313, -0.00404465151950717, 0.0012123894412070513, -0.007364888209849596, -0.01892870105803013, -0.002909399103373289, 0.00876005832105875, 0.0084917563945055, -0.01002778485417366, -0.0012258044444024563, 0.0018932055681943893, -0.043250273913145065, 0.01929090917110443, -0.011744917370378971, 0.022228816524147987, -0.0002873765188269317, 0.010960133746266365, -0.0249923262745142, 0.0015192597638815641, 0.019773852080106735, -0.010430238209664822, 0.05167495459318161, -0.03383287414908409, -0.05521653965115547, -0.021665381267666817, 0.015548096969723701, -0.0001246136671397835, -0.0027433873619884253, 0.04024529084563255, -0.015387116000056267, 0.06192408874630928, 0.0392257422208786, 0.05137982219457626, -0.013535832986235619, -0.029566872864961624, -0.002277212683111429, 0.012764465063810349, -0.017345720902085304, -0.007774048484861851, 0.049501705914735794, 0.02468377910554409, 0.005577326752245426, 0.02390570193529129, -0.004856265150010586, -0.004155326168984175, 0.05068223550915718, -0.023959362879395485, -0.037293970584869385, 0.009377152658998966, 0.021450739353895187, 0.007827709428966045, -0.021222682669758797, 0.005339208524674177, -0.0016634720377624035, -0.018003059551119804, -0.011221728287637234, 0.011490030214190483, -0.0008912655175663531, 0.015574927441775799, -0.007532577030360699, 0.02465694770216942, -0.010752200148999691, -0.004611439537256956, -0.003246453357860446, -0.023208117112517357, -0.021195853129029274, 0.007398426067084074, -0.03428898751735687, 0.01860673911869526, -0.012912031263113022, -0.03447679802775383, 0.0038333639968186617, 0.01663471944630146, 0.007472209166735411, 0.006989265326410532, -0.026078948751091957, -0.002087724395096302, 0.027500947937369347, -0.014582210220396519, -0.024375231936573982, 0.0037528732791543007, 0.04134532809257507, 0.013522417284548283, -0.0028523849323391914, 0.010410115122795105, -0.014461474493145943, 0.042257554829120636, -0.002672957954928279, 0.016111532226204872, -0.03758910298347473, 0.02004215493798256, -0.0014102620771154761, -0.019223833456635475, 0.009518011473119259, 0.0028842459432780743, -0.045986954122781754, -0.0004305407637730241, -0.015185889787971973, 0.01851283386349678, 0.011590643785893917, -0.0014941063709557056, 0.028708307072520256, 0.04663087800145149, 0.027138741686940193, -0.006083746440708637, -0.01585664413869381, 0.009276539087295532, -0.011308927088975906, -0.008525294251739979, -0.006653888151049614, 0.006160883232951164, -0.01024242676794529, 0.03141815587878227, -0.004705345258116722, -0.022778835147619247, -0.013073012232780457, 0.007224029861390591, -0.02422766573727131, -0.006087100133299828, 0.0013247408205643296, 0.0015418976545333862, -0.009008237160742283, -0.002139708027243614, 0.008505171164870262, 0.0008506010053679347, -0.039923328906297684, 0.012985813431441784, 0.0008795273024588823, 0.0032229770440608263, 0.012912031263113022, -0.03624759241938591, -0.02193368412554264, -0.01786890998482704, 0.0184189286082983, -0.031552307307720184, 0.019800683483481407, 0.046228423714637756, -0.014890757389366627, -0.028064383193850517, 0.009645454585552216, -0.0012140662875026464, -0.010108275339007378, 0.03957453742623329, 0.008069180883467197, -0.07555382698774338, 0.016500569880008698, 0.00573160033673048, 0.0012241275981068611, -0.01738596521317959, -0.0184189286082983, -0.013669983483850956, 0.004812666215002537, -0.04703332856297493, 0.0004171256732661277, 0.06358756124973297, -0.015145644545555115, -0.0251130610704422, 0.032759666442871094, -0.010007662698626518, -0.009142388589680195, 0.014380984008312225, 0.016124946996569633, 0.011771747842431068, 0.0015896889381110668, -0.006395647302269936, 0.05312378332018852, -0.03230355307459831, 0.023623986169695854, 0.025636250153183937, 0.002921137260273099, -0.01730547472834587, 0.018673814833164215, 0.02929857186973095, -0.0038266563788056374, -0.0279838927090168, -0.03941355645656586, 0.019478721544146538, 0.024764269590377808, 0.010383284650743008, -0.0022503824438899755, -0.0003728977753780782, 0.016017625108361244, -0.012858370319008827, 0.009464350529015064, 0.020417777821421623, -0.001499137026257813, -0.023288607597351074, -0.03831351548433304, 0.003020073752850294, -0.006935605313628912, 0.02776925079524517, -0.012127247639000416, 0.012590068392455578, -0.0274472888559103, -0.022765420377254486, 0.00925641693174839, -0.028279025107622147, 0.008692982606589794, -0.0058556897565722466, -0.019666532054543495, 0.00831065233796835, 0.020417777821421623, 0.03592563048005104, -0.0031307481694966555, 0.009685699827969074, 0.009913756512105465, -0.024509381502866745, 0.0011067454470321536, -0.007297812961041927, 0.00324980728328228, -0.0017992998473346233, 0.044886913150548935, 0.0015351901529356837, -0.02543502300977707, -0.060099635273218155, 0.05027978494763374, 0.003343713004142046, -0.015091984532773495, -0.03678419440984726, 0.030318118631839752, 0.04692601040005684, 0.004624854773283005, 0.031096193939447403, -0.00826369971036911, 0.01741279661655426, 0.01695668324828148, -0.0054096379317343235, -0.006851760670542717, -0.006989265326410532, -0.0025488685350865126, 0.020873891189694405, 0.030720572918653488, 0.007525869179517031, 0.0047757746651768684, -0.020967796444892883, -0.06932922452688217, -0.009102143347263336, 0.0011386063415557146, -0.014850512146949768, -0.0265484768897295, -0.03753544017672539, -0.03909159079194069, 0.000983494333922863, -0.005030661355704069, 0.04397468641400337, -0.00996741745620966, 0.0003842167498078197, -0.004950170870870352, -0.03407434746623039, 0.018875041976571083, -0.04679185897111893, 0.023543495684862137, 0.0009097112342715263, 0.007485623937100172, 0.017332306131720543, 0.0025857598520815372, -0.02841317467391491, 0.006828284356743097, -0.040701404213905334, -0.010369869880378246, 0.014515134505927563, -0.0059797796420753, 0.008733227849006653, 0.036945175379514694, -0.011557105928659439, -0.001676048617810011, -0.00751916179433465, -0.016916437074542046, 0.01232847385108471, -0.04502106457948685, -0.008639322593808174, -0.027380213141441345, -0.05628974735736847, 0.02587772160768509, -0.026588723063468933, 0.002117908326908946, 0.012925446033477783, -0.019411645829677582, -0.017761588096618652, -0.00024189097166527063, -0.0387427993118763, 0.02324836328625679, -0.014622455462813377, 0.031901098787784576, -0.023328853771090508, 0.02688385359942913, -0.008196623995900154, 0.011610766872763634, -0.015185889787971973, -0.004121788311749697, 0.02344958856701851, 0.02369106188416481, -0.02699117548763752, -0.022939816117286682, -0.04198925197124481, -0.007096586283296347, 0.03603294864296913, 0.0051949964836239815, -0.007847831584513187, 0.028359515592455864, 0.010403407737612724, -0.025421608239412308, 0.010436945594847202, 0.024616703391075134, -0.029271742329001427, 0.01860673911869526, 0.013012643903493881, -0.03106936439871788, -0.014421229250729084, 0.011865653097629547, 0.03962819650769234, -0.04679185897111893, -0.0055035436525940895, -0.009866803884506226, 0.022094665095210075, -0.02370447665452957, -0.023959362879395485, -0.005848982371389866, -0.02523379772901535, -0.004376675467938185, 0.01475660689175129, -0.005627633072435856, -0.011697964742779732, -0.028064383193850517, -0.00628161896020174, -0.019518965855240822, -0.08091986179351807, 0.0036153686232864857, -0.0031458402518182993, 0.0030083355959504843, 0.005842274520546198, -0.018593324348330498, 0.0210482869297266, -0.06825601309537888, -0.0256496649235487, 0.004634915851056576, -0.009243002161383629, 0.004105019848793745, -0.021517815068364143, 0.012757756747305393, 0.02664238214492798, -0.04386736825108528, 0.005148043390363455, -0.012019926682114601, -0.013247407972812653, -0.029727855697274208, -0.0055136047303676605, 0.04802604764699936, -0.020203135907649994, 0.007653312757611275, 0.002347641857340932, 0.026011873036623, -0.011912605725228786, -0.004933401942253113, 0.014394398778676987, -0.05510921776294708, 0.00974606815725565, -0.025596005842089653, 0.0031659628730267286, -0.0060267322696745396, 0.02986200526356697, 0.06755843013525009, -0.020229965448379517, 0.0026444511022418737, 0.03074740245938301, 0.006459369324147701, 0.007056341040879488, -0.04695283994078636, 0.020095815882086754, 0.03163279965519905, 0.02951321378350258, 0.012489454820752144, 0.02048485353589058, 0.04287464916706085, -0.016782285645604134, 0.016044456511735916, -0.0027266184333711863, 0.016017625108361244, 0.01786890998482704, -0.049957819283008575, 0.01730547472834587, 0.007425256073474884, 0.018754305317997932, 0.011248558759689331, 0.007203907240182161, 0.0046651000156998634, 0.02491183578968048, 0.02841317467391491, 0.0570409931242466, -0.01047048345208168, 0.00137672433629632, -0.016768870875239372, 0.019250664860010147, 0.011449784971773624, 0.011939436197280884, -0.003494632663205266, 0.0002540484128985554, 0.006402355153113604, -0.014179757796227932, -0.0010556004708632827, -0.006080392748117447, 0.00020730517280753702, -0.027071665972471237, -0.00022260675905272365, 0.01860673911869526, -0.0150383235886693, -0.0015268056886270642, -0.001546089886687696, -0.021960513666272163, 0.011429662816226482, -0.003078764770179987, -0.009350322186946869, -0.00028800536529161036, -0.005540435202419758, -0.01929090917110443, -0.027500947937369347, 0.026266759261488914, -0.06251434981822968, -0.005721538793295622, 0.006419124081730843, -0.0005311539862304926, -0.03383287414908409, 0.005771845579147339, -0.001485722023062408, -0.00980643555521965, 0.013381559401750565, -0.028010722249746323, -0.02841317467391491, -0.000419431395130232, -0.05934838950634003, 0.029057100415229797, 0.01742621138691902, 0.01774817332625389, 0.026696043089032173, 0.03493291139602661, 0.004105019848793745, 0.011966266669332981, -0.00387025554664433, 0.0215848907828331, 0.0056142183020710945, -0.03600611910223961, -0.020189721137285233, 0.004453812260180712, 0.010658294893801212, -0.0125565305352211, -0.04376004636287689, 0.02752777934074402, -0.04000381752848625, -0.010644879192113876, 0.09433495998382568, 0.004158679861575365, -0.035040233284235, 0.005030661355704069, 0.003201177576556802, 0.02312762662768364, 0.01587005890905857, 0.03182061016559601, 0.00898140762001276, 0.011194898746907711, -0.00387025554664433, -0.006539859808981419, -0.0010027785319834948, 0.016339588910341263, 0.002631035866215825, 0.023422759026288986, -0.019223833456635475, 0.014287077821791172, -0.036650046706199646, -0.004772420972585678, 0.041264839470386505, -0.031015703454613686, -0.014689531177282333, -0.021061701700091362, -0.015829814597964287, -0.006908774841576815, 0.021397080272436142, -0.008015520870685577, -0.01982751302421093, -0.027031419798731804, 0.007633190136402845, -0.011308927088975906, 0.013401681557297707, -0.0023124273866415024, -0.02578381635248661, 0.006375524681061506, 0.0352817066013813, 0.027608269825577736, -0.03039860911667347, 0.021222682669758797, 0.006761208642274141, -0.028386345133185387, -0.01277787983417511, -0.017882324755191803, 0.006982557941228151, 0.057792238891124725, -0.025810645893216133, -0.0003062415053136647, -0.016983512789011, -0.010899766348302364, -0.03053276054561138, -0.02126292884349823, -0.011168068274855614, -0.011751624755561352, -0.03157913684844971, -0.004453812260180712, 0.00503736874088645, 0.011597351171076298, 0.02700459025800228, 0.015735909342765808, 0.017037173733115196, -0.0018848211038857698, -0.03383287414908409, 0.06407050043344498, -0.012207738123834133, 0.02159830555319786, -0.012133955024182796, -0.009866803884506226, 0.0031592552550137043, 0.00847834162414074, 0.019317738711833954, 0.0036489064805209637, 0.00099271722137928, 0.014890757389366627, 0.016795702278614044, 0.010403407737612724, -0.030881553888320923, -0.012019926682114601, 0.009008237160742283, 0.004074835684150457, 0.06026061624288559, 0.007049633655697107, 0.010812568478286266, 0.0003022589080501348, -0.024053268134593964, -0.013924870640039444, 0.009357030503451824, 0.0012442502193152905, 0.016768870875239372, 0.033993855118751526, 0.0024365170393139124, -0.015454191714525223, -0.009886926040053368, -0.003866901621222496, -0.012576653622090816, -0.0059831333346664906, 0.012408964335918427, 0.018096966668963432, 0.023047136142849922, 0.010872935876250267, -0.01548102218657732, 0.00498370872810483, -0.035630498081445694, -0.030827892944216728, -0.006140760611742735, -0.022121494635939598, 0.012247983366250992, 0.008015520870685577, 0.010819275863468647, -0.010718662291765213, -0.0018462527077645063, 0.024106929078698158, 0.004105019848793745, 0.0037662885151803493, -0.011664426885545254, 0.0054364679381251335, -0.028708307072520256, -0.004255939740687609, 0.05950937047600746, -0.03555000573396683, 0.04051359370350838, -0.020082399249076843, -0.0009088728111237288, -0.0051279207691550255, 0.003974222578108311, 0.00751916179433465, -0.010725369676947594, -0.021236099302768707, 0.011389417573809624, 0.024858174845576286, 0.013421804644167423, 0.029674194753170013, 0.0005609187646768987, 0.006268204189836979, 0.01073878537863493, -0.006989265326410532, 0.02271175943315029, -0.02996932715177536, -0.00011539079423528165, -0.04330393299460411, 0.028037551790475845, 0.021732456982135773, -0.0030703803058713675, 0.004121788311749697, 0.009638747200369835, 0.024174004793167114, 0.016111532226204872, -0.018244531005620956, -0.04274049773812294, -0.04252585768699646, 0.015615172684192657, 0.02908392995595932, 0.02048485353589058, 0.022067833691835403, -0.03407434746623039, -0.005885873921215534, 0.02080681547522545, 0.027581438422203064, 0.014327323995530605, -0.02940589189529419, -0.03732080012559891, -0.019451890140771866, -0.012261399067938328, -0.02951321378350258, -0.018351852893829346, -0.004202279262244701, 0.008444803766906261, -0.002802078379318118, 0.03302796930074692, -0.04550400748848915, -0.002766863675788045, -0.031471818685531616, 0.029996156692504883, 0.013180333189666271, 0.0295400433242321, -0.002802078379318118, 0.0016425108769908547, 0.01123514398932457, 0.014434644021093845, -0.012026634067296982, 0.011979681439697742, 0.009672285057604313, 0.0028423236217349768, -0.004644977394491434, 0.016795702278614044, -0.0030418732203543186, -0.027380213141441345, -0.00043682908290065825, 0.01200651191174984, -0.019532380625605583, 0.008505171164870262, -0.005604156758636236, 0.0130059365183115, 0.007908199913799763, -0.03772325441241264, -0.020068984478712082, 0.04075506329536438, 0.0028389699291437864, 0.027742421254515648, 0.02444230578839779, -0.03842083737254143, 0.018486004322767258, -0.050172463059425354, -0.0021715688053518534, -0.030237628147006035, 0.04837483912706375, 0.01894211769104004, 0.01972019299864769, 0.004212340340018272, -0.009410690516233444, -0.01322728581726551, -0.013307776302099228, 0.018915286287665367, -0.018754305317997932, 0.05301646143198013, 0.005459944251924753, -0.002986535895615816, -0.029486382380127907, -0.04536985605955124, 0.00015301594976335764, -0.04947487637400627, -0.0019518965855240822, 0.015467606484889984, -0.034315817058086395, 0.003575123380869627, 0.013200455345213413, 0.01906285248696804, 0.004323014989495277, 0.010436945594847202, -0.01827136240899563, 0.012221152894198895, -0.0321694016456604, 0.020578758791089058, 0.0013834318378940225, 0.06857797503471375, -0.004094958305358887, -0.00019368046196177602, 0.016500569880008698, 0.026011873036623, -0.0025589298456907272, 0.007331350352615118, 0.0037092743441462517, -0.010121691040694714, -0.011121115647256374, 0.0053660389967262745, 0.029808346182107925, 0.03096204437315464, -0.013254115357995033, 0.013804134912788868, -0.005852336063981056, -0.011691257357597351, -0.004577901680022478, 0.022725174203515053, 0.024737438187003136, 0.037964724004268646, -0.012851662933826447, -0.023503249511122704, -0.018646985292434692, -0.0015620203921571374, 0.007559407036751509, 0.01585664413869381, -0.03997698798775673, 0.005859043449163437, 0.047650422900915146, 0.007881369441747665, -0.01481026690453291, 0.0045041185803711414, -0.013187040574848652, -0.03318895027041435, 0.010926596820354462, 0.01381754968315363, 0.01937139965593815, -0.0011536983074620366, 0.009873511269688606, 8.405396511079744e-05, 0.005252010654658079, -0.012080295011401176, -0.012449209578335285, 0.006694133393466473, 0.008109426125884056, 0.014179757796227932, -0.06090454012155533, 0.010363162495195866, 0.006875236984342337, 0.02599845826625824, -0.007666727993637323, 0.01074549276381731, -0.005312378518283367, -0.00898811500519514, -0.029164420440793037, -0.0024314862675964832, 0.04834800958633423, -0.0006757855298928916, 0.0368378572165966, -0.01558834221214056, 0.007633190136402845, -0.016929851844906807, 0.02135683409869671, -0.0024046560283750296, -0.015561512671411037, 0.005493482109159231, -0.036623213440179825, -0.002262120833620429, 0.042042914777994156, -0.005567265208810568, 0.007163661997765303, 0.00169281754642725, -0.025958212092518806, -0.0007042926154099405, 0.013690106570720673, 0.020404363051056862, -0.028600987046957016, 0.008880794048309326, 0.03152547776699066, 0.037615932524204254, -0.020203135907649994, -0.00399434519931674, 0.011141237802803516, -0.043357592076063156, 0.009437520988285542, 0.010557681322097778, -0.005275486968457699, -0.022094665095210075, 0.021625136956572533, 0.033645063638687134, 0.005174873862415552, -0.0011017147917300463, 0.02986200526356697, 0.004289477132260799, 0.00553708104416728, -0.005711477715522051, -0.004822727292776108, -0.01972019299864769, 0.009705822914838791, 0.0194921363145113, -0.008364313282072544, 0.0027802789118140936, 0.03171328827738762, 0.005168166011571884, 0.0009935556445270777, -0.020431192591786385, 0.006127345375716686, 0.0047086989507079124, 0.02216174080967903, 0.009403983131051064, 0.012643729336559772, 0.002215167973190546, 0.010919888503849506, -0.022993477061390877, -0.023275192826986313, -0.0387427993118763, 0.007807586342096329, -0.0407818965613842, -0.038823291659355164, 0.03469144180417061, 0.01344863511621952, 0.010779030621051788, 0.02091413550078869, 0.01471636164933443, 0.025314288213849068, 0.015091984532773495, -0.027152156457304955, 0.00399099150672555, -0.018875041976571083, 0.0008241900359280407, 0.013951701112091541, 0.025193551555275917, -0.024200834333896637, -0.049072425812482834, -0.020565344020724297, -0.011771747842431068, -0.035845138132572174, 0.0033537743147462606, 0.007385010831058025, -0.015011493116617203, 0.02554234489798546, 0.019760437309741974, -0.03444996848702431, -0.004732175264507532, -0.005654463544487953, 0.005379453767091036, -0.010061322711408138, -0.0034074345603585243, -0.0007089040009304881, 0.015574927441775799, -0.026575306430459023, 0.03359140455722809, -0.033457253128290176, 0.016044456511735916, -0.033323101699352264, 0.007545992266386747, -0.05918740853667259, -0.008572246879339218, 0.0058120908215641975, 0.0056578172370791435, -0.021343419328331947, -0.0008246092475019395, 0.010094860568642616, 0.012697389349341393, 0.03436947986483574, 0.010611341334879398, 0.0037729961331933737, 0.015521267428994179, 0.0016936559695750475, 0.0006858468404971063, -0.00904177501797676, -0.003759580897167325, 0.01047048345208168, 0.02610577829182148, -0.036623213440179825, 0.009276539087295532, -0.0060267322696745396, 0.010638171806931496, -0.011899190954864025, -0.0005445691058412194, 0.01970677822828293, 0.017037173733115196, 0.016379833221435547, -0.003695859108120203, 0.01786890998482704, -0.028896119445562363, -0.017104249447584152, -0.018231116235256195, -0.007371595595031977, 0.0022839203011244535, -0.003571769455447793, -0.00039469730108976364, -0.028708307072520256, 0.018982362002134323, 0.02234955132007599, -0.017037173733115196, -0.008511879481375217, 0.012087002396583557, 0.03340359032154083, 0.015400531701743603, -0.00920275691896677, -0.048321180045604706, -0.01359620038419962, -0.011637596413493156, -0.012838248163461685, 0.01096684206277132, 0.0009180956985801458, 0.008116133511066437, 0.005875812377780676, -0.006949020083993673, 0.0285204965621233, 0.028171703219413757, 0.002287273993715644, 0.033215779811143875, -0.0005940372357144952, 0.03753544017672539, -0.0015125521458685398, 0.03249136358499527, -0.04311612248420715, -0.004779128357768059, -0.01377730444073677, 0.022108079865574837, -0.014179757796227932, 0.004671807400882244, -0.03157913684844971, 0.018150625750422478, 0.01309984177350998, 0.0016089731361716986, 0.011221728287637234, 0.04239170625805855, -0.012019926682114601, -0.008189916610717773, 0.008746643550693989, -0.009283247403800488, -0.015199304558336735, -0.03533536568284035, -0.011543691158294678, -0.0016567644197493792, -0.01872747577726841, -0.05398235097527504, 0.049206577241420746, -0.017023758962750435, -0.009061898104846478, -0.025059401988983154, 0.031874269247055054, 0.012569946236908436, -0.004936755634844303, 0.014528550207614899, -0.01588347554206848, 0.012804710306227207, 0.006150822155177593, -0.019357984885573387, -0.003947392106056213, 0.013455342501401901, -0.006858468521386385, 0.010202181525528431, -0.019572626799345016, 2.655507887538988e-05, 0.025502098724246025, -0.02599845826625824, 0.004527595359832048, 0.026159439235925674, -0.0037562272045761347, 0.038179367780685425, 0.012918738648295403, -0.023610571399331093, -0.007539284415543079, -0.003920562099665403, -0.012905322946608067, -0.00404465151950717, 0.023302024230360985, -0.002198399044573307, 0.015199304558336735, 0.009665577672421932, 0.01695668324828148, 0.0009474412072449923, -0.025287458673119545, 0.006804808042943478, -0.02436181530356407, -0.004289477132260799, -0.01827136240899563, -0.012261399067938328, -0.020001908764243126, -0.001036316272802651, 0.025703325867652893, -0.0010421853512525558, 0.026575306430459023, 0.03614027053117752, 0.016151776537299156, 0.029003439471125603, -0.031149854883551598, 0.02005556970834732, -0.031015703454613686, -0.0036019536200910807, 0.022845910862088203, 0.024415476247668266, -0.012053464539349079, -0.0319279320538044, -0.013361436314880848, -0.02479109913110733, 0.003883670549839735, 0.0236776452511549, 0.002614266937598586, 0.007499039173126221, 0.024817928671836853, -0.018110381439328194, 0.015561512671411037, -0.04139899089932442, 0.031552307307720184, 0.027299722656607628, 0.015373701229691505, 0.015816399827599525, -0.0034309111069887877, 0.009611916728317738, 0.010490605607628822, -0.0018915287218987942, -0.008169794455170631, -0.020417777821421623, -0.0013406712096184492, -0.010671709664165974, -0.015199304558336735, 0.008900917135179043, -0.019089683890342712, 0.028386345133185387, 0.008578954264521599, -0.04612110182642937, 0.009839973412454128, 0.011744917370378971, -0.007787463720887899, 0.017131078988313675, 0.01918358914554119, 0.03675736486911774, -0.014112682081758976, 0.004158679861575365, 0.0038031800650060177, -0.010155227966606617, 0.00402117520570755, 0.02943272329866886, -0.003930623177438974, -0.044028349220752716, 0.0009466027840971947, -0.044457633048295975, 0.03139132633805275, -0.0017439626390114427, 0.01709083281457424, 0.00826369971036911, -0.012133955024182796, -0.008350897580385208, 0.013951701112091541, -0.010832690633833408, 0.036086611449718475, 0.032759666442871094, 0.006808161735534668, -0.009719237685203552, -0.03074740245938301, -0.011704672127962112, -0.004111727233976126, -0.04370638728141785, 0.030801063403487206, 0.00030142045579850674, -0.01521272026002407, 0.03544268757104874, 0.036864686757326126, -0.025582589209079742, -0.0047690668143332005, -0.0012626959942281246, 0.0017557007959112525, 0.033671893179416656, 0.012053464539349079, -0.02169221267104149, -0.0015016524121165276, 0.009169219061732292, -0.0493943877518177, -0.0022671513725072145, -0.03125717490911484, -0.010926596820354462, -0.020672664046287537, 0.030130308121442795, -0.021088533103466034, 0.030586421489715576, -0.03901110216975212, 0.04121117666363716, -0.00858566164970398, 0.016715209931135178, -0.0026545124128460884, -0.019693361595273018, 0.009585087187588215, -0.0036925054155290127]
metadata : {"source": "pydantic_ai_docs", "crawled_at": "2025-03-14T10:14:14.960922", "url_path": "/tools/", "chunk_size": 4445}
updated_dt: 2025-03-14T10:14:14.960922
---
```
fromdice_gameimport dice_result
print(dice_result.all_messages())
"""
[
  ModelRequest(
    parts=[
      SystemPromptPart(
        content="You're a dice game, you should roll the die and see if the number you get back matches the user's guess. If so, tell them they're a winner. Use the player's name in the response.",
        dynamic_ref=None,
        part_kind='system-prompt',
      ),
      UserPromptPart(
        content='My guess is 4',
        timestamp=datetime.datetime(...),
        part_kind='user-prompt',
      ),
    ],
    kind='request',
  ),
  ModelResponse(
    parts=[
      ToolCallPart(
        tool_name='roll_die', args={}, tool_call_id=None, part_kind='tool-call'
      )
    ],
    model_name='gemini-1.5-flash',
    timestamp=datetime.datetime(...),
    kind='response',
  ),
  ModelRequest(
    parts=[
      ToolReturnPart(
        tool_name='roll_die',
        content='4',
        tool_call_id=None,
        timestamp=datetime.datetime(...),
        part_kind='tool-return',
      )
    ],
    kind='request',
  ),
  ModelResponse(
    parts=[
      ToolCallPart(
        tool_name='get_player_name',
        args={},
        tool_call_id=None,
        part_kind='tool-call',
      )
    ],
    model_name='gemini-1.5-flash',
    timestamp=datetime.datetime(...),
    kind='response',
  ),
  ModelRequest(
    parts=[
      ToolReturnPart(
        tool_name='get_player_name',
        content='Anne',
        tool_call_id=None,
        timestamp=datetime.datetime(...),
        part_kind='tool-return',
      )
    ],
    kind='request',
  ),
  ModelResponse(
    parts=[
      TextPart(
        content="Congratulations Anne, you guessed correctly! You're a winner!",
        part_kind='text',
      )
    ],
    model_name='gemini-1.5-flash',
    timestamp=datetime.datetime(...),
    kind='response',
  ),
]
"""

```

We can represent this with a diagram:
```
sequenceDiagram
  participant Agent
  participant LLM
  Note over Agent: Send prompts
  Agent ->> LLM: System: "You're a dice game..."<br>User: "My guess is 4"
  activate LLM
  Note over LLM: LLM decides to use<br>a tool
  LLM ->> Agent: Call tool<br>roll_die()
  deactivate LLM
  activate Agent
  Note over Agent: Rolls a six-sided die
  Agent -->> LLM: ToolReturn<br>"4"
  deactivate Agent
  activate LLM
  Note over LLM: LLM decides to use<br>another tool
  LLM ->> Agent: Call tool<br>get_player_name()
  deactivate LLM
  activate Agent
  Note over Agent: Retrieves player name
  Agent -->> LLM: ToolReturn<br>"Anne"
  deactivate Agent
  activate LLM
  Note over LLM: LLM constructs final response
  LLM ->> Agent: ModelResponse<br>"Congratulations Anne, ..."
  deactivate LLM
  Note over Agent: Game session complete
```

## Registering Function Tools via kwarg
As well as using the decorators, we can register tools via the `tools` argument to the [`Agent` constructor](https://ai.pydantic.dev/api/agent/#pydantic_ai.agent.Agent.__init__). This is useful when you want to reuse tools, and can also give more fine-grained control over the tools.
dice_game_tool_kwarg.py```
importrandom
frompydantic_aiimport Agent, RunContext, Tool

defroll_die() -> str:
"""Roll a six-sided die and return the result."""
  return str(random.randint(1, 6))

defget_player_name(ctx: RunContext[str]) -> str:
"""Get the player's name."""
  return ctx.deps

agent_a = Agent(
  'google-gla:gemini-1.5-flash',
  deps_type=str,
  tools=[roll_die, get_player_name], 
The simplest way to register tools via the Agent constructor is to pass a list of functions, the function signature is inspected to determine if the tool takes RunContext[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.RunContext).
[](https://ai.pydantic.dev/tools/#__code_2_annotation_1)
)
agent_b = Agent(
  'google-gla:gemini-1.5-flash',
  deps_type=str,
  tools=[ 
agent_a and agent_b are identical â€” but we can use Tool[](https://ai.pydantic.dev/api/tools/#pydantic_ai.tools.Tool) to reuse tool definitions and give more fine-grained control over how tools are defined, e.g. setting their name or description, or using a custom prepare[](https://ai.pydantic.dev/tools/#tool-prepare) method.
[](https://ai.pydantic.dev/tools/#__code_2_annotation_2)
    Tool(roll_die, takes_ctx=False),
    Tool(get_player_name, takes_ctx=True),
  ],
)
dice_result = agent_b.run_sync('My guess is 4', deps='Anne')
print(dice_result.data)
#> Congratulations Anne, you guessed correctly! You're a winner!